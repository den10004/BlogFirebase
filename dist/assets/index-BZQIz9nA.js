function f6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function h6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var hD={exports:{}},r1={},dD={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=Symbol.for("react.element"),d6=Symbol.for("react.portal"),p6=Symbol.for("react.fragment"),g6=Symbol.for("react.strict_mode"),m6=Symbol.for("react.profiler"),v6=Symbol.for("react.provider"),y6=Symbol.for("react.context"),_6=Symbol.for("react.forward_ref"),w6=Symbol.for("react.suspense"),x6=Symbol.for("react.memo"),E6=Symbol.for("react.lazy"),vk=Symbol.iterator;function S6(t){return t===null||typeof t!="object"?null:(t=vk&&t[vk]||t["@@iterator"],typeof t=="function"?t:null)}var pD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gD=Object.assign,mD={};function qh(t,e,n){this.props=t,this.context=e,this.refs=mD,this.updater=n||pD}qh.prototype.isReactComponent={};qh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vD(){}vD.prototype=qh.prototype;function YS(t,e,n){this.props=t,this.context=e,this.refs=mD,this.updater=n||pD}var ZS=YS.prototype=new vD;ZS.constructor=YS;gD(ZS,qh.prototype);ZS.isPureReactComponent=!0;var yk=Array.isArray,yD=Object.prototype.hasOwnProperty,JS={current:null},_D={key:!0,ref:!0,__self:!0,__source:!0};function wD(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)yD.call(e,r)&&!_D.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var p=Array(c),m=0;m<c;m++)p[m]=arguments[m+2];i.children=p}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:tm,type:t,key:s,ref:a,props:i,_owner:JS.current}}function C6(t,e){return{$$typeof:tm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function e2(t){return typeof t=="object"&&t!==null&&t.$$typeof===tm}function T6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _k=/\/+/g;function Jw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?T6(""+t.key):e.toString(36)}function D0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case tm:case d6:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Jw(a,0):r,yk(i)?(n="",t!=null&&(n=t.replace(_k,"$&/")+"/"),D0(i,e,n,"",function(m){return m})):i!=null&&(e2(i)&&(i=C6(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(_k,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",yk(t))for(var c=0;c<t.length;c++){s=t[c];var p=r+Jw(s,c);a+=D0(s,e,n,p,i)}else if(p=S6(t),typeof p=="function")for(t=p.call(t),c=0;!(s=t.next()).done;)s=s.value,p=r+Jw(s,c++),a+=D0(s,e,n,p,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Yv(t,e,n){if(t==null)return t;var r=[],i=0;return D0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function k6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xi={current:null},R0={transition:null},A6={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:R0,ReactCurrentOwner:JS};Mt.Children={map:Yv,forEach:function(t,e,n){Yv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yv(t,function(){e++}),e},toArray:function(t){return Yv(t,function(e){return e})||[]},only:function(t){if(!e2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Mt.Component=qh;Mt.Fragment=p6;Mt.Profiler=m6;Mt.PureComponent=YS;Mt.StrictMode=g6;Mt.Suspense=w6;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A6;Mt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gD({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=JS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(p in e)yD.call(e,p)&&!_D.hasOwnProperty(p)&&(r[p]=e[p]===void 0&&c!==void 0?c[p]:e[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){c=Array(p);for(var m=0;m<p;m++)c[m]=arguments[m+2];r.children=c}return{$$typeof:tm,type:t.type,key:i,ref:s,props:r,_owner:a}};Mt.createContext=function(t){return t={$$typeof:y6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:v6,_context:t},t.Consumer=t};Mt.createElement=wD;Mt.createFactory=function(t){var e=wD.bind(null,t);return e.type=t,e};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(t){return{$$typeof:_6,render:t}};Mt.isValidElement=e2;Mt.lazy=function(t){return{$$typeof:E6,_payload:{_status:-1,_result:t},_init:k6}};Mt.memo=function(t,e){return{$$typeof:x6,type:t,compare:e===void 0?null:e}};Mt.startTransition=function(t){var e=R0.transition;R0.transition={};try{t()}finally{R0.transition=e}};Mt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Mt.useCallback=function(t,e){return xi.current.useCallback(t,e)};Mt.useContext=function(t){return xi.current.useContext(t)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(t){return xi.current.useDeferredValue(t)};Mt.useEffect=function(t,e){return xi.current.useEffect(t,e)};Mt.useId=function(){return xi.current.useId()};Mt.useImperativeHandle=function(t,e,n){return xi.current.useImperativeHandle(t,e,n)};Mt.useInsertionEffect=function(t,e){return xi.current.useInsertionEffect(t,e)};Mt.useLayoutEffect=function(t,e){return xi.current.useLayoutEffect(t,e)};Mt.useMemo=function(t,e){return xi.current.useMemo(t,e)};Mt.useReducer=function(t,e,n){return xi.current.useReducer(t,e,n)};Mt.useRef=function(t){return xi.current.useRef(t)};Mt.useState=function(t){return xi.current.useState(t)};Mt.useSyncExternalStore=function(t,e,n){return xi.current.useSyncExternalStore(t,e,n)};Mt.useTransition=function(){return xi.current.useTransition()};Mt.version="18.2.0";dD.exports=Mt;var pe=dD.exports;const dt=jc(pe),I6=f6({__proto__:null,default:dt},[pe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b6=pe,D6=Symbol.for("react.element"),R6=Symbol.for("react.fragment"),L6=Object.prototype.hasOwnProperty,P6=b6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N6={key:!0,ref:!0,__self:!0,__source:!0};function xD(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)L6.call(e,r)&&!N6.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:D6,type:t,key:s,ref:a,props:i,_owner:P6.current}}r1.Fragment=R6;r1.jsx=xD;r1.jsxs=xD;hD.exports=r1;var H=hD.exports,sE={},ED={exports:{}},mo={},SD={exports:{}},CD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(he,Le){var q=he.length;he.push(Le);e:for(;0<q;){var tt=q-1>>>1,Q=he[tt];if(0<i(Q,Le))he[tt]=Le,he[q]=Q,q=tt;else break e}}function n(he){return he.length===0?null:he[0]}function r(he){if(he.length===0)return null;var Le=he[0],q=he.pop();if(q!==Le){he[0]=q;e:for(var tt=0,Q=he.length,S=Q>>>1;tt<S;){var fe=2*(tt+1)-1,nt=he[fe],ze=fe+1,At=he[ze];if(0>i(nt,q))ze<Q&&0>i(At,nt)?(he[tt]=At,he[ze]=q,tt=ze):(he[tt]=nt,he[fe]=q,tt=fe);else if(ze<Q&&0>i(At,q))he[tt]=At,he[ze]=q,tt=ze;else break e}}return Le}function i(he,Le){var q=he.sortIndex-Le.sortIndex;return q!==0?q:he.id-Le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var p=[],m=[],y=1,w=null,E=3,C=!1,P=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(he){for(var Le=n(m);Le!==null;){if(Le.callback===null)r(m);else if(Le.startTime<=he)r(m),Le.sortIndex=Le.expirationTime,e(p,Le);else break;Le=n(m)}}function B(he){if(O=!1,D(he),!P)if(n(p)!==null)P=!0,we(j);else{var Le=n(m);Le!==null&&de(B,Le.startTime-he)}}function j(he,Le){P=!1,O&&(O=!1,R(Y),Y=-1),C=!0;var q=E;try{for(D(Le),w=n(p);w!==null&&(!(w.expirationTime>Le)||he&&!ie());){var tt=w.callback;if(typeof tt=="function"){w.callback=null,E=w.priorityLevel;var Q=tt(w.expirationTime<=Le);Le=t.unstable_now(),typeof Q=="function"?w.callback=Q:w===n(p)&&r(p),D(Le)}else r(p);w=n(p)}if(w!==null)var S=!0;else{var fe=n(m);fe!==null&&de(B,fe.startTime-Le),S=!1}return S}finally{w=null,E=q,C=!1}}var U=!1,W=null,Y=-1,ae=5,_e=-1;function ie(){return!(t.unstable_now()-_e<ae)}function ye(){if(W!==null){var he=t.unstable_now();_e=he;var Le=!0;try{Le=W(!0,he)}finally{Le?Ue():(U=!1,W=null)}}else U=!1}var Ue;if(typeof b=="function")Ue=function(){b(ye)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Z=Pe.port2;Pe.port1.onmessage=ye,Ue=function(){Z.postMessage(null)}}else Ue=function(){M(ye,0)};function we(he){W=he,U||(U=!0,Ue())}function de(he,Le){Y=M(function(){he(t.unstable_now())},Le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(he){he.callback=null},t.unstable_continueExecution=function(){P||C||(P=!0,we(j))},t.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<he?Math.floor(1e3/he):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(he){switch(E){case 1:case 2:case 3:var Le=3;break;default:Le=E}var q=E;E=Le;try{return he()}finally{E=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(he,Le){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var q=E;E=he;try{return Le()}finally{E=q}},t.unstable_scheduleCallback=function(he,Le,q){var tt=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?tt+q:tt):q=tt,he){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=q+Q,he={id:y++,callback:Le,priorityLevel:he,startTime:q,expirationTime:Q,sortIndex:-1},q>tt?(he.sortIndex=q,e(m,he),n(p)===null&&he===n(m)&&(O?(R(Y),Y=-1):O=!0,de(B,q-tt))):(he.sortIndex=Q,e(p,he),P||C||(P=!0,we(j))),he},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(he){var Le=E;return function(){var q=E;E=Le;try{return he.apply(this,arguments)}finally{E=q}}}})(CD);SD.exports=CD;var F6=SD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TD=pe,po=F6;function Ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kD=new Set,dg={};function Wc(t,e){Ih(t,e),Ih(t+"Capture",e)}function Ih(t,e){for(dg[t]=e,t=0;t<e.length;t++)kD.add(e[t])}var Ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aE=Object.prototype.hasOwnProperty,O6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wk={},xk={};function M6(t){return aE.call(xk,t)?!0:aE.call(wk,t)?!1:O6.test(t)?xk[t]=!0:(wk[t]=!0,!1)}function B6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U6(t,e,n,r){if(e===null||typeof e>"u"||B6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ei(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qr[t]=new Ei(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qr[e]=new Ei(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qr[t]=new Ei(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qr[t]=new Ei(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qr[t]=new Ei(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qr[t]=new Ei(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qr[t]=new Ei(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qr[t]=new Ei(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qr[t]=new Ei(t,5,!1,t.toLowerCase(),null,!1,!1)});var t2=/[\-:]([a-z])/g;function n2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(t2,n2);Qr[e]=new Ei(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(t2,n2);Qr[e]=new Ei(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(t2,n2);Qr[e]=new Ei(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qr[t]=new Ei(t,1,!1,t.toLowerCase(),null,!1,!1)});Qr.xlinkHref=new Ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qr[t]=new Ei(t,1,!1,t.toLowerCase(),null,!0,!0)});function r2(t,e,n,r){var i=Qr.hasOwnProperty(e)?Qr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(U6(e,n,i,r)&&(n=null),r||i===null?M6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var el=TD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zv=Symbol.for("react.element"),th=Symbol.for("react.portal"),nh=Symbol.for("react.fragment"),i2=Symbol.for("react.strict_mode"),lE=Symbol.for("react.profiler"),AD=Symbol.for("react.provider"),ID=Symbol.for("react.context"),o2=Symbol.for("react.forward_ref"),uE=Symbol.for("react.suspense"),cE=Symbol.for("react.suspense_list"),s2=Symbol.for("react.memo"),Vl=Symbol.for("react.lazy"),bD=Symbol.for("react.offscreen"),Ek=Symbol.iterator;function Ep(t){return t===null||typeof t!="object"?null:(t=Ek&&t[Ek]||t["@@iterator"],typeof t=="function"?t:null)}var Gn=Object.assign,ex;function Fp(t){if(ex===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ex=e&&e[1]||""}return`
`+ex+t}var tx=!1;function nx(t,e){if(!t||tx)return"";tx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var r=m}Reflect.construct(t,[],e)}else{try{e.call()}catch(m){r=m}t.call(e.prototype)}else{try{throw Error()}catch(m){r=m}t()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var p=`
`+i[a].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=a&&0<=c);break}}}finally{tx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fp(t):""}function V6(t){switch(t.tag){case 5:return Fp(t.type);case 16:return Fp("Lazy");case 13:return Fp("Suspense");case 19:return Fp("SuspenseList");case 0:case 2:case 15:return t=nx(t.type,!1),t;case 11:return t=nx(t.type.render,!1),t;case 1:return t=nx(t.type,!0),t;default:return""}}function fE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nh:return"Fragment";case th:return"Portal";case lE:return"Profiler";case i2:return"StrictMode";case uE:return"Suspense";case cE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ID:return(t.displayName||"Context")+".Consumer";case AD:return(t._context.displayName||"Context")+".Provider";case o2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case s2:return e=t.displayName||null,e!==null?e:fE(t.type)||"Memo";case Vl:e=t._payload,t=t._init;try{return fE(t(e))}catch{}}return null}function z6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fE(e);case 8:return e===i2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function du(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H6(t){var e=DD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jv(t){t._valueTracker||(t._valueTracker=H6(t))}function RD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ty(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hE(t,e){var n=e.checked;return Gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=du(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LD(t,e){e=e.checked,e!=null&&r2(t,"checked",e,!1)}function dE(t,e){LD(t,e);var n=du(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pE(t,e.type,n):e.hasOwnProperty("defaultValue")&&pE(t,e.type,du(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ck(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pE(t,e,n){(e!=="number"||ty(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Op=Array.isArray;function gh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+du(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return Gn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ne(92));if(Op(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:du(n)}}function PD(t,e){var n=du(e.value),r=du(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ND(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ND(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var e0,FD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(e0=e0||document.createElement("div"),e0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=e0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$6=["Webkit","ms","Moz","O"];Object.keys(qp).forEach(function(t){$6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qp[e]=qp[t]})});function OD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qp.hasOwnProperty(t)&&qp[t]?(""+e).trim():e+"px"}function MD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var j6=Gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vE(t,e){if(e){if(j6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function yE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _E=null;function a2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wE=null,mh=null,vh=null;function Ak(t){if(t=im(t)){if(typeof wE!="function")throw Error(Ne(280));var e=t.stateNode;e&&(e=l1(e),wE(t.stateNode,t.type,e))}}function BD(t){mh?vh?vh.push(t):vh=[t]:mh=t}function UD(){if(mh){var t=mh,e=vh;if(vh=mh=null,Ak(t),e)for(t=0;t<e.length;t++)Ak(e[t])}}function VD(t,e){return t(e)}function zD(){}var rx=!1;function HD(t,e,n){if(rx)return t(e,n);rx=!0;try{return VD(t,e,n)}finally{rx=!1,(mh!==null||vh!==null)&&(zD(),UD())}}function gg(t,e){var n=t.stateNode;if(n===null)return null;var r=l1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ne(231,e,typeof n));return n}var xE=!1;if(Ga)try{var Sp={};Object.defineProperty(Sp,"passive",{get:function(){xE=!0}}),window.addEventListener("test",Sp,Sp),window.removeEventListener("test",Sp,Sp)}catch{xE=!1}function W6(t,e,n,r,i,s,a,c,p){var m=Array.prototype.slice.call(arguments,3);try{e.apply(n,m)}catch(y){this.onError(y)}}var Gp=!1,ny=null,ry=!1,EE=null,q6={onError:function(t){Gp=!0,ny=t}};function G6(t,e,n,r,i,s,a,c,p){Gp=!1,ny=null,W6.apply(q6,arguments)}function K6(t,e,n,r,i,s,a,c,p){if(G6.apply(this,arguments),Gp){if(Gp){var m=ny;Gp=!1,ny=null}else throw Error(Ne(198));ry||(ry=!0,EE=m)}}function qc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $D(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ik(t){if(qc(t)!==t)throw Error(Ne(188))}function Q6(t){var e=t.alternate;if(!e){if(e=qc(t),e===null)throw Error(Ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ik(i),t;if(s===r)return Ik(i),e;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?t:e}function jD(t){return t=Q6(t),t!==null?WD(t):null}function WD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WD(t);if(e!==null)return e;t=t.sibling}return null}var qD=po.unstable_scheduleCallback,bk=po.unstable_cancelCallback,X6=po.unstable_shouldYield,Y6=po.unstable_requestPaint,hr=po.unstable_now,Z6=po.unstable_getCurrentPriorityLevel,l2=po.unstable_ImmediatePriority,GD=po.unstable_UserBlockingPriority,iy=po.unstable_NormalPriority,J6=po.unstable_LowPriority,KD=po.unstable_IdlePriority,i1=null,Ys=null;function eM(t){if(Ys&&typeof Ys.onCommitFiberRoot=="function")try{Ys.onCommitFiberRoot(i1,t,void 0,(t.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:rM,tM=Math.log,nM=Math.LN2;function rM(t){return t>>>=0,t===0?32:31-(tM(t)/nM|0)|0}var t0=64,n0=4194304;function Mp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=Mp(c):(s&=a,s!==0&&(r=Mp(s)))}else a=n&~i,a!==0?r=Mp(a):s!==0&&(r=Mp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hs(e),i=1<<n,r|=t[n],e&=~i;return r}function iM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-hs(s),c=1<<a,p=i[a];p===-1?(!(c&n)||c&r)&&(i[a]=iM(c,e)):p<=e&&(t.expiredLanes|=c),s&=~c}}function SE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QD(){var t=t0;return t0<<=1,!(t0&4194240)&&(t0=64),t}function ix(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hs(e),t[e]=n}function sM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function u2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var cn=0;function XD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var YD,c2,ZD,JD,eR,CE=!1,r0=[],tu=null,nu=null,ru=null,mg=new Map,vg=new Map,$l=[],aM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dk(t,e){switch(t){case"focusin":case"focusout":tu=null;break;case"dragenter":case"dragleave":nu=null;break;case"mouseover":case"mouseout":ru=null;break;case"pointerover":case"pointerout":mg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vg.delete(e.pointerId)}}function Cp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=im(e),e!==null&&c2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lM(t,e,n,r,i){switch(e){case"focusin":return tu=Cp(tu,t,e,n,r,i),!0;case"dragenter":return nu=Cp(nu,t,e,n,r,i),!0;case"mouseover":return ru=Cp(ru,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return mg.set(s,Cp(mg.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vg.set(s,Cp(vg.get(s)||null,t,e,n,r,i)),!0}return!1}function tR(t){var e=pc(t.target);if(e!==null){var n=qc(e);if(n!==null){if(e=n.tag,e===13){if(e=$D(n),e!==null){t.blockedOn=e,eR(t.priority,function(){ZD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function L0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=TE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_E=r,n.target.dispatchEvent(r),_E=null}else return e=im(n),e!==null&&c2(e),t.blockedOn=n,!1;e.shift()}return!0}function Rk(t,e,n){L0(t)&&n.delete(e)}function uM(){CE=!1,tu!==null&&L0(tu)&&(tu=null),nu!==null&&L0(nu)&&(nu=null),ru!==null&&L0(ru)&&(ru=null),mg.forEach(Rk),vg.forEach(Rk)}function Tp(t,e){t.blockedOn===e&&(t.blockedOn=null,CE||(CE=!0,po.unstable_scheduleCallback(po.unstable_NormalPriority,uM)))}function yg(t){function e(i){return Tp(i,t)}if(0<r0.length){Tp(r0[0],t);for(var n=1;n<r0.length;n++){var r=r0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(tu!==null&&Tp(tu,t),nu!==null&&Tp(nu,t),ru!==null&&Tp(ru,t),mg.forEach(e),vg.forEach(e),n=0;n<$l.length;n++)r=$l[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$l.length&&(n=$l[0],n.blockedOn===null);)tR(n),n.blockedOn===null&&$l.shift()}var yh=el.ReactCurrentBatchConfig,sy=!0;function cM(t,e,n,r){var i=cn,s=yh.transition;yh.transition=null;try{cn=1,f2(t,e,n,r)}finally{cn=i,yh.transition=s}}function fM(t,e,n,r){var i=cn,s=yh.transition;yh.transition=null;try{cn=4,f2(t,e,n,r)}finally{cn=i,yh.transition=s}}function f2(t,e,n,r){if(sy){var i=TE(t,e,n,r);if(i===null)px(t,e,r,ay,n),Dk(t,r);else if(lM(i,t,e,n,r))r.stopPropagation();else if(Dk(t,r),e&4&&-1<aM.indexOf(t)){for(;i!==null;){var s=im(i);if(s!==null&&YD(s),s=TE(t,e,n,r),s===null&&px(t,e,r,ay,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else px(t,e,r,null,n)}}var ay=null;function TE(t,e,n,r){if(ay=null,t=a2(r),t=pc(t),t!==null)if(e=qc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$D(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ay=t,null}function nR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z6()){case l2:return 1;case GD:return 4;case iy:case J6:return 16;case KD:return 536870912;default:return 16}default:return 16}}var Xl=null,h2=null,P0=null;function rR(){if(P0)return P0;var t,e=h2,n=e.length,r,i="value"in Xl?Xl.value:Xl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return P0=i.slice(t,1<r?1-r:void 0)}function N0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function i0(){return!0}function Lk(){return!1}function vo(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?i0:Lk,this.isPropagationStopped=Lk,this}return Gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=i0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=i0)},persist:function(){},isPersistent:i0}),e}var Gh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d2=vo(Gh),rm=Gn({},Gh,{view:0,detail:0}),hM=vo(rm),ox,sx,kp,o1=Gn({},rm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kp&&(kp&&t.type==="mousemove"?(ox=t.screenX-kp.screenX,sx=t.screenY-kp.screenY):sx=ox=0,kp=t),ox)},movementY:function(t){return"movementY"in t?t.movementY:sx}}),Pk=vo(o1),dM=Gn({},o1,{dataTransfer:0}),pM=vo(dM),gM=Gn({},rm,{relatedTarget:0}),ax=vo(gM),mM=Gn({},Gh,{animationName:0,elapsedTime:0,pseudoElement:0}),vM=vo(mM),yM=Gn({},Gh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_M=vo(yM),wM=Gn({},Gh,{data:0}),Nk=vo(wM),xM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SM[t])?!!e[t]:!1}function p2(){return CM}var TM=Gn({},rm,{key:function(t){if(t.key){var e=xM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=N0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p2,charCode:function(t){return t.type==="keypress"?N0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?N0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kM=vo(TM),AM=Gn({},o1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fk=vo(AM),IM=Gn({},rm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p2}),bM=vo(IM),DM=Gn({},Gh,{propertyName:0,elapsedTime:0,pseudoElement:0}),RM=vo(DM),LM=Gn({},o1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PM=vo(LM),NM=[9,13,27,32],g2=Ga&&"CompositionEvent"in window,Kp=null;Ga&&"documentMode"in document&&(Kp=document.documentMode);var FM=Ga&&"TextEvent"in window&&!Kp,iR=Ga&&(!g2||Kp&&8<Kp&&11>=Kp),Ok=" ",Mk=!1;function oR(t,e){switch(t){case"keyup":return NM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rh=!1;function OM(t,e){switch(t){case"compositionend":return sR(e);case"keypress":return e.which!==32?null:(Mk=!0,Ok);case"textInput":return t=e.data,t===Ok&&Mk?null:t;default:return null}}function MM(t,e){if(rh)return t==="compositionend"||!g2&&oR(t,e)?(t=rR(),P0=h2=Xl=null,rh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iR&&e.locale!=="ko"?null:e.data;default:return null}}var BM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BM[t.type]:e==="textarea"}function aR(t,e,n,r){BD(r),e=ly(e,"onChange"),0<e.length&&(n=new d2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qp=null,_g=null;function UM(t){yR(t,0)}function s1(t){var e=sh(t);if(RD(e))return t}function VM(t,e){if(t==="change")return e}var lR=!1;if(Ga){var lx;if(Ga){var ux="oninput"in document;if(!ux){var Uk=document.createElement("div");Uk.setAttribute("oninput","return;"),ux=typeof Uk.oninput=="function"}lx=ux}else lx=!1;lR=lx&&(!document.documentMode||9<document.documentMode)}function Vk(){Qp&&(Qp.detachEvent("onpropertychange",uR),_g=Qp=null)}function uR(t){if(t.propertyName==="value"&&s1(_g)){var e=[];aR(e,_g,t,a2(t)),HD(UM,e)}}function zM(t,e,n){t==="focusin"?(Vk(),Qp=e,_g=n,Qp.attachEvent("onpropertychange",uR)):t==="focusout"&&Vk()}function HM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return s1(_g)}function $M(t,e){if(t==="click")return s1(e)}function jM(t,e){if(t==="input"||t==="change")return s1(e)}function WM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gs=typeof Object.is=="function"?Object.is:WM;function wg(t,e){if(gs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!aE.call(e,i)||!gs(t[i],e[i]))return!1}return!0}function zk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hk(t,e){var n=zk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zk(n)}}function cR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fR(){for(var t=window,e=ty();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ty(t.document)}return e}function m2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qM(t){var e=fR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cR(n.ownerDocument.documentElement,n)){if(r!==null&&m2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Hk(n,s);var a=Hk(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GM=Ga&&"documentMode"in document&&11>=document.documentMode,ih=null,kE=null,Xp=null,AE=!1;function $k(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;AE||ih==null||ih!==ty(r)||(r=ih,"selectionStart"in r&&m2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xp&&wg(Xp,r)||(Xp=r,r=ly(kE,"onSelect"),0<r.length&&(e=new d2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ih)))}function o0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oh={animationend:o0("Animation","AnimationEnd"),animationiteration:o0("Animation","AnimationIteration"),animationstart:o0("Animation","AnimationStart"),transitionend:o0("Transition","TransitionEnd")},cx={},hR={};Ga&&(hR=document.createElement("div").style,"AnimationEvent"in window||(delete oh.animationend.animation,delete oh.animationiteration.animation,delete oh.animationstart.animation),"TransitionEvent"in window||delete oh.transitionend.transition);function a1(t){if(cx[t])return cx[t];if(!oh[t])return t;var e=oh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hR)return cx[t]=e[n];return t}var dR=a1("animationend"),pR=a1("animationiteration"),gR=a1("animationstart"),mR=a1("transitionend"),vR=new Map,jk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wu(t,e){vR.set(t,e),Wc(e,[t])}for(var fx=0;fx<jk.length;fx++){var hx=jk[fx],KM=hx.toLowerCase(),QM=hx[0].toUpperCase()+hx.slice(1);wu(KM,"on"+QM)}wu(dR,"onAnimationEnd");wu(pR,"onAnimationIteration");wu(gR,"onAnimationStart");wu("dblclick","onDoubleClick");wu("focusin","onFocus");wu("focusout","onBlur");wu(mR,"onTransitionEnd");Ih("onMouseEnter",["mouseout","mouseover"]);Ih("onMouseLeave",["mouseout","mouseover"]);Ih("onPointerEnter",["pointerout","pointerover"]);Ih("onPointerLeave",["pointerout","pointerover"]);Wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bp));function Wk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,K6(r,e,void 0,t),t.currentTarget=null}function yR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],p=c.instance,m=c.currentTarget;if(c=c.listener,p!==s&&i.isPropagationStopped())break e;Wk(i,c,m),s=p}else for(a=0;a<r.length;a++){if(c=r[a],p=c.instance,m=c.currentTarget,c=c.listener,p!==s&&i.isPropagationStopped())break e;Wk(i,c,m),s=p}}}if(ry)throw t=EE,ry=!1,EE=null,t}function Dn(t,e){var n=e[LE];n===void 0&&(n=e[LE]=new Set);var r=t+"__bubble";n.has(r)||(_R(e,t,2,!1),n.add(r))}function dx(t,e,n){var r=0;e&&(r|=4),_R(n,t,r,e)}var s0="_reactListening"+Math.random().toString(36).slice(2);function xg(t){if(!t[s0]){t[s0]=!0,kD.forEach(function(n){n!=="selectionchange"&&(XM.has(n)||dx(n,!1,t),dx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[s0]||(e[s0]=!0,dx("selectionchange",!1,e))}}function _R(t,e,n,r){switch(nR(e)){case 1:var i=cM;break;case 4:i=fM;break;default:i=f2}n=i.bind(null,e,n,t),i=void 0,!xE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function px(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var p=a.tag;if((p===3||p===4)&&(p=a.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;a=a.return}for(;c!==null;){if(a=pc(c),a===null)return;if(p=a.tag,p===5||p===6){r=s=a;continue e}c=c.parentNode}}r=r.return}HD(function(){var m=s,y=a2(n),w=[];e:{var E=vR.get(t);if(E!==void 0){var C=d2,P=t;switch(t){case"keypress":if(N0(n)===0)break e;case"keydown":case"keyup":C=kM;break;case"focusin":P="focus",C=ax;break;case"focusout":P="blur",C=ax;break;case"beforeblur":case"afterblur":C=ax;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Pk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=pM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=bM;break;case dR:case pR:case gR:C=vM;break;case mR:C=RM;break;case"scroll":C=hM;break;case"wheel":C=PM;break;case"copy":case"cut":case"paste":C=_M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Fk}var O=(e&4)!==0,M=!O&&t==="scroll",R=O?E!==null?E+"Capture":null:E;O=[];for(var b=m,D;b!==null;){D=b;var B=D.stateNode;if(D.tag===5&&B!==null&&(D=B,R!==null&&(B=gg(b,R),B!=null&&O.push(Eg(b,B,D)))),M)break;b=b.return}0<O.length&&(E=new C(E,P,null,n,y),w.push({event:E,listeners:O}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",E&&n!==_E&&(P=n.relatedTarget||n.fromElement)&&(pc(P)||P[Ka]))break e;if((C||E)&&(E=y.window===y?y:(E=y.ownerDocument)?E.defaultView||E.parentWindow:window,C?(P=n.relatedTarget||n.toElement,C=m,P=P?pc(P):null,P!==null&&(M=qc(P),P!==M||P.tag!==5&&P.tag!==6)&&(P=null)):(C=null,P=m),C!==P)){if(O=Pk,B="onMouseLeave",R="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(O=Fk,B="onPointerLeave",R="onPointerEnter",b="pointer"),M=C==null?E:sh(C),D=P==null?E:sh(P),E=new O(B,b+"leave",C,n,y),E.target=M,E.relatedTarget=D,B=null,pc(y)===m&&(O=new O(R,b+"enter",P,n,y),O.target=D,O.relatedTarget=M,B=O),M=B,C&&P)t:{for(O=C,R=P,b=0,D=O;D;D=qf(D))b++;for(D=0,B=R;B;B=qf(B))D++;for(;0<b-D;)O=qf(O),b--;for(;0<D-b;)R=qf(R),D--;for(;b--;){if(O===R||R!==null&&O===R.alternate)break t;O=qf(O),R=qf(R)}O=null}else O=null;C!==null&&qk(w,E,C,O,!1),P!==null&&M!==null&&qk(w,M,P,O,!0)}}e:{if(E=m?sh(m):window,C=E.nodeName&&E.nodeName.toLowerCase(),C==="select"||C==="input"&&E.type==="file")var j=VM;else if(Bk(E))if(lR)j=jM;else{j=HM;var U=zM}else(C=E.nodeName)&&C.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(j=$M);if(j&&(j=j(t,m))){aR(w,j,n,y);break e}U&&U(t,E,m),t==="focusout"&&(U=E._wrapperState)&&U.controlled&&E.type==="number"&&pE(E,"number",E.value)}switch(U=m?sh(m):window,t){case"focusin":(Bk(U)||U.contentEditable==="true")&&(ih=U,kE=m,Xp=null);break;case"focusout":Xp=kE=ih=null;break;case"mousedown":AE=!0;break;case"contextmenu":case"mouseup":case"dragend":AE=!1,$k(w,n,y);break;case"selectionchange":if(GM)break;case"keydown":case"keyup":$k(w,n,y)}var W;if(g2)e:{switch(t){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else rh?oR(t,n)&&(Y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Y="onCompositionStart");Y&&(iR&&n.locale!=="ko"&&(rh||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&rh&&(W=rR()):(Xl=y,h2="value"in Xl?Xl.value:Xl.textContent,rh=!0)),U=ly(m,Y),0<U.length&&(Y=new Nk(Y,t,null,n,y),w.push({event:Y,listeners:U}),W?Y.data=W:(W=sR(n),W!==null&&(Y.data=W)))),(W=FM?OM(t,n):MM(t,n))&&(m=ly(m,"onBeforeInput"),0<m.length&&(y=new Nk("onBeforeInput","beforeinput",null,n,y),w.push({event:y,listeners:m}),y.data=W))}yR(w,e)})}function Eg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ly(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gg(t,n),s!=null&&r.unshift(Eg(t,s,i)),s=gg(t,e),s!=null&&r.push(Eg(t,s,i))),t=t.return}return r}function qf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qk(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var c=n,p=c.alternate,m=c.stateNode;if(p!==null&&p===r)break;c.tag===5&&m!==null&&(c=m,i?(p=gg(n,s),p!=null&&a.unshift(Eg(n,p,c))):i||(p=gg(n,s),p!=null&&a.push(Eg(n,p,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var YM=/\r\n?/g,ZM=/\u0000|\uFFFD/g;function Gk(t){return(typeof t=="string"?t:""+t).replace(YM,`
`).replace(ZM,"")}function a0(t,e,n){if(e=Gk(e),Gk(t)!==e&&n)throw Error(Ne(425))}function uy(){}var IE=null,bE=null;function DE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var RE=typeof setTimeout=="function"?setTimeout:void 0,JM=typeof clearTimeout=="function"?clearTimeout:void 0,Kk=typeof Promise=="function"?Promise:void 0,e8=typeof queueMicrotask=="function"?queueMicrotask:typeof Kk<"u"?function(t){return Kk.resolve(null).then(t).catch(t8)}:RE;function t8(t){setTimeout(function(){throw t})}function gx(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yg(e)}function iu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kh=Math.random().toString(36).slice(2),js="__reactFiber$"+Kh,Sg="__reactProps$"+Kh,Ka="__reactContainer$"+Kh,LE="__reactEvents$"+Kh,n8="__reactListeners$"+Kh,r8="__reactHandles$"+Kh;function pc(t){var e=t[js];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ka]||n[js]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qk(t);t!==null;){if(n=t[js])return n;t=Qk(t)}return e}t=n,n=t.parentNode}return null}function im(t){return t=t[js]||t[Ka],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ne(33))}function l1(t){return t[Sg]||null}var PE=[],ah=-1;function xu(t){return{current:t}}function Nn(t){0>ah||(t.current=PE[ah],PE[ah]=null,ah--)}function Sn(t,e){ah++,PE[ah]=t.current,t.current=e}var pu={},si=xu(pu),Ui=xu(!1),bc=pu;function bh(t,e){var n=t.type.contextTypes;if(!n)return pu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vi(t){return t=t.childContextTypes,t!=null}function cy(){Nn(Ui),Nn(si)}function Xk(t,e,n){if(si.current!==pu)throw Error(Ne(168));Sn(si,e),Sn(Ui,n)}function wR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ne(108,z6(t)||"Unknown",i));return Gn({},n,r)}function fy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pu,bc=si.current,Sn(si,t),Sn(Ui,Ui.current),!0}function Yk(t,e,n){var r=t.stateNode;if(!r)throw Error(Ne(169));n?(t=wR(t,e,bc),r.__reactInternalMemoizedMergedChildContext=t,Nn(Ui),Nn(si),Sn(si,t)):Nn(Ui),Sn(Ui,n)}var Ba=null,u1=!1,mx=!1;function xR(t){Ba===null?Ba=[t]:Ba.push(t)}function i8(t){u1=!0,xR(t)}function Eu(){if(!mx&&Ba!==null){mx=!0;var t=0,e=cn;try{var n=Ba;for(cn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ba=null,u1=!1}catch(i){throw Ba!==null&&(Ba=Ba.slice(t+1)),qD(l2,Eu),i}finally{cn=e,mx=!1}}return null}var lh=[],uh=0,hy=null,dy=0,Fo=[],Oo=0,Dc=null,Va=1,za="";function uc(t,e){lh[uh++]=dy,lh[uh++]=hy,hy=t,dy=e}function ER(t,e,n){Fo[Oo++]=Va,Fo[Oo++]=za,Fo[Oo++]=Dc,Dc=t;var r=Va;t=za;var i=32-hs(r)-1;r&=~(1<<i),n+=1;var s=32-hs(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Va=1<<32-hs(e)+i|n<<i|r,za=s+t}else Va=1<<s|n<<i|r,za=t}function v2(t){t.return!==null&&(uc(t,1),ER(t,1,0))}function y2(t){for(;t===hy;)hy=lh[--uh],lh[uh]=null,dy=lh[--uh],lh[uh]=null;for(;t===Dc;)Dc=Fo[--Oo],Fo[Oo]=null,za=Fo[--Oo],Fo[Oo]=null,Va=Fo[--Oo],Fo[Oo]=null}var ho=null,ao=null,Bn=!1,fs=null;function SR(t,e){var n=Uo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ho=t,ao=iu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ho=t,ao=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Dc!==null?{id:Va,overflow:za}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Uo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ho=t,ao=null,!0):!1;default:return!1}}function NE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function FE(t){if(Bn){var e=ao;if(e){var n=e;if(!Zk(t,e)){if(NE(t))throw Error(Ne(418));e=iu(n.nextSibling);var r=ho;e&&Zk(t,e)?SR(r,n):(t.flags=t.flags&-4097|2,Bn=!1,ho=t)}}else{if(NE(t))throw Error(Ne(418));t.flags=t.flags&-4097|2,Bn=!1,ho=t}}}function Jk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ho=t}function l0(t){if(t!==ho)return!1;if(!Bn)return Jk(t),Bn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!DE(t.type,t.memoizedProps)),e&&(e=ao)){if(NE(t))throw CR(),Error(Ne(418));for(;e;)SR(t,e),e=iu(e.nextSibling)}if(Jk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ao=iu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ao=null}}else ao=ho?iu(t.stateNode.nextSibling):null;return!0}function CR(){for(var t=ao;t;)t=iu(t.nextSibling)}function Dh(){ao=ho=null,Bn=!1}function _2(t){fs===null?fs=[t]:fs.push(t)}var o8=el.ReactCurrentBatchConfig;function us(t,e){if(t&&t.defaultProps){e=Gn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var py=xu(null),gy=null,ch=null,w2=null;function x2(){w2=ch=gy=null}function E2(t){var e=py.current;Nn(py),t._currentValue=e}function OE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _h(t,e){gy=t,w2=ch=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bi=!0),t.firstContext=null)}function Ho(t){var e=t._currentValue;if(w2!==t)if(t={context:t,memoizedValue:e,next:null},ch===null){if(gy===null)throw Error(Ne(308));ch=t,gy.dependencies={lanes:0,firstContext:t}}else ch=ch.next=t;return e}var gc=null;function S2(t){gc===null?gc=[t]:gc.push(t)}function TR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,S2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qa(t,r)}function Qa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zl=!1;function C2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ou(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qa(t,n)}return i=r.interleaved,i===null?(e.next=e,S2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qa(t,n)}function F0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u2(t,n)}}function eA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function my(t,e,n,r){var i=t.updateQueue;zl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var p=c,m=p.next;p.next=null,a===null?s=m:a.next=m,a=p;var y=t.alternate;y!==null&&(y=y.updateQueue,c=y.lastBaseUpdate,c!==a&&(c===null?y.firstBaseUpdate=m:c.next=m,y.lastBaseUpdate=p))}if(s!==null){var w=i.baseState;a=0,y=m=p=null,c=s;do{var E=c.lane,C=c.eventTime;if((r&E)===E){y!==null&&(y=y.next={eventTime:C,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var P=t,O=c;switch(E=e,C=n,O.tag){case 1:if(P=O.payload,typeof P=="function"){w=P.call(C,w,E);break e}w=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=O.payload,E=typeof P=="function"?P.call(C,w,E):P,E==null)break e;w=Gn({},w,E);break e;case 2:zl=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,E=i.effects,E===null?i.effects=[c]:E.push(c))}else C={eventTime:C,lane:E,tag:c.tag,payload:c.payload,callback:c.callback,next:null},y===null?(m=y=C,p=w):y=y.next=C,a|=E;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;E=c,c=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(y===null&&(p=w),i.baseState=p,i.firstBaseUpdate=m,i.lastBaseUpdate=y,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Lc|=a,t.lanes=a,t.memoizedState=w}}function tA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var AR=new TD.Component().refs;function ME(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var c1={isMounted:function(t){return(t=t._reactInternals)?qc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_i(),i=au(t),s=Wa(r,i);s.payload=e,n!=null&&(s.callback=n),e=ou(t,s,i),e!==null&&(ds(e,t,i,r),F0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_i(),i=au(t),s=Wa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ou(t,s,i),e!==null&&(ds(e,t,i,r),F0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_i(),r=au(t),i=Wa(n,r);i.tag=2,e!=null&&(i.callback=e),e=ou(t,i,r),e!==null&&(ds(e,t,r,n),F0(e,t,r))}};function nA(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!wg(n,r)||!wg(i,s):!0}function IR(t,e,n){var r=!1,i=pu,s=e.contextType;return typeof s=="object"&&s!==null?s=Ho(s):(i=Vi(e)?bc:si.current,r=e.contextTypes,s=(r=r!=null)?bh(t,i):pu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=c1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&c1.enqueueReplaceState(e,e.state,null)}function BE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=AR,C2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ho(s):(s=Vi(e)?bc:si.current,i.context=bh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ME(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&c1.enqueueReplaceState(i,i.state,null),my(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ap(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var c=i.refs;c===AR&&(c=i.refs={}),a===null?delete c[s]:c[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,t))}return t}function u0(t,e){throw t=Object.prototype.toString.call(e),Error(Ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iA(t){var e=t._init;return e(t._payload)}function bR(t){function e(R,b){if(t){var D=R.deletions;D===null?(R.deletions=[b],R.flags|=16):D.push(b)}}function n(R,b){if(!t)return null;for(;b!==null;)e(R,b),b=b.sibling;return null}function r(R,b){for(R=new Map;b!==null;)b.key!==null?R.set(b.key,b):R.set(b.index,b),b=b.sibling;return R}function i(R,b){return R=lu(R,b),R.index=0,R.sibling=null,R}function s(R,b,D){return R.index=D,t?(D=R.alternate,D!==null?(D=D.index,D<b?(R.flags|=2,b):D):(R.flags|=2,b)):(R.flags|=1048576,b)}function a(R){return t&&R.alternate===null&&(R.flags|=2),R}function c(R,b,D,B){return b===null||b.tag!==6?(b=Sx(D,R.mode,B),b.return=R,b):(b=i(b,D),b.return=R,b)}function p(R,b,D,B){var j=D.type;return j===nh?y(R,b,D.props.children,B,D.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Vl&&iA(j)===b.type)?(B=i(b,D.props),B.ref=Ap(R,b,D),B.return=R,B):(B=z0(D.type,D.key,D.props,null,R.mode,B),B.ref=Ap(R,b,D),B.return=R,B)}function m(R,b,D,B){return b===null||b.tag!==4||b.stateNode.containerInfo!==D.containerInfo||b.stateNode.implementation!==D.implementation?(b=Cx(D,R.mode,B),b.return=R,b):(b=i(b,D.children||[]),b.return=R,b)}function y(R,b,D,B,j){return b===null||b.tag!==7?(b=Ec(D,R.mode,B,j),b.return=R,b):(b=i(b,D),b.return=R,b)}function w(R,b,D){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Sx(""+b,R.mode,D),b.return=R,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zv:return D=z0(b.type,b.key,b.props,null,R.mode,D),D.ref=Ap(R,null,b),D.return=R,D;case th:return b=Cx(b,R.mode,D),b.return=R,b;case Vl:var B=b._init;return w(R,B(b._payload),D)}if(Op(b)||Ep(b))return b=Ec(b,R.mode,D,null),b.return=R,b;u0(R,b)}return null}function E(R,b,D,B){var j=b!==null?b.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return j!==null?null:c(R,b,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Zv:return D.key===j?p(R,b,D,B):null;case th:return D.key===j?m(R,b,D,B):null;case Vl:return j=D._init,E(R,b,j(D._payload),B)}if(Op(D)||Ep(D))return j!==null?null:y(R,b,D,B,null);u0(R,D)}return null}function C(R,b,D,B,j){if(typeof B=="string"&&B!==""||typeof B=="number")return R=R.get(D)||null,c(b,R,""+B,j);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Zv:return R=R.get(B.key===null?D:B.key)||null,p(b,R,B,j);case th:return R=R.get(B.key===null?D:B.key)||null,m(b,R,B,j);case Vl:var U=B._init;return C(R,b,D,U(B._payload),j)}if(Op(B)||Ep(B))return R=R.get(D)||null,y(b,R,B,j,null);u0(b,B)}return null}function P(R,b,D,B){for(var j=null,U=null,W=b,Y=b=0,ae=null;W!==null&&Y<D.length;Y++){W.index>Y?(ae=W,W=null):ae=W.sibling;var _e=E(R,W,D[Y],B);if(_e===null){W===null&&(W=ae);break}t&&W&&_e.alternate===null&&e(R,W),b=s(_e,b,Y),U===null?j=_e:U.sibling=_e,U=_e,W=ae}if(Y===D.length)return n(R,W),Bn&&uc(R,Y),j;if(W===null){for(;Y<D.length;Y++)W=w(R,D[Y],B),W!==null&&(b=s(W,b,Y),U===null?j=W:U.sibling=W,U=W);return Bn&&uc(R,Y),j}for(W=r(R,W);Y<D.length;Y++)ae=C(W,R,Y,D[Y],B),ae!==null&&(t&&ae.alternate!==null&&W.delete(ae.key===null?Y:ae.key),b=s(ae,b,Y),U===null?j=ae:U.sibling=ae,U=ae);return t&&W.forEach(function(ie){return e(R,ie)}),Bn&&uc(R,Y),j}function O(R,b,D,B){var j=Ep(D);if(typeof j!="function")throw Error(Ne(150));if(D=j.call(D),D==null)throw Error(Ne(151));for(var U=j=null,W=b,Y=b=0,ae=null,_e=D.next();W!==null&&!_e.done;Y++,_e=D.next()){W.index>Y?(ae=W,W=null):ae=W.sibling;var ie=E(R,W,_e.value,B);if(ie===null){W===null&&(W=ae);break}t&&W&&ie.alternate===null&&e(R,W),b=s(ie,b,Y),U===null?j=ie:U.sibling=ie,U=ie,W=ae}if(_e.done)return n(R,W),Bn&&uc(R,Y),j;if(W===null){for(;!_e.done;Y++,_e=D.next())_e=w(R,_e.value,B),_e!==null&&(b=s(_e,b,Y),U===null?j=_e:U.sibling=_e,U=_e);return Bn&&uc(R,Y),j}for(W=r(R,W);!_e.done;Y++,_e=D.next())_e=C(W,R,Y,_e.value,B),_e!==null&&(t&&_e.alternate!==null&&W.delete(_e.key===null?Y:_e.key),b=s(_e,b,Y),U===null?j=_e:U.sibling=_e,U=_e);return t&&W.forEach(function(ye){return e(R,ye)}),Bn&&uc(R,Y),j}function M(R,b,D,B){if(typeof D=="object"&&D!==null&&D.type===nh&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Zv:e:{for(var j=D.key,U=b;U!==null;){if(U.key===j){if(j=D.type,j===nh){if(U.tag===7){n(R,U.sibling),b=i(U,D.props.children),b.return=R,R=b;break e}}else if(U.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Vl&&iA(j)===U.type){n(R,U.sibling),b=i(U,D.props),b.ref=Ap(R,U,D),b.return=R,R=b;break e}n(R,U);break}else e(R,U);U=U.sibling}D.type===nh?(b=Ec(D.props.children,R.mode,B,D.key),b.return=R,R=b):(B=z0(D.type,D.key,D.props,null,R.mode,B),B.ref=Ap(R,b,D),B.return=R,R=B)}return a(R);case th:e:{for(U=D.key;b!==null;){if(b.key===U)if(b.tag===4&&b.stateNode.containerInfo===D.containerInfo&&b.stateNode.implementation===D.implementation){n(R,b.sibling),b=i(b,D.children||[]),b.return=R,R=b;break e}else{n(R,b);break}else e(R,b);b=b.sibling}b=Cx(D,R.mode,B),b.return=R,R=b}return a(R);case Vl:return U=D._init,M(R,b,U(D._payload),B)}if(Op(D))return P(R,b,D,B);if(Ep(D))return O(R,b,D,B);u0(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,b!==null&&b.tag===6?(n(R,b.sibling),b=i(b,D),b.return=R,R=b):(n(R,b),b=Sx(D,R.mode,B),b.return=R,R=b),a(R)):n(R,b)}return M}var Rh=bR(!0),DR=bR(!1),om={},Zs=xu(om),Cg=xu(om),Tg=xu(om);function mc(t){if(t===om)throw Error(Ne(174));return t}function T2(t,e){switch(Sn(Tg,e),Sn(Cg,t),Sn(Zs,om),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mE(e,t)}Nn(Zs),Sn(Zs,e)}function Lh(){Nn(Zs),Nn(Cg),Nn(Tg)}function RR(t){mc(Tg.current);var e=mc(Zs.current),n=mE(e,t.type);e!==n&&(Sn(Cg,t),Sn(Zs,n))}function k2(t){Cg.current===t&&(Nn(Zs),Nn(Cg))}var jn=xu(0);function vy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vx=[];function A2(){for(var t=0;t<vx.length;t++)vx[t]._workInProgressVersionPrimary=null;vx.length=0}var O0=el.ReactCurrentDispatcher,yx=el.ReactCurrentBatchConfig,Rc=0,Wn=null,Ar=null,Fr=null,yy=!1,Yp=!1,kg=0,s8=0;function Zr(){throw Error(Ne(321))}function I2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gs(t[n],e[n]))return!1;return!0}function b2(t,e,n,r,i,s){if(Rc=s,Wn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,O0.current=t===null||t.memoizedState===null?c8:f8,t=n(r,i),Yp){s=0;do{if(Yp=!1,kg=0,25<=s)throw Error(Ne(301));s+=1,Fr=Ar=null,e.updateQueue=null,O0.current=h8,t=n(r,i)}while(Yp)}if(O0.current=_y,e=Ar!==null&&Ar.next!==null,Rc=0,Fr=Ar=Wn=null,yy=!1,e)throw Error(Ne(300));return t}function D2(){var t=kg!==0;return kg=0,t}function Hs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?Wn.memoizedState=Fr=t:Fr=Fr.next=t,Fr}function $o(){if(Ar===null){var t=Wn.alternate;t=t!==null?t.memoizedState:null}else t=Ar.next;var e=Fr===null?Wn.memoizedState:Fr.next;if(e!==null)Fr=e,Ar=t;else{if(t===null)throw Error(Ne(310));Ar=t,t={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Fr===null?Wn.memoizedState=Fr=t:Fr=Fr.next=t}return Fr}function Ag(t,e){return typeof e=="function"?e(t):e}function _x(t){var e=$o(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=Ar,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=a=null,p=null,m=s;do{var y=m.lane;if((Rc&y)===y)p!==null&&(p=p.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:t(r,m.action);else{var w={lane:y,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};p===null?(c=p=w,a=r):p=p.next=w,Wn.lanes|=y,Lc|=y}m=m.next}while(m!==null&&m!==s);p===null?a=r:p.next=c,gs(r,e.memoizedState)||(Bi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=p,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Wn.lanes|=s,Lc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wx(t){var e=$o(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);gs(s,e.memoizedState)||(Bi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function LR(){}function PR(t,e){var n=Wn,r=$o(),i=e(),s=!gs(r.memoizedState,i);if(s&&(r.memoizedState=i,Bi=!0),r=r.queue,R2(OR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Fr!==null&&Fr.memoizedState.tag&1){if(n.flags|=2048,Ig(9,FR.bind(null,n,r,i,e),void 0,null),Or===null)throw Error(Ne(349));Rc&30||NR(n,e,i)}return i}function NR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Wn.updateQueue,e===null?(e={lastEffect:null,stores:null},Wn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FR(t,e,n,r){e.value=n,e.getSnapshot=r,MR(e)&&BR(t)}function OR(t,e,n){return n(function(){MR(e)&&BR(t)})}function MR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gs(t,n)}catch{return!0}}function BR(t){var e=Qa(t,1);e!==null&&ds(e,t,1,-1)}function oA(t){var e=Hs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:t},e.queue=t,t=t.dispatch=u8.bind(null,Wn,t),[e.memoizedState,t]}function Ig(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Wn.updateQueue,e===null?(e={lastEffect:null,stores:null},Wn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UR(){return $o().memoizedState}function M0(t,e,n,r){var i=Hs();Wn.flags|=t,i.memoizedState=Ig(1|e,n,void 0,r===void 0?null:r)}function f1(t,e,n,r){var i=$o();r=r===void 0?null:r;var s=void 0;if(Ar!==null){var a=Ar.memoizedState;if(s=a.destroy,r!==null&&I2(r,a.deps)){i.memoizedState=Ig(e,n,s,r);return}}Wn.flags|=t,i.memoizedState=Ig(1|e,n,s,r)}function sA(t,e){return M0(8390656,8,t,e)}function R2(t,e){return f1(2048,8,t,e)}function VR(t,e){return f1(4,2,t,e)}function zR(t,e){return f1(4,4,t,e)}function HR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $R(t,e,n){return n=n!=null?n.concat([t]):null,f1(4,4,HR.bind(null,e,t),n)}function L2(){}function jR(t,e){var n=$o();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WR(t,e){var n=$o();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qR(t,e,n){return Rc&21?(gs(n,e)||(n=QD(),Wn.lanes|=n,Lc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bi=!0),t.memoizedState=n)}function a8(t,e){var n=cn;cn=n!==0&&4>n?n:4,t(!0);var r=yx.transition;yx.transition={};try{t(!1),e()}finally{cn=n,yx.transition=r}}function GR(){return $o().memoizedState}function l8(t,e,n){var r=au(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KR(t))QR(e,n);else if(n=TR(t,e,n,r),n!==null){var i=_i();ds(n,t,r,i),XR(n,e,r)}}function u8(t,e,n){var r=au(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KR(t))QR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,n);if(i.hasEagerState=!0,i.eagerState=c,gs(c,a)){var p=e.interleaved;p===null?(i.next=i,S2(e)):(i.next=p.next,p.next=i),e.interleaved=i;return}}catch{}finally{}n=TR(t,e,i,r),n!==null&&(i=_i(),ds(n,t,r,i),XR(n,e,r))}}function KR(t){var e=t.alternate;return t===Wn||e!==null&&e===Wn}function QR(t,e){Yp=yy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u2(t,n)}}var _y={readContext:Ho,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},c8={readContext:Ho,useCallback:function(t,e){return Hs().memoizedState=[t,e===void 0?null:e],t},useContext:Ho,useEffect:sA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,M0(4194308,4,HR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return M0(4194308,4,t,e)},useInsertionEffect:function(t,e){return M0(4,2,t,e)},useMemo:function(t,e){var n=Hs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=l8.bind(null,Wn,t),[r.memoizedState,t]},useRef:function(t){var e=Hs();return t={current:t},e.memoizedState=t},useState:oA,useDebugValue:L2,useDeferredValue:function(t){return Hs().memoizedState=t},useTransition:function(){var t=oA(!1),e=t[0];return t=a8.bind(null,t[1]),Hs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Wn,i=Hs();if(Bn){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=e(),Or===null)throw Error(Ne(349));Rc&30||NR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sA(OR.bind(null,r,s,t),[t]),r.flags|=2048,Ig(9,FR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hs(),e=Or.identifierPrefix;if(Bn){var n=za,r=Va;n=(r&~(1<<32-hs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=s8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},f8={readContext:Ho,useCallback:jR,useContext:Ho,useEffect:R2,useImperativeHandle:$R,useInsertionEffect:VR,useLayoutEffect:zR,useMemo:WR,useReducer:_x,useRef:UR,useState:function(){return _x(Ag)},useDebugValue:L2,useDeferredValue:function(t){var e=$o();return qR(e,Ar.memoizedState,t)},useTransition:function(){var t=_x(Ag)[0],e=$o().memoizedState;return[t,e]},useMutableSource:LR,useSyncExternalStore:PR,useId:GR,unstable_isNewReconciler:!1},h8={readContext:Ho,useCallback:jR,useContext:Ho,useEffect:R2,useImperativeHandle:$R,useInsertionEffect:VR,useLayoutEffect:zR,useMemo:WR,useReducer:wx,useRef:UR,useState:function(){return wx(Ag)},useDebugValue:L2,useDeferredValue:function(t){var e=$o();return Ar===null?e.memoizedState=t:qR(e,Ar.memoizedState,t)},useTransition:function(){var t=wx(Ag)[0],e=$o().memoizedState;return[t,e]},useMutableSource:LR,useSyncExternalStore:PR,useId:GR,unstable_isNewReconciler:!1};function Ph(t,e){try{var n="",r=e;do n+=V6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function UE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var d8=typeof WeakMap=="function"?WeakMap:Map;function YR(t,e,n){n=Wa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xy||(xy=!0,QE=r),UE(t,e)},n}function ZR(t,e,n){n=Wa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){UE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){UE(t,e),typeof r!="function"&&(su===null?su=new Set([this]):su.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function aA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new d8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=A8.bind(null,t,e,n),e.then(t,t))}function lA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wa(-1,1),e.tag=2,ou(n,e,1))),n.lanes|=1),t)}var p8=el.ReactCurrentOwner,Bi=!1;function mi(t,e,n,r){e.child=t===null?DR(e,null,n,r):Rh(e,t.child,n,r)}function cA(t,e,n,r,i){n=n.render;var s=e.ref;return _h(e,i),r=b2(t,e,n,r,s,i),n=D2(),t!==null&&!Bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xa(t,e,i)):(Bn&&n&&v2(e),e.flags|=1,mi(t,e,r,i),e.child)}function fA(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!V2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JR(t,e,s,r,i)):(t=z0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:wg,n(a,r)&&t.ref===e.ref)return Xa(t,e,i)}return e.flags|=1,t=lu(s,r),t.ref=e.ref,t.return=e,e.child=t}function JR(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wg(s,r)&&t.ref===e.ref)if(Bi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Bi=!0);else return e.lanes=t.lanes,Xa(t,e,i)}return VE(t,e,n,r,i)}function eL(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(hh,so),so|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Sn(hh,so),so|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Sn(hh,so),so|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Sn(hh,so),so|=r;return mi(t,e,i,n),e.child}function tL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function VE(t,e,n,r,i){var s=Vi(n)?bc:si.current;return s=bh(e,s),_h(e,i),n=b2(t,e,n,r,s,i),r=D2(),t!==null&&!Bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xa(t,e,i)):(Bn&&r&&v2(e),e.flags|=1,mi(t,e,n,i),e.child)}function hA(t,e,n,r,i){if(Vi(n)){var s=!0;fy(e)}else s=!1;if(_h(e,i),e.stateNode===null)B0(t,e),IR(e,n,r),BE(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var p=a.context,m=n.contextType;typeof m=="object"&&m!==null?m=Ho(m):(m=Vi(n)?bc:si.current,m=bh(e,m));var y=n.getDerivedStateFromProps,w=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function";w||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||p!==m)&&rA(e,a,r,m),zl=!1;var E=e.memoizedState;a.state=E,my(e,r,a,i),p=e.memoizedState,c!==r||E!==p||Ui.current||zl?(typeof y=="function"&&(ME(e,n,y,r),p=e.memoizedState),(c=zl||nA(e,n,c,r,E,p,m))?(w||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=m,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,kR(t,e),c=e.memoizedProps,m=e.type===e.elementType?c:us(e.type,c),a.props=m,w=e.pendingProps,E=a.context,p=n.contextType,typeof p=="object"&&p!==null?p=Ho(p):(p=Vi(n)?bc:si.current,p=bh(e,p));var C=n.getDerivedStateFromProps;(y=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==w||E!==p)&&rA(e,a,r,p),zl=!1,E=e.memoizedState,a.state=E,my(e,r,a,i);var P=e.memoizedState;c!==w||E!==P||Ui.current||zl?(typeof C=="function"&&(ME(e,n,C,r),P=e.memoizedState),(m=zl||nA(e,n,m,r,E,P,p)||!1)?(y||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,P,p),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,P,p)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),a.props=r,a.state=P,a.context=p,r=m):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),r=!1)}return zE(t,e,n,r,s,i)}function zE(t,e,n,r,i,s){tL(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Yk(e,n,!1),Xa(t,e,s);r=e.stateNode,p8.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Rh(e,t.child,null,s),e.child=Rh(e,null,c,s)):mi(t,e,c,s),e.memoizedState=r.state,i&&Yk(e,n,!0),e.child}function nL(t){var e=t.stateNode;e.pendingContext?Xk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xk(t,e.context,!1),T2(t,e.containerInfo)}function dA(t,e,n,r,i){return Dh(),_2(i),e.flags|=256,mi(t,e,n,r),e.child}var HE={dehydrated:null,treeContext:null,retryLane:0};function $E(t){return{baseLanes:t,cachePool:null,transitions:null}}function rL(t,e,n){var r=e.pendingProps,i=jn.current,s=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Sn(jn,i&1),t===null)return FE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=p1(a,r,0,null),t=Ec(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$E(n),e.memoizedState=HE,t):P2(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return g8(t,e,a,r,c,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,c=i.sibling;var p={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=p,e.deletions=null):(r=lu(i,p),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=lu(c,s):(s=Ec(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?$E(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=HE,r}return s=t.child,t=s.sibling,r=lu(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function P2(t,e){return e=p1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function c0(t,e,n,r){return r!==null&&_2(r),Rh(e,t.child,null,n),t=P2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g8(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=xx(Error(Ne(422))),c0(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=p1({mode:"visible",children:r.children},i,0,null),s=Ec(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Rh(e,t.child,null,a),e.child.memoizedState=$E(a),e.memoizedState=HE,s);if(!(e.mode&1))return c0(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(Ne(419)),r=xx(s,r,void 0),c0(t,e,a,r)}if(c=(a&t.childLanes)!==0,Bi||c){if(r=Or,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qa(t,i),ds(r,t,i,-1))}return U2(),r=xx(Error(Ne(421))),c0(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=I8.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ao=iu(i.nextSibling),ho=e,Bn=!0,fs=null,t!==null&&(Fo[Oo++]=Va,Fo[Oo++]=za,Fo[Oo++]=Dc,Va=t.id,za=t.overflow,Dc=e),e=P2(e,r.children),e.flags|=4096,e)}function pA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),OE(t.return,e,n)}function Ex(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function iL(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mi(t,e,r.children,n),r=jn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pA(t,n,e);else if(t.tag===19)pA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Sn(jn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ex(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ex(e,!0,n,null,s);break;case"together":Ex(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function B0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ne(153));if(e.child!==null){for(t=e.child,n=lu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function m8(t,e,n){switch(e.tag){case 3:nL(e),Dh();break;case 5:RR(e);break;case 1:Vi(e.type)&&fy(e);break;case 4:T2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Sn(py,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Sn(jn,jn.current&1),e.flags|=128,null):n&e.child.childLanes?rL(t,e,n):(Sn(jn,jn.current&1),t=Xa(t,e,n),t!==null?t.sibling:null);Sn(jn,jn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sn(jn,jn.current),r)break;return null;case 22:case 23:return e.lanes=0,eL(t,e,n)}return Xa(t,e,n)}var oL,jE,sL,aL;oL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jE=function(){};sL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,mc(Zs.current);var s=null;switch(n){case"input":i=hE(t,i),r=hE(t,r),s=[];break;case"select":i=Gn({},i,{value:void 0}),r=Gn({},r,{value:void 0}),s=[];break;case"textarea":i=gE(t,i),r=gE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uy)}vE(n,r);var a;n=null;for(m in i)if(!r.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var c=i[m];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(dg.hasOwnProperty(m)?s||(s=[]):(s=s||[]).push(m,null));for(m in r){var p=r[m];if(c=i!=null?i[m]:void 0,r.hasOwnProperty(m)&&p!==c&&(p!=null||c!=null))if(m==="style")if(c){for(a in c)!c.hasOwnProperty(a)||p&&p.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in p)p.hasOwnProperty(a)&&c[a]!==p[a]&&(n||(n={}),n[a]=p[a])}else n||(s||(s=[]),s.push(m,n)),n=p;else m==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,c=c?c.__html:void 0,p!=null&&c!==p&&(s=s||[]).push(m,p)):m==="children"?typeof p!="string"&&typeof p!="number"||(s=s||[]).push(m,""+p):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(dg.hasOwnProperty(m)?(p!=null&&m==="onScroll"&&Dn("scroll",t),s||c===p||(s=[])):(s=s||[]).push(m,p))}n&&(s=s||[]).push("style",n);var m=s;(e.updateQueue=m)&&(e.flags|=4)}};aL=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ip(t,e){if(!Bn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function v8(t,e,n){var r=e.pendingProps;switch(y2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(e),null;case 1:return Vi(e.type)&&cy(),Jr(e),null;case 3:return r=e.stateNode,Lh(),Nn(Ui),Nn(si),A2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(l0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fs!==null&&(ZE(fs),fs=null))),jE(t,e),Jr(e),null;case 5:k2(e);var i=mc(Tg.current);if(n=e.type,t!==null&&e.stateNode!=null)sL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ne(166));return Jr(e),null}if(t=mc(Zs.current),l0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[js]=e,r[Sg]=s,t=(e.mode&1)!==0,n){case"dialog":Dn("cancel",r),Dn("close",r);break;case"iframe":case"object":case"embed":Dn("load",r);break;case"video":case"audio":for(i=0;i<Bp.length;i++)Dn(Bp[i],r);break;case"source":Dn("error",r);break;case"img":case"image":case"link":Dn("error",r),Dn("load",r);break;case"details":Dn("toggle",r);break;case"input":Sk(r,s),Dn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Dn("invalid",r);break;case"textarea":Tk(r,s),Dn("invalid",r)}vE(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&a0(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&a0(r.textContent,c,t),i=["children",""+c]):dg.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Dn("scroll",r)}switch(n){case"input":Jv(r),Ck(r,s,!0);break;case"textarea":Jv(r),kk(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ND(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[js]=e,t[Sg]=r,oL(t,e,!1,!1),e.stateNode=t;e:{switch(a=yE(n,r),n){case"dialog":Dn("cancel",t),Dn("close",t),i=r;break;case"iframe":case"object":case"embed":Dn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bp.length;i++)Dn(Bp[i],t);i=r;break;case"source":Dn("error",t),i=r;break;case"img":case"image":case"link":Dn("error",t),Dn("load",t),i=r;break;case"details":Dn("toggle",t),i=r;break;case"input":Sk(t,r),i=hE(t,r),Dn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Gn({},r,{value:void 0}),Dn("invalid",t);break;case"textarea":Tk(t,r),i=gE(t,r),Dn("invalid",t);break;default:i=r}vE(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var p=c[s];s==="style"?MD(t,p):s==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&FD(t,p)):s==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&pg(t,p):typeof p=="number"&&pg(t,""+p):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dg.hasOwnProperty(s)?p!=null&&s==="onScroll"&&Dn("scroll",t):p!=null&&r2(t,s,p,a))}switch(n){case"input":Jv(t),Ck(t,r,!1);break;case"textarea":Jv(t),kk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+du(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gh(t,!!r.multiple,s,!1):r.defaultValue!=null&&gh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jr(e),null;case 6:if(t&&e.stateNode!=null)aL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ne(166));if(n=mc(Tg.current),mc(Zs.current),l0(e)){if(r=e.stateNode,n=e.memoizedProps,r[js]=e,(s=r.nodeValue!==n)&&(t=ho,t!==null))switch(t.tag){case 3:a0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&a0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[js]=e,e.stateNode=r}return Jr(e),null;case 13:if(Nn(jn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Bn&&ao!==null&&e.mode&1&&!(e.flags&128))CR(),Dh(),e.flags|=98560,s=!1;else if(s=l0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[js]=e}else Dh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jr(e),s=!1}else fs!==null&&(ZE(fs),fs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||jn.current&1?Ir===0&&(Ir=3):U2())),e.updateQueue!==null&&(e.flags|=4),Jr(e),null);case 4:return Lh(),jE(t,e),t===null&&xg(e.stateNode.containerInfo),Jr(e),null;case 10:return E2(e.type._context),Jr(e),null;case 17:return Vi(e.type)&&cy(),Jr(e),null;case 19:if(Nn(jn),s=e.memoizedState,s===null)return Jr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ip(s,!1);else{if(Ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=vy(t),a!==null){for(e.flags|=128,Ip(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Sn(jn,jn.current&1|2),e.child}t=t.sibling}s.tail!==null&&hr()>Nh&&(e.flags|=128,r=!0,Ip(s,!1),e.lanes=4194304)}else{if(!r)if(t=vy(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ip(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Bn)return Jr(e),null}else 2*hr()-s.renderingStartTime>Nh&&n!==1073741824&&(e.flags|=128,r=!0,Ip(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=hr(),e.sibling=null,n=jn.current,Sn(jn,r?n&1|2:n&1),e):(Jr(e),null);case 22:case 23:return B2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?so&1073741824&&(Jr(e),e.subtreeFlags&6&&(e.flags|=8192)):Jr(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function y8(t,e){switch(y2(e),e.tag){case 1:return Vi(e.type)&&cy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lh(),Nn(Ui),Nn(si),A2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return k2(e),null;case 13:if(Nn(jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));Dh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nn(jn),null;case 4:return Lh(),null;case 10:return E2(e.type._context),null;case 22:case 23:return B2(),null;case 24:return null;default:return null}}var f0=!1,ni=!1,_8=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function fh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nr(t,e,r)}else n.current=null}function WE(t,e,n){try{n()}catch(r){nr(t,e,r)}}var gA=!1;function w8(t,e){if(IE=sy,t=fR(),m2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,p=-1,m=0,y=0,w=t,E=null;t:for(;;){for(var C;w!==n||i!==0&&w.nodeType!==3||(c=a+i),w!==s||r!==0&&w.nodeType!==3||(p=a+r),w.nodeType===3&&(a+=w.nodeValue.length),(C=w.firstChild)!==null;)E=w,w=C;for(;;){if(w===t)break t;if(E===n&&++m===i&&(c=a),E===s&&++y===r&&(p=a),(C=w.nextSibling)!==null)break;w=E,E=w.parentNode}w=C}n=c===-1||p===-1?null:{start:c,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(bE={focusedElem:t,selectionRange:n},sy=!1,Ze=e;Ze!==null;)if(e=Ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ze=t;else for(;Ze!==null;){e=Ze;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var O=P.memoizedProps,M=P.memoizedState,R=e.stateNode,b=R.getSnapshotBeforeUpdate(e.elementType===e.type?O:us(e.type,O),M);R.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var D=e.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(B){nr(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,Ze=t;break}Ze=e.return}return P=gA,gA=!1,P}function Zp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&WE(e,n,s)}i=i.next}while(i!==r)}}function h1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lL(t){var e=t.alternate;e!==null&&(t.alternate=null,lL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[js],delete e[Sg],delete e[LE],delete e[n8],delete e[r8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uL(t){return t.tag===5||t.tag===3||t.tag===4}function mA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function GE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uy));else if(r!==4&&(t=t.child,t!==null))for(GE(t,e,n),t=t.sibling;t!==null;)GE(t,e,n),t=t.sibling}function KE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(KE(t,e,n),t=t.sibling;t!==null;)KE(t,e,n),t=t.sibling}var Hr=null,cs=!1;function Ml(t,e,n){for(n=n.child;n!==null;)cL(t,e,n),n=n.sibling}function cL(t,e,n){if(Ys&&typeof Ys.onCommitFiberUnmount=="function")try{Ys.onCommitFiberUnmount(i1,n)}catch{}switch(n.tag){case 5:ni||fh(n,e);case 6:var r=Hr,i=cs;Hr=null,Ml(t,e,n),Hr=r,cs=i,Hr!==null&&(cs?(t=Hr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Hr.removeChild(n.stateNode));break;case 18:Hr!==null&&(cs?(t=Hr,n=n.stateNode,t.nodeType===8?gx(t.parentNode,n):t.nodeType===1&&gx(t,n),yg(t)):gx(Hr,n.stateNode));break;case 4:r=Hr,i=cs,Hr=n.stateNode.containerInfo,cs=!0,Ml(t,e,n),Hr=r,cs=i;break;case 0:case 11:case 14:case 15:if(!ni&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&WE(n,e,a),i=i.next}while(i!==r)}Ml(t,e,n);break;case 1:if(!ni&&(fh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){nr(n,e,c)}Ml(t,e,n);break;case 21:Ml(t,e,n);break;case 22:n.mode&1?(ni=(r=ni)||n.memoizedState!==null,Ml(t,e,n),ni=r):Ml(t,e,n);break;default:Ml(t,e,n)}}function vA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _8),e.forEach(function(r){var i=b8.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ls(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:Hr=c.stateNode,cs=!1;break e;case 3:Hr=c.stateNode.containerInfo,cs=!0;break e;case 4:Hr=c.stateNode.containerInfo,cs=!0;break e}c=c.return}if(Hr===null)throw Error(Ne(160));cL(s,a,i),Hr=null,cs=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(m){nr(i,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fL(e,t),e=e.sibling}function fL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ls(e,t),Vs(t),r&4){try{Zp(3,t,t.return),h1(3,t)}catch(O){nr(t,t.return,O)}try{Zp(5,t,t.return)}catch(O){nr(t,t.return,O)}}break;case 1:ls(e,t),Vs(t),r&512&&n!==null&&fh(n,n.return);break;case 5:if(ls(e,t),Vs(t),r&512&&n!==null&&fh(n,n.return),t.flags&32){var i=t.stateNode;try{pg(i,"")}catch(O){nr(t,t.return,O)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,c=t.type,p=t.updateQueue;if(t.updateQueue=null,p!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&LD(i,s),yE(c,a);var m=yE(c,s);for(a=0;a<p.length;a+=2){var y=p[a],w=p[a+1];y==="style"?MD(i,w):y==="dangerouslySetInnerHTML"?FD(i,w):y==="children"?pg(i,w):r2(i,y,w,m)}switch(c){case"input":dE(i,s);break;case"textarea":PD(i,s);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?gh(i,!!s.multiple,C,!1):E!==!!s.multiple&&(s.defaultValue!=null?gh(i,!!s.multiple,s.defaultValue,!0):gh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sg]=s}catch(O){nr(t,t.return,O)}}break;case 6:if(ls(e,t),Vs(t),r&4){if(t.stateNode===null)throw Error(Ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(O){nr(t,t.return,O)}}break;case 3:if(ls(e,t),Vs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yg(e.containerInfo)}catch(O){nr(t,t.return,O)}break;case 4:ls(e,t),Vs(t);break;case 13:ls(e,t),Vs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(O2=hr())),r&4&&vA(t);break;case 22:if(y=n!==null&&n.memoizedState!==null,t.mode&1?(ni=(m=ni)||y,ls(e,t),ni=m):ls(e,t),Vs(t),r&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!y&&t.mode&1)for(Ze=t,y=t.child;y!==null;){for(w=Ze=y;Ze!==null;){switch(E=Ze,C=E.child,E.tag){case 0:case 11:case 14:case 15:Zp(4,E,E.return);break;case 1:fh(E,E.return);var P=E.stateNode;if(typeof P.componentWillUnmount=="function"){r=E,n=E.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(O){nr(r,n,O)}}break;case 5:fh(E,E.return);break;case 22:if(E.memoizedState!==null){_A(w);continue}}C!==null?(C.return=E,Ze=C):_A(w)}y=y.sibling}e:for(y=null,w=t;;){if(w.tag===5){if(y===null){y=w;try{i=w.stateNode,m?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=w.stateNode,p=w.memoizedProps.style,a=p!=null&&p.hasOwnProperty("display")?p.display:null,c.style.display=OD("display",a))}catch(O){nr(t,t.return,O)}}}else if(w.tag===6){if(y===null)try{w.stateNode.nodeValue=m?"":w.memoizedProps}catch(O){nr(t,t.return,O)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===t)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;y===w&&(y=null),w=w.return}y===w&&(y=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:ls(e,t),Vs(t),r&4&&vA(t);break;case 21:break;default:ls(e,t),Vs(t)}}function Vs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uL(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pg(i,""),r.flags&=-33);var s=mA(t);KE(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=mA(t);GE(t,c,a);break;default:throw Error(Ne(161))}}catch(p){nr(t,t.return,p)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x8(t,e,n){Ze=t,hL(t)}function hL(t,e,n){for(var r=(t.mode&1)!==0;Ze!==null;){var i=Ze,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||f0;if(!a){var c=i.alternate,p=c!==null&&c.memoizedState!==null||ni;c=f0;var m=ni;if(f0=a,(ni=p)&&!m)for(Ze=i;Ze!==null;)a=Ze,p=a.child,a.tag===22&&a.memoizedState!==null?wA(i):p!==null?(p.return=a,Ze=p):wA(i);for(;s!==null;)Ze=s,hL(s),s=s.sibling;Ze=i,f0=c,ni=m}yA(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ze=s):yA(t)}}function yA(t){for(;Ze!==null;){var e=Ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ni||h1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ni)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:us(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tA(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tA(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var p=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var w=y.dehydrated;w!==null&&yg(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}ni||e.flags&512&&qE(e)}catch(E){nr(e,e.return,E)}}if(e===t){Ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ze=n;break}Ze=e.return}}function _A(t){for(;Ze!==null;){var e=Ze;if(e===t){Ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ze=n;break}Ze=e.return}}function wA(t){for(;Ze!==null;){var e=Ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{h1(4,e)}catch(p){nr(e,n,p)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(p){nr(e,i,p)}}var s=e.return;try{qE(e)}catch(p){nr(e,s,p)}break;case 5:var a=e.return;try{qE(e)}catch(p){nr(e,a,p)}}}catch(p){nr(e,e.return,p)}if(e===t){Ze=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Ze=c;break}Ze=e.return}}var E8=Math.ceil,wy=el.ReactCurrentDispatcher,N2=el.ReactCurrentOwner,Vo=el.ReactCurrentBatchConfig,Yt=0,Or=null,wr=null,qr=0,so=0,hh=xu(0),Ir=0,bg=null,Lc=0,d1=0,F2=0,Jp=null,Oi=null,O2=0,Nh=1/0,Ma=null,xy=!1,QE=null,su=null,h0=!1,Yl=null,Ey=0,eg=0,XE=null,U0=-1,V0=0;function _i(){return Yt&6?hr():U0!==-1?U0:U0=hr()}function au(t){return t.mode&1?Yt&2&&qr!==0?qr&-qr:o8.transition!==null?(V0===0&&(V0=QD()),V0):(t=cn,t!==0||(t=window.event,t=t===void 0?16:nR(t.type)),t):1}function ds(t,e,n,r){if(50<eg)throw eg=0,XE=null,Error(Ne(185));nm(t,n,r),(!(Yt&2)||t!==Or)&&(t===Or&&(!(Yt&2)&&(d1|=n),Ir===4&&jl(t,qr)),zi(t,r),n===1&&Yt===0&&!(e.mode&1)&&(Nh=hr()+500,u1&&Eu()))}function zi(t,e){var n=t.callbackNode;oM(t,e);var r=oy(t,t===Or?qr:0);if(r===0)n!==null&&bk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bk(n),e===1)t.tag===0?i8(xA.bind(null,t)):xR(xA.bind(null,t)),e8(function(){!(Yt&6)&&Eu()}),n=null;else{switch(XD(r)){case 1:n=l2;break;case 4:n=GD;break;case 16:n=iy;break;case 536870912:n=KD;break;default:n=iy}n=wL(n,dL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dL(t,e){if(U0=-1,V0=0,Yt&6)throw Error(Ne(327));var n=t.callbackNode;if(wh()&&t.callbackNode!==n)return null;var r=oy(t,t===Or?qr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sy(t,r);else{e=r;var i=Yt;Yt|=2;var s=gL();(Or!==t||qr!==e)&&(Ma=null,Nh=hr()+500,xc(t,e));do try{T8();break}catch(c){pL(t,c)}while(!0);x2(),wy.current=s,Yt=i,wr!==null?e=0:(Or=null,qr=0,e=Ir)}if(e!==0){if(e===2&&(i=SE(t),i!==0&&(r=i,e=YE(t,i))),e===1)throw n=bg,xc(t,0),jl(t,r),zi(t,hr()),n;if(e===6)jl(t,r);else{if(i=t.current.alternate,!(r&30)&&!S8(i)&&(e=Sy(t,r),e===2&&(s=SE(t),s!==0&&(r=s,e=YE(t,s))),e===1))throw n=bg,xc(t,0),jl(t,r),zi(t,hr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ne(345));case 2:cc(t,Oi,Ma);break;case 3:if(jl(t,r),(r&130023424)===r&&(e=O2+500-hr(),10<e)){if(oy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_i(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=RE(cc.bind(null,t,Oi,Ma),e);break}cc(t,Oi,Ma);break;case 4:if(jl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-hs(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=hr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E8(r/1960))-r,10<r){t.timeoutHandle=RE(cc.bind(null,t,Oi,Ma),r);break}cc(t,Oi,Ma);break;case 5:cc(t,Oi,Ma);break;default:throw Error(Ne(329))}}}return zi(t,hr()),t.callbackNode===n?dL.bind(null,t):null}function YE(t,e){var n=Jp;return t.current.memoizedState.isDehydrated&&(xc(t,e).flags|=256),t=Sy(t,e),t!==2&&(e=Oi,Oi=n,e!==null&&ZE(e)),t}function ZE(t){Oi===null?Oi=t:Oi.push.apply(Oi,t)}function S8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jl(t,e){for(e&=~F2,e&=~d1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hs(e),r=1<<n;t[n]=-1,e&=~r}}function xA(t){if(Yt&6)throw Error(Ne(327));wh();var e=oy(t,0);if(!(e&1))return zi(t,hr()),null;var n=Sy(t,e);if(t.tag!==0&&n===2){var r=SE(t);r!==0&&(e=r,n=YE(t,r))}if(n===1)throw n=bg,xc(t,0),jl(t,e),zi(t,hr()),n;if(n===6)throw Error(Ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cc(t,Oi,Ma),zi(t,hr()),null}function M2(t,e){var n=Yt;Yt|=1;try{return t(e)}finally{Yt=n,Yt===0&&(Nh=hr()+500,u1&&Eu())}}function Pc(t){Yl!==null&&Yl.tag===0&&!(Yt&6)&&wh();var e=Yt;Yt|=1;var n=Vo.transition,r=cn;try{if(Vo.transition=null,cn=1,t)return t()}finally{cn=r,Vo.transition=n,Yt=e,!(Yt&6)&&Eu()}}function B2(){so=hh.current,Nn(hh)}function xc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JM(n)),wr!==null)for(n=wr.return;n!==null;){var r=n;switch(y2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cy();break;case 3:Lh(),Nn(Ui),Nn(si),A2();break;case 5:k2(r);break;case 4:Lh();break;case 13:Nn(jn);break;case 19:Nn(jn);break;case 10:E2(r.type._context);break;case 22:case 23:B2()}n=n.return}if(Or=t,wr=t=lu(t.current,null),qr=so=e,Ir=0,bg=null,F2=d1=Lc=0,Oi=Jp=null,gc!==null){for(e=0;e<gc.length;e++)if(n=gc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}gc=null}return t}function pL(t,e){do{var n=wr;try{if(x2(),O0.current=_y,yy){for(var r=Wn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yy=!1}if(Rc=0,Fr=Ar=Wn=null,Yp=!1,kg=0,N2.current=null,n===null||n.return===null){Ir=1,bg=e,wr=null;break}e:{var s=t,a=n.return,c=n,p=e;if(e=qr,c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var m=p,y=c,w=y.tag;if(!(y.mode&1)&&(w===0||w===11||w===15)){var E=y.alternate;E?(y.updateQueue=E.updateQueue,y.memoizedState=E.memoizedState,y.lanes=E.lanes):(y.updateQueue=null,y.memoizedState=null)}var C=lA(a);if(C!==null){C.flags&=-257,uA(C,a,c,s,e),C.mode&1&&aA(s,m,e),e=C,p=m;var P=e.updateQueue;if(P===null){var O=new Set;O.add(p),e.updateQueue=O}else P.add(p);break e}else{if(!(e&1)){aA(s,m,e),U2();break e}p=Error(Ne(426))}}else if(Bn&&c.mode&1){var M=lA(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),uA(M,a,c,s,e),_2(Ph(p,c));break e}}s=p=Ph(p,c),Ir!==4&&(Ir=2),Jp===null?Jp=[s]:Jp.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var R=YR(s,p,e);eA(s,R);break e;case 1:c=p;var b=s.type,D=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(su===null||!su.has(D)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=ZR(s,c,e);eA(s,B);break e}}s=s.return}while(s!==null)}vL(n)}catch(j){e=j,wr===n&&n!==null&&(wr=n=n.return);continue}break}while(!0)}function gL(){var t=wy.current;return wy.current=_y,t===null?_y:t}function U2(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Or===null||!(Lc&268435455)&&!(d1&268435455)||jl(Or,qr)}function Sy(t,e){var n=Yt;Yt|=2;var r=gL();(Or!==t||qr!==e)&&(Ma=null,xc(t,e));do try{C8();break}catch(i){pL(t,i)}while(!0);if(x2(),Yt=n,wy.current=r,wr!==null)throw Error(Ne(261));return Or=null,qr=0,Ir}function C8(){for(;wr!==null;)mL(wr)}function T8(){for(;wr!==null&&!X6();)mL(wr)}function mL(t){var e=_L(t.alternate,t,so);t.memoizedProps=t.pendingProps,e===null?vL(t):wr=e,N2.current=null}function vL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=y8(n,e),n!==null){n.flags&=32767,wr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ir=6,wr=null;return}}else if(n=v8(n,e,so),n!==null){wr=n;return}if(e=e.sibling,e!==null){wr=e;return}wr=e=t}while(e!==null);Ir===0&&(Ir=5)}function cc(t,e,n){var r=cn,i=Vo.transition;try{Vo.transition=null,cn=1,k8(t,e,n,r)}finally{Vo.transition=i,cn=r}return null}function k8(t,e,n,r){do wh();while(Yl!==null);if(Yt&6)throw Error(Ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(sM(t,s),t===Or&&(wr=Or=null,qr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||h0||(h0=!0,wL(iy,function(){return wh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vo.transition,Vo.transition=null;var a=cn;cn=1;var c=Yt;Yt|=4,N2.current=null,w8(t,n),fL(n,t),qM(bE),sy=!!IE,bE=IE=null,t.current=n,x8(n),Y6(),Yt=c,cn=a,Vo.transition=s}else t.current=n;if(h0&&(h0=!1,Yl=t,Ey=i),s=t.pendingLanes,s===0&&(su=null),eM(n.stateNode),zi(t,hr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xy)throw xy=!1,t=QE,QE=null,t;return Ey&1&&t.tag!==0&&wh(),s=t.pendingLanes,s&1?t===XE?eg++:(eg=0,XE=t):eg=0,Eu(),null}function wh(){if(Yl!==null){var t=XD(Ey),e=Vo.transition,n=cn;try{if(Vo.transition=null,cn=16>t?16:t,Yl===null)var r=!1;else{if(t=Yl,Yl=null,Ey=0,Yt&6)throw Error(Ne(331));var i=Yt;for(Yt|=4,Ze=t.current;Ze!==null;){var s=Ze,a=s.child;if(Ze.flags&16){var c=s.deletions;if(c!==null){for(var p=0;p<c.length;p++){var m=c[p];for(Ze=m;Ze!==null;){var y=Ze;switch(y.tag){case 0:case 11:case 15:Zp(8,y,s)}var w=y.child;if(w!==null)w.return=y,Ze=w;else for(;Ze!==null;){y=Ze;var E=y.sibling,C=y.return;if(lL(y),y===m){Ze=null;break}if(E!==null){E.return=C,Ze=E;break}Ze=C}}}var P=s.alternate;if(P!==null){var O=P.child;if(O!==null){P.child=null;do{var M=O.sibling;O.sibling=null,O=M}while(O!==null)}}Ze=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ze=a;else e:for(;Ze!==null;){if(s=Ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zp(9,s,s.return)}var R=s.sibling;if(R!==null){R.return=s.return,Ze=R;break e}Ze=s.return}}var b=t.current;for(Ze=b;Ze!==null;){a=Ze;var D=a.child;if(a.subtreeFlags&2064&&D!==null)D.return=a,Ze=D;else e:for(a=b;Ze!==null;){if(c=Ze,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:h1(9,c)}}catch(j){nr(c,c.return,j)}if(c===a){Ze=null;break e}var B=c.sibling;if(B!==null){B.return=c.return,Ze=B;break e}Ze=c.return}}if(Yt=i,Eu(),Ys&&typeof Ys.onPostCommitFiberRoot=="function")try{Ys.onPostCommitFiberRoot(i1,t)}catch{}r=!0}return r}finally{cn=n,Vo.transition=e}}return!1}function EA(t,e,n){e=Ph(n,e),e=YR(t,e,1),t=ou(t,e,1),e=_i(),t!==null&&(nm(t,1,e),zi(t,e))}function nr(t,e,n){if(t.tag===3)EA(t,t,n);else for(;e!==null;){if(e.tag===3){EA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(su===null||!su.has(r))){t=Ph(n,t),t=ZR(e,t,1),e=ou(e,t,1),t=_i(),e!==null&&(nm(e,1,t),zi(e,t));break}}e=e.return}}function A8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_i(),t.pingedLanes|=t.suspendedLanes&n,Or===t&&(qr&n)===n&&(Ir===4||Ir===3&&(qr&130023424)===qr&&500>hr()-O2?xc(t,0):F2|=n),zi(t,e)}function yL(t,e){e===0&&(t.mode&1?(e=n0,n0<<=1,!(n0&130023424)&&(n0=4194304)):e=1);var n=_i();t=Qa(t,e),t!==null&&(nm(t,e,n),zi(t,n))}function I8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yL(t,n)}function b8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(e),yL(t,n)}var _L;_L=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ui.current)Bi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bi=!1,m8(t,e,n);Bi=!!(t.flags&131072)}else Bi=!1,Bn&&e.flags&1048576&&ER(e,dy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;B0(t,e),t=e.pendingProps;var i=bh(e,si.current);_h(e,n),i=b2(null,e,r,t,i,n);var s=D2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vi(r)?(s=!0,fy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,C2(e),i.updater=c1,e.stateNode=i,i._reactInternals=e,BE(e,r,t,n),e=zE(null,e,r,!0,s,n)):(e.tag=0,Bn&&s&&v2(e),mi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(B0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=R8(r),t=us(r,t),i){case 0:e=VE(null,e,r,t,n);break e;case 1:e=hA(null,e,r,t,n);break e;case 11:e=cA(null,e,r,t,n);break e;case 14:e=fA(null,e,r,us(r.type,t),n);break e}throw Error(Ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),VE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),hA(t,e,r,i,n);case 3:e:{if(nL(e),t===null)throw Error(Ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,kR(t,e),my(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ph(Error(Ne(423)),e),e=dA(t,e,r,n,i);break e}else if(r!==i){i=Ph(Error(Ne(424)),e),e=dA(t,e,r,n,i);break e}else for(ao=iu(e.stateNode.containerInfo.firstChild),ho=e,Bn=!0,fs=null,n=DR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dh(),r===i){e=Xa(t,e,n);break e}mi(t,e,r,n)}e=e.child}return e;case 5:return RR(e),t===null&&FE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,DE(r,i)?a=null:s!==null&&DE(r,s)&&(e.flags|=32),tL(t,e),mi(t,e,a,n),e.child;case 6:return t===null&&FE(e),null;case 13:return rL(t,e,n);case 4:return T2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rh(e,null,r,n):mi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),cA(t,e,r,i,n);case 7:return mi(t,e,e.pendingProps,n),e.child;case 8:return mi(t,e,e.pendingProps.children,n),e.child;case 12:return mi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Sn(py,r._currentValue),r._currentValue=a,s!==null)if(gs(s.value,a)){if(s.children===i.children&&!Ui.current){e=Xa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var p=c.firstContext;p!==null;){if(p.context===r){if(s.tag===1){p=Wa(-1,n&-n),p.tag=2;var m=s.updateQueue;if(m!==null){m=m.shared;var y=m.pending;y===null?p.next=p:(p.next=y.next,y.next=p),m.pending=p}}s.lanes|=n,p=s.alternate,p!==null&&(p.lanes|=n),OE(s.return,n,e),c.lanes|=n;break}p=p.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ne(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),OE(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}mi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_h(e,n),i=Ho(i),r=r(i),e.flags|=1,mi(t,e,r,n),e.child;case 14:return r=e.type,i=us(r,e.pendingProps),i=us(r.type,i),fA(t,e,r,i,n);case 15:return JR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),B0(t,e),e.tag=1,Vi(r)?(t=!0,fy(e)):t=!1,_h(e,n),IR(e,r,i),BE(e,r,i,n),zE(null,e,r,!0,t,n);case 19:return iL(t,e,n);case 22:return eL(t,e,n)}throw Error(Ne(156,e.tag))};function wL(t,e){return qD(t,e)}function D8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uo(t,e,n,r){return new D8(t,e,n,r)}function V2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R8(t){if(typeof t=="function")return V2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===o2)return 11;if(t===s2)return 14}return 2}function lu(t,e){var n=t.alternate;return n===null?(n=Uo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function z0(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")V2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case nh:return Ec(n.children,i,s,e);case i2:a=8,i|=8;break;case lE:return t=Uo(12,n,e,i|2),t.elementType=lE,t.lanes=s,t;case uE:return t=Uo(13,n,e,i),t.elementType=uE,t.lanes=s,t;case cE:return t=Uo(19,n,e,i),t.elementType=cE,t.lanes=s,t;case bD:return p1(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AD:a=10;break e;case ID:a=9;break e;case o2:a=11;break e;case s2:a=14;break e;case Vl:a=16,r=null;break e}throw Error(Ne(130,t==null?t:typeof t,""))}return e=Uo(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ec(t,e,n,r){return t=Uo(7,t,r,e),t.lanes=n,t}function p1(t,e,n,r){return t=Uo(22,t,r,e),t.elementType=bD,t.lanes=n,t.stateNode={isHidden:!1},t}function Sx(t,e,n){return t=Uo(6,t,null,e),t.lanes=n,t}function Cx(t,e,n){return e=Uo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L8(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ix(0),this.expirationTimes=ix(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ix(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z2(t,e,n,r,i,s,a,c,p){return t=new L8(t,e,n,c,p),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Uo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},C2(s),t}function P8(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:th,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xL(t){if(!t)return pu;t=t._reactInternals;e:{if(qc(t)!==t||t.tag!==1)throw Error(Ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(t.tag===1){var n=t.type;if(Vi(n))return wR(t,n,e)}return e}function EL(t,e,n,r,i,s,a,c,p){return t=z2(n,r,!0,t,i,s,a,c,p),t.context=xL(null),n=t.current,r=_i(),i=au(n),s=Wa(r,i),s.callback=e??null,ou(n,s,i),t.current.lanes=i,nm(t,i,r),zi(t,r),t}function g1(t,e,n,r){var i=e.current,s=_i(),a=au(i);return n=xL(n),e.context===null?e.context=n:e.pendingContext=n,e=Wa(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ou(i,e,a),t!==null&&(ds(t,i,a,s),F0(t,i,a)),a}function Cy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function SA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function H2(t,e){SA(t,e),(t=t.alternate)&&SA(t,e)}function N8(){return null}var SL=typeof reportError=="function"?reportError:function(t){console.error(t)};function $2(t){this._internalRoot=t}m1.prototype.render=$2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ne(409));g1(t,e,null,null)};m1.prototype.unmount=$2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pc(function(){g1(null,t,null,null)}),e[Ka]=null}};function m1(t){this._internalRoot=t}m1.prototype.unstable_scheduleHydration=function(t){if(t){var e=JD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$l.length&&e!==0&&e<$l[n].priority;n++);$l.splice(n,0,t),n===0&&tR(t)}};function j2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function v1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CA(){}function F8(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var m=Cy(a);s.call(m)}}var a=EL(e,r,t,0,null,!1,!1,"",CA);return t._reactRootContainer=a,t[Ka]=a.current,xg(t.nodeType===8?t.parentNode:t),Pc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var m=Cy(p);c.call(m)}}var p=z2(t,0,!1,null,null,!1,!1,"",CA);return t._reactRootContainer=p,t[Ka]=p.current,xg(t.nodeType===8?t.parentNode:t),Pc(function(){g1(e,p,n,r)}),p}function y1(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var p=Cy(a);c.call(p)}}g1(e,a,t,i)}else a=F8(n,e,t,i,r);return Cy(a)}YD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mp(e.pendingLanes);n!==0&&(u2(e,n|1),zi(e,hr()),!(Yt&6)&&(Nh=hr()+500,Eu()))}break;case 13:Pc(function(){var r=Qa(t,1);if(r!==null){var i=_i();ds(r,t,1,i)}}),H2(t,1)}};c2=function(t){if(t.tag===13){var e=Qa(t,134217728);if(e!==null){var n=_i();ds(e,t,134217728,n)}H2(t,134217728)}};ZD=function(t){if(t.tag===13){var e=au(t),n=Qa(t,e);if(n!==null){var r=_i();ds(n,t,e,r)}H2(t,e)}};JD=function(){return cn};eR=function(t,e){var n=cn;try{return cn=t,e()}finally{cn=n}};wE=function(t,e,n){switch(e){case"input":if(dE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=l1(r);if(!i)throw Error(Ne(90));RD(r),dE(r,i)}}}break;case"textarea":PD(t,n);break;case"select":e=n.value,e!=null&&gh(t,!!n.multiple,e,!1)}};VD=M2;zD=Pc;var O8={usingClientEntryPoint:!1,Events:[im,sh,l1,BD,UD,M2]},bp={findFiberByHostInstance:pc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},M8={bundleType:bp.bundleType,version:bp.version,rendererPackageName:bp.rendererPackageName,rendererConfig:bp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:el.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jD(t),t===null?null:t.stateNode},findFiberByHostInstance:bp.findFiberByHostInstance||N8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{i1=d0.inject(M8),Ys=d0}catch{}}mo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O8;mo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j2(e))throw Error(Ne(200));return P8(t,e,null,n)};mo.createRoot=function(t,e){if(!j2(t))throw Error(Ne(299));var n=!1,r="",i=SL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=z2(t,1,!1,null,null,n,!1,r,i),t[Ka]=e.current,xg(t.nodeType===8?t.parentNode:t),new $2(e)};mo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ne(188)):(t=Object.keys(t).join(","),Error(Ne(268,t)));return t=jD(e),t=t===null?null:t.stateNode,t};mo.flushSync=function(t){return Pc(t)};mo.hydrate=function(t,e,n){if(!v1(e))throw Error(Ne(200));return y1(null,t,e,!0,n)};mo.hydrateRoot=function(t,e,n){if(!j2(t))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=SL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=EL(e,null,t,1,n??null,i,!1,s,a),t[Ka]=e.current,xg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new m1(e)};mo.render=function(t,e,n){if(!v1(e))throw Error(Ne(200));return y1(null,t,e,!1,n)};mo.unmountComponentAtNode=function(t){if(!v1(t))throw Error(Ne(40));return t._reactRootContainer?(Pc(function(){y1(null,null,t,!1,function(){t._reactRootContainer=null,t[Ka]=null})}),!0):!1};mo.unstable_batchedUpdates=M2;mo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!v1(n))throw Error(Ne(200));if(t==null||t._reactInternals===void 0)throw Error(Ne(38));return y1(t,e,n,!1,r)};mo.version="18.2.0-next-9e3b772b8-20220608";function CL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CL)}catch(t){console.error(t)}}CL(),ED.exports=mo;var B8=ED.exports,TA=B8;sE.createRoot=TA.createRoot,sE.hydrateRoot=TA.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}var Zl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zl||(Zl={}));const kA="popstate";function U8(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return JE("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ty(i)}return z8(e,n,null,t)}function qn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TL(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V8(){return Math.random().toString(36).substr(2,8)}function AA(t,e){return{usr:t.state,key:t.key,idx:e}}function JE(t,e,n,r){return n===void 0&&(n=null),Dg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qh(e):e,{state:n,key:e&&e.key||r||V8()})}function Ty(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function z8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c=Zl.Pop,p=null,m=y();m==null&&(m=0,a.replaceState(Dg({},a.state,{idx:m}),""));function y(){return(a.state||{idx:null}).idx}function w(){c=Zl.Pop;let M=y(),R=M==null?null:M-m;m=M,p&&p({action:c,location:O.location,delta:R})}function E(M,R){c=Zl.Push;let b=JE(O.location,M,R);n&&n(b,M),m=y()+1;let D=AA(b,m),B=O.createHref(b);try{a.pushState(D,"",B)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(B)}s&&p&&p({action:c,location:O.location,delta:1})}function C(M,R){c=Zl.Replace;let b=JE(O.location,M,R);n&&n(b,M),m=y();let D=AA(b,m),B=O.createHref(b);a.replaceState(D,"",B),s&&p&&p({action:c,location:O.location,delta:0})}function P(M){let R=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof M=="string"?M:Ty(M);return b=b.replace(/ $/,"%20"),qn(R,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,R)}let O={get action(){return c},get location(){return t(i,a)},listen(M){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(kA,w),p=M,()=>{i.removeEventListener(kA,w),p=null}},createHref(M){return e(i,M)},createURL:P,encodeLocation(M){let R=P(M);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:E,replace:C,go(M){return a.go(M)}};return O}var IA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(IA||(IA={}));function H8(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Qh(e):e,i=Fh(r.pathname||"/",n);if(i==null)return null;let s=kL(t);$8(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let p=e7(i);a=Z8(s[c],p)}return a}function kL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,c)=>{let p={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};p.relativePath.startsWith("/")&&(qn(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let m=uu([r,p.relativePath]),y=n.concat(p);s.children&&s.children.length>0&&(qn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),kL(s.children,e,y,m)),!(s.path==null&&!s.index)&&e.push({path:m,score:X8(m,s.index),routesMeta:y})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let p of AL(s.path))i(s,a,p)}),e}function AL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=AL(r.join("/")),c=[];return c.push(...a.map(p=>p===""?s:[s,p].join("/"))),i&&c.push(...a),c.map(p=>t.startsWith("/")&&p===""?"/":p)}function $8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const j8=/^:[\w-]+$/,W8=3,q8=2,G8=1,K8=10,Q8=-2,bA=t=>t==="*";function X8(t,e){let n=t.split("/"),r=n.length;return n.some(bA)&&(r+=Q8),e&&(r+=q8),n.filter(i=>!bA(i)).reduce((i,s)=>i+(j8.test(s)?W8:s===""?G8:K8),r)}function Y8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Z8(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let c=n[a],p=a===n.length-1,m=i==="/"?e:e.slice(i.length)||"/",y=eS({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},m);if(!y)return null;Object.assign(r,y.params);let w=c.route;s.push({params:r,pathname:uu([i,y.pathname]),pathnameBase:i7(uu([i,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(i=uu([i,y.pathnameBase]))}return s}function eS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=J8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((m,y,w)=>{let{paramName:E,isOptional:C}=y;if(E==="*"){let O=c[w]||"";a=s.slice(0,s.length-O.length).replace(/(.)\/+$/,"$1")}const P=c[w];return C&&!P?m[E]=void 0:m[E]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:a,pattern:t}}function J8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),TL(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,p)=>(r.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function e7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return TL(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function t7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qh(t):t;return{pathname:n?n.startsWith("/")?n:n7(n,e):e,search:o7(r),hash:s7(i)}}function n7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W2(t,e){let n=r7(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function q2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qh(t):(i=Dg({},t),qn(!i.pathname||!i.pathname.includes("?"),Tx("?","pathname","search",i)),qn(!i.pathname||!i.pathname.includes("#"),Tx("#","pathname","hash",i)),qn(!i.search||!i.search.includes("#"),Tx("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=n;else{let w=e.length-1;if(!r&&a.startsWith("..")){let E=a.split("/");for(;E[0]==="..";)E.shift(),w-=1;i.pathname=E.join("/")}c=w>=0?e[w]:"/"}let p=t7(i,c),m=a&&a!=="/"&&a.endsWith("/"),y=(s||a===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}const uu=t=>t.join("/").replace(/\/\/+/g,"/"),i7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,s7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function a7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IL=["post","put","patch","delete"];new Set(IL);const l7=["get",...IL];new Set(l7);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}const _1=pe.createContext(null),bL=pe.createContext(null),tl=pe.createContext(null),w1=pe.createContext(null),nl=pe.createContext({outlet:null,matches:[],isDataRoute:!1}),DL=pe.createContext(null);function u7(t,e){let{relative:n}=e===void 0?{}:e;Xh()||qn(!1);let{basename:r,navigator:i}=pe.useContext(tl),{hash:s,pathname:a,search:c}=E1(t,{relative:n}),p=a;return r!=="/"&&(p=a==="/"?r:uu([r,a])),i.createHref({pathname:p,search:c,hash:s})}function Xh(){return pe.useContext(w1)!=null}function Yh(){return Xh()||qn(!1),pe.useContext(w1).location}function RL(t){pe.useContext(tl).static||pe.useLayoutEffect(t)}function Su(){let{isDataRoute:t}=pe.useContext(nl);return t?E7():c7()}function c7(){Xh()||qn(!1);let t=pe.useContext(_1),{basename:e,future:n,navigator:r}=pe.useContext(tl),{matches:i}=pe.useContext(nl),{pathname:s}=Yh(),a=JSON.stringify(W2(i,n.v7_relativeSplatPath)),c=pe.useRef(!1);return RL(()=>{c.current=!0}),pe.useCallback(function(m,y){if(y===void 0&&(y={}),!c.current)return;if(typeof m=="number"){r.go(m);return}let w=q2(m,JSON.parse(a),s,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:uu([e,w.pathname])),(y.replace?r.replace:r.push)(w,y.state,y)},[e,r,a,s,t])}function x1(){let{matches:t}=pe.useContext(nl),e=t[t.length-1];return e?e.params:{}}function E1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=pe.useContext(tl),{matches:i}=pe.useContext(nl),{pathname:s}=Yh(),a=JSON.stringify(W2(i,r.v7_relativeSplatPath));return pe.useMemo(()=>q2(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function f7(t,e){return h7(t,e)}function h7(t,e,n,r){Xh()||qn(!1);let{navigator:i}=pe.useContext(tl),{matches:s}=pe.useContext(nl),a=s[s.length-1],c=a?a.params:{};a&&a.pathname;let p=a?a.pathnameBase:"/";a&&a.route;let m=Yh(),y;if(e){var w;let M=typeof e=="string"?Qh(e):e;p==="/"||(w=M.pathname)!=null&&w.startsWith(p)||qn(!1),y=M}else y=m;let E=y.pathname||"/",C=E;if(p!=="/"){let M=p.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(M.length).join("/")}let P=H8(t,{pathname:C}),O=v7(P&&P.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:uu([p,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:uu([p,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),s,n,r);return e&&O?pe.createElement(w1.Provider,{value:{location:Rg({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Zl.Pop}},O):O}function d7(){let t=x7(),e=a7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},e),n?pe.createElement("pre",{style:i},n):null,null)}const p7=pe.createElement(d7,null);class g7 extends pe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?pe.createElement(nl.Provider,{value:this.props.routeContext},pe.createElement(DL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m7(t){let{routeContext:e,match:n,children:r}=t,i=pe.useContext(_1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),pe.createElement(nl.Provider,{value:e},r)}function v7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let y=a.findIndex(w=>w.route.id&&(c==null?void 0:c[w.route.id]));y>=0||qn(!1),a=a.slice(0,Math.min(a.length,y+1))}let p=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<a.length;y++){let w=a[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=y),w.route.id){let{loaderData:E,errors:C}=n,P=w.route.loader&&E[w.route.id]===void 0&&(!C||C[w.route.id]===void 0);if(w.route.lazy||P){p=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((y,w,E)=>{let C,P=!1,O=null,M=null;n&&(C=c&&w.route.id?c[w.route.id]:void 0,O=w.route.errorElement||p7,p&&(m<0&&E===0?(S7("route-fallback",!1),P=!0,M=null):m===E&&(P=!0,M=w.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,E+1)),b=()=>{let D;return C?D=O:P?D=M:w.route.Component?D=pe.createElement(w.route.Component,null):w.route.element?D=w.route.element:D=y,pe.createElement(m7,{match:w,routeContext:{outlet:y,matches:R,isDataRoute:n!=null},children:D})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?pe.createElement(g7,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:b(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):b()},null)}var LL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LL||{}),ky=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ky||{});function y7(t){let e=pe.useContext(_1);return e||qn(!1),e}function _7(t){let e=pe.useContext(bL);return e||qn(!1),e}function w7(t){let e=pe.useContext(nl);return e||qn(!1),e}function PL(t){let e=w7(),n=e.matches[e.matches.length-1];return n.route.id||qn(!1),n.route.id}function x7(){var t;let e=pe.useContext(DL),n=_7(ky.UseRouteError),r=PL(ky.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function E7(){let{router:t}=y7(LL.UseNavigateStable),e=PL(ky.UseNavigateStable),n=pe.useRef(!1);return RL(()=>{n.current=!0}),pe.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rg({fromRouteId:e},s)))},[t,e])}const DA={};function S7(t,e,n){!e&&!DA[t]&&(DA[t]=!0)}function RA(t){let{to:e,replace:n,state:r,relative:i}=t;Xh()||qn(!1);let{future:s,static:a}=pe.useContext(tl),{matches:c}=pe.useContext(nl),{pathname:p}=Yh(),m=Su(),y=q2(e,W2(c,s.v7_relativeSplatPath),p,i==="path"),w=JSON.stringify(y);return pe.useEffect(()=>m(JSON.parse(w),{replace:n,state:r,relative:i}),[m,w,i,n,r]),null}function zs(t){qn(!1)}function C7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zl.Pop,navigator:s,static:a=!1,future:c}=t;Xh()&&qn(!1);let p=e.replace(/^\/*/,"/"),m=pe.useMemo(()=>({basename:p,navigator:s,static:a,future:Rg({v7_relativeSplatPath:!1},c)}),[p,c,s,a]);typeof r=="string"&&(r=Qh(r));let{pathname:y="/",search:w="",hash:E="",state:C=null,key:P="default"}=r,O=pe.useMemo(()=>{let M=Fh(y,p);return M==null?null:{location:{pathname:M,search:w,hash:E,state:C,key:P},navigationType:i}},[p,y,w,E,C,P,i]);return O==null?null:pe.createElement(tl.Provider,{value:m},pe.createElement(w1.Provider,{children:n,value:O}))}function T7(t){let{children:e,location:n}=t;return f7(tS(e),n)}new Promise(()=>{});function tS(t,e){e===void 0&&(e=[]);let n=[];return pe.Children.forEach(t,(r,i)=>{if(!pe.isValidElement(r))return;let s=[...e,i];if(r.type===pe.Fragment){n.push.apply(n,tS(r.props.children,s));return}r.type!==zs&&qn(!1),!r.props.index||!r.props.children||qn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=tS(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ay(){return Ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ay.apply(this,arguments)}function NL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function k7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A7(t,e){return t.button===0&&(!e||e==="_self")&&!k7(t)}const I7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],b7=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],D7="6";try{window.__reactRouterVersion=D7}catch{}const R7=pe.createContext({isTransitioning:!1}),L7="startTransition",LA=I6[L7];function P7(t){let{basename:e,children:n,future:r,window:i}=t,s=pe.useRef();s.current==null&&(s.current=U8({window:i,v5Compat:!0}));let a=s.current,[c,p]=pe.useState({action:a.action,location:a.location}),{v7_startTransition:m}=r||{},y=pe.useCallback(w=>{m&&LA?LA(()=>p(w)):p(w)},[p,m]);return pe.useLayoutEffect(()=>a.listen(y),[a,y]),pe.createElement(C7,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const N7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O7=pe.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:c,target:p,to:m,preventScrollReset:y,unstable_viewTransition:w}=e,E=NL(e,I7),{basename:C}=pe.useContext(tl),P,O=!1;if(typeof m=="string"&&F7.test(m)&&(P=m,N7))try{let D=new URL(window.location.href),B=m.startsWith("//")?new URL(D.protocol+m):new URL(m),j=Fh(B.pathname,C);B.origin===D.origin&&j!=null?m=j+B.search+B.hash:O=!0}catch{}let M=u7(m,{relative:i}),R=B7(m,{replace:a,state:c,target:p,preventScrollReset:y,relative:i,unstable_viewTransition:w});function b(D){r&&r(D),D.defaultPrevented||R(D)}return pe.createElement("a",Ay({},E,{href:P||M,onClick:O||s?r:b,ref:n,target:p}))}),Gs=pe.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:c,to:p,unstable_viewTransition:m,children:y}=e,w=NL(e,b7),E=E1(p,{relative:w.relative}),C=Yh(),P=pe.useContext(bL),{navigator:O,basename:M}=pe.useContext(tl),R=P!=null&&U7(E)&&m===!0,b=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,D=C.pathname,B=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(D=D.toLowerCase(),B=B?B.toLowerCase():null,b=b.toLowerCase()),B&&M&&(B=Fh(B,M)||B);const j=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let U=D===b||!a&&D.startsWith(b)&&D.charAt(j)==="/",W=B!=null&&(B===b||!a&&B.startsWith(b)&&B.charAt(b.length)==="/"),Y={isActive:U,isPending:W,isTransitioning:R},ae=U?r:void 0,_e;typeof s=="function"?_e=s(Y):_e=[s,U?"active":null,W?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ie=typeof c=="function"?c(Y):c;return pe.createElement(O7,Ay({},w,{"aria-current":ae,className:_e,ref:n,style:ie,to:p,unstable_viewTransition:m}),typeof y=="function"?y(Y):y)});var nS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nS||(nS={}));var PA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(PA||(PA={}));function M7(t){let e=pe.useContext(_1);return e||qn(!1),e}function B7(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c}=e===void 0?{}:e,p=Su(),m=Yh(),y=E1(t,{relative:a});return pe.useCallback(w=>{if(A7(w,n)){w.preventDefault();let E=r!==void 0?r:Ty(m)===Ty(y);p(t,{replace:E,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c})}},[m,p,y,r,i,n,t,s,a,c])}function U7(t,e){e===void 0&&(e={});let n=pe.useContext(R7);n==null&&qn(!1);let{basename:r}=M7(nS.useViewTransitionState),i=E1(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Fh(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Fh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return eS(i.pathname,a)!=null||eS(i.pathname,s)!=null}var NA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},V7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],c=t[n++],p=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},OL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,p=i+2<t.length,m=p?t[i+2]:0,y=s>>2,w=(s&3)<<4|c>>4;let E=(c&15)<<2|m>>6,C=m&63;p||(C=64,a||(E=64)),r.push(n[y],n[w],n[E],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const w=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||m==null||w==null)throw new z7;const E=s<<2|c>>4;if(r.push(E),m!==64){const C=c<<4&240|m>>2;if(r.push(C),w!==64){const P=m<<6&192|w;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H7=function(t){const e=FL(t);return OL.encodeByteArray(e,!0)},Iy=function(t){return H7(t).replace(/\./g,"")},ML=function(t){try{return OL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=()=>$7().__FIREBASE_DEFAULTS__,W7=()=>{if(typeof process>"u"||typeof NA>"u")return;const t=NA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ML(t[1]);return e&&JSON.parse(e)},S1=()=>{try{return j7()||W7()||q7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BL=t=>{var e,n;return(n=(e=S1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UL=t=>{const e=BL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VL=()=>{var t;return(t=S1())===null||t===void 0?void 0:t.config},zL=t=>{var e;return(e=S1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Iy(JSON.stringify(n)),Iy(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sr())}function Q7(){var t;const e=(t=S1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z7(){const t=Sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J7(){return!Q7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $L(){try{return typeof indexedDB=="object"}catch{return!1}}function eB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="FirebaseError";class la extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tB,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sm.prototype.create)}}class sm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?nB(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new la(i,c,r)}}function nB(t,e){return t.replace(rB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rB=/\{\$([^}]+)}/g;function iB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function by(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(FA(s)&&FA(a)){if(!by(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Up(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Vp(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oB(t,e){const n=new sB(t,e);return n.subscribe.bind(n)}class sB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kx),i.error===void 0&&(i.error=kx),i.complete===void 0&&(i.complete=kx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){return t&&t._delegate?t._delegate:t}class gu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new G7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cB(e))try{this.getOrInitializeService({instanceIdentifier:fc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fc){return this.instances.has(e)}getOptions(e=fc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fc){return this.component?this.component.multipleInstances?e:fc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uB(t){return t===fc?void 0:t}function cB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jt||(jt={}));const hB={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},dB=jt.INFO,pB={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},gB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class G2{constructor(e){this.name=e,this._logLevel=dB,this._logHandler=gB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const mB=(t,e)=>e.some(n=>t instanceof n);let OA,MA;function vB(){return OA||(OA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yB(){return MA||(MA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jL=new WeakMap,rS=new WeakMap,WL=new WeakMap,Ax=new WeakMap,K2=new WeakMap;function _B(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(cu(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&jL.set(n,t)}).catch(()=>{}),K2.set(e,t),e}function wB(t){if(rS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});rS.set(t,e)}let iS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xB(t){iS=t(iS)}function EB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ix(this),e,...n);return WL.set(r,e.sort?e.sort():[e]),cu(r)}:yB().includes(t)?function(...e){return t.apply(Ix(this),e),cu(jL.get(this))}:function(...e){return cu(t.apply(Ix(this),e))}}function SB(t){return typeof t=="function"?EB(t):(t instanceof IDBTransaction&&wB(t),mB(t,vB())?new Proxy(t,iS):t)}function cu(t){if(t instanceof IDBRequest)return _B(t);if(Ax.has(t))return Ax.get(t);const e=SB(t);return e!==t&&(Ax.set(t,e),K2.set(e,t)),e}const Ix=t=>K2.get(t);function CB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=cu(a);return r&&a.addEventListener("upgradeneeded",p=>{r(cu(a.result),p.oldVersion,p.newVersion,cu(a.transaction),p)}),n&&a.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),c.then(p=>{s&&p.addEventListener("close",()=>s()),i&&p.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}const TB=["get","getKey","getAll","getAllKeys","count"],kB=["put","add","delete","clear"],bx=new Map;function BA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bx.get(e))return bx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TB.includes(n)))return;const s=async function(a,...c){const p=this.transaction(a,i?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(c.shift())),(await Promise.all([m[n](...c),i&&p.done]))[0]};return bx.set(e,s),s}xB(t=>({...t,get:(e,n,r)=>BA(e,n)||t.get(e,n,r),has:(e,n)=>!!BA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oS="@firebase/app",UA="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new G2("@firebase/app"),bB="@firebase/app-compat",DB="@firebase/analytics-compat",RB="@firebase/analytics",LB="@firebase/app-check-compat",PB="@firebase/app-check",NB="@firebase/auth",FB="@firebase/auth-compat",OB="@firebase/database",MB="@firebase/database-compat",BB="@firebase/functions",UB="@firebase/functions-compat",VB="@firebase/installations",zB="@firebase/installations-compat",HB="@firebase/messaging",$B="@firebase/messaging-compat",jB="@firebase/performance",WB="@firebase/performance-compat",qB="@firebase/remote-config",GB="@firebase/remote-config-compat",KB="@firebase/storage",QB="@firebase/storage-compat",XB="@firebase/firestore",YB="@firebase/firestore-compat",ZB="firebase",JB="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="[DEFAULT]",eU={[oS]:"fire-core",[bB]:"fire-core-compat",[RB]:"fire-analytics",[DB]:"fire-analytics-compat",[PB]:"fire-app-check",[LB]:"fire-app-check-compat",[NB]:"fire-auth",[FB]:"fire-auth-compat",[OB]:"fire-rtdb",[MB]:"fire-rtdb-compat",[BB]:"fire-fn",[UB]:"fire-fn-compat",[VB]:"fire-iid",[zB]:"fire-iid-compat",[HB]:"fire-fcm",[$B]:"fire-fcm-compat",[jB]:"fire-perf",[WB]:"fire-perf-compat",[qB]:"fire-rc",[GB]:"fire-rc-compat",[KB]:"fire-gcs",[QB]:"fire-gcs-compat",[XB]:"fire-fst",[YB]:"fire-fst-compat","fire-js":"fire-js",[ZB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=new Map,aS=new Map;function tU(t,e){try{t.container.addComponent(e)}catch(n){Nc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fc(t){const e=t.name;if(aS.has(e))return Nc.debug(`There were multiple attempts to register component ${e}.`),!1;aS.set(e,t);for(const n of Dy.values())tU(n,t);return!0}function C1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fu=new sm("app","Firebase",nU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=JB;function qL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sS,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fu.create("bad-app-name",{appName:String(i)});if(n||(n=VL()),!n)throw fu.create("no-options");const s=Dy.get(i);if(s){if(by(n,s.options)&&by(r,s.config))return s;throw fu.create("duplicate-app",{appName:i})}const a=new fB(i);for(const p of aS.values())a.addComponent(p);const c=new rU(n,r,a);return Dy.set(i,c),c}function Q2(t=sS){const e=Dy.get(t);if(!e&&t===sS&&VL())return qL();if(!e)throw fu.create("no-app",{appName:t});return e}function Js(t,e,n){var r;let i=(r=eU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nc.warn(c.join(" "));return}Fc(new gu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="firebase-heartbeat-database",oU=1,Lg="firebase-heartbeat-store";let Dx=null;function GL(){return Dx||(Dx=CB(iU,oU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lg)}catch(n){console.warn(n)}}}}).catch(t=>{throw fu.create("idb-open",{originalErrorMessage:t.message})})),Dx}async function sU(t){try{const n=(await GL()).transaction(Lg),r=await n.objectStore(Lg).get(KL(t));return await n.done,r}catch(e){if(e instanceof la)Nc.warn(e.message);else{const n=fu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nc.warn(n.message)}}}async function VA(t,e){try{const r=(await GL()).transaction(Lg,"readwrite");await r.objectStore(Lg).put(e,KL(t)),await r.done}catch(n){if(n instanceof la)Nc.warn(n.message);else{const r=fu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nc.warn(r.message)}}}function KL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=1024,lU=30*24*60*60*1e3;class uU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zA();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=lU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zA(),{heartbeatsToSend:r,unsentEntries:i}=cU(this._heartbeatsCache.heartbeats),s=Iy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function zA(){return new Date().toISOString().substring(0,10)}function cU(t,e=aU){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),HA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $L()?eB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return VA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return VA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function HA(t){return Iy(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t){Fc(new gu("platform-logger",e=>new AB(e),"PRIVATE")),Fc(new gu("heartbeat",e=>new uU(e),"PRIVATE")),Js(oS,UA,t),Js(oS,UA,"esm2017"),Js("fire-js","")}hU("");var dU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ge,X2=X2||{},Et=dU||self;function T1(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function lm(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function pU(t){return Object.prototype.hasOwnProperty.call(t,Rx)&&t[Rx]||(t[Rx]=++gU)}var Rx="closure_uid_"+(1e9*Math.random()>>>0),gU=0;function mU(t,e,n){return t.call.apply(t.bind,arguments)}function vU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ii(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ii=mU:ii=vU,ii.apply(null,arguments)}function p0(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Br(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function Cu(){this.s=this.s,this.o=this.o}var yU=0;Cu.prototype.s=!1;Cu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),yU!=0)&&pU(this)};Cu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Y2(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function $A(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(T1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function oi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}oi.prototype.h=function(){this.defaultPrevented=!0};var _U=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Et.addEventListener("test",n,e),Et.removeEventListener("test",n,e)}catch{}return t}();function Pg(t){return/^[\s\xa0]*$/.test(t)}function k1(){var t=Et.navigator;return t&&(t=t.userAgent)?t:""}function Ws(t){return k1().indexOf(t)!=-1}function Z2(t){return Z2[" "](t),t}Z2[" "]=function(){};function wU(t,e){var n=hV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var xU=Ws("Opera"),Oh=Ws("Trident")||Ws("MSIE"),XL=Ws("Edge"),lS=XL||Oh,YL=Ws("Gecko")&&!(k1().toLowerCase().indexOf("webkit")!=-1&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),EU=k1().toLowerCase().indexOf("webkit")!=-1&&!Ws("Edge");function ZL(){var t=Et.document;return t?t.documentMode:void 0}var uS;e:{var Lx="",Px=function(){var t=k1();if(YL)return/rv:([^\);]+)(\)|;)/.exec(t);if(XL)return/Edge\/([\d\.]+)/.exec(t);if(Oh)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(EU)return/WebKit\/(\S+)/.exec(t);if(xU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Px&&(Lx=Px?Px[1]:""),Oh){var Nx=ZL();if(Nx!=null&&Nx>parseFloat(Lx)){uS=String(Nx);break e}}uS=Lx}var cS;if(Et.document&&Oh){var jA=ZL();cS=jA||parseInt(uS,10)||void 0}else cS=void 0;var SU=cS;function Ng(t,e){if(oi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(YL){e:{try{Z2(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:CU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ng.$.h.call(this)}}Br(Ng,oi);var CU={2:"touch",3:"pen",4:"mouse"};Ng.prototype.h=function(){Ng.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var um="closure_listenable_"+(1e6*Math.random()|0),TU=0;function kU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++TU,this.fa=this.ia=!1}function A1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function J2(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function AU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function JL(t){const e={};for(const n in t)e[n]=t[n];return e}const WA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<WA.length;s++)n=WA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function I1(t){this.src=t,this.g={},this.h=0}I1.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=hS(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new kU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function fS(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=QL(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(A1(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function hS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var eC="closure_lm_"+(1e6*Math.random()|0),Fx={};function tP(t,e,n,r,i){if(r&&r.once)return rP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)tP(t,e[s],n,r,i);return null}return n=rC(n),t&&t[um]?t.O(e,n,lm(r)?!!r.capture:!!r,i):nP(t,e,n,!1,r,i)}function nP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=lm(i)?!!i.capture:!!i,c=nC(t);if(c||(t[eC]=c=new I1(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=IU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_U||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(oP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function IU(){function t(n){return e.call(t.src,t.listener,n)}const e=bU;return t}function rP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)rP(t,e[s],n,r,i);return null}return n=rC(n),t&&t[um]?t.P(e,n,lm(r)?!!r.capture:!!r,i):nP(t,e,n,!0,r,i)}function iP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)iP(t,e[s],n,r,i);else r=lm(r)?!!r.capture:!!r,n=rC(n),t&&t[um]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=hS(s,n,r,i),-1<n&&(A1(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=nC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hS(e,n,r,i)),(n=-1<t?e[t]:null)&&tC(n))}function tC(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[um])fS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(oP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=nC(e))?(fS(n,t),n.h==0&&(n.src=null,e[eC]=null)):A1(t)}}}function oP(t){return t in Fx?Fx[t]:Fx[t]="on"+t}function bU(t,e){if(t.fa)t=!0;else{e=new Ng(e,this);var n=t.listener,r=t.la||t.src;t.ia&&tC(t),t=n.call(r,e)}return t}function nC(t){return t=t[eC],t instanceof I1?t:null}var Ox="__closure_events_fn_"+(1e9*Math.random()>>>0);function rC(t){return typeof t=="function"?t:(t[Ox]||(t[Ox]=function(e){return t.handleEvent(e)}),t[Ox])}function Mr(){Cu.call(this),this.i=new I1(this),this.S=this,this.J=null}Br(Mr,Cu);Mr.prototype[um]=!0;Mr.prototype.removeEventListener=function(t,e,n,r){iP(this,t,e,n,r)};function Gr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new oi(e,t);else if(e instanceof oi)e.target=e.target||t;else{var i=e;e=new oi(r,t),eP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=g0(a,r,!0,e)&&i}if(a=e.g=t,i=g0(a,r,!0,e)&&i,i=g0(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.g=n[s],i=g0(a,r,!1,e)&&i}Mr.prototype.N=function(){if(Mr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)A1(n[r]);delete t.g[e],t.h--}}this.J=null};Mr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Mr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function g0(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var c=a.listener,p=a.la||a.src;a.ia&&fS(t.i,a),i=c.call(p,r)!==!1&&i}}return i&&!r.defaultPrevented}var iC=Et.JSON.stringify;class DU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function RU(){var t=oC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class LU{constructor(){this.h=this.g=null}add(e,n){const r=sP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var sP=new DU(()=>new PU,t=>t.reset());class PU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function NU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function FU(t){Et.setTimeout(()=>{throw t},0)}let Fg,Og=!1,oC=new LU,aP=()=>{const t=Et.Promise.resolve(void 0);Fg=()=>{t.then(OU)}};var OU=()=>{for(var t;t=RU();){try{t.h.call(t.g)}catch(n){FU(n)}var e=sP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Og=!1};function b1(t,e){Mr.call(this),this.h=t||1,this.g=e||Et,this.j=ii(this.qb,this),this.l=Date.now()}Br(b1,Mr);Ge=b1.prototype;Ge.ga=!1;Ge.T=null;Ge.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gr(this,"tick"),this.ga&&(sC(this),this.start()))}};Ge.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ge.N=function(){b1.$.N.call(this),sC(this),delete this.g};function aC(t,e,n){if(typeof t=="function")n&&(t=ii(t,n));else if(t&&typeof t.handleEvent=="function")t=ii(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Et.setTimeout(t,e||0)}function lP(t){t.g=aC(()=>{t.g=null,t.i&&(t.i=!1,lP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class MU extends Cu{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lP(this)}N(){super.N(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mg(t){Cu.call(this),this.h=t,this.g={}}Br(Mg,Cu);var qA=[];function uP(t,e,n,r){Array.isArray(n)||(n&&(qA[0]=n.toString()),n=qA);for(var i=0;i<n.length;i++){var s=tP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function cP(t){J2(t.g,function(e,n){this.g.hasOwnProperty(n)&&tC(e)},t),t.g={}}Mg.prototype.N=function(){Mg.$.N.call(this),cP(this)};Mg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function D1(){this.g=!0}D1.prototype.Ea=function(){this.g=!1};function BU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",c=s.split("&"),p=0;p<c.length;p++){var m=c[p].split("=");if(1<m.length){var y=m[0];m=m[1];var w=y.split("_");a=2<=w.length&&w[1]=="type"?a+(y+"="+m+"&"):a+(y+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function UU(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function dh(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zU(t,n)+(r?" "+r:"")})}function VU(t,e){t.info(function(){return"TIMEOUT: "+e})}D1.prototype.info=function(){};function zU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return iC(n)}catch{return e}}var Kc={},GA=null;function R1(){return GA=GA||new Mr}Kc.Ta="serverreachability";function fP(t){oi.call(this,Kc.Ta,t)}Br(fP,oi);function Bg(t){const e=R1();Gr(e,new fP(e))}Kc.STAT_EVENT="statevent";function hP(t,e){oi.call(this,Kc.STAT_EVENT,t),this.stat=e}Br(hP,oi);function yi(t){const e=R1();Gr(e,new hP(e,t))}Kc.Ua="timingevent";function dP(t,e){oi.call(this,Kc.Ua,t),this.size=e}Br(dP,oi);function cm(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){t()},e)}var L1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lC(){}lC.prototype.h=null;function KA(t){return t.h||(t.h=t.i())}function gP(){}var fm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function uC(){oi.call(this,"d")}Br(uC,oi);function cC(){oi.call(this,"c")}Br(cC,oi);var dS;function P1(){}Br(P1,lC);P1.prototype.g=function(){return new XMLHttpRequest};P1.prototype.i=function(){return{}};dS=new P1;function hm(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Mg(this),this.P=HU,t=lS?125:void 0,this.V=new b1(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mP}function mP(){this.i=null,this.g="",this.h=!1}var HU=45e3,vP={},pS={};Ge=hm.prototype;Ge.setTimeout=function(t){this.P=t};function gS(t,e,n){t.L=1,t.A=F1(Ya(e)),t.u=n,t.S=!0,yP(t,null)}function yP(t,e){t.G=Date.now(),dm(t),t.B=Ya(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),kP(n.i,"t",r),t.o=0,n=t.l.J,t.h=new mP,t.g=GP(t.l,n?e:null,!t.u),0<t.O&&(t.M=new MU(ii(t.Pa,t,t.g),t.O)),uP(t.U,t.g,"readystatechange",t.nb),e=t.I?JL(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Bg(),BU(t.j,t.v,t.B,t.m,t.W,t.u)}Ge.nb=function(t){t=t.target;const e=this.M;e&&Ks(t)==3?e.l():this.Pa(t)};Ge.Pa=function(t){try{if(t==this.g)e:{const y=Ks(this.g);var e=this.g.Ia();const w=this.g.da();if(!(3>y)&&(y!=3||lS||this.g&&(this.h.h||this.g.ja()||ZA(this.g)))){this.J||y!=4||e==7||(e==8||0>=w?Bg(3):Bg(2)),N1(this);var n=this.g.da();this.ca=n;t:if(_P(this)){var r=ZA(this.g);t="";var i=r.length,s=Ks(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vc(this),tg(this);var a="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,UU(this.j,this.v,this.B,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,p=this.g;if((c=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pg(c)){var m=c;break t}}m=null}if(n=m)dh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mS(this,n);else{this.i=!1,this.s=3,yi(12),vc(this),tg(this);break e}}this.S?(wP(this,y,a),lS&&this.i&&y==3&&(uP(this.U,this.V,"tick",this.mb),this.V.start())):(dh(this.j,this.m,a,null),mS(this,a)),y==4&&vc(this),this.i&&!this.J&&(y==4?$P(this.l,this):(this.i=!1,dm(this)))}else uV(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,yi(12)):(this.s=0,yi(13)),vc(this),tg(this)}}}catch{}finally{}};function _P(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function wP(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=$U(t,n),i==pS){e==4&&(t.s=4,yi(14),r=!1),dh(t.j,t.m,null,"[Incomplete Response]");break}else if(i==vP){t.s=4,yi(15),dh(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else dh(t.j,t.m,i,null),mS(t,i);_P(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,yi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mC(e),e.M=!0,yi(11))):(dh(t.j,t.m,n,"[Invalid Chunked Response]"),vc(t),tg(t))}Ge.mb=function(){if(this.g){var t=Ks(this.g),e=this.g.ja();this.o<e.length&&(N1(this),wP(this,t,e),this.i&&t!=4&&dm(this))}};function $U(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?pS:(n=Number(e.substring(n,r)),isNaN(n)?vP:(r+=1,r+n>e.length?pS:(e=e.slice(r,r+n),t.o=r+n,e)))}Ge.cancel=function(){this.J=!0,vc(this)};function dm(t){t.Y=Date.now()+t.P,xP(t,t.P)}function xP(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=cm(ii(t.lb,t),e)}function N1(t){t.C&&(Et.clearTimeout(t.C),t.C=null)}Ge.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(VU(this.j,this.B),this.L!=2&&(Bg(),yi(17)),vc(this),this.s=2,tg(this)):xP(this,this.Y-t)};function tg(t){t.l.H==0||t.J||$P(t.l,t)}function vc(t){N1(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,sC(t.V),cP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function mS(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||vS(n.i,t))){if(!t.K&&vS(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Py(n),U1(n);else break e;gC(n),yi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=cm(ii(n.ib,n),6e3));if(1>=bP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else yc(n,11)}else if((t.K||n.g==t)&&Py(n),!Pg(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let m=i[e];if(n.V=m[0],m=m[1],n.H==2)if(m[0]=="c"){n.K=m[1],n.pa=m[2];const y=m[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const w=m[4];w!=null&&(n.Ga=w,n.l.info("SVER="+n.Ga));const E=m[5];E!=null&&typeof E=="number"&&0<E&&(r=1.5*E,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const C=t.g;if(C){const P=C.g?C.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=r.i;s.g||P.indexOf("spdy")==-1&&P.indexOf("quic")==-1&&P.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(fC(s,s.h),s.h=null))}if(r.F){const O=C.g?C.g.getResponseHeader("X-HTTP-Session-Id"):null;O&&(r.Da=O,Ln(r.I,r.F,O))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=qP(r,r.J?r.pa:null,r.Y),a.K){DP(r.i,a);var c=a,p=r.L;p&&c.setTimeout(p),c.C&&(N1(c),dm(c)),r.g=a}else zP(r);0<n.j.length&&V1(n)}else m[0]!="stop"&&m[0]!="close"||yc(n,7);else n.H==3&&(m[0]=="stop"||m[0]=="close"?m[0]=="stop"?yc(n,7):pC(n):m[0]!="noop"&&n.h&&n.h.Aa(m),n.A=0)}}Bg(4)}catch{}}function jU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(T1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function WU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(T1(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function EP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(T1(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=WU(t),r=jU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var SP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Sc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Sc){this.h=t.h,Ry(this,t.j),this.s=t.s,this.g=t.g,Ly(this,t.m),this.l=t.l;var e=t.i,n=new Ug;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),QA(this,n),this.o=t.o}else t&&(e=String(t).match(SP))?(this.h=!1,Ry(this,e[1]||"",!0),this.s=zp(e[2]||""),this.g=zp(e[3]||"",!0),Ly(this,e[4]),this.l=zp(e[5]||"",!0),QA(this,e[6]||"",!0),this.o=zp(e[7]||"")):(this.h=!1,this.i=new Ug(null,this.h))}Sc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Hp(e,XA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Hp(e,XA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Hp(n,n.charAt(0)=="/"?QU:KU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Hp(n,YU)),t.join("")};function Ya(t){return new Sc(t)}function Ry(t,e,n){t.j=n?zp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ly(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function QA(t,e,n){e instanceof Ug?(t.i=e,ZU(t.i,t.h)):(n||(e=Hp(e,XU)),t.i=new Ug(e,t.h))}function Ln(t,e,n){t.i.set(e,n)}function F1(t){return Ln(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hp(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,GU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function GU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var XA=/[#\/\?@]/g,KU=/[#\?:]/g,QU=/[#\?]/g,XU=/[#\?@]/g,YU=/#/g;function Ug(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Tu(t){t.g||(t.g=new Map,t.h=0,t.i&&qU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ge=Ug.prototype;Ge.add=function(t,e){Tu(this),this.i=null,t=Zh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function CP(t,e){Tu(t),e=Zh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function TP(t,e){return Tu(t),e=Zh(t,e),t.g.has(e)}Ge.forEach=function(t,e){Tu(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ge.ta=function(){Tu(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ge.Z=function(t){Tu(this);let e=[];if(typeof t=="string")TP(this,t)&&(e=e.concat(this.g.get(Zh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ge.set=function(t,e){return Tu(this),this.i=null,t=Zh(this,t),TP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ge.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function kP(t,e,n){CP(t,e),0<n.length&&(t.i=null,t.g.set(Zh(t,e),Y2(n)),t.h+=n.length)}Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};function Zh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ZU(t,e){e&&!t.j&&(Tu(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(CP(this,r),kP(this,i,n))},t)),t.j=e}var JU=class{constructor(t,e){this.g=t,this.map=e}};function AP(t){this.l=t||eV,Et.PerformanceNavigationTiming?(t=Et.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Et.g&&Et.g.Ka&&Et.g.Ka()&&Et.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eV=10;function IP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function bP(t){return t.h?1:t.g?t.g.size:0}function vS(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fC(t,e){t.g?t.g.add(e):t.h=e}function DP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}AP.prototype.cancel=function(){if(this.i=RP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function RP(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Y2(t.i)}var tV=class{stringify(t){return Et.JSON.stringify(t,void 0)}parse(t){return Et.JSON.parse(t,void 0)}};function nV(){this.g=new tV}function rV(t,e,n){const r=n||"";try{EP(t,function(i,s){let a=i;lm(i)&&(a=iC(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function iV(t,e){const n=new D1;if(Et.Image){const r=new Image;r.onload=p0(m0,n,r,"TestLoadImage: loaded",!0,e),r.onerror=p0(m0,n,r,"TestLoadImage: error",!1,e),r.onabort=p0(m0,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=p0(m0,n,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function m0(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function O1(t){this.l=t.ec||null,this.j=t.ob||!1}Br(O1,lC);O1.prototype.g=function(){return new M1(this.l,this.j)};O1.prototype.i=function(t){return function(){return t}}({});function M1(t,e){Mr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Br(M1,Mr);var hC=0;Ge=M1.prototype;Ge.open=function(t,e){if(this.readyState!=hC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Vg(this)};Ge.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pm(this)),this.readyState=hC};Ge.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vg(this)),this.g&&(this.readyState=3,Vg(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function LP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ge.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pm(this):Vg(this),this.readyState==3&&LP(this)}};Ge.Za=function(t){this.g&&(this.response=this.responseText=t,pm(this))};Ge.Ya=function(t){this.g&&(this.response=t,pm(this))};Ge.ka=function(){this.g&&pm(this)};function pm(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Vg(t)}Ge.setRequestHeader=function(t,e){this.v.append(t,e)};Ge.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ge.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Vg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(M1.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var oV=Et.JSON.parse;function rr(t){Mr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=PP,this.L=this.M=!1}Br(rr,Mr);var PP="",sV=/^https?$/i,aV=["POST","PUT"];Ge=rr.prototype;Ge.Oa=function(t){this.M=t};Ge.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dS.g(),this.C=this.u?KA(this.u):KA(dS),this.g.onreadystatechange=ii(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){YA(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Et.FormData&&t instanceof Et.FormData,!(0<=QL(aV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OP(this),0<this.B&&((this.L=lV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ii(this.ua,this)):this.A=aC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){YA(this,s)}};function lV(t){return Oh&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ge.ua=function(){typeof X2<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))};function YA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,NP(t),B1(t)}function NP(t){t.F||(t.F=!0,Gr(t,"complete"),Gr(t,"error"))}Ge.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gr(this,"complete"),Gr(this,"abort"),B1(this))};Ge.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),B1(this,!0)),rr.$.N.call(this)};Ge.La=function(){this.s||(this.G||this.v||this.l?FP(this):this.kb())};Ge.kb=function(){FP(this)};function FP(t){if(t.h&&typeof X2<"u"&&(!t.C[1]||Ks(t)!=4||t.da()!=2)){if(t.v&&Ks(t)==4)aC(t.La,0,t);else if(Gr(t,"readystatechange"),Ks(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(SP)[1]||null;!i&&Et.self&&Et.self.location&&(i=Et.self.location.protocol.slice(0,-1)),r=!sV.test(i?i.toLowerCase():"")}n=r}if(n)Gr(t,"complete"),Gr(t,"success");else{t.m=6;try{var s=2<Ks(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",NP(t)}}finally{B1(t)}}}}function B1(t,e){if(t.g){OP(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Gr(t,"ready");try{n.onreadystatechange=r}catch{}}}function OP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Et.clearTimeout(t.A),t.A=null)}Ge.isActive=function(){return!!this.g};function Ks(t){return t.g?t.g.readyState:0}Ge.da=function(){try{return 2<Ks(this)?this.g.status:-1}catch{return-1}};Ge.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ge.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),oV(e)}};function ZA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case PP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function uV(t){const e={};t=(t.g&&2<=Ks(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Pg(t[r]))continue;var n=NU(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}AU(e,function(r){return r.join(", ")})}Ge.Ia=function(){return this.m};Ge.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function MP(t){let e="";return J2(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function dC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=MP(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ln(t,e,n))}function Dp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function BP(t){this.Ga=0,this.j=[],this.l=new D1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dp("baseRetryDelayMs",5e3,t),this.hb=Dp("retryDelaySeedMs",1e4,t),this.eb=Dp("forwardChannelMaxRetries",2,t),this.xa=Dp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new AP(t&&t.concurrentRequestLimit),this.Ja=new nV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ge=BP.prototype;Ge.ra=8;Ge.H=1;function pC(t){if(UP(t),t.H==3){var e=t.W++,n=Ya(t.I);if(Ln(n,"SID",t.K),Ln(n,"RID",e),Ln(n,"TYPE","terminate"),gm(t,n),e=new hm(t,t.l,e),e.L=2,e.A=F1(Ya(n)),n=!1,Et.navigator&&Et.navigator.sendBeacon)try{n=Et.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Et.Image&&(new Image().src=e.A,n=!0),n||(e.g=GP(e.l,null),e.g.ha(e.A)),e.G=Date.now(),dm(e)}WP(t)}function U1(t){t.g&&(mC(t),t.g.cancel(),t.g=null)}function UP(t){U1(t),t.u&&(Et.clearTimeout(t.u),t.u=null),Py(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Et.clearTimeout(t.m),t.m=null)}function V1(t){if(!IP(t.i)&&!t.m){t.m=!0;var e=t.Na;Fg||aP(),Og||(Fg(),Og=!0),oC.add(e,t),t.C=0}}function cV(t,e){return bP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=cm(ii(t.Na,t,e),jP(t,t.C)),t.C++,!0)}Ge.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new hm(this,this.l,t);let s=this.s;if(this.U&&(s?(s=JL(s),eP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=VP(this,i,e),n=Ya(this.I),Ln(n,"RID",t),Ln(n,"CVER",22),this.F&&Ln(n,"X-HTTP-Session-Id",this.F),gm(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(MP(s)))+"&"+e:this.o&&dC(n,this.o,s)),fC(this.i,i),this.bb&&Ln(n,"TYPE","init"),this.P?(Ln(n,"$req",e),Ln(n,"SID","null"),i.aa=!0,gS(i,n,null)):gS(i,n,e),this.H=2}}else this.H==3&&(t?JA(this,t):this.j.length==0||IP(this.i)||JA(this))};function JA(t,e){var n;e?n=e.m:n=t.W++;const r=Ya(t.I);Ln(r,"SID",t.K),Ln(r,"RID",n),Ln(r,"AID",t.V),gm(t,r),t.o&&t.s&&dC(r,t.o,t.s),n=new hm(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=VP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fC(t.i,n),gS(n,r,e)}function gm(t,e){t.na&&J2(t.na,function(n,r){Ln(e,r,n)}),t.h&&EP({},function(n,r){Ln(e,r,n)})}function VP(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ii(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let p=0;p<n;p++){let m=i[p].g;const y=i[p].map;if(m-=s,0>m)s=Math.max(0,i[p].g-100),c=!1;else try{rV(y,a,"req"+m+"_")}catch{r&&r(y)}}if(c){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function zP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Fg||aP(),Og||(Fg(),Og=!0),oC.add(e,t),t.A=0}}function gC(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=cm(ii(t.Ma,t),jP(t,t.A)),t.A++,!0)}Ge.Ma=function(){if(this.u=null,HP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=cm(ii(this.jb,this),t)}};Ge.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yi(10),U1(this),HP(this))};function mC(t){t.B!=null&&(Et.clearTimeout(t.B),t.B=null)}function HP(t){t.g=new hm(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ya(t.wa);Ln(e,"RID","rpc"),Ln(e,"SID",t.K),Ln(e,"AID",t.V),Ln(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ln(e,"TO",t.qa),Ln(e,"TYPE","xmlhttp"),gm(t,e),t.o&&t.s&&dC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=F1(Ya(e)),n.u=null,n.S=!0,yP(n,t)}Ge.ib=function(){this.v!=null&&(this.v=null,U1(this),gC(this),yi(19))};function Py(t){t.v!=null&&(Et.clearTimeout(t.v),t.v=null)}function $P(t,e){var n=null;if(t.g==e){Py(t),mC(t),t.g=null;var r=2}else if(vS(t.i,e))n=e.F,DP(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=R1(),Gr(r,new dP(r,n)),V1(t)}else zP(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&cV(t,e)||r==2&&gC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:yc(t,5);break;case 4:yc(t,10);break;case 3:yc(t,6);break;default:yc(t,2)}}}function jP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function yc(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ii(t.pb,t);n||(n=new Sc("//www.google.com/images/cleardot.gif"),Et.location&&Et.location.protocol=="http"||Ry(n,"https"),F1(n)),iV(n.toString(),r)}else yi(2);t.H=0,t.h&&t.h.za(e),WP(t),UP(t)}Ge.pb=function(t){t?(this.l.info("Successfully pinged google.com"),yi(2)):(this.l.info("Failed to ping google.com"),yi(1))};function WP(t){if(t.H=0,t.ma=[],t.h){const e=RP(t.i);(e.length!=0||t.j.length!=0)&&($A(t.ma,e),$A(t.ma,t.j),t.i.i.length=0,Y2(t.j),t.j.length=0),t.h.ya()}}function qP(t,e,n){var r=n instanceof Sc?Ya(n):new Sc(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ly(r,r.m);else{var i=Et.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Sc(null);r&&Ry(s,r),e&&(s.g=e),i&&Ly(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ln(r,n,e),Ln(r,"VER",t.ra),gm(t,r),r}function GP(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new rr(new O1({ob:n})):new rr(t.va),e.Oa(t.J),e}Ge.isActive=function(){return!!this.h&&this.h.isActive(this)};function KP(){}Ge=KP.prototype;Ge.Ba=function(){};Ge.Aa=function(){};Ge.za=function(){};Ge.ya=function(){};Ge.isActive=function(){return!0};Ge.Va=function(){};function Ny(){if(Oh&&!(10<=Number(SU)))throw Error("Environmental error: no available transport.")}Ny.prototype.g=function(t,e){return new go(t,e)};function go(t,e){Mr.call(this),this.g=new BP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Pg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pg(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Jh(this)}Br(go,Mr);go.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;yi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=qP(t,null,t.Y),V1(t)};go.prototype.close=function(){pC(this.g)};go.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=iC(t),t=n);e.j.push(new JU(e.fb++,t)),e.H==3&&V1(e)};go.prototype.N=function(){this.g.h=null,delete this.j,pC(this.g),delete this.g,go.$.N.call(this)};function QP(t){uC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Br(QP,uC);function XP(){cC.call(this),this.status=1}Br(XP,cC);function Jh(t){this.g=t}Br(Jh,KP);Jh.prototype.Ba=function(){Gr(this.g,"a")};Jh.prototype.Aa=function(t){Gr(this.g,new QP(t))};Jh.prototype.za=function(t){Gr(this.g,new XP)};Jh.prototype.ya=function(){Gr(this.g,"b")};function fV(){this.blockSize=-1}function ms(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Br(ms,fV);ms.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Mx(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],a=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ms.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Mx(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Mx(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Mx(this,r),i=0;break}}this.h=i,this.i+=e};ms.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function fn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var hV={};function vC(t){return-128<=t&&128>t?wU(t,function(e){return new fn([e|0],0>e?-1:0)}):new fn([t|0],0>t?-1:0)}function Qs(t){if(isNaN(t)||!isFinite(t))return xh;if(0>t)return jr(Qs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=yS;return new fn(e,0)}function YP(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return jr(YP(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qs(Math.pow(e,8)),r=xh,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=Qs(Math.pow(e,s)),r=r.R(s).add(Qs(a))):(r=r.R(n),r=r.add(Qs(a)))}return r}var yS=4294967296,xh=vC(0),_S=vC(1),eI=vC(16777216);Ge=fn.prototype;Ge.ea=function(){if(Bo(this))return-jr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:yS+r)*e,e*=yS}return t};Ge.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ha(this))return"0";if(Bo(this))return"-"+jr(this).toString(t);for(var e=Qs(Math.pow(t,6)),n=this,r="";;){var i=Oy(n,e).g;n=Fy(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ha(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ge.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ha(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Bo(t){return t.h==-1}Ge.X=function(t){return t=Fy(this,t),Bo(t)?-1:Ha(t)?0:1};function jr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new fn(n,~t.h).add(_S)}Ge.abs=function(){return Bo(this)?jr(this):this};Ge.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new fn(n,n[n.length-1]&-2147483648?-1:0)};function Fy(t,e){return t.add(jr(e))}Ge.R=function(t){if(Ha(this)||Ha(t))return xh;if(Bo(this))return Bo(t)?jr(this).R(jr(t)):jr(jr(this).R(t));if(Bo(t))return jr(this.R(jr(t)));if(0>this.X(eI)&&0>t.X(eI))return Qs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=this.D(r)&65535,c=t.D(i)>>>16,p=t.D(i)&65535;n[2*r+2*i]+=a*p,v0(n,2*r+2*i),n[2*r+2*i+1]+=s*p,v0(n,2*r+2*i+1),n[2*r+2*i+1]+=a*c,v0(n,2*r+2*i+1),n[2*r+2*i+2]+=s*c,v0(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new fn(n,0)};function v0(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Rp(t,e){this.g=t,this.h=e}function Oy(t,e){if(Ha(e))throw Error("division by zero");if(Ha(t))return new Rp(xh,xh);if(Bo(t))return e=Oy(jr(t),e),new Rp(jr(e.g),jr(e.h));if(Bo(e))return e=Oy(t,jr(e)),new Rp(jr(e.g),e.h);if(30<t.g.length){if(Bo(t)||Bo(e))throw Error("slowDivide_ only works with positive integers.");for(var n=_S,r=e;0>=r.X(t);)n=tI(n),r=tI(r);var i=Gf(n,1),s=Gf(r,1);for(r=Gf(r,2),n=Gf(n,2);!Ha(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=Gf(r,1),n=Gf(n,1)}return e=Fy(t,i.R(e)),new Rp(i,e)}for(i=xh;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Qs(n),a=s.R(e);Bo(a)||0<a.X(t);)n-=r,s=Qs(n),a=s.R(e);Ha(s)&&(s=_S),i=i.add(s),t=Fy(t,a)}return new Rp(i,t)}Ge.gb=function(t){return Oy(this,t).h};Ge.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new fn(n,this.h&t.h)};Ge.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new fn(n,this.h|t.h)};Ge.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new fn(n,this.h^t.h)};function tI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new fn(n,t.h)}function Gf(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new fn(i,t.h)}Ny.prototype.createWebChannel=Ny.prototype.g;go.prototype.send=go.prototype.u;go.prototype.open=go.prototype.m;go.prototype.close=go.prototype.close;L1.NO_ERROR=0;L1.TIMEOUT=8;L1.HTTP_ERROR=6;pP.COMPLETE="complete";gP.EventType=fm;fm.OPEN="a";fm.CLOSE="b";fm.ERROR="c";fm.MESSAGE="d";Mr.prototype.listen=Mr.prototype.O;rr.prototype.listenOnce=rr.prototype.P;rr.prototype.getLastError=rr.prototype.Sa;rr.prototype.getLastErrorCode=rr.prototype.Ia;rr.prototype.getStatus=rr.prototype.da;rr.prototype.getResponseJson=rr.prototype.Wa;rr.prototype.getResponseText=rr.prototype.ja;rr.prototype.send=rr.prototype.ha;rr.prototype.setWithCredentials=rr.prototype.Oa;ms.prototype.digest=ms.prototype.l;ms.prototype.reset=ms.prototype.reset;ms.prototype.update=ms.prototype.j;fn.prototype.add=fn.prototype.add;fn.prototype.multiply=fn.prototype.R;fn.prototype.modulo=fn.prototype.gb;fn.prototype.compare=fn.prototype.X;fn.prototype.toNumber=fn.prototype.ea;fn.prototype.toString=fn.prototype.toString;fn.prototype.getBits=fn.prototype.D;fn.fromNumber=Qs;fn.fromString=YP;var dV=function(){return new Ny},pV=function(){return R1()},Bx=L1,gV=pP,mV=Kc,nI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},y0=gP,vV=rr,yV=ms,Eh=fn;const rI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new G2("@firebase/firestore");function Lp(){return Oc.logLevel}function qe(t,...e){if(Oc.logLevel<=jt.DEBUG){const n=e.map(yC);Oc.debug(`Firestore (${ed}): ${t}`,...n)}}function oa(t,...e){if(Oc.logLevel<=jt.ERROR){const n=e.map(yC);Oc.error(`Firestore (${ed}): ${t}`,...n)}}function Mh(t,...e){if(Oc.logLevel<=jt.WARN){const n=e.map(yC);Oc.warn(`Firestore (${ed}): ${t}`,...n)}}function yC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t="Unexpected state"){const e=`FIRESTORE (${ed}) INTERNAL ASSERTION FAILED: `+t;throw oa(e),new Error(e)}function Tn(t,e){t||wt()}function kt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends la{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ti.UNAUTHENTICATED))}shutdown(){}}class wV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xV{constructor(e){this.t=e,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let s=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ea,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const p=s;e.enqueueRetryable(async()=>{await p.promise,await i(this.currentUser)})},c=p=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(p=>c(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?c(p):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ea)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tn(typeof r.accessToken=="string"),new ZP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tn(e===null||typeof e=="string"),new ti(e)}}class EV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ti.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class SV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new EV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,qe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tn(typeof n.token=="string"),this.R=n.token,new CV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function nn(t,e){return t<e?-1:t>e?1:0}function Bh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Er.fromMillis(Date.now())}static fromDate(e){return Er.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Er(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Er(0,0))}static max(){return new Ct(new Er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r){n===void 0?n=0:n>e.length&&wt(),r===void 0?r=e.length-n:r>e.length-n&&wt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zg.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zg?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pn extends zg{construct(e,n,r){return new Pn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pn(n)}static emptyPath(){return new Pn([])}}const AV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends zg{construct(e,n,r){return new Wr(e,n,r)}static isValidIdentifier(e){return AV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Qe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Qe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new Qe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wr(n)}static emptyPath(){return new Wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.path=e}static fromPath(e){return new lt(Pn.fromString(e))}static fromName(e){return new lt(Pn.fromString(e).popFirst(5))}static empty(){return new lt(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new Pn(e.slice()))}}function IV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ct.fromTimestamp(r===1e9?new Er(n+1,0):new Er(n,r));return new mu(i,lt.empty(),e)}function bV(t){return new mu(t.readTime,t.key,-1)}class mu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mu(Ct.min(),lt.empty(),-1)}static max(){return new mu(Ct.max(),lt.empty(),-1)}}function DV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=lt.comparator(t.documentKey,e.documentKey),n!==0?n:nn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==RV)throw t;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ie?n:Ie.resolve(n)}catch(n){return Ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.reject(n)}static resolve(e){return new Ie((n,r)=>{n(e)})}static reject(e){return new Ie((n,r)=>{r(e)})}static waitFor(e){return new Ie((n,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&n()},p=>r(p))}),a=!0,s===i&&n()})}static or(e){let n=Ie.resolve(!1);for(const r of e)n=n.next(i=>i?Ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ie((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let p=0;p<s;p++){const m=p;n(e[m]).next(y=>{a[m]=y,++c,c===s&&r(a)},y=>i(y))}})}static doWhile(e,n){return new Ie((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ea,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ng(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=wC(r.target.error);this.V.reject(new ng(e,i))}}static open(e,n,r,i){try{return new _C(n,e.transaction(i,r))}catch(s){throw new ng(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new NV(n)}}class _c{constructor(e,n,r){this.name=e,this.version=n,this.p=r,_c.S(Sr())===12.2&&oa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qe("SimpleDb","Removing database:",e),hc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!$L())return!1;if(_c.C())return!0;const e=Sr(),n=_c.S(e),r=0<n&&n<10,i=_c.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(qe("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new ng(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new Qe(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Qe(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new ng(e,a))},i.onupgradeneeded=s=>{qe("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.N(a,i.transaction,s.oldVersion,this.version).next(()=>{qe("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const c=_C.open(this.db,e,s?"readonly":"readwrite",r),p=i(c).next(m=>(c.g(),m)).catch(m=>(c.abort(m),Ie.reject(m))).toPromise();return p.catch(()=>{}),await c.m,p}catch(c){const p=c,m=p.name!=="FirebaseError"&&a<3;if(qe("SimpleDb","Transaction failed with error:",p.message,"Retrying:",m),this.close(),!m)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}class PV{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return hc(this.k.delete())}}class ng extends Qe{constructor(e,n){super(Te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function vm(t){return t.name==="IndexedDbTransactionError"}class NV{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(qe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hc(r)}add(e){return qe("SimpleDb","ADD",this.store.name,e,e),hc(this.store.add(e))}get(e){return hc(this.store.get(e)).next(n=>(n===void 0&&(n=null),qe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return qe("SimpleDb","DELETE",this.store.name,e),hc(this.store.delete(e))}count(){return qe("SimpleDb","COUNT",this.store.name),hc(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Ie((a,c)=>{s.onerror=p=>{c(p.target.error)},s.onsuccess=p=>{a(p.target.result)}})}{const s=this.cursor(r),a=[];return this.G(s,(c,p)=>{a.push(p)}).next(()=>a)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Ie((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}H(e,n){qe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,a,c)=>c.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new Ie((r,i)=>{n.onerror=s=>{const a=wC(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(c=>{c?a.continue():r()}):r()}})}G(e,n){const r=[];return new Ie((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void i();const p=new PV(c),m=n(c.primaryKey,c.value,p);if(m instanceof Ie){const y=m.catch(w=>(p.done(),Ie.reject(w)));r.push(y)}p.isDone?i():p.$===null?c.continue():c.continue(p.$)}}).next(()=>Ie.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function hc(t){return new Ie((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=wC(r.target.error);n(i)}})}let iI=!1;function wC(t){const e=_c.S(Sr());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iI||(iI=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}xC._e=-1;function z1(t){return t==null}function My(t){return t===0&&1/t==-1/0}function FV(t){return typeof t=="number"&&Number.isInteger(t)&&!My(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function e3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){this.comparator=e,this.root=n||$r.EMPTY}insert(e,n){return new Qn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new Qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _0(this.root,e,this.comparator,!1)}getReverseIterator(){return new _0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _0(this.root,e,this.comparator,!0)}}class _0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $r{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??$r.RED,this.left=i??$r.EMPTY,this.right=s??$r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new $r(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1;$r.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new $r(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.comparator=e,this.data=new Qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sI(this.data.getIterator())}getIteratorFrom(e){return new sI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kr(this.comparator);return n.data=e,n}}class sI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.fields=e,e.sort(Wr.comparator)}static empty(){return new lo([])}unionWith(e){let n=new Kr(Wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new t3("Invalid base64 string: "+s):s}}(e);return new ai(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new ai(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const OV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vu(t){if(Tn(!!t),typeof t=="string"){let e=0;const n=OV.exec(t);if(Tn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_r(t.seconds),nanos:_r(t.nanos)}}function _r(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mc(t){return typeof t=="string"?ai.fromBase64String(t):ai.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function SC(t){const e=t.mapValue.fields.__previous_value__;return EC(e)?SC(e):e}function Hg(t){const e=vu(t.mapValue.fields.__local_write_time__.timestampValue);return new Er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,r,i,s,a,c,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=p,this.useFetchStreams=m}}class $g{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $g("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $g&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?EC(t)?4:BV(t)?9007199254740991:10:wt()}function sa(t,e){if(t===e)return!0;const n=Bc(t);if(n!==Bc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hg(t).isEqual(Hg(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=vu(i.timestampValue),c=vu(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Mc(i.bytesValue).isEqual(Mc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _r(i.geoPointValue.latitude)===_r(s.geoPointValue.latitude)&&_r(i.geoPointValue.longitude)===_r(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _r(i.integerValue)===_r(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=_r(i.doubleValue),c=_r(s.doubleValue);return a===c?My(a)===My(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Bh(t.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:return function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(oI(a)!==oI(c))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(c[p]===void 0||!sa(a[p],c[p])))return!1;return!0}(t,e);default:return wt()}}function jg(t,e){return(t.values||[]).find(n=>sa(n,e))!==void 0}function Uh(t,e){if(t===e)return 0;const n=Bc(t),r=Bc(e);if(n!==r)return nn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nn(t.booleanValue,e.booleanValue);case 2:return function(s,a){const c=_r(s.integerValue||s.doubleValue),p=_r(a.integerValue||a.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(t,e);case 3:return aI(t.timestampValue,e.timestampValue);case 4:return aI(Hg(t),Hg(e));case 5:return nn(t.stringValue,e.stringValue);case 6:return function(s,a){const c=Mc(s),p=Mc(a);return c.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),p=a.split("/");for(let m=0;m<c.length&&m<p.length;m++){const y=nn(c[m],p[m]);if(y!==0)return y}return nn(c.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const c=nn(_r(s.latitude),_r(a.latitude));return c!==0?c:nn(_r(s.longitude),_r(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const c=s.values||[],p=a.values||[];for(let m=0;m<c.length&&m<p.length;++m){const y=Uh(c[m],p[m]);if(y)return y}return nn(c.length,p.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===w0.mapValue&&a===w0.mapValue)return 0;if(s===w0.mapValue)return 1;if(a===w0.mapValue)return-1;const c=s.fields||{},p=Object.keys(c),m=a.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const E=nn(p[w],y[w]);if(E!==0)return E;const C=Uh(c[p[w]],m[y[w]]);if(C!==0)return C}return nn(p.length,y.length)}(t.mapValue,e.mapValue);default:throw wt()}}function aI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nn(t,e);const n=vu(t),r=vu(e),i=nn(n.seconds,r.seconds);return i!==0?i:nn(n.nanos,r.nanos)}function Vh(t){return wS(t)}function wS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return lt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=wS(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${wS(n.fields[a])}`;return i+"}"}(t.mapValue):wt()}function lI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xS(t){return!!t&&"integerValue"in t}function CC(t){return!!t&&"arrayValue"in t}function uI(t){return!!t&&"nullValue"in t}function cI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function H0(t){return!!t&&"mapValue"in t}function rg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.value=e}static empty(){return new Mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!H0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rg(n)}setAll(e){let n=Wr.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const p=this.getFieldsMap(n);this.applyChanges(p,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=rg(a):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());H0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];H0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Mi(rg(this.value))}}function n3(t){const e=[];return Qc(t.fields,(n,r)=>{const i=new Wr([n]);if(H0(r)){const s=n3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new lo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r,i,s,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new ri(e,0,Ct.min(),Ct.min(),Ct.min(),Mi.empty(),0)}static newFoundDocument(e,n,r,i){return new ri(e,1,n,Ct.min(),r,i,0)}static newNoDocument(e,n){return new ri(e,2,n,Ct.min(),Ct.min(),Mi.empty(),0)}static newUnknownDocument(e,n){return new ri(e,3,n,Ct.min(),Ct.min(),Mi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ri&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.position=e,this.inclusive=n}}function fI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=lt.comparator(lt.fromName(a.referenceValue),n.key):r=Uh(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function hI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n="asc"){this.field=e,this.dir=n}}function UV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{}class xr extends r3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zV(e,n,r):n==="array-contains"?new jV(e,r):n==="in"?new WV(e,r):n==="not-in"?new qV(e,r):n==="array-contains-any"?new GV(e,r):new xr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HV(e,r):new $V(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Uh(n,this.value)):n!==null&&Bc(this.value)===Bc(n)&&this.matchesComparison(Uh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends r3{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new vs(e,n)}matches(e){return i3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function i3(t){return t.op==="and"}function o3(t){return VV(t)&&i3(t)}function VV(t){for(const e of t.filters)if(e instanceof vs)return!1;return!0}function ES(t){if(t instanceof xr)return t.field.canonicalString()+t.op.toString()+Vh(t.value);if(o3(t))return t.filters.map(e=>ES(e)).join(",");{const e=t.filters.map(n=>ES(n)).join(",");return`${t.op}(${e})`}}function s3(t,e){return t instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.field.isEqual(i.field)&&sa(r.value,i.value)}(t,e):t instanceof vs?function(r,i){return i instanceof vs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,c)=>s&&s3(a,i.filters[c]),!0):!1}(t,e):void wt()}function a3(t){return t instanceof xr?function(n){return`${n.field.canonicalString()} ${n.op} ${Vh(n.value)}`}(t):t instanceof vs?function(n){return n.op.toString()+" {"+n.getFilters().map(a3).join(" ,")+"}"}(t):"Filter"}class zV extends xr{constructor(e,n,r){super(e,n,r),this.key=lt.fromName(r.referenceValue)}matches(e){const n=lt.comparator(e.key,this.key);return this.matchesComparison(n)}}class HV extends xr{constructor(e,n){super(e,"in",n),this.keys=l3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $V extends xr{constructor(e,n){super(e,"not-in",n),this.keys=l3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function l3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>lt.fromName(r.referenceValue))}class jV extends xr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return CC(n)&&jg(n.arrayValue,this.value)}}class WV extends xr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jg(this.value.arrayValue,n)}}class qV extends xr{constructor(e,n){super(e,"not-in",n)}matches(e){if(jg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jg(this.value.arrayValue,n)}}class GV extends xr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!CC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ce=null}}function dI(t,e=null,n=[],r=[],i=null,s=null,a=null){return new KV(t,e,n,r,i,s,a)}function TC(t){const e=kt(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ES(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),z1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vh(r)).join(",")),e.ce=n}return e.ce}function kC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!s3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hI(t.startAt,e.startAt)&&hI(t.endAt,e.endAt)}function SS(t){return lt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n=null,r=[],i=[],s=null,a="F",c=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=p,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function QV(t,e,n,r,i,s,a,c){return new td(t,e,n,r,i,s,a,c)}function H1(t){return new td(t)}function pI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function u3(t){return t.collectionGroup!==null}function ig(t){const e=kt(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Kr(Wr.comparator);return a.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(c=c.add(m.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Wg(s,r))}),n.has(Wr.keyField().canonicalString())||e.le.push(new Wg(Wr.keyField(),r))}return e.le}function ta(t){const e=kt(t);return e.he||(e.he=XV(e,ig(t))),e.he}function XV(t,e){if(t.limitType==="F")return dI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wg(i.field,s)});const n=t.endAt?new By(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new By(t.startAt.position,t.startAt.inclusive):null;return dI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function CS(t,e){const n=t.filters.concat([e]);return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Uy(t,e,n){return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $1(t,e){return kC(ta(t),ta(e))&&t.limitType===e.limitType}function c3(t){return`${TC(ta(t))}|lt:${t.limitType}`}function Yf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>a3(i)).join(", ")}]`),z1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vh(i)).join(",")),`Target(${r})`}(ta(t))}; limitType=${t.limitType})`}function j1(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):lt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ig(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,p){const m=fI(a,c,p);return a.inclusive?m<=0:m<0}(r.startAt,ig(r),i)||r.endAt&&!function(a,c,p){const m=fI(a,c,p);return a.inclusive?m>=0:m>0}(r.endAt,ig(r),i))}(t,e)}function YV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function f3(t){return(e,n)=>{let r=!1;for(const i of ig(t)){const s=ZV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ZV(t,e,n){const r=t.field.isKeyField()?lt.comparator(e.key,n.key):function(s,a,c){const p=a.data.field(s),m=c.data.field(s);return p!==null&&m!==null?Uh(p,m):wt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return e3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new Qn(lt.comparator);function Za(){return JV}const h3=new Qn(lt.comparator);function $p(...t){let e=h3;for(const n of t)e=e.insert(n.key,n);return e}function d3(t){let e=h3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wc(){return og()}function p3(){return og()}function og(){return new nd(t=>t.toString(),(t,e)=>t.isEqual(e))}const ez=new Qn(lt.comparator),tz=new Kr(lt.comparator);function Ot(...t){let e=tz;for(const n of t)e=e.add(n);return e}const nz=new Kr(nn);function rz(){return nz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:My(e)?"-0":e}}function m3(t){return{integerValue:""+t}}function iz(t,e){return FV(e)?m3(e):g3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this._=void 0}}function oz(t,e,n){return t instanceof qg?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&EC(s)&&(s=SC(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Gg?y3(t,e):t instanceof Kg?_3(t,e):function(i,s){const a=v3(i,s),c=gI(a)+gI(i.Ie);return xS(a)&&xS(i.Ie)?m3(c):g3(i.serializer,c)}(t,e)}function sz(t,e,n){return t instanceof Gg?y3(t,e):t instanceof Kg?_3(t,e):n}function v3(t,e){return t instanceof Vy?function(r){return xS(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qg extends W1{}class Gg extends W1{constructor(e){super(),this.elements=e}}function y3(t,e){const n=w3(e);for(const r of t.elements)n.some(i=>sa(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kg extends W1{constructor(e){super(),this.elements=e}}function _3(t,e){let n=w3(e);for(const r of t.elements)n=n.filter(i=>!sa(i,r));return{arrayValue:{values:n}}}class Vy extends W1{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function gI(t){return _r(t.integerValue||t.doubleValue)}function w3(t){return CC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n){this.field=e,this.transform=n}}function lz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gg&&i instanceof Gg||r instanceof Kg&&i instanceof Kg?Bh(r.elements,i.elements,sa):r instanceof Vy&&i instanceof Vy?sa(r.Ie,i.Ie):r instanceof qg&&i instanceof qg}(t.transform,e.transform)}class uz{constructor(e,n){this.version=e,this.transformResults=n}}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class q1{}function x3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new AC(t.key,ps.none()):new ym(t.key,t.data,ps.none());{const n=t.data,r=Mi.empty();let i=new Kr(Wr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ku(t.key,r,new lo(i.toArray()),ps.none())}}function cz(t,e,n){t instanceof ym?function(i,s,a){const c=i.value.clone(),p=vI(i.fieldTransforms,s,a.transformResults);c.setAll(p),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ku?function(i,s,a){if(!$0(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=vI(i.fieldTransforms,s,a.transformResults),p=s.data;p.setAll(E3(i)),p.setAll(c),s.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function sg(t,e,n,r){return t instanceof ym?function(s,a,c,p){if(!$0(s.precondition,a))return c;const m=s.value.clone(),y=yI(s.fieldTransforms,p,a);return m.setAll(y),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof ku?function(s,a,c,p){if(!$0(s.precondition,a))return c;const m=yI(s.fieldTransforms,p,a),y=a.data;return y.setAll(E3(s)),y.setAll(m),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(w=>w.field))}(t,e,n,r):function(s,a,c){return $0(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function fz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=v3(r.transform,i||null);s!=null&&(n===null&&(n=Mi.empty()),n.set(r.field,s))}return n||null}function mI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bh(r,i,(s,a)=>lz(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ym extends q1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ku extends q1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function E3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vI(t,e,n){const r=new Map;Tn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,sz(a,c,n[i]))}return r}function yI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,oz(s,a,e))}return r}class AC extends q1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hz extends q1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cz(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=p3();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(i.key)?null:c;const p=x3(a,c);p!==null&&r.set(i.key,p),a.isValidDocument()||a.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ot())}isEqual(e){return this.batchId===e.batchId&&Bh(this.mutations,e.mutations,(n,r)=>mI(n,r))&&Bh(this.baseMutations,e.baseMutations,(n,r)=>mI(n,r))}}class IC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Tn(e.mutations.length===r.length);let i=function(){return ez}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new IC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr,Gt;function mz(t){switch(t){default:return wt();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function S3(t){if(t===void 0)return oa("GRPC error has no .code"),Te.UNKNOWN;switch(t){case vr.OK:return Te.OK;case vr.CANCELLED:return Te.CANCELLED;case vr.UNKNOWN:return Te.UNKNOWN;case vr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case vr.INTERNAL:return Te.INTERNAL;case vr.UNAVAILABLE:return Te.UNAVAILABLE;case vr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case vr.NOT_FOUND:return Te.NOT_FOUND;case vr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case vr.ABORTED:return Te.ABORTED;case vr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case vr.DATA_LOSS:return Te.DATA_LOSS;default:return wt()}}(Gt=vr||(vr={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=new Eh([4294967295,4294967295],0);function _I(t){const e=vz().encode(t),n=new yV;return n.update(e),new Uint8Array(n.digest())}function wI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Eh([n,r],0),new Eh([i,s],0)]}class bC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jp(`Invalid padding: ${n}`);if(r<0)throw new jp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jp(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Eh.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Eh.fromNumber(r)));return i.compare(yz)===1&&(i=new Eh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=_I(e),[r,i]=wI(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);if(!this.Ae(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new bC(s,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Te===0)return;const n=_I(e),[r,i]=wI(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);this.Re(a)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_m.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new G1(Ct.min(),i,new Qn(nn),Za(),Ot())}}class _m{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _m(r,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class C3{constructor(e,n){this.targetId=e,this.fe=n}}class T3{constructor(e,n,r=ai.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xI{constructor(){this.ge=0,this.pe=SI(),this.ye=ai.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ot(),n=Ot(),r=Ot();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:wt()}}),new _m(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=SI()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Tn(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class _z{constructor(e){this.Be=e,this.ke=new Map,this.qe=Za(),this.Qe=EI(),this.Ke=new Qn(nn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:wt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(SS(s))if(r===0){const a=new lt(s.path);this.We(n,a,ri.newNoDocument(a,Ct.min()))}else Tn(r===1);else{const a=this.Ze(n);if(a!==r){const c=this.Xe(e),p=c?this.et(c,e,a):1;if(p!==0){this.He(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,m)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,c;try{a=Mc(r).toUint8Array()}catch(p){if(p instanceof t3)return Mh("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{c=new bC(a,i,s)}catch(p){return Mh(p instanceof jp?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return c.Te===0?null:c}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Be.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,a)=>{const c=this.Ye(a);if(c){if(s.current&&SS(c.target)){const p=new lt(c.target.path);this.qe.get(p)!==null||this.st(a,p)||this.We(a,p,ri.newNoDocument(p,e))}s.De&&(n.set(a,s.ve()),s.Fe())}});let r=Ot();this.Qe.forEach((s,a)=>{let c=!0;a.forEachWhile(p=>{const m=this.Ye(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.qe.forEach((s,a)=>a.setReadTime(e));const i=new G1(e,n,this.Ke,this.qe,r);return this.qe=Za(),this.Qe=EI(),this.Ke=new Qn(nn),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new xI,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Kr(nn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||qe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new xI),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function EI(){return new Qn(lt.comparator)}function SI(){return new Qn(lt.comparator)}const wz={asc:"ASCENDING",desc:"DESCENDING"},xz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ez={and:"AND",or:"OR"};class Sz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function TS(t,e){return t.useProto3Json||z1(e)?e:{value:e}}function zy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Cz(t,e){return zy(t,e.toTimestamp())}function na(t){return Tn(!!t),Ct.fromTimestamp(function(n){const r=vu(n);return new Er(r.seconds,r.nanos)}(t))}function DC(t,e){return kS(t,e).canonicalString()}function kS(t,e){const n=function(i){return new Pn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function A3(t){const e=Pn.fromString(t);return Tn(L3(e)),e}function AS(t,e){return DC(t.databaseId,e.path)}function Ux(t,e){const n=A3(e);if(n.get(1)!==t.databaseId.projectId)throw new Qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new lt(b3(n))}function I3(t,e){return DC(t.databaseId,e)}function Tz(t){const e=A3(t);return e.length===4?Pn.emptyPath():b3(e)}function IS(t){return new Pn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b3(t){return Tn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CI(t,e,n){return{name:AS(t,e),fields:n.value.mapValue.fields}}function kz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:wt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(m,y){return m.useProto3Json?(Tn(y===void 0||typeof y=="string"),ai.fromBase64String(y||"")):(Tn(y===void 0||y instanceof Uint8Array),ai.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(m){const y=m.code===void 0?Te.UNKNOWN:S3(m.code);return new Qe(y,m.message||"")}(a);n=new T3(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ux(t,r.document.name),s=na(r.document.updateTime),a=r.document.createTime?na(r.document.createTime):Ct.min(),c=new Mi({mapValue:{fields:r.document.fields}}),p=ri.newFoundDocument(i,s,a,c),m=r.targetIds||[],y=r.removedTargetIds||[];n=new j0(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ux(t,r.document),s=r.readTime?na(r.readTime):Ct.min(),a=ri.newNoDocument(i,s),c=r.removedTargetIds||[];n=new j0([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ux(t,r.document),s=r.removedTargetIds||[];n=new j0([],s,i,null)}else{if(!("filter"in e))return wt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new gz(i,s),c=r.targetId;n=new C3(c,a)}}return n}function Az(t,e){let n;if(e instanceof ym)n={update:CI(t,e.key,e.value)};else if(e instanceof AC)n={delete:AS(t,e.key)};else if(e instanceof ku)n={update:CI(t,e.key,e.data),updateMask:Oz(e.fieldMask)};else{if(!(e instanceof hz))return wt();n={verify:AS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const c=a.transform;if(c instanceof qg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Kg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Vy)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw wt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Cz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:wt()}(t,e.precondition)),n}function Iz(t,e){return t&&t.length>0?(Tn(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?na(i.updateTime):na(s);return a.isEqual(Ct.min())&&(a=na(s)),new uz(a,i.transformResults||[])}(n,e))):[]}function bz(t,e){return{documents:[I3(t,e.path)]}}function Dz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=I3(t,i);const s=function(m){if(m.length!==0)return R3(vs.create(m,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(m){if(m.length!==0)return m.map(y=>function(E){return{field:Zf(E.field),direction:Pz(E.dir)}}(y))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=TS(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ut:n,parent:i}}function Rz(t){let e=Tz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tn(r===1);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let s=[];n.where&&(s=function(w){const E=D3(w);return E instanceof vs&&o3(E)?E.getFilters():[E]}(n.where));let a=[];n.orderBy&&(a=function(w){return w.map(E=>function(P){return new Wg(Jf(P.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(n.orderBy));let c=null;n.limit&&(c=function(w){let E;return E=typeof w=="object"?w.value:w,z1(E)?null:E}(n.limit));let p=null;n.startAt&&(p=function(w){const E=!!w.before,C=w.values||[];return new By(C,E)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const E=!w.before,C=w.values||[];return new By(C,E)}(n.endAt)),QV(e,i,a,s,c,"F",p,m)}function Lz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jf(n.unaryFilter.field);return xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jf(n.unaryFilter.field);return xr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jf(n.unaryFilter.field);return xr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Jf(n.unaryFilter.field);return xr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(t):t.fieldFilter!==void 0?function(n){return xr.create(Jf(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vs.create(n.compositeFilter.filters.map(r=>D3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(t):wt()}function Pz(t){return wz[t]}function Nz(t){return xz[t]}function Fz(t){return Ez[t]}function Zf(t){return{fieldPath:t.canonicalString()}}function Jf(t){return Wr.fromServerFormat(t.fieldPath)}function R3(t){return t instanceof xr?function(n){if(n.op==="=="){if(cI(n.value))return{unaryFilter:{field:Zf(n.field),op:"IS_NAN"}};if(uI(n.value))return{unaryFilter:{field:Zf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cI(n.value))return{unaryFilter:{field:Zf(n.field),op:"IS_NOT_NAN"}};if(uI(n.value))return{unaryFilter:{field:Zf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zf(n.field),op:Nz(n.op),value:n.value}}}(t):t instanceof vs?function(n){const r=n.getFilters().map(i=>R3(i));return r.length===1?r[0]:{compositeFilter:{op:Fz(n.op),filters:r}}}(t):wt()}function Oz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function L3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r,i,s=Ct.min(),a=Ct.min(),c=ai.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=p}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.ct=e}}function Bz(t){const e=Rz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this._n=new Vz}addToCollectionParentIndex(e,n){return this._n.add(n),Ie.resolve()}getCollectionParents(e,n){return Ie.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Ie.resolve()}deleteFieldIndex(e,n){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,n){return Ie.resolve()}getDocumentsMatchingTarget(e,n){return Ie.resolve(null)}getIndexType(e,n){return Ie.resolve(0)}getFieldIndexes(e,n){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,n){return Ie.resolve(mu.min())}getMinOffsetFromCollectionGroup(e,n){return Ie.resolve(mu.min())}updateCollectionGroup(e,n,r){return Ie.resolve()}updateIndexEntries(e,n){return Ie.resolve()}}class Vz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kr(Pn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kr(Pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new zh(0)}static Ln(){return new zh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this.changes=new nd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ri.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sg(r.mutation,i,lo.empty(),Er.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ot()){const i=wc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=$p();return s.forEach((c,p)=>{a=a.insert(c,p.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=wc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let s=Za();const a=og(),c=function(){return og()}();return n.forEach((p,m)=>{const y=r.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof ku)?s=s.insert(m.key,m):y!==void 0?(a.set(m.key,y.mutation.getFieldMask()),sg(y.mutation,m,y.mutation.getFieldMask(),Er.now())):a.set(m.key,lo.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((m,y)=>a.set(m,y)),n.forEach((m,y)=>{var w;return c.set(m,new Hz(y,(w=a.get(m))!==null&&w!==void 0?w:null))}),c))}recalculateAndSaveOverlays(e,n){const r=og();let i=new Qn((a,c)=>a-c),s=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let y=r.get(p)||lo.empty();y=c.applyToLocalView(m,y),r.set(p,y);const w=(i.get(c.batchId)||Ot()).add(p);i=i.insert(c.batchId,w)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const p=c.getNext(),m=p.key,y=p.value,w=p3();y.forEach(E=>{if(!s.has(E)){const C=x3(n.get(E),r.get(E));C!==null&&w.set(E,C),s=s.add(E)}}),a.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Ie.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return lt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):u3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ie.resolve(wc());let c=-1,p=s;return a.next(m=>Ie.forEach(m,(y,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),s.get(y)?Ie.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{p=p.insert(y,E)}))).next(()=>this.populateOverlays(e,m,s)).next(()=>this.computeViews(e,p,m,Ot())).next(y=>({batchId:c,changes:d3(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new lt(n)).next(r=>{let i=$p();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=$p();return this.indexManager.getCollectionParents(e,s).next(c=>Ie.forEach(c,p=>{const m=function(w,E){return new td(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(y=>{y.forEach((w,E)=>{a=a.insert(w,E)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((p,m)=>{const y=m.getKey();a.get(y)===null&&(a=a.insert(y,ri.newInvalidDocument(y)))});let c=$p();return a.forEach((p,m)=>{const y=s.get(p);y!==void 0&&sg(y.mutation,m,lo.empty(),Er.now()),j1(n,m)&&(c=c.insert(p,m))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Ie.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:na(i.createTime)}}(n)),Ie.resolve()}getNamedQuery(e,n){return Ie.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Bz(i.bundledQuery),readTime:na(i.readTime)}}(n)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(){this.overlays=new Qn(lt.comparator),this.hr=new Map}getOverlay(e,n){return Ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wc();return Ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Ie.resolve()}getOverlaysForCollection(e,n,r){const i=wc(),s=n.length+1,a=new lt(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const p=c.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===s&&p.largestBatchId>r&&i.set(p.getKey(),p)}return Ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qn((m,y)=>m-y);const a=this.overlays.getIterator();for(;a.hasNext();){const m=a.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=s.get(m.largestBatchId);y===null&&(y=wc(),s=s.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const c=wc(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>c.set(m,y)),!(c.size()>=i)););return Ie.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new pz(n,r));let s=this.hr.get(n);s===void 0&&(s=Ot(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.Pr=new Kr(Nr.Ir),this.Tr=new Kr(Nr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Nr(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Nr(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new lt(new Pn([])),r=new Nr(n,e),i=new Nr(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new lt(new Pn([])),r=new Nr(n,e),i=new Nr(n,e+1);let s=Ot();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Nr(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nr{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return lt.comparator(e.key,n.key)||nn(e.pr,n.pr)}static Er(e,n){return nn(e.pr,n.pr)||lt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Kr(Nr.Ir)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new dz(s,n,r,i);this.mutationQueue.push(a);for(const c of i)this.wr=this.wr.add(new Nr(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ie.resolve(a)}lookupMutationBatch(e,n){return Ie.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return Ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nr(n,0),i=new Nr(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const c=this.Sr(a.pr);s.push(c)}),Ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kr(nn);return n.forEach(i=>{const s=new Nr(i,0),a=new Nr(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],c=>{r=r.add(c.pr)})}),Ie.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;lt.isDocumentKey(s)||(s=s.child(""));const a=new Nr(new lt(s),0);let c=new Kr(nn);return this.wr.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(c=c.add(p.pr)),!0)},a),Ie.resolve(this.Dr(c))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Tn(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Ie.forEach(n.mutations,i=>{const s=new Nr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Nr(n,0),i=this.wr.firstAfterOrEqual(r);return Ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e){this.vr=e,this.docs=function(){return new Qn(lt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ie.resolve(r?r.document.mutableCopy():ri.newInvalidDocument(n))}getEntries(e,n){let r=Za();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ri.newInvalidDocument(i))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Za();const a=n.path,c=new lt(a.child("")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!a.isPrefixOf(m.path))break;m.path.length>a.length+1||DV(bV(y),r)<=0||(i.has(y.key)||j1(n,y))&&(s=s.insert(y.key,y.mutableCopy()))}return Ie.resolve(s)}getAllFromCollectionGroup(e,n,r,i){wt()}Fr(e,n){return Ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Kz(this)}getSize(e){return Ie.resolve(this.size)}}class Kz extends zz{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Ie.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e){this.persistence=e,this.Mr=new nd(n=>TC(n),kC),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Or=0,this.Nr=new RC,this.targetCount=0,this.Lr=zh.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Ie.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new zh(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Ie.resolve()}updateTargetData(e,n){return this.qn(n),Ie.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Ie.waitFor(s).next(()=>i)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Ie.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Ie.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Ie.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Ie.resolve(r)}containsKey(e,n){return Ie.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n){this.Br={},this.overlays={},this.kr=new xC(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Qz(this),this.indexManager=new Uz,this.remoteDocumentCache=function(i){return new Gz(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Mz(n),this.$r=new jz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new qz(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){qe("MemoryPersistence","Starting transaction:",e);const i=new Yz(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return Ie.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Yz extends LV{constructor(e){super(),this.currentSequenceNumber=e}}class LC{constructor(e){this.persistence=e,this.zr=new RC,this.jr=null}static Hr(e){return new LC(e)}get Jr(){if(this.jr)return this.jr;throw wt()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Ie.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Ie.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Jr,r=>{const i=lt.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ct.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Ie.or([()=>Ie.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ot(),i=Ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new PC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return J7()?8:_c.v(Sr())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Zz;return this.Ji(e,n,a).next(c=>{if(s.result=c,this.Ui)return this.Yi(e,n,a,c.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Lp()<=jt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",Yf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ie.resolve()):(Lp()<=jt.DEBUG&&qe("QueryEngine","Query:",Yf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Lp()<=jt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",Yf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ta(n))):Ie.resolve())}ji(e,n){if(pI(n))return Ie.resolve(null);let r=ta(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Uy(n,null,"F"),r=ta(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ot(...s);return this.zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(p=>{const m=this.Zi(n,c);return this.Xi(n,m,a,p.readTime)?this.ji(e,Uy(n,null,"F")):this.es(e,m,n,p)}))})))}Hi(e,n,r,i){return pI(n)||i.isEqual(Ct.min())?Ie.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?Ie.resolve(null):(Lp()<=jt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yf(n)),this.es(e,a,n,IV(i,-1)).next(c=>c))})}Zi(e,n){let r=new Kr(f3(e));return n.forEach((i,s)=>{j1(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Lp()<=jt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",Yf(n)),this.zi.getDocumentsMatchingQuery(e,n,mu.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Qn(nn),this.rs=new nd(s=>TC(s),kC),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $z(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function tH(t,e,n,r){return new eH(t,e,n,r)}async function P3(t,e){const n=kt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let p=Ot();for(const m of i){a.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of s){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(r,p).next(m=>({us:m,removedBatchIds:a,addedBatchIds:c}))})})}function nH(t,e){const n=kt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(c,p,m,y){const w=m.batch,E=w.keys();let C=Ie.resolve();return E.forEach(P=>{C=C.next(()=>y.getEntry(p,P)).next(O=>{const M=m.docVersions.get(P);Tn(M!==null),O.version.compareTo(M)<0&&(w.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),y.addEntry(O)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(p,w))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=Ot();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(p=p.add(c.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function N3(t){const e=kt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function rH(t,e){const n=kt(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const c=[];e.targetChanges.forEach((y,w)=>{const E=i.get(w);if(!E)return;c.push(n.Qr.removeMatchingKeys(s,y.removedDocuments,w).next(()=>n.Qr.addMatchingKeys(s,y.addedDocuments,w)));let C=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(ai.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,r)),i=i.insert(w,C),function(O,M,R){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(E,C,y)&&c.push(n.Qr.updateTargetData(s,C))});let p=Za(),m=Ot();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,y))}),c.push(iH(s,a,e.documentUpdates).next(y=>{p=y.cs,m=y.ls})),!r.isEqual(Ct.min())){const y=n.Qr.getLastRemoteSnapshotVersion(s).next(w=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(y)}return Ie.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,p,m)).next(()=>p)}).then(s=>(n.ns=i,s))}function iH(t,e,n){let r=Ot(),i=Ot();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Za();return n.forEach((c,p)=>{const m=s.get(c);p.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(c)),p.isNoDocument()&&p.version.isEqual(Ct.min())?(e.removeEntry(c,p.readTime),a=a.insert(c,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),a=a.insert(c,p)):qe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",m.version," Watch version:",p.version)}),{cs:a,ls:i}})}function oH(t,e){const n=kt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sH(t,e){const n=kt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,Ie.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new Jl(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function bS(t,e,n){const r=kt(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!vm(a))throw a;qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function TI(t,e,n){const r=kt(t);let i=Ct.min(),s=Ot();return r.persistence.runTransaction("Execute query","readwrite",a=>function(p,m,y){const w=kt(p),E=w.rs.get(y);return E!==void 0?Ie.resolve(w.ns.get(E)):w.Qr.getTargetData(m,y)}(r,a,ta(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,c.targetId).next(p=>{s=p})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:Ct.min(),n?s:Ot())).next(c=>(aH(r,YV(e),c),{documents:c,hs:s})))}function aH(t,e,n){let r=t.ss.get(e)||Ct.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class kI{constructor(){this.activeTargetIds=rz()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lH{constructor(){this.no=new kI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new kI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x0=null;function Vx(){return x0===null?x0=function(){return 268435456+Math.round(2147483648*Math.random())}():x0++,"0x"+x0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="WebChannelConnection";class hH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,a){const c=Vx(),p=this.bo(n,r.toUriEncodedString());qe("RestConnection",`Sending RPC '${n}' ${c}:`,p,i);const m={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(m,s,a),this.Co(n,p,m,i).then(y=>(qe("RestConnection",`Received RPC '${n}' ${c}: `,y),y),y=>{throw Mh("RestConnection",`RPC '${n}' ${c} failed with error: `,y,"url: ",p,"request:",i),y})}vo(n,r,i,s,a,c){return this.So(n,r,i,s,a)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ed}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}bo(n,r){const i=cH[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Vx();return new Promise((a,c)=>{const p=new vV;p.setWithCredentials(!0),p.listenOnce(gV.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Bx.NO_ERROR:const y=p.getResponseJson();qe(ei,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),a(y);break;case Bx.TIMEOUT:qe(ei,`RPC '${e}' ${s} timed out`),c(new Qe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Bx.HTTP_ERROR:const w=p.getStatus();if(qe(ei,`RPC '${e}' ${s} failed with status:`,w,"response text:",p.getResponseText()),w>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E==null?void 0:E.error;if(C&&C.status&&C.message){const P=function(M){const R=M.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(R)>=0?R:Te.UNKNOWN}(C.status);c(new Qe(P,C.message))}else c(new Qe(Te.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Qe(Te.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{qe(ei,`RPC '${e}' ${s} completed.`)}});const m=JSON.stringify(i);qe(ei,`RPC '${e}' ${s} sending request:`,i),p.send(n,"POST",m,r,15)})}Fo(e,n,r){const i=Vx(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=dV(),c=pV(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=s.join("");qe(ei,`Creating RPC '${e}' stream ${i}: ${y}`,p);const w=a.createWebChannel(y,p);let E=!1,C=!1;const P=new fH({lo:M=>{C?qe(ei,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(E||(qe(ei,`Opening RPC '${e}' stream ${i} transport.`),w.open(),E=!0),qe(ei,`RPC '${e}' stream ${i} sending:`,M),w.send(M))},ho:()=>w.close()}),O=(M,R,b)=>{M.listen(R,D=>{try{b(D)}catch(B){setTimeout(()=>{throw B},0)}})};return O(w,y0.EventType.OPEN,()=>{C||qe(ei,`RPC '${e}' stream ${i} transport opened.`)}),O(w,y0.EventType.CLOSE,()=>{C||(C=!0,qe(ei,`RPC '${e}' stream ${i} transport closed`),P.Vo())}),O(w,y0.EventType.ERROR,M=>{C||(C=!0,Mh(ei,`RPC '${e}' stream ${i} transport errored:`,M),P.Vo(new Qe(Te.UNAVAILABLE,"The operation could not be completed")))}),O(w,y0.EventType.MESSAGE,M=>{var R;if(!C){const b=M.data[0];Tn(!!b);const D=b,B=D.error||((R=D[0])===null||R===void 0?void 0:R.error);if(B){qe(ei,`RPC '${e}' stream ${i} received error:`,B);const j=B.status;let U=function(ae){const _e=vr[ae];if(_e!==void 0)return S3(_e)}(j),W=B.message;U===void 0&&(U=Te.INTERNAL,W="Unknown error status: "+j+" with message "+B.message),C=!0,P.Vo(new Qe(U,W)),w.close()}else qe(ei,`RPC '${e}' stream ${i} received:`,b),P.mo(b)}}),O(c,mV.STAT_EVENT,M=>{M.stat===nI.PROXY?qe(ei,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===nI.NOPROXY&&qe(ei,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.Ro()},0),P}}function zx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){return new Sz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n,r,i,s,a,c,p){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=p,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new F3(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(oa(n.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new Qe(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dH extends O3{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=kz(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ct.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ct.min():a.readTime?na(a.readTime):Ct.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=IS(this.serializer),n.addTarget=function(s,a){let c;const p=a.target;if(c=SS(p)?{documents:bz(s,p)}:{query:Dz(s,p).ut},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=k3(s,a.resumeToken);const m=TS(s,a.expectedCount);m!==null&&(c.expectedCount=m)}else if(a.snapshotVersion.compareTo(Ct.min())>0){c.readTime=zy(s,a.snapshotVersion.toTimestamp());const m=TS(s,a.expectedCount);m!==null&&(c.expectedCount=m)}return c}(this.serializer,e);const r=Lz(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=IS(this.serializer),n.removeTarget=e,this.t_(n)}}class pH extends O3{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=Iz(e.writeResults,e.commitTime),r=na(e.commitTime);return this.listener.T_(r,n)}return Tn(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=IS(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Az(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(e,kS(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Qe(Te.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,kS(n,r),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Qe(Te.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class mH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(oa(n),this.g_=!1):qe("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget(async()=>{Xc(this)&&(qe("RemoteStore","Restarting streams for network reachability change."),await async function(p){const m=kt(p);m.v_.add(4),await wm(m),m.x_.set("Unknown"),m.v_.delete(4),await Q1(m)}(this))})}),this.x_=new mH(r,i)}}async function Q1(t){if(Xc(t))for(const e of t.F_)await e(!0)}async function wm(t){for(const e of t.F_)await e(!1)}function M3(t,e){const n=kt(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),MC(n)?OC(n):rd(n).Jo()&&FC(n,e))}function NC(t,e){const n=kt(t),r=rd(n);n.C_.delete(e),r.Jo()&&B3(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Xc(n)&&n.x_.set("Unknown"))}function FC(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rd(t).c_(e)}function B3(t,e){t.O_.Oe(e),rd(t).l_(e)}function OC(t){t.O_=new _z({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),rd(t).start(),t.x_.p_()}function MC(t){return Xc(t)&&!rd(t).Ho()&&t.C_.size>0}function Xc(t){return kt(t).v_.size===0}function U3(t){t.O_=void 0}async function yH(t){t.C_.forEach((e,n)=>{FC(t,e)})}async function _H(t,e){U3(t),MC(t)?(t.x_.S_(e),OC(t)):t.x_.set("Unknown")}async function wH(t,e,n){if(t.x_.set("Online"),e instanceof T3&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const c of s.targetIds)i.C_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.C_.delete(c),i.O_.removeTarget(c))}(t,e)}catch(r){qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hy(t,r)}else if(e instanceof j0?t.O_.$e(e):e instanceof C3?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ct.min()))try{const r=await N3(t.localStore);n.compareTo(r)>=0&&await function(s,a){const c=s.O_.it(a);return c.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=s.C_.get(m);y&&s.C_.set(m,y.withResumeToken(p.resumeToken,a))}}),c.targetMismatches.forEach((p,m)=>{const y=s.C_.get(p);if(!y)return;s.C_.set(p,y.withResumeToken(ai.EMPTY_BYTE_STRING,y.snapshotVersion)),B3(s,p);const w=new Jl(y.target,p,m,y.sequenceNumber);FC(s,w)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){qe("RemoteStore","Failed to raise snapshot:",r),await Hy(t,r)}}async function Hy(t,e,n){if(!vm(e))throw e;t.v_.add(1),await wm(t),t.x_.set("Offline"),n||(n=()=>N3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{qe("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Q1(t)})}function V3(t,e){return e().catch(n=>Hy(t,n,e))}async function X1(t){const e=kt(t),n=yu(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;xH(e);)try{const i=await oH(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,EH(e,i)}catch(i){await Hy(e,i)}z3(e)&&H3(e)}function xH(t){return Xc(t)&&t.D_.length<10}function EH(t,e){t.D_.push(e);const n=yu(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function z3(t){return Xc(t)&&!yu(t).Ho()&&t.D_.length>0}function H3(t){yu(t).start()}async function SH(t){yu(t).d_()}async function CH(t){const e=yu(t);for(const n of t.D_)e.I_(n.mutations)}async function TH(t,e,n){const r=t.D_.shift(),i=IC.from(r,e,n);await V3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await X1(t)}async function kH(t,e){e&&yu(t).P_&&await async function(r,i){if(function(a){return mz(a)&&a!==Te.ABORTED}(i.code)){const s=r.D_.shift();yu(r).Zo(),await V3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await X1(r)}}(t,e),z3(t)&&H3(t)}async function II(t,e){const n=kt(t);n.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const r=Xc(n);n.v_.add(3),await wm(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Q1(n)}async function AH(t,e){const n=kt(t);e?(n.v_.delete(2),await Q1(n)):e||(n.v_.add(2),await wm(n),n.x_.set("Unknown"))}function rd(t){return t.N_||(t.N_=function(n,r,i){const s=kt(n);return s.R_(),new dH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:yH.bind(null,t),To:_H.bind(null,t),u_:wH.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),MC(t)?OC(t):t.x_.set("Unknown")):(await t.N_.stop(),U3(t))})),t.N_}function yu(t){return t.L_||(t.L_=function(n,r,i){const s=kt(n);return s.R_(),new pH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:SH.bind(null,t),To:kH.bind(null,t),E_:CH.bind(null,t),T_:TH.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await X1(t)):(await t.L_.stop(),t.D_.length>0&&(qe("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new BC(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UC(t,e){if(oa("AsyncQueue",`${e}: ${t}`),vm(t))return new Qe(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.comparator=e?(n,r)=>e(n,r)||lt.comparator(n.key,r.key):(n,r)=>lt.comparator(n.key,r.key),this.keyedMap=$p(),this.sortedSet=new Qn(this.comparator)}static emptySet(e){return new Sh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.B_=new Qn(lt.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):wt():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hh{constructor(e,n,r,i,s,a,c,p,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new Hh(e,n,Sh.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class bH{constructor(){this.queries=new nd(e=>c3(e),$1),this.onlineState="Unknown",this.W_=new Set}}async function VC(t,e){const n=kt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new IH,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const c=UC(a,`Initialization of query '${Yf(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&HC(n)}async function zC(t,e){const n=kt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Q_.indexOf(e);a>=0&&(s.Q_.splice(a,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DH(t,e){const n=kt(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const c of a.Q_)c.z_(i)&&(r=!0);a.q_=i}}r&&HC(n)}function RH(t,e,n){const r=kt(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function HC(t){t.W_.forEach(e=>{e.next()})}var DS,DI;(DI=DS||(DS={})).j_="default",DI.Cache="cache";class $C{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==DS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.key=e}}class j3{constructor(e){this.key=e}}class LH{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Ot(),this.mutatedKeys=Ot(),this.ha=f3(e),this.Pa=new Sh(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new bI,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,w)=>{const E=i.get(y),C=j1(this.query,w)?w:null,P=!!E&&this.mutatedKeys.has(E.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let M=!1;E&&C?E.data.isEqual(C.data)?P!==O&&(r.track({type:3,doc:C}),M=!0):this.da(E,C)||(r.track({type:2,doc:C}),M=!0,(p&&this.ha(C,p)>0||m&&this.ha(C,m)<0)&&(c=!0)):!E&&C?(r.track({type:0,doc:C}),M=!0):E&&!C&&(r.track({type:1,doc:E}),M=!0,(p||m)&&(c=!0)),M&&(C?(a=a.add(C),s=O?s.add(y):s.delete(y)):(a=a.delete(y),s=s.delete(y)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const y=this.query.limitType==="F"?a.last():a.first();a=a.delete(y.key),s=s.delete(y.key),r.track({type:1,doc:y})}return{Pa:a,Ea:r,Xi:c,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const a=e.Ea.k_();a.sort((y,w)=>function(C,P){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return O(C)-O(P)}(y.type,w.type)||this.ha(y.doc,w.doc)),this.Aa(r),i=i!=null&&i;const c=n&&!i?this.Ra():[],p=this.la.size===0&&this.current&&!i?1:0,m=p!==this.ca;return this.ca=p,a.length!==0||m?{snapshot:new Hh(this.query,e.Pa,s,a,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:c}:{Va:c}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new bI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Ot(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new j3(r))}),this.la.forEach(r=>{e.has(r)||n.push(new $3(r))}),n}fa(e){this.ua=e.hs,this.la=Ot();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Hh.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class PH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NH{constructor(e){this.key=e,this.pa=!1}}class FH{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new nd(c=>c3(c),$1),this.Sa=new Map,this.ba=new Set,this.Da=new Qn(lt.comparator),this.Ca=new Map,this.va=new RC,this.Fa={},this.Ma=new Map,this.xa=zh.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function OH(t,e,n=!0){const r=X3(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await W3(r,e,n,!0),i}async function MH(t,e){const n=X3(t);await W3(n,e,!0,!1)}async function W3(t,e,n,r){const i=await sH(t.localStore,ta(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let c;return r&&(c=await BH(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&M3(t.remoteStore,i),c}async function BH(t,e,n,r,i){t.Na=(w,E,C)=>async function(O,M,R,b){let D=M.view.Ta(R);D.Xi&&(D=await TI(O.localStore,M.query,!1).then(({documents:W})=>M.view.Ta(W,D)));const B=b&&b.targetChanges.get(M.targetId),j=b&&b.targetMismatches.get(M.targetId)!=null,U=M.view.applyChanges(D,O.isPrimaryClient,B,j);return LI(O,M.targetId,U.Va),U.snapshot}(t,w,E,C);const s=await TI(t.localStore,e,!0),a=new LH(e,s.hs),c=a.Ta(s.documents),p=_m.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=a.applyChanges(c,t.isPrimaryClient,p);LI(t,n,m.Va);const y=new PH(e,n,a);return t.wa.set(e,y),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),m.snapshot}async function UH(t,e,n){const r=kt(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(a=>!$1(a,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&NC(r.remoteStore,i.targetId),RS(r,i.targetId)}).catch(mm)):(RS(r,i.targetId),await bS(r.localStore,i.targetId,!0))}async function VH(t,e){const n=kt(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),NC(n.remoteStore,r.targetId))}async function zH(t,e,n){const r=KH(t);try{const i=await function(a,c){const p=kt(a),m=Er.now(),y=c.reduce((C,P)=>C.add(P.key),Ot());let w,E;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=Za(),O=Ot();return p.os.getEntries(C,y).next(M=>{P=M,P.forEach((R,b)=>{b.isValidDocument()||(O=O.add(R))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,P)).next(M=>{w=M;const R=[];for(const b of c){const D=fz(b,w.get(b.key).overlayedDocument);D!=null&&R.push(new ku(b.key,D,n3(D.value.mapValue),ps.exists(!0)))}return p.mutationQueue.addMutationBatch(C,m,R,c)}).next(M=>{E=M;const R=M.applyToLocalDocumentSet(w,O);return p.documentOverlayCache.saveOverlays(C,M.batchId,R)})}).then(()=>({batchId:E.batchId,changes:d3(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,p){let m=a.Fa[a.currentUser.toKey()];m||(m=new Qn(nn)),m=m.insert(c,p),a.Fa[a.currentUser.toKey()]=m}(r,i.batchId,n),await xm(r,i.changes),await X1(r.remoteStore)}catch(i){const s=UC(i,"Failed to persist write");n.reject(s)}}async function q3(t,e){const n=kt(t);try{const r=await rH(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Ca.get(s);a&&(Tn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.pa=!0:i.modifiedDocuments.size>0?Tn(a.pa):i.removedDocuments.size>0&&(Tn(a.pa),a.pa=!1))}),await xm(n,r,e)}catch(r){await mm(r)}}function RI(t,e,n){const r=kt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,a)=>{const c=a.view.G_(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){const p=kt(a);p.onlineState=c;let m=!1;p.queries.forEach((y,w)=>{for(const E of w.Q_)E.G_(c)&&(m=!0)}),m&&HC(p)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HH(t,e,n){const r=kt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let a=new Qn(lt.comparator);a=a.insert(s,ri.newNoDocument(s,Ct.min()));const c=Ot().add(s),p=new G1(Ct.min(),new Map,new Qn(nn),a,c);await q3(r,p),r.Da=r.Da.remove(s),r.Ca.delete(e),jC(r)}else await bS(r.localStore,e,!1).then(()=>RS(r,e,n)).catch(mm)}async function $H(t,e){const n=kt(t),r=e.batch.batchId;try{const i=await nH(n.localStore,e);K3(n,r,null),G3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xm(n,i)}catch(i){await mm(i)}}async function jH(t,e,n){const r=kt(t);try{const i=await function(a,c){const p=kt(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,c).next(w=>(Tn(w!==null),y=w.keys(),p.mutationQueue.removeMutationBatch(m,w))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(r.localStore,e);K3(r,e,n),G3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xm(r,i)}catch(i){await mm(i)}}function G3(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function K3(t,e,n){const r=kt(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function RS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||Q3(t,r)})}function Q3(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(NC(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),jC(t))}function LI(t,e,n){for(const r of n)r instanceof $3?(t.va.addReference(r.key,e),WH(t,r)):r instanceof j3?(qe("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||Q3(t,r.key)):wt()}function WH(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(qe("SyncEngine","New document in limbo: "+n),t.ba.add(r),jC(t))}function jC(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new lt(Pn.fromString(e)),r=t.xa.next();t.Ca.set(r,new NH(n)),t.Da=t.Da.insert(n,r),M3(t.remoteStore,new Jl(ta(H1(n.path)),r,"TargetPurposeLimboResolution",xC._e))}}async function xm(t,e,n){const r=kt(t),i=[],s=[],a=[];r.wa.isEmpty()||(r.wa.forEach((c,p)=>{a.push(r.Na(p,e,n).then(m=>{if((m||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,m!=null&&m.fromCache?"not-current":"current"),m){i.push(m);const y=PC.Ki(p.targetId,m);s.push(y)}}))}),await Promise.all(a),r.ya.u_(i),await async function(p,m){const y=kt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Ie.forEach(m,E=>Ie.forEach(E.qi,C=>y.persistence.referenceDelegate.addReference(w,E.targetId,C)).next(()=>Ie.forEach(E.Qi,C=>y.persistence.referenceDelegate.removeReference(w,E.targetId,C)))))}catch(w){if(!vm(w))throw w;qe("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const C=y.ns.get(E),P=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(P);y.ns=y.ns.insert(E,O)}}}(r.localStore,s))}async function qH(t,e){const n=kt(t);if(!n.currentUser.isEqual(e)){qe("SyncEngine","User change. New user:",e.toKey());const r=await P3(n.localStore,e);n.currentUser=e,function(s,a){s.Ma.forEach(c=>{c.forEach(p=>{p.reject(new Qe(Te.CANCELLED,a))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xm(n,r.us)}}function GH(t,e){const n=kt(t),r=n.Ca.get(e);if(r&&r.pa)return Ot().add(r.key);{let i=Ot();const s=n.Sa.get(e);if(!s)return i;for(const a of s){const c=n.wa.get(a);i=i.unionWith(c.view.Ia)}return i}}function X3(t){const e=kt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=q3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HH.bind(null,e),e.ya.u_=DH.bind(null,e.eventManager),e.ya.La=RH.bind(null,e.eventManager),e}function KH(t){const e=kt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$H.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jH.bind(null,e),e}class PI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=K1(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return tH(this.persistence,new Jz,e.initialUser,this.serializer)}createPersistence(e){return new Xz(LC.Hr,this.serializer)}createSharedClientState(e){return new lH}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class QH{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qH.bind(null,this.syncEngine),await AH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bH}()}createDatastore(e){const n=K1(e.databaseInfo.databaseId),r=function(s){return new hH(s)}(e.databaseInfo);return function(s,a,c,p){return new gH(s,a,c,p)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,c){return new vH(r,i,s,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>RI(this.syncEngine,n,0),function(){return AI.D()?new AI:new uH}())}createSyncEngine(e,n){return function(i,s,a,c,p,m,y){const w=new FH(i,s,a,c,p,m);return y&&(w.Oa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=kt(r);qe("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await wm(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):oa("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ti.UNAUTHENTICATED,this.clientId=JP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{qe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(qe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=UC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hx(t,e){t.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await P3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZH(t);qe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>II(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>II(e.remoteStore,i)),t._onlineComponents=e}function YH(t){return t.name==="FirebaseError"?t.code===Te.FAILED_PRECONDITION||t.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function ZH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!YH(n))throw n;Mh("Error using user provided cache. Falling back to memory cache: "+n),await Hx(t,new PI)}}else qe("FirestoreClient","Using default OfflineComponentProvider"),await Hx(t,new PI);return t._offlineComponents}async function Y3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe("FirestoreClient","Using user provided OnlineComponentProvider"),await NI(t,t._uninitializedComponentsProvider._online)):(qe("FirestoreClient","Using default OnlineComponentProvider"),await NI(t,new QH))),t._onlineComponents}function JH(t){return Y3(t).then(e=>e.syncEngine)}async function $y(t){const e=await Y3(t),n=e.eventManager;return n.onListen=OH.bind(null,e.syncEngine),n.onUnlisten=UH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VH.bind(null,e.syncEngine),n}function e$(t,e,n={}){const r=new ea;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,p,m){const y=new WC({next:E=>{a.enqueueAndForget(()=>zC(s,w));const C=E.docs.has(c);!C&&E.fromCache?m.reject(new Qe(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&p&&p.source==="server"?m.reject(new Qe(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new $C(H1(c.path),y,{includeMetadataChanges:!0,ta:!0});return VC(s,w)}(await $y(t),t.asyncQueue,e,n,r)),r.promise}function t$(t,e,n={}){const r=new ea;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,p,m){const y=new WC({next:E=>{a.enqueueAndForget(()=>zC(s,w)),E.fromCache&&p.source==="server"?m.reject(new Qe(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new $C(c,y,{includeMetadataChanges:!0,ta:!0});return VC(s,w)}(await $y(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t,e,n){if(!n)throw new Qe(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n$(t,e,n,r){if(e===!0&&r===!0)throw new Qe(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OI(t){if(!lt.isDocumentKey(t))throw new Qe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MI(t){if(lt.isDocumentKey(t))throw new Qe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Y1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":wt()}function zo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Y1(t);throw new Qe(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function r$(t,e){if(e<=0)throw new Qe(Te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Qe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Qe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Z1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Qe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _V;switch(r.type){case"firstParty":return new SV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Qe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FI.get(n);r&&(qe("ComponentProvider","Removing Datastore"),FI.delete(n),r.terminate())}(this),Promise.resolve()}}function i$(t,e,n,r={}){var i;const s=(t=zo(t,Z1))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Mh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,p;if(typeof r.mockUserToken=="string")c=r.mockUserToken,p=ti.MOCK_USER;else{c=HL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Qe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ti(m)}t._authCredentials=new wV(new ZP(c,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rl(this.firestore,e,this._query)}}class wi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wi(this.firestore,e,this._key)}}class hu extends rl{constructor(e,n,r){super(e,n,H1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wi(this.firestore,null,new lt(e))}withConverter(e){return new hu(this.firestore,e,this._path)}}function $h(t,e,...n){if(t=Kn(t),J3("collection","path",e),t instanceof Z1){const r=Pn.fromString(e,...n);return MI(r),new hu(t,null,r)}{if(!(t instanceof wi||t instanceof hu))throw new Qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pn.fromString(e,...n));return MI(r),new hu(t.firestore,null,r)}}function Ua(t,e,...n){if(t=Kn(t),arguments.length===1&&(e=JP.newId()),J3("doc","path",e),t instanceof Z1){const r=Pn.fromString(e,...n);return OI(r),new wi(t,null,new lt(r))}{if(!(t instanceof wi||t instanceof hu))throw new Qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pn.fromString(e,...n));return OI(r),new wi(t.firestore,t instanceof hu?t.converter:null,new lt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new F3(this,"async_queue_retry"),this.cu=()=>{const n=zx();n&&qe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=zx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=zx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new ea;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!vm(e))throw e;qe("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw oa("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=BC.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&wt()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function UI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class _u extends Z1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new o$}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||e4(this),this._firestoreClient.terminate()}}function s$(t,e){const n=typeof t=="object"?t:Q2(),r=typeof t=="string"?t:e||"(default)",i=C1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=UL("firestore");s&&i$(i,...s)}return i}function J1(t){return t._firestoreClient||e4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function e4(t){var e,n,r;const i=t._freezeSettings(),s=function(c,p,m,y){return new MV(c,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Z3(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new XH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jh(ai.fromBase64String(e))}catch(n){throw new Qe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jh(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Qe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Qe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Qe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=/^__.*__$/;class l${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ku(e,this.data,this.fieldMask,n,this.fieldTransforms):new ym(e,this.data,n,this.fieldTransforms)}}class t4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ku(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function n4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class GC{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new GC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return jy(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(n4(this.Vu)&&a$.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class u${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||K1(e)}Cu(e,n,r,i=!1){return new GC({Vu:e,methodName:n,Du:r,path:Wr.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KC(t){const e=t._freezeSettings(),n=K1(t._databaseId);return new u$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c$(t,e,n,r,i,s={}){const a=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);XC("Data must be an object, but it was:",a,r);const c=r4(r,a);let p,m;if(s.merge)p=new lo(a.fieldMask),m=a.fieldTransforms;else if(s.mergeFields){const y=[];for(const w of s.mergeFields){const E=LS(e,w,n);if(!a.contains(E))throw new Qe(Te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);o4(y,E)||y.push(E)}p=new lo(y),m=a.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,m=a.fieldTransforms;return new l$(new Mi(c),p,m)}class n_ extends t_{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n_}}class QC extends t_{_toFieldTransform(e){return new az(e.path,new qg)}isEqual(e){return e instanceof QC}}function f$(t,e,n,r){const i=t.Cu(1,e,n);XC("Data must be an object, but it was:",i,r);const s=[],a=Mi.empty();Qc(r,(p,m)=>{const y=YC(e,p,n);m=Kn(m);const w=i.yu(y);if(m instanceof n_)s.push(y);else{const E=Em(m,w);E!=null&&(s.push(y),a.set(y,E))}});const c=new lo(s);return new t4(a,c,i.fieldTransforms)}function h$(t,e,n,r,i,s){const a=t.Cu(1,e,n),c=[LS(e,r,n)],p=[i];if(s.length%2!=0)throw new Qe(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<s.length;E+=2)c.push(LS(e,s[E])),p.push(s[E+1]);const m=[],y=Mi.empty();for(let E=c.length-1;E>=0;--E)if(!o4(m,c[E])){const C=c[E];let P=p[E];P=Kn(P);const O=a.yu(C);if(P instanceof n_)m.push(C);else{const M=Em(P,O);M!=null&&(m.push(C),y.set(C,M))}}const w=new lo(m);return new t4(y,w,a.fieldTransforms)}function d$(t,e,n,r=!1){return Em(n,t.Cu(r?4:3,e))}function Em(t,e){if(i4(t=Kn(t)))return XC("Unsupported field value:",e,t),r4(t,e);if(t instanceof t_)return function(r,i){if(!n4(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const c of r){let p=Em(c,i.wu(a));p==null&&(p={nullValue:"NULL_VALUE"}),s.push(p),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Er.fromDate(r);return{timestampValue:zy(i.serializer,s)}}if(r instanceof Er){const s=new Er(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zy(i.serializer,s)}}if(r instanceof qC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jh)return{bytesValue:k3(i.serializer,r._byteString)};if(r instanceof wi){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Su(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:DC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Y1(r)}`)}(t,e)}function r4(t,e){const n={};return e3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qc(t,(r,i)=>{const s=Em(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function i4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Er||t instanceof qC||t instanceof jh||t instanceof wi||t instanceof t_)}function XC(t,e,n){if(!i4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Y1(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function LS(t,e,n){if((e=Kn(e))instanceof e_)return e._internalPath;if(typeof e=="string")return YC(t,e);throw jy("Field path arguments must be of type string or ",t,!1,void 0,n)}const p$=new RegExp("[~\\*/\\[\\]]");function YC(t,e,n){if(e.search(p$)>=0)throw jy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new e_(...e.split("."))._internalPath}catch{throw jy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jy(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let p="";return(s||a)&&(p+=" (found",s&&(p+=` in field ${r}`),a&&(p+=` in document ${i}`),p+=")"),new Qe(Te.INVALID_ARGUMENT,c+t+p)}function o4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g$ extends s4{data(){return super.data()}}function r_(t,e){return typeof e=="string"?YC(t,e):e instanceof e_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Qe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZC{}class JC extends ZC{}function Wy(t,e,...n){let r=[];e instanceof ZC&&r.push(e),r=r.concat(n),function(s){const a=s.filter(p=>p instanceof tT).length,c=s.filter(p=>p instanceof i_).length;if(a>1||a>0&&c>0)throw new Qe(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class i_ extends JC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new i_(e,n,r)}_apply(e){const n=this._parse(e);return l4(e._query,n),new rl(e.firestore,e.converter,CS(e._query,n))}_parse(e){const n=KC(e.firestore);return function(s,a,c,p,m,y,w){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Qe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){HI(w,y);const C=[];for(const P of w)C.push(zI(p,s,P));E={arrayValue:{values:C}}}else E=zI(p,s,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||HI(w,y),E=d$(c,a,w,y==="in"||y==="not-in");return xr.create(m,y,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function eT(t,e,n){const r=e,i=r_("where",t);return i_._create(i,r,n)}class tT extends ZC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const c=s.getFlattenedFilters();for(const p of c)l4(a,p),a=CS(a,p)}(e._query,n),new rl(e.firestore,e.converter,CS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nT extends JC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nT(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wg(s,a)}(e._query,this._field,this._direction);return new rl(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new td(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function m$(t,e="asc"){const n=e,r=r_("orderBy",t);return nT._create(r,n)}class rT extends JC{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rT(e,n,r)}_apply(e){return new rl(e.firestore,e.converter,Uy(e._query,this._limit,this._limitType))}}function VI(t){return r$("limit",t),rT._create("limit",t,"F")}function zI(t,e,n){if(typeof(n=Kn(n))=="string"){if(n==="")throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u3(e)&&n.indexOf("/")!==-1)throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pn.fromString(n));if(!lt.isDocumentKey(r))throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lI(t,new lt(r))}if(n instanceof wi)return lI(t,n._key);throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y1(n)}.`)}function HI(t,e){if(!Array.isArray(t)||t.length===0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l4(t,e){const n=function(i,s){for(const a of i)for(const c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class v${convertValue(e,n="none"){switch(Bc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw wt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new qC(_r(e.latitude),_r(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=SC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hg(e));default:return null}}convertTimestamp(e){const n=vu(e);return new Er(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pn.fromString(e);Tn(L3(r));const i=new $g(r.get(1),r.get(3)),s=new lt(r.popFirst(5));return i.isEqual(n)||oa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class u4 extends s4{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new W0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(r_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class W0 extends u4{data(e={}){return super.data(e)}}class c4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new W0(this._firestore,this._userDataWriter,r.key,r,new Wp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Qe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const p=new W0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:p,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const p=new W0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return c.type!==0&&(m=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),y=a.indexOf(c.doc.key)),{type:_$(c.type),doc:p,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){t=zo(t,wi);const e=zo(t.firestore,_u);return e$(J1(e),t._key).then(n=>f4(e,t,n))}class iT extends v${constructor(e){super(),this.firestore=e}convertBytes(e){return new jh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wi(this.firestore,null,n)}}function ag(t){t=zo(t,rl);const e=zo(t.firestore,_u),n=J1(e),r=new iT(e);return a4(t._query),t$(n,t._query).then(i=>new c4(e,r,t,i))}function q0(t,e,n,...r){t=zo(t,wi);const i=zo(t.firestore,_u),s=KC(i);let a;return a=typeof(e=Kn(e))=="string"||e instanceof e_?h$(s,"updateDoc",t._key,e,n,r):f$(s,"updateDoc",t._key,e),oT(i,[a.toMutation(t._key,ps.exists(!0))])}function w$(t){return oT(zo(t.firestore,_u),[new AC(t._key,ps.none())])}function x$(t,e){const n=zo(t.firestore,_u),r=Ua(t),i=y$(t.converter,e);return oT(n,[c$(KC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ps.exists(!1))]).then(()=>r)}function E$(t,...e){var n,r,i;t=Kn(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||UI(e[a])||(s=e[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(UI(e[a])){const w=e[a];e[a]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[a+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[a+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}let p,m,y;if(t instanceof wi)m=zo(t.firestore,_u),y=H1(t._key.path),p={next:w=>{e[a]&&e[a](f4(m,t,w))},error:e[a+1],complete:e[a+2]};else{const w=zo(t,rl);m=zo(w.firestore,_u),y=w._query;const E=new iT(m);p={next:C=>{e[a]&&e[a](new c4(m,E,w,C))},error:e[a+1],complete:e[a+2]},a4(t._query)}return function(E,C,P,O){const M=new WC(O),R=new $C(C,M,P);return E.asyncQueue.enqueueAndForget(async()=>VC(await $y(E),R)),()=>{M.Qa(),E.asyncQueue.enqueueAndForget(async()=>zC(await $y(E),R))}}(J1(m),y,c,p)}function oT(t,e){return function(r,i){const s=new ea;return r.asyncQueue.enqueueAndForget(async()=>zH(await JH(r),i,s)),s.promise}(J1(t),e)}function f4(t,e,n){const r=n.docs.get(e._key),i=new iT(t);return new u4(t,i,e._key,r,new Wp(n.hasPendingWrites,n.fromCache),e.converter)}function $I(){return new QC("serverTimestamp")}(function(e,n=!0){(function(i){ed=i})(Gc),Fc(new gu("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),c=new _u(new xV(r.getProvider("auth-internal")),new TV(r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Qe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $g(m.options.projectId,y)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Js(rI,"4.5.0",e),Js(rI,"4.5.0","esm2017")})();/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var S$=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const h4=jc(S$);function lg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?jI(t.position):"start"in t||"end"in t?jI(t):"line"in t||"column"in t?NS(t):""}function NS(t){return WI(t&&t.line)+":"+WI(t&&t.column)}function jI(t){return NS(t&&t.start)+"-"+NS(t&&t.end)}function WI(t){return t&&typeof t=="number"?t:1}class jo extends Error{constructor(e,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const a=r.indexOf(":");a===-1?i[1]=r:(i[0]=r.slice(0,a),i[1]=r.slice(a+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=lg(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}jo.prototype.file="";jo.prototype.name="";jo.prototype.reason="";jo.prototype.message="";jo.prototype.stack="";jo.prototype.fatal=null;jo.prototype.column=null;jo.prototype.line=null;jo.prototype.source=null;jo.prototype.ruleId=null;jo.prototype.position=null;const $s={basename:C$,dirname:T$,extname:k$,join:A$,sep:"/"};function C$(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Sm(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,c=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),c>-1&&(t.charCodeAt(i)===e.charCodeAt(c--)?c<0&&(r=i):(c=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function T$(t){if(Sm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function k$(t){Sm(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const c=t.charCodeAt(e);if(c===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),c===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function A$(...t){let e=-1,n;for(;++e<t.length;)Sm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":I$(n)}function I$(t){Sm(t);const e=t.charCodeAt(0)===47;let n=b$(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function b$(t,e){let n="",r=0,i=-1,s=0,a=-1,c,p;for(;++a<=t.length;){if(a<t.length)c=t.charCodeAt(a);else{if(c===47)break;c=47}if(c===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",r=0):(n=n.slice(0,p),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else c===46&&s>-1?s++:s=-1}return n}function Sm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const D$={cwd:R$};function R$(){return"/"}function FS(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function L$(t){if(typeof t=="string")t=new URL(t);else if(!FS(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return P$(t)}function P$(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const $x=["history","path","basename","stem","extname","dirname"];class d4{constructor(e){let n;e?typeof e=="string"||N$(e)?n={value:e}:FS(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=D$.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<$x.length;){const s=$x[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)$x.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){FS(e)&&(e=L$(e)),Wx(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?$s.dirname(this.path):void 0}set dirname(e){qI(this.basename,"dirname"),this.path=$s.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?$s.basename(this.path):void 0}set basename(e){Wx(e,"basename"),jx(e,"basename"),this.path=$s.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?$s.extname(this.path):void 0}set extname(e){if(jx(e,"extname"),qI(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$s.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?$s.basename(this.path,this.extname):void 0}set stem(e){Wx(e,"stem"),jx(e,"stem"),this.path=$s.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,r){const i=new jo(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function jx(t,e){if(t&&t.includes($s.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+$s.sep+"`")}function Wx(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function qI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function N$(t){return h4(t)}function GI(t){if(t)throw t}var G0=Object.prototype.hasOwnProperty,p4=Object.prototype.toString,KI=Object.defineProperty,QI=Object.getOwnPropertyDescriptor,XI=function(e){return typeof Array.isArray=="function"?Array.isArray(e):p4.call(e)==="[object Array]"},YI=function(e){if(!e||p4.call(e)!=="[object Object]")return!1;var n=G0.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&G0.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||G0.call(e,i)},ZI=function(e,n){KI&&n.name==="__proto__"?KI(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},JI=function(e,n){if(n==="__proto__")if(G0.call(e,n)){if(QI)return QI(e,n).value}else return;return e[n]},F$=function t(){var e,n,r,i,s,a,c=arguments[0],p=1,m=arguments.length,y=!1;for(typeof c=="boolean"&&(y=c,c=arguments[1]||{},p=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});p<m;++p)if(e=arguments[p],e!=null)for(n in e)r=JI(c,n),i=JI(e,n),c!==i&&(y&&i&&(YI(i)||(s=XI(i)))?(s?(s=!1,a=r&&XI(r)?r:[]):a=r&&YI(r)?r:{},ZI(c,{name:n,newValue:t(y,a,i)})):typeof i<"u"&&ZI(c,{name:n,newValue:i}));return c};const eb=jc(F$);function OS(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function O$(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);c(null,...i);function c(p,...m){const y=t[++s];let w=-1;if(p){a(p);return}for(;++w<i.length;)(m[w]===null||m[w]===void 0)&&(m[w]=i[w]);i=m,y?M$(y,c)(...m):a(null,...m)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function M$(t,e){let n;return r;function r(...a){const c=t.length>a.length;let p;c&&a.push(i);try{p=t.apply(this,a)}catch(m){const y=m;if(c&&n)throw y;return i(y)}c||(p&&p.then&&typeof p.then=="function"?p.then(s,i):p instanceof Error?i(p):s(p))}function i(a,...c){n||(n=!0,e(a,...c))}function s(a){i(null,a)}}const B$=m4().freeze(),g4={}.hasOwnProperty;function m4(){const t=O$(),e=[];let n={},r,i=-1;return s.data=a,s.Parser=void 0,s.Compiler=void 0,s.freeze=c,s.attachers=e,s.use=p,s.parse=m,s.stringify=y,s.run=w,s.runSync=E,s.process=C,s.processSync=P,s;function s(){const O=m4();let M=-1;for(;++M<e.length;)O.use(...e[M]);return O.data(eb(!0,{},n)),O}function a(O,M){return typeof O=="string"?arguments.length===2?(Kx("data",r),n[O]=M,s):g4.call(n,O)&&n[O]||null:O?(Kx("data",r),n=O,s):n}function c(){if(r)return s;for(;++i<e.length;){const[O,...M]=e[i];if(M[0]===!1)continue;M[0]===!0&&(M[0]=void 0);const R=O.call(s,...M);typeof R=="function"&&t.use(R)}return r=!0,i=Number.POSITIVE_INFINITY,s}function p(O,...M){let R;if(Kx("use",r),O!=null)if(typeof O=="function")j(O,...M);else if(typeof O=="object")Array.isArray(O)?B(O):D(O);else throw new TypeError("Expected usable value, not `"+O+"`");return R&&(n.settings=Object.assign(n.settings||{},R)),s;function b(U){if(typeof U=="function")j(U);else if(typeof U=="object")if(Array.isArray(U)){const[W,...Y]=U;j(W,...Y)}else D(U);else throw new TypeError("Expected usable value, not `"+U+"`")}function D(U){B(U.plugins),U.settings&&(R=Object.assign(R||{},U.settings))}function B(U){let W=-1;if(U!=null)if(Array.isArray(U))for(;++W<U.length;){const Y=U[W];b(Y)}else throw new TypeError("Expected a list of plugins, not `"+U+"`")}function j(U,W){let Y=-1,ae;for(;++Y<e.length;)if(e[Y][0]===U){ae=e[Y];break}ae?(OS(ae[1])&&OS(W)&&(W=eb(!0,ae[1],W)),ae[1]=W):e.push([...arguments])}}function m(O){s.freeze();const M=Pp(O),R=s.Parser;return qx("parse",R),tb(R,"parse")?new R(String(M),M).parse():R(String(M),M)}function y(O,M){s.freeze();const R=Pp(M),b=s.Compiler;return Gx("stringify",b),nb(O),tb(b,"compile")?new b(O,R).compile():b(O,R)}function w(O,M,R){if(nb(O),s.freeze(),!R&&typeof M=="function"&&(R=M,M=void 0),!R)return new Promise(b);b(null,R);function b(D,B){t.run(O,Pp(M),j);function j(U,W,Y){W=W||O,U?B(U):D?D(W):R(null,W,Y)}}}function E(O,M){let R,b;return s.run(O,M,D),rb("runSync","run",b),R;function D(B,j){GI(B),R=j,b=!0}}function C(O,M){if(s.freeze(),qx("process",s.Parser),Gx("process",s.Compiler),!M)return new Promise(R);R(null,M);function R(b,D){const B=Pp(O);s.run(s.parse(B),B,(U,W,Y)=>{if(U||!W||!Y)j(U);else{const ae=s.stringify(W,Y);ae==null||(z$(ae)?Y.value=ae:Y.result=ae),j(U,Y)}});function j(U,W){U||!W?D(U):b?b(W):M(null,W)}}}function P(O){let M;s.freeze(),qx("processSync",s.Parser),Gx("processSync",s.Compiler);const R=Pp(O);return s.process(R,b),rb("processSync","process",M),R;function b(D){M=!0,GI(D)}}}function tb(t,e){return typeof t=="function"&&t.prototype&&(U$(t.prototype)||e in t.prototype)}function U$(t){let e;for(e in t)if(g4.call(t,e))return!0;return!1}function qx(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function Gx(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function Kx(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function nb(t){if(!OS(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function rb(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Pp(t){return V$(t)?t:new d4(t)}function V$(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function z$(t){return typeof t=="string"||h4(t)}const H$={};function $$(t,e){const n=e||H$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return v4(t,r,i)}function v4(t,e,n){if(j$(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ib(t.children,e,n)}return Array.isArray(t)?ib(t,e,n):""}function ib(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=v4(t[i],e,n);return r.join("")}function j$(t){return!!(t&&typeof t=="object")}function aa(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Mo(t,e){return t.length>0?(aa(t,t.length,0,e),t):e}const ob={}.hasOwnProperty;function W$(t){const e={};let n=-1;for(;++n<t.length;)q$(e,t[n]);return e}function q$(t,e){let n;for(n in e){const i=(ob.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){ob.call(i,a)||(i[a]=[]);const c=s[a];G$(i[a],Array.isArray(c)?c:c?[c]:[])}}}function G$(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);aa(t,0,0,r)}const K$=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,qs=Au(/[A-Za-z]/),uo=Au(/[\dA-Za-z]/),Q$=Au(/[#-'*+\--9=?A-Z^-~]/);function MS(t){return t!==null&&(t<32||t===127)}const BS=Au(/\d/),X$=Au(/[\dA-Fa-f]/),Y$=Au(/[!-/:-@[-`{-~]/);function vt(t){return t!==null&&t<-2}function Hi(t){return t!==null&&(t<0||t===32)}function rn(t){return t===-2||t===-1||t===32}const Z$=Au(K$),J$=Au(/\s/);function Au(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function Cn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(p){return rn(p)?(t.enter(n),c(p)):e(p)}function c(p){return rn(p)&&s++<i?(t.consume(p),c):(t.exit(n),e(p))}}const ej={tokenize:tj};function tj(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Cn(t,e,"linePrefix")}function i(c){return t.enter("paragraph"),s(c)}function s(c){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,a(c)}function a(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return vt(c)?(t.consume(c),t.exit("chunkText"),s):(t.consume(c),a)}}const nj={tokenize:rj},sb={tokenize:ij};function rj(t){const e=this,n=[];let r=0,i,s,a;return c;function c(D){if(r<n.length){const B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,p,m)(D)}return m(D)}function p(D){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const B=e.events.length;let j=B,U;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){U=e.events[j][1].end;break}R(r);let W=B;for(;W<e.events.length;)e.events[W][1].end=Object.assign({},U),W++;return aa(e.events,j+1,0,e.events.slice(B)),e.events.length=W,m(D)}return c(D)}function m(D){if(r===n.length){if(!i)return E(D);if(i.currentConstruct&&i.currentConstruct.concrete)return P(D);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(sb,y,w)(D)}function y(D){return i&&b(),R(r),E(D)}function w(D){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,P(D)}function E(D){return e.containerState={},t.attempt(sb,C,P)(D)}function C(D){return r++,n.push([e.currentConstruct,e.containerState]),E(D)}function P(D){if(D===null){i&&b(),R(0),t.consume(D);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),O(D)}function O(D){if(D===null){M(t.exit("chunkFlow"),!0),R(0),t.consume(D);return}return vt(D)?(t.consume(D),M(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(D),O)}function M(D,B){const j=e.sliceStream(D);if(B&&j.push(null),D.previous=s,s&&(s.next=D),s=D,i.defineSkip(D.start),i.write(j),e.parser.lazy[D.start.line]){let U=i.events.length;for(;U--;)if(i.events[U][1].start.offset<a&&(!i.events[U][1].end||i.events[U][1].end.offset>a))return;const W=e.events.length;let Y=W,ae,_e;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){if(ae){_e=e.events[Y][1].end;break}ae=!0}for(R(r),U=W;U<e.events.length;)e.events[U][1].end=Object.assign({},_e),U++;aa(e.events,Y+1,0,e.events.slice(W)),e.events.length=U}}function R(D){let B=n.length;for(;B-- >D;){const j=n[B];e.containerState=j[1],j[0].exit.call(e,t)}n.length=D}function b(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function ij(t,e,n){return Cn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ab(t){if(t===null||Hi(t)||J$(t))return 1;if(Z$(t))return 2}function sT(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const US={name:"attention",tokenize:sj,resolveAll:oj};function oj(t,e){let n=-1,r,i,s,a,c,p,m,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const w=Object.assign({},t[r][1].end),E=Object.assign({},t[n][1].start);lb(w,-p),lb(E,p),a={type:p>1?"strongSequence":"emphasisSequence",start:w,end:Object.assign({},t[r][1].end)},c={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:E},s={type:p>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:p>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},c.end)},t[r][1].end=Object.assign({},a.start),t[n][1].start=Object.assign({},c.end),m=[],t[r][1].end.offset-t[r][1].start.offset&&(m=Mo(m,[["enter",t[r][1],e],["exit",t[r][1],e]])),m=Mo(m,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),m=Mo(m,sT(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),m=Mo(m,[["exit",s,e],["enter",c,e],["exit",c,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,m=Mo(m,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,aa(t,r-1,n-r+3,m),n=r+m.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function sj(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ab(r);let s;return a;function a(p){return s=p,t.enter("attentionSequence"),c(p)}function c(p){if(p===s)return t.consume(p),c;const m=t.exit("attentionSequence"),y=ab(p),w=!y||y===2&&i||n.includes(p),E=!i||i===2&&y||n.includes(r);return m._open=!!(s===42?w:w&&(i||!E)),m._close=!!(s===42?E:E&&(y||!w)),e(p)}}function lb(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const aj={name:"autolink",tokenize:lj};function lj(t,e,n){let r=0;return i;function i(C){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(C),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(C){return qs(C)?(t.consume(C),a):m(C)}function a(C){return C===43||C===45||C===46||uo(C)?(r=1,c(C)):m(C)}function c(C){return C===58?(t.consume(C),r=0,p):(C===43||C===45||C===46||uo(C))&&r++<32?(t.consume(C),c):(r=0,m(C))}function p(C){return C===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(C),t.exit("autolinkMarker"),t.exit("autolink"),e):C===null||C===32||C===60||MS(C)?n(C):(t.consume(C),p)}function m(C){return C===64?(t.consume(C),y):Q$(C)?(t.consume(C),m):n(C)}function y(C){return uo(C)?w(C):n(C)}function w(C){return C===46?(t.consume(C),r=0,y):C===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(C),t.exit("autolinkMarker"),t.exit("autolink"),e):E(C)}function E(C){if((C===45||uo(C))&&r++<63){const P=C===45?E:w;return t.consume(C),P}return n(C)}}const o_={tokenize:uj,partial:!0};function uj(t,e,n){return r;function r(s){return rn(s)?Cn(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||vt(s)?e(s):n(s)}}const y4={name:"blockQuote",tokenize:cj,continuation:{tokenize:fj},exit:hj};function cj(t,e,n){const r=this;return i;function i(a){if(a===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return rn(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function fj(t,e,n){const r=this;return i;function i(a){return rn(a)?Cn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(y4,e,n)(a)}}function hj(t){t.exit("blockQuote")}const _4={name:"characterEscape",tokenize:dj};function dj(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return Y$(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const ub=document.createElement("i");function aT(t){const e="&"+t+";";ub.innerHTML=e;const n=ub.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const w4={name:"characterReference",tokenize:pj};function pj(t,e,n){const r=this;let i=0,s,a;return c;function c(w){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(w),t.exit("characterReferenceMarker"),p}function p(w){return w===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(w),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),s=31,a=uo,y(w))}function m(w){return w===88||w===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(w),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=X$,y):(t.enter("characterReferenceValue"),s=7,a=BS,y(w))}function y(w){if(w===59&&i){const E=t.exit("characterReferenceValue");return a===uo&&!aT(r.sliceSerialize(E))?n(w):(t.enter("characterReferenceMarker"),t.consume(w),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(w)&&i++<s?(t.consume(w),y):n(w)}}const cb={tokenize:mj,partial:!0},fb={name:"codeFenced",tokenize:gj,concrete:!0};function gj(t,e,n){const r=this,i={tokenize:j,partial:!0};let s=0,a=0,c;return p;function p(U){return m(U)}function m(U){const W=r.events[r.events.length-1];return s=W&&W[1].type==="linePrefix"?W[2].sliceSerialize(W[1],!0).length:0,c=U,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(U)}function y(U){return U===c?(a++,t.consume(U),y):a<3?n(U):(t.exit("codeFencedFenceSequence"),rn(U)?Cn(t,w,"whitespace")(U):w(U))}function w(U){return U===null||vt(U)?(t.exit("codeFencedFence"),r.interrupt?e(U):t.check(cb,O,B)(U)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),E(U))}function E(U){return U===null||vt(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),w(U)):rn(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Cn(t,C,"whitespace")(U)):U===96&&U===c?n(U):(t.consume(U),E)}function C(U){return U===null||vt(U)?w(U):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),P(U))}function P(U){return U===null||vt(U)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),w(U)):U===96&&U===c?n(U):(t.consume(U),P)}function O(U){return t.attempt(i,B,M)(U)}function M(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),R}function R(U){return s>0&&rn(U)?Cn(t,b,"linePrefix",s+1)(U):b(U)}function b(U){return U===null||vt(U)?t.check(cb,O,B)(U):(t.enter("codeFlowValue"),D(U))}function D(U){return U===null||vt(U)?(t.exit("codeFlowValue"),b(U)):(t.consume(U),D)}function B(U){return t.exit("codeFenced"),e(U)}function j(U,W,Y){let ae=0;return _e;function _e(Z){return U.enter("lineEnding"),U.consume(Z),U.exit("lineEnding"),ie}function ie(Z){return U.enter("codeFencedFence"),rn(Z)?Cn(U,ye,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):ye(Z)}function ye(Z){return Z===c?(U.enter("codeFencedFenceSequence"),Ue(Z)):Y(Z)}function Ue(Z){return Z===c?(ae++,U.consume(Z),Ue):ae>=a?(U.exit("codeFencedFenceSequence"),rn(Z)?Cn(U,Pe,"whitespace")(Z):Pe(Z)):Y(Z)}function Pe(Z){return Z===null||vt(Z)?(U.exit("codeFencedFence"),W(Z)):Y(Z)}}}function mj(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const Qx={name:"codeIndented",tokenize:yj},vj={tokenize:_j,partial:!0};function yj(t,e,n){const r=this;return i;function i(m){return t.enter("codeIndented"),Cn(t,s,"linePrefix",5)(m)}function s(m){const y=r.events[r.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?a(m):n(m)}function a(m){return m===null?p(m):vt(m)?t.attempt(vj,a,p)(m):(t.enter("codeFlowValue"),c(m))}function c(m){return m===null||vt(m)?(t.exit("codeFlowValue"),a(m)):(t.consume(m),c)}function p(m){return t.exit("codeIndented"),e(m)}}function _j(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):vt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):Cn(t,s,"linePrefix",5)(a)}function s(a){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(a):vt(a)?i(a):n(a)}}const wj={name:"codeText",tokenize:Sj,resolve:xj,previous:Ej};function xj(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Ej(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Sj(t,e,n){let r=0,i,s;return a;function a(w){return t.enter("codeText"),t.enter("codeTextSequence"),c(w)}function c(w){return w===96?(t.consume(w),r++,c):(t.exit("codeTextSequence"),p(w))}function p(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),p):w===96?(s=t.enter("codeTextSequence"),i=0,y(w)):vt(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):(t.enter("codeTextData"),m(w))}function m(w){return w===null||w===32||w===96||vt(w)?(t.exit("codeTextData"),p(w)):(t.consume(w),m)}function y(w){return w===96?(t.consume(w),i++,y):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(s.type="codeTextData",m(w))}}function x4(t){const e={};let n=-1,r,i,s,a,c,p,m;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,s=0,s<p.length&&p[s][1].type==="lineEndingBlank"&&(s+=2),s<p.length&&p[s][1].type==="content"))for(;++s<p.length&&p[s][1].type!=="content";)p[s][1].type==="chunkText"&&(p[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Cj(t,n)),n=e[n],m=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(a=t[s],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},t[i][1].start),c=t.slice(i,n),c.unshift(r),aa(t,i,n-i+1,c))}}return!m}function Cj(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const s=[],a=n._tokenizer||r.parser[n.contentType](n.start),c=a.events,p=[],m={};let y,w,E=-1,C=n,P=0,O=0;const M=[O];for(;C;){for(;t[++i][1]!==C;);s.push(i),C._tokenizer||(y=r.sliceStream(C),C.next||y.push(null),w&&a.defineSkip(C.start),C._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(y),C._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),w=C,C=C.next}for(C=n;++E<c.length;)c[E][0]==="exit"&&c[E-1][0]==="enter"&&c[E][1].type===c[E-1][1].type&&c[E][1].start.line!==c[E][1].end.line&&(O=E+1,M.push(O),C._tokenizer=void 0,C.previous=void 0,C=C.next);for(a.events=[],C?(C._tokenizer=void 0,C.previous=void 0):M.pop(),E=M.length;E--;){const R=c.slice(M[E],M[E+1]),b=s.pop();p.unshift([b,b+R.length-1]),aa(t,b,2,R)}for(E=-1;++E<p.length;)m[P+p[E][0]]=P+p[E][1],P+=p[E][1]-p[E][0]-1;return m}const Tj={tokenize:Ij,resolve:Aj},kj={tokenize:bj,partial:!0};function Aj(t){return x4(t),t}function Ij(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?s(c):vt(c)?t.check(kj,a,s)(c):(t.consume(c),i)}function s(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function a(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function bj(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Cn(t,s,"linePrefix")}function s(a){if(a===null||vt(a))return n(a);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function E4(t,e,n,r,i,s,a,c,p){const m=p||Number.POSITIVE_INFINITY;let y=0;return w;function w(R){return R===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(R),t.exit(s),E):R===null||R===32||R===41||MS(R)?n(R):(t.enter(r),t.enter(a),t.enter(c),t.enter("chunkString",{contentType:"string"}),O(R))}function E(R){return R===62?(t.enter(s),t.consume(R),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),C(R))}function C(R){return R===62?(t.exit("chunkString"),t.exit(c),E(R)):R===null||R===60||vt(R)?n(R):(t.consume(R),R===92?P:C)}function P(R){return R===60||R===62||R===92?(t.consume(R),C):C(R)}function O(R){return!y&&(R===null||R===41||Hi(R))?(t.exit("chunkString"),t.exit(c),t.exit(a),t.exit(r),e(R)):y<m&&R===40?(t.consume(R),y++,O):R===41?(t.consume(R),y--,O):R===null||R===32||R===40||MS(R)?n(R):(t.consume(R),R===92?M:O)}function M(R){return R===40||R===41||R===92?(t.consume(R),O):O(R)}}function S4(t,e,n,r,i,s){const a=this;let c=0,p;return m;function m(C){return t.enter(r),t.enter(i),t.consume(C),t.exit(i),t.enter(s),y}function y(C){return c>999||C===null||C===91||C===93&&!p||C===94&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs?n(C):C===93?(t.exit(s),t.enter(i),t.consume(C),t.exit(i),t.exit(r),e):vt(C)?(t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),w(C))}function w(C){return C===null||C===91||C===93||vt(C)||c++>999?(t.exit("chunkString"),y(C)):(t.consume(C),p||(p=!rn(C)),C===92?E:w)}function E(C){return C===91||C===92||C===93?(t.consume(C),c++,w):w(C)}}function C4(t,e,n,r,i,s){let a;return c;function c(E){return E===34||E===39||E===40?(t.enter(r),t.enter(i),t.consume(E),t.exit(i),a=E===40?41:E,p):n(E)}function p(E){return E===a?(t.enter(i),t.consume(E),t.exit(i),t.exit(r),e):(t.enter(s),m(E))}function m(E){return E===a?(t.exit(s),p(a)):E===null?n(E):vt(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),Cn(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===a||E===null||vt(E)?(t.exit("chunkString"),m(E)):(t.consume(E),E===92?w:y)}function w(E){return E===a||E===92?(t.consume(E),y):y(E)}}function ug(t,e){let n;return r;function r(i){return vt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):rn(i)?Cn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function Ch(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Dj={name:"definition",tokenize:Lj},Rj={tokenize:Pj,partial:!0};function Lj(t,e,n){const r=this;let i;return s;function s(C){return t.enter("definition"),a(C)}function a(C){return S4.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(C)}function c(C){return i=Ch(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),C===58?(t.enter("definitionMarker"),t.consume(C),t.exit("definitionMarker"),p):n(C)}function p(C){return Hi(C)?ug(t,m)(C):m(C)}function m(C){return E4(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(C)}function y(C){return t.attempt(Rj,w,w)(C)}function w(C){return rn(C)?Cn(t,E,"whitespace")(C):E(C)}function E(C){return C===null||vt(C)?(t.exit("definition"),r.parser.defined.push(i),e(C)):n(C)}}function Pj(t,e,n){return r;function r(c){return Hi(c)?ug(t,i)(c):n(c)}function i(c){return C4(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function s(c){return rn(c)?Cn(t,a,"whitespace")(c):a(c)}function a(c){return c===null||vt(c)?e(c):n(c)}}const Nj={name:"hardBreakEscape",tokenize:Fj};function Fj(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return vt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const Oj={name:"headingAtx",tokenize:Bj,resolve:Mj};function Mj(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},aa(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Bj(t,e,n){let r=0;return i;function i(y){return t.enter("atxHeading"),s(y)}function s(y){return t.enter("atxHeadingSequence"),a(y)}function a(y){return y===35&&r++<6?(t.consume(y),a):y===null||Hi(y)?(t.exit("atxHeadingSequence"),c(y)):n(y)}function c(y){return y===35?(t.enter("atxHeadingSequence"),p(y)):y===null||vt(y)?(t.exit("atxHeading"),e(y)):rn(y)?Cn(t,c,"whitespace")(y):(t.enter("atxHeadingText"),m(y))}function p(y){return y===35?(t.consume(y),p):(t.exit("atxHeadingSequence"),c(y))}function m(y){return y===null||y===35||Hi(y)?(t.exit("atxHeadingText"),c(y)):(t.consume(y),m)}}const Uj=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hb=["pre","script","style","textarea"],Vj={name:"htmlFlow",tokenize:jj,resolveTo:$j,concrete:!0},zj={tokenize:qj,partial:!0},Hj={tokenize:Wj,partial:!0};function $j(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function jj(t,e,n){const r=this;let i,s,a,c,p;return m;function m(S){return y(S)}function y(S){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(S),w}function w(S){return S===33?(t.consume(S),E):S===47?(t.consume(S),s=!0,O):S===63?(t.consume(S),i=3,r.interrupt?e:q):qs(S)?(t.consume(S),a=String.fromCharCode(S),M):n(S)}function E(S){return S===45?(t.consume(S),i=2,C):S===91?(t.consume(S),i=5,c=0,P):qs(S)?(t.consume(S),i=4,r.interrupt?e:q):n(S)}function C(S){return S===45?(t.consume(S),r.interrupt?e:q):n(S)}function P(S){const fe="CDATA[";return S===fe.charCodeAt(c++)?(t.consume(S),c===fe.length?r.interrupt?e:ye:P):n(S)}function O(S){return qs(S)?(t.consume(S),a=String.fromCharCode(S),M):n(S)}function M(S){if(S===null||S===47||S===62||Hi(S)){const fe=S===47,nt=a.toLowerCase();return!fe&&!s&&hb.includes(nt)?(i=1,r.interrupt?e(S):ye(S)):Uj.includes(a.toLowerCase())?(i=6,fe?(t.consume(S),R):r.interrupt?e(S):ye(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):s?b(S):D(S))}return S===45||uo(S)?(t.consume(S),a+=String.fromCharCode(S),M):n(S)}function R(S){return S===62?(t.consume(S),r.interrupt?e:ye):n(S)}function b(S){return rn(S)?(t.consume(S),b):_e(S)}function D(S){return S===47?(t.consume(S),_e):S===58||S===95||qs(S)?(t.consume(S),B):rn(S)?(t.consume(S),D):_e(S)}function B(S){return S===45||S===46||S===58||S===95||uo(S)?(t.consume(S),B):j(S)}function j(S){return S===61?(t.consume(S),U):rn(S)?(t.consume(S),j):D(S)}function U(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),p=S,W):rn(S)?(t.consume(S),U):Y(S)}function W(S){return S===p?(t.consume(S),p=null,ae):S===null||vt(S)?n(S):(t.consume(S),W)}function Y(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||Hi(S)?j(S):(t.consume(S),Y)}function ae(S){return S===47||S===62||rn(S)?D(S):n(S)}function _e(S){return S===62?(t.consume(S),ie):n(S)}function ie(S){return S===null||vt(S)?ye(S):rn(S)?(t.consume(S),ie):n(S)}function ye(S){return S===45&&i===2?(t.consume(S),we):S===60&&i===1?(t.consume(S),de):S===62&&i===4?(t.consume(S),tt):S===63&&i===3?(t.consume(S),q):S===93&&i===5?(t.consume(S),Le):vt(S)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(zj,Q,Ue)(S)):S===null||vt(S)?(t.exit("htmlFlowData"),Ue(S)):(t.consume(S),ye)}function Ue(S){return t.check(Hj,Pe,Q)(S)}function Pe(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),Z}function Z(S){return S===null||vt(S)?Ue(S):(t.enter("htmlFlowData"),ye(S))}function we(S){return S===45?(t.consume(S),q):ye(S)}function de(S){return S===47?(t.consume(S),a="",he):ye(S)}function he(S){if(S===62){const fe=a.toLowerCase();return hb.includes(fe)?(t.consume(S),tt):ye(S)}return qs(S)&&a.length<8?(t.consume(S),a+=String.fromCharCode(S),he):ye(S)}function Le(S){return S===93?(t.consume(S),q):ye(S)}function q(S){return S===62?(t.consume(S),tt):S===45&&i===2?(t.consume(S),q):ye(S)}function tt(S){return S===null||vt(S)?(t.exit("htmlFlowData"),Q(S)):(t.consume(S),tt)}function Q(S){return t.exit("htmlFlow"),e(S)}}function Wj(t,e,n){const r=this;return i;function i(a){return vt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function qj(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(o_,e,n)}}const Gj={name:"htmlText",tokenize:Kj};function Kj(t,e,n){const r=this;let i,s,a;return c;function c(q){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(q),p}function p(q){return q===33?(t.consume(q),m):q===47?(t.consume(q),j):q===63?(t.consume(q),D):qs(q)?(t.consume(q),Y):n(q)}function m(q){return q===45?(t.consume(q),y):q===91?(t.consume(q),s=0,P):qs(q)?(t.consume(q),b):n(q)}function y(q){return q===45?(t.consume(q),C):n(q)}function w(q){return q===null?n(q):q===45?(t.consume(q),E):vt(q)?(a=w,de(q)):(t.consume(q),w)}function E(q){return q===45?(t.consume(q),C):w(q)}function C(q){return q===62?we(q):q===45?E(q):w(q)}function P(q){const tt="CDATA[";return q===tt.charCodeAt(s++)?(t.consume(q),s===tt.length?O:P):n(q)}function O(q){return q===null?n(q):q===93?(t.consume(q),M):vt(q)?(a=O,de(q)):(t.consume(q),O)}function M(q){return q===93?(t.consume(q),R):O(q)}function R(q){return q===62?we(q):q===93?(t.consume(q),R):O(q)}function b(q){return q===null||q===62?we(q):vt(q)?(a=b,de(q)):(t.consume(q),b)}function D(q){return q===null?n(q):q===63?(t.consume(q),B):vt(q)?(a=D,de(q)):(t.consume(q),D)}function B(q){return q===62?we(q):D(q)}function j(q){return qs(q)?(t.consume(q),U):n(q)}function U(q){return q===45||uo(q)?(t.consume(q),U):W(q)}function W(q){return vt(q)?(a=W,de(q)):rn(q)?(t.consume(q),W):we(q)}function Y(q){return q===45||uo(q)?(t.consume(q),Y):q===47||q===62||Hi(q)?ae(q):n(q)}function ae(q){return q===47?(t.consume(q),we):q===58||q===95||qs(q)?(t.consume(q),_e):vt(q)?(a=ae,de(q)):rn(q)?(t.consume(q),ae):we(q)}function _e(q){return q===45||q===46||q===58||q===95||uo(q)?(t.consume(q),_e):ie(q)}function ie(q){return q===61?(t.consume(q),ye):vt(q)?(a=ie,de(q)):rn(q)?(t.consume(q),ie):ae(q)}function ye(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),i=q,Ue):vt(q)?(a=ye,de(q)):rn(q)?(t.consume(q),ye):(t.consume(q),Pe)}function Ue(q){return q===i?(t.consume(q),i=void 0,Z):q===null?n(q):vt(q)?(a=Ue,de(q)):(t.consume(q),Ue)}function Pe(q){return q===null||q===34||q===39||q===60||q===61||q===96?n(q):q===47||q===62||Hi(q)?ae(q):(t.consume(q),Pe)}function Z(q){return q===47||q===62||Hi(q)?ae(q):n(q)}function we(q){return q===62?(t.consume(q),t.exit("htmlTextData"),t.exit("htmlText"),e):n(q)}function de(q){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),he}function he(q){return rn(q)?Cn(t,Le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):Le(q)}function Le(q){return t.enter("htmlTextData"),a(q)}}const lT={name:"labelEnd",tokenize:eW,resolveTo:Jj,resolveAll:Zj},Qj={tokenize:tW},Xj={tokenize:nW},Yj={tokenize:rW};function Zj(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function Jj(t,e){let n=t.length,r=0,i,s,a,c;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const p={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},m={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[a][1].end)},y={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[a-2][1].start)};return c=[["enter",p,e],["enter",m,e]],c=Mo(c,t.slice(s+1,s+r+3)),c=Mo(c,[["enter",y,e]]),c=Mo(c,sT(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),c=Mo(c,[["exit",y,e],t[a-2],t[a-1],["exit",m,e]]),c=Mo(c,t.slice(a+1)),c=Mo(c,[["exit",p,e]]),aa(t,s,t.length,c),t}function eW(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return c;function c(E){return s?s._inactive?w(E):(a=r.parser.defined.includes(Ch(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(E),t.exit("labelMarker"),t.exit("labelEnd"),p):n(E)}function p(E){return E===40?t.attempt(Qj,y,a?y:w)(E):E===91?t.attempt(Xj,y,a?m:w)(E):a?y(E):w(E)}function m(E){return t.attempt(Yj,y,w)(E)}function y(E){return e(E)}function w(E){return s._balanced=!0,n(E)}}function tW(t,e,n){return r;function r(w){return t.enter("resource"),t.enter("resourceMarker"),t.consume(w),t.exit("resourceMarker"),i}function i(w){return Hi(w)?ug(t,s)(w):s(w)}function s(w){return w===41?y(w):E4(t,a,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(w)}function a(w){return Hi(w)?ug(t,p)(w):y(w)}function c(w){return n(w)}function p(w){return w===34||w===39||w===40?C4(t,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(w):y(w)}function m(w){return Hi(w)?ug(t,y)(w):y(w)}function y(w){return w===41?(t.enter("resourceMarker"),t.consume(w),t.exit("resourceMarker"),t.exit("resource"),e):n(w)}}function nW(t,e,n){const r=this;return i;function i(c){return S4.call(r,t,s,a,"reference","referenceMarker","referenceString")(c)}function s(c){return r.parser.defined.includes(Ch(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function a(c){return n(c)}}function rW(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const iW={name:"labelStartImage",tokenize:oW,resolveAll:lT.resolveAll};function oW(t,e,n){const r=this;return i;function i(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),s}function s(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),a):n(c)}function a(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const sW={name:"labelStartLink",tokenize:aW,resolveAll:lT.resolveAll};function aW(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Xx={name:"lineEnding",tokenize:lW};function lW(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Cn(t,e,"linePrefix")}}const K0={name:"thematicBreak",tokenize:uW};function uW(t,e,n){let r=0,i;return s;function s(m){return t.enter("thematicBreak"),a(m)}function a(m){return i=m,c(m)}function c(m){return m===i?(t.enter("thematicBreakSequence"),p(m)):r>=3&&(m===null||vt(m))?(t.exit("thematicBreak"),e(m)):n(m)}function p(m){return m===i?(t.consume(m),r++,p):(t.exit("thematicBreakSequence"),rn(m)?Cn(t,c,"whitespace")(m):c(m))}}const Pi={name:"list",tokenize:hW,continuation:{tokenize:dW},exit:gW},cW={tokenize:mW,partial:!0},fW={tokenize:pW,partial:!0};function hW(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return c;function c(C){const P=r.containerState.type||(C===42||C===43||C===45?"listUnordered":"listOrdered");if(P==="listUnordered"?!r.containerState.marker||C===r.containerState.marker:BS(C)){if(r.containerState.type||(r.containerState.type=P,t.enter(P,{_container:!0})),P==="listUnordered")return t.enter("listItemPrefix"),C===42||C===45?t.check(K0,n,m)(C):m(C);if(!r.interrupt||C===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(C)}return n(C)}function p(C){return BS(C)&&++a<10?(t.consume(C),p):(!r.interrupt||a<2)&&(r.containerState.marker?C===r.containerState.marker:C===41||C===46)?(t.exit("listItemValue"),m(C)):n(C)}function m(C){return t.enter("listItemMarker"),t.consume(C),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||C,t.check(o_,r.interrupt?n:y,t.attempt(cW,E,w))}function y(C){return r.containerState.initialBlankLine=!0,s++,E(C)}function w(C){return rn(C)?(t.enter("listItemPrefixWhitespace"),t.consume(C),t.exit("listItemPrefixWhitespace"),E):n(C)}function E(C){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(C)}}function dW(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(o_,i,s);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Cn(t,e,"listItemIndent",r.containerState.size+1)(c)}function s(c){return r.containerState.furtherBlankLines||!rn(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(fW,e,a)(c))}function a(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Cn(t,t.attempt(Pi,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function pW(t,e,n){const r=this;return Cn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function gW(t){t.exit(this.containerState.type)}function mW(t,e,n){const r=this;return Cn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!rn(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const db={name:"setextUnderline",tokenize:yW,resolveTo:vW};function vW(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=a,t.push(["exit",a,e]),t}function yW(t,e,n){const r=this;let i;return s;function s(m){let y=r.events.length,w;for(;y--;)if(r.events[y][1].type!=="lineEnding"&&r.events[y][1].type!=="linePrefix"&&r.events[y][1].type!=="content"){w=r.events[y][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||w)?(t.enter("setextHeadingLine"),i=m,a(m)):n(m)}function a(m){return t.enter("setextHeadingLineSequence"),c(m)}function c(m){return m===i?(t.consume(m),c):(t.exit("setextHeadingLineSequence"),rn(m)?Cn(t,p,"lineSuffix")(m):p(m))}function p(m){return m===null||vt(m)?(t.exit("setextHeadingLine"),e(m)):n(m)}}const _W={tokenize:wW};function wW(t){const e=this,n=t.attempt(o_,r,t.attempt(this.parser.constructs.flowInitial,i,Cn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Tj,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const xW={resolveAll:k4()},EW=T4("string"),SW=T4("text");function T4(t){return{tokenize:e,resolveAll:k4(t==="text"?CW:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,c);return a;function a(y){return m(y)?s(y):c(y)}function c(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),p}function p(y){return m(y)?(n.exit("data"),s(y)):(n.consume(y),p)}function m(y){if(y===null)return!0;const w=i[y];let E=-1;if(w)for(;++E<w.length;){const C=w[E];if(!C.previous||C.previous.call(r,r.previous))return!0}return!1}}}function k4(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function CW(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,c=0,p;for(;s--;){const m=i[s];if(typeof m=="string"){for(a=m.length;m.charCodeAt(a-1)===32;)c++,a--;if(a)break;a=-1}else if(m===-2)p=!0,c++;else if(m!==-1){s++;break}}if(c){const m={type:n===t.length||p||c<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-c,offset:r.end.offset-c,_index:r.start._index+s,_bufferIndex:s?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},m.start),r.start.offset===r.end.offset?Object.assign(r,m):(t.splice(n,0,["enter",m,e],["exit",m,e]),n+=2)}n++}return t}function TW(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let a=[],c=[];const p={consume:b,enter:D,exit:B,attempt:W(j),check:W(U),interrupt:W(U,{interrupt:!0})},m={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:C,sliceSerialize:E,now:P,defineSkip:O,write:w};let y=e.tokenize.call(m,p);return e.resolveAll&&s.push(e),m;function w(ie){return a=Mo(a,ie),M(),a[a.length-1]!==null?[]:(Y(e,0),m.events=sT(s,m.events,m),m.events)}function E(ie,ye){return AW(C(ie),ye)}function C(ie){return kW(a,ie)}function P(){const{line:ie,column:ye,offset:Ue,_index:Pe,_bufferIndex:Z}=r;return{line:ie,column:ye,offset:Ue,_index:Pe,_bufferIndex:Z}}function O(ie){i[ie.line]=ie.column,_e()}function M(){let ie;for(;r._index<a.length;){const ye=a[r._index];if(typeof ye=="string")for(ie=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ie&&r._bufferIndex<ye.length;)R(ye.charCodeAt(r._bufferIndex));else R(ye)}}function R(ie){y=y(ie)}function b(ie){vt(ie)?(r.line++,r.column=1,r.offset+=ie===-3?2:1,_e()):ie!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=ie}function D(ie,ye){const Ue=ye||{};return Ue.type=ie,Ue.start=P(),m.events.push(["enter",Ue,m]),c.push(Ue),Ue}function B(ie){const ye=c.pop();return ye.end=P(),m.events.push(["exit",ye,m]),ye}function j(ie,ye){Y(ie,ye.from)}function U(ie,ye){ye.restore()}function W(ie,ye){return Ue;function Ue(Pe,Z,we){let de,he,Le,q;return Array.isArray(Pe)?Q(Pe):"tokenize"in Pe?Q([Pe]):tt(Pe);function tt(ze){return At;function At(Bt){const Pt=Bt!==null&&ze[Bt],an=Bt!==null&&ze.null,bt=[...Array.isArray(Pt)?Pt:Pt?[Pt]:[],...Array.isArray(an)?an:an?[an]:[]];return Q(bt)(Bt)}}function Q(ze){return de=ze,he=0,ze.length===0?we:S(ze[he])}function S(ze){return At;function At(Bt){return q=ae(),Le=ze,ze.partial||(m.currentConstruct=ze),ze.name&&m.parser.constructs.disable.null.includes(ze.name)?nt():ze.tokenize.call(ye?Object.assign(Object.create(m),ye):m,p,fe,nt)(Bt)}}function fe(ze){return ie(Le,q),Z}function nt(ze){return q.restore(),++he<de.length?S(de[he]):we}}}function Y(ie,ye){ie.resolveAll&&!s.includes(ie)&&s.push(ie),ie.resolve&&aa(m.events,ye,m.events.length-ye,ie.resolve(m.events.slice(ye),m)),ie.resolveTo&&(m.events=ie.resolveTo(m.events,m))}function ae(){const ie=P(),ye=m.previous,Ue=m.currentConstruct,Pe=m.events.length,Z=Array.from(c);return{restore:we,from:Pe};function we(){r=ie,m.previous=ye,m.currentConstruct=Ue,m.events.length=Pe,c=Z,_e()}}function _e(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function kW(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const c=a[0];typeof c=="string"?a[0]=c.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function AW(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}const IW={42:Pi,43:Pi,45:Pi,48:Pi,49:Pi,50:Pi,51:Pi,52:Pi,53:Pi,54:Pi,55:Pi,56:Pi,57:Pi,62:y4},bW={91:Dj},DW={[-2]:Qx,[-1]:Qx,32:Qx},RW={35:Oj,42:K0,45:[db,K0],60:Vj,61:db,95:K0,96:fb,126:fb},LW={38:w4,92:_4},PW={[-5]:Xx,[-4]:Xx,[-3]:Xx,33:iW,38:w4,42:US,60:[aj,Gj],91:sW,92:[Nj,_4],93:lT,95:US,96:wj},NW={null:[US,xW]},FW={null:[42,95]},OW={null:[]},MW=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:FW,contentInitial:bW,disable:OW,document:IW,flow:RW,flowInitial:DW,insideSpan:NW,string:LW,text:PW},Symbol.toStringTag,{value:"Module"}));function BW(t){const n=W$([MW,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(ej),document:i(nj),flow:i(_W),string:i(EW),text:i(SW)};return r;function i(s){return a;function a(c){return TW(r,s,c)}}}const pb=/[\0\t\n\r]/g;function UW(){let t=1,e="",n=!0,r;return i;function i(s,a,c){const p=[];let m,y,w,E,C;for(s=e+s.toString(a),w=0,e="",n&&(s.charCodeAt(0)===65279&&w++,n=void 0);w<s.length;){if(pb.lastIndex=w,m=pb.exec(s),E=m&&m.index!==void 0?m.index:s.length,C=s.charCodeAt(E),!m){e=s.slice(w);break}if(C===10&&w===E&&r)p.push(-3),r=void 0;else switch(r&&(p.push(-5),r=void 0),w<E&&(p.push(s.slice(w,E)),t+=E-w),C){case 0:{p.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,p.push(-2);t++<y;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:r=!0,t=1}w=E+1}return c&&(r&&p.push(-5),e&&p.push(e),p.push(null)),p}}function VW(t){for(;!x4(t););return t}function A4(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const zW=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function HW(t){return t.replace(zW,$W)}function $W(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return A4(n.slice(s?2:1),s?16:10)}return aT(n)||t}const I4={}.hasOwnProperty,jW=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),WW(n)(VW(BW(n).document().write(UW()(t,e,!0))))};function WW(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(mt),autolinkProtocol:ie,autolinkEmail:ie,atxHeading:c(Ur),blockQuote:c(bt),characterEscape:ie,characterReference:ie,codeFenced:c(Nt),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:c(Nt,p),codeText:c(gn,p),codeTextData:ie,data:ie,codeFlowValue:ie,definition:c(Zt),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:c(Ye),hardBreakEscape:c(kn),hardBreakTrailing:c(kn),htmlFlow:c(Cr,p),htmlFlowData:ie,htmlText:c(Cr,p),htmlTextData:ie,image:c(Si),label:p,link:c(mt),listItem:c(br),listItemValue:P,listOrdered:c(dn,C),listUnordered:c(dn),paragraph:c($i),reference:nt,referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:c(Ur),strong:c(ce),thematicBreak:c(re)},exit:{atxHeading:y(),atxHeadingSequence:W,autolink:y(),autolinkEmail:an,autolinkProtocol:Pt,blockQuote:y(),characterEscapeValue:ye,characterReferenceMarkerHexadecimal:At,characterReferenceMarkerNumeric:At,characterReferenceValue:Bt,codeFenced:y(b),codeFencedFence:R,codeFencedFenceInfo:O,codeFencedFenceMeta:M,codeFlowValue:ye,codeIndented:y(D),codeText:y(de),codeTextData:ye,data:ye,definition:y(),definitionDestinationString:U,definitionLabelString:B,definitionTitleString:j,emphasis:y(),hardBreakEscape:y(Pe),hardBreakTrailing:y(Pe),htmlFlow:y(Z),htmlFlowData:ye,htmlText:y(we),htmlTextData:ye,image:y(Le),label:tt,labelText:q,lineEnding:Ue,link:y(he),listItem:y(),listOrdered:y(),listUnordered:y(),paragraph:y(),referenceString:ze,resourceDestinationString:Q,resourceTitleString:S,resource:fe,setextHeading:y(_e),setextHeadingLineSequence:ae,setextHeadingText:Y,strong:y(),thematicBreak:y()}};b4(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(A){let F={type:"root",children:[]};const G={stack:[F],tokenStack:[],config:e,enter:m,exit:w,buffer:p,resume:E,setData:s,getData:a},K=[];let ee=-1;for(;++ee<A.length;)if(A[ee][1].type==="listOrdered"||A[ee][1].type==="listUnordered")if(A[ee][0]==="enter")K.push(ee);else{const be=K.pop();ee=i(A,be,ee)}for(ee=-1;++ee<A.length;){const be=e[A[ee][0]];I4.call(be,A[ee][1].type)&&be[A[ee][1].type].call(Object.assign({sliceSerialize:A[ee][2].sliceSerialize},G),A[ee][1])}if(G.tokenStack.length>0){const be=G.tokenStack[G.tokenStack.length-1];(be[1]||gb).call(G,void 0,be[0])}for(F.position={start:Bl(A.length>0?A[0][1].start:{line:1,column:1,offset:0}),end:Bl(A.length>0?A[A.length-2][1].end:{line:1,column:1,offset:0})},ee=-1;++ee<e.transforms.length;)F=e.transforms[ee](F)||F;return F}function i(A,F,G){let K=F-1,ee=-1,be=!1,Ve,Be,$e,it;for(;++K<=G;){const ke=A[K];if(ke[1].type==="listUnordered"||ke[1].type==="listOrdered"||ke[1].type==="blockQuote"?(ke[0]==="enter"?ee++:ee--,it=void 0):ke[1].type==="lineEndingBlank"?ke[0]==="enter"&&(Ve&&!it&&!ee&&!$e&&($e=K),it=void 0):ke[1].type==="linePrefix"||ke[1].type==="listItemValue"||ke[1].type==="listItemMarker"||ke[1].type==="listItemPrefix"||ke[1].type==="listItemPrefixWhitespace"||(it=void 0),!ee&&ke[0]==="enter"&&ke[1].type==="listItemPrefix"||ee===-1&&ke[0]==="exit"&&(ke[1].type==="listUnordered"||ke[1].type==="listOrdered")){if(Ve){let ot=K;for(Be=void 0;ot--;){const me=A[ot];if(me[1].type==="lineEnding"||me[1].type==="lineEndingBlank"){if(me[0]==="exit")continue;Be&&(A[Be][1].type="lineEndingBlank",be=!0),me[1].type="lineEnding",Be=ot}else if(!(me[1].type==="linePrefix"||me[1].type==="blockQuotePrefix"||me[1].type==="blockQuotePrefixWhitespace"||me[1].type==="blockQuoteMarker"||me[1].type==="listItemIndent"))break}$e&&(!Be||$e<Be)&&(Ve._spread=!0),Ve.end=Object.assign({},Be?A[Be][1].start:ke[1].end),A.splice(Be||K,0,["exit",Ve,ke[2]]),K++,G++}ke[1].type==="listItemPrefix"&&(Ve={type:"listItem",_spread:!1,start:Object.assign({},ke[1].start),end:void 0},A.splice(K,0,["enter",Ve,ke[2]]),K++,G++,$e=void 0,it=!0)}}return A[F][1]._spread=be,G}function s(A,F){n[A]=F}function a(A){return n[A]}function c(A,F){return G;function G(K){m.call(this,A(K),K),F&&F.call(this,K)}}function p(){this.stack.push({type:"fragment",children:[]})}function m(A,F,G){return this.stack[this.stack.length-1].children.push(A),this.stack.push(A),this.tokenStack.push([F,G]),A.position={start:Bl(F.start)},A}function y(A){return F;function F(G){A&&A.call(this,G),w.call(this,G)}}function w(A,F){const G=this.stack.pop(),K=this.tokenStack.pop();if(K)K[0].type!==A.type&&(F?F.call(this,A,K[0]):(K[1]||gb).call(this,A,K[0]));else throw new Error("Cannot close `"+A.type+"` ("+lg({start:A.start,end:A.end})+"): it’s not open");return G.position.end=Bl(A.end),G}function E(){return $$(this.stack.pop())}function C(){s("expectingFirstListItemValue",!0)}function P(A){if(a("expectingFirstListItemValue")){const F=this.stack[this.stack.length-2];F.start=Number.parseInt(this.sliceSerialize(A),10),s("expectingFirstListItemValue")}}function O(){const A=this.resume(),F=this.stack[this.stack.length-1];F.lang=A}function M(){const A=this.resume(),F=this.stack[this.stack.length-1];F.meta=A}function R(){a("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function b(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function D(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A.replace(/(\r?\n|\r)$/g,"")}function B(A){const F=this.resume(),G=this.stack[this.stack.length-1];G.label=F,G.identifier=Ch(this.sliceSerialize(A)).toLowerCase()}function j(){const A=this.resume(),F=this.stack[this.stack.length-1];F.title=A}function U(){const A=this.resume(),F=this.stack[this.stack.length-1];F.url=A}function W(A){const F=this.stack[this.stack.length-1];if(!F.depth){const G=this.sliceSerialize(A).length;F.depth=G}}function Y(){s("setextHeadingSlurpLineEnding",!0)}function ae(A){const F=this.stack[this.stack.length-1];F.depth=this.sliceSerialize(A).charCodeAt(0)===61?1:2}function _e(){s("setextHeadingSlurpLineEnding")}function ie(A){const F=this.stack[this.stack.length-1];let G=F.children[F.children.length-1];(!G||G.type!=="text")&&(G=ue(),G.position={start:Bl(A.start)},F.children.push(G)),this.stack.push(G)}function ye(A){const F=this.stack.pop();F.value+=this.sliceSerialize(A),F.position.end=Bl(A.end)}function Ue(A){const F=this.stack[this.stack.length-1];if(a("atHardBreak")){const G=F.children[F.children.length-1];G.position.end=Bl(A.end),s("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(F.type)&&(ie.call(this,A),ye.call(this,A))}function Pe(){s("atHardBreak",!0)}function Z(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function we(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function de(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function he(){const A=this.stack[this.stack.length-1];if(a("inReference")){const F=a("referenceType")||"shortcut";A.type+="Reference",A.referenceType=F,delete A.url,delete A.title}else delete A.identifier,delete A.label;s("referenceType")}function Le(){const A=this.stack[this.stack.length-1];if(a("inReference")){const F=a("referenceType")||"shortcut";A.type+="Reference",A.referenceType=F,delete A.url,delete A.title}else delete A.identifier,delete A.label;s("referenceType")}function q(A){const F=this.sliceSerialize(A),G=this.stack[this.stack.length-2];G.label=HW(F),G.identifier=Ch(F).toLowerCase()}function tt(){const A=this.stack[this.stack.length-1],F=this.resume(),G=this.stack[this.stack.length-1];if(s("inReference",!0),G.type==="link"){const K=A.children;G.children=K}else G.alt=F}function Q(){const A=this.resume(),F=this.stack[this.stack.length-1];F.url=A}function S(){const A=this.resume(),F=this.stack[this.stack.length-1];F.title=A}function fe(){s("inReference")}function nt(){s("referenceType","collapsed")}function ze(A){const F=this.resume(),G=this.stack[this.stack.length-1];G.label=F,G.identifier=Ch(this.sliceSerialize(A)).toLowerCase(),s("referenceType","full")}function At(A){s("characterReferenceType",A.type)}function Bt(A){const F=this.sliceSerialize(A),G=a("characterReferenceType");let K;G?(K=A4(F,G==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):K=aT(F);const ee=this.stack.pop();ee.value+=K,ee.position.end=Bl(A.end)}function Pt(A){ye.call(this,A);const F=this.stack[this.stack.length-1];F.url=this.sliceSerialize(A)}function an(A){ye.call(this,A);const F=this.stack[this.stack.length-1];F.url="mailto:"+this.sliceSerialize(A)}function bt(){return{type:"blockquote",children:[]}}function Nt(){return{type:"code",lang:null,meta:null,value:""}}function gn(){return{type:"inlineCode",value:""}}function Zt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ye(){return{type:"emphasis",children:[]}}function Ur(){return{type:"heading",depth:void 0,children:[]}}function kn(){return{type:"break"}}function Cr(){return{type:"html",value:""}}function Si(){return{type:"image",title:null,url:"",alt:null}}function mt(){return{type:"link",title:null,url:"",children:[]}}function dn(A){return{type:"list",ordered:A.type==="listOrdered",start:null,spread:A._spread,children:[]}}function br(A){return{type:"listItem",spread:A._spread,checked:null,children:[]}}function $i(){return{type:"paragraph",children:[]}}function ce(){return{type:"strong",children:[]}}function ue(){return{type:"text",value:""}}function re(){return{type:"thematicBreak"}}}function Bl(t){return{line:t.line,column:t.column,offset:t.offset}}function b4(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?b4(t,r):qW(t,r)}}function qW(t,e){let n;for(n in e)if(I4.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function gb(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+lg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+lg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+lg({start:e.start,end:e.end})+") is still open")}function GW(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return jW(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function KW(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function QW(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function XW(t,e){const n=e.value?e.value+`
`:"",r=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function YW(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ZW(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function id(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&uo(t.charCodeAt(n+1))&&uo(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const c=t.charCodeAt(n+1);s<56320&&c>56319&&c<57344?(a=String.fromCharCode(s,c),i=1):a="�"}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function D4(t,e){const n=String(e.identifier).toUpperCase(),r=id(n.toLowerCase()),i=t.footnoteOrder.indexOf(n);let s;i===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,s=t.footnoteOrder.length):(t.footnoteCounts[n]++,s=i+1);const a=t.footnoteCounts[n],c={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+r,id:t.clobberPrefix+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,c);const p={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,p),t.applyData(e,p)}function JW(t,e){const n=t.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:e.children}],position:e.position},D4(t,{type:"footnoteReference",identifier:i,position:e.position})}function eq(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tq(t,e){if(t.dangerous){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}return null}function R4(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+r};const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function nq(t,e){const n=t.definition(e.identifier);if(!n)return R4(t,e);const r={src:id(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function rq(t,e){const n={src:id(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function iq(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function oq(t,e){const n=t.definition(e.identifier);if(!n)return R4(t,e);const r={href:id(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function sq(t,e){const n={href:id(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function aq(t,e,n){const r=t.all(e),i=n?lq(n):L4(e),s={},a=[];if(typeof e.checked=="boolean"){const y=r[0];let w;y&&y.type==="element"&&y.tagName==="p"?w=y:(w={type:"element",tagName:"p",properties:{},children:[]},r.unshift(w)),w.children.length>0&&w.children.unshift({type:"text",value:" "}),w.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const y=r[c];(i||c!==0||y.type!=="element"||y.tagName!=="p")&&a.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!i?a.push(...y.children):a.push(y)}const p=r[r.length-1];p&&(i||p.type!=="element"||p.tagName!=="p")&&a.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,m),t.applyData(e,m)}function lq(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=L4(n[r])}return e}function L4(t){const e=t.spread;return e??t.children.length>1}function uq(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function cq(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fq(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function hq(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const uT=P4("start"),cT=P4("end");function dq(t){return{start:uT(t),end:cT(t)}}function P4(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function pq(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=uT(e.children[1]),p=cT(e.children[e.children.length-1]);c.line&&p.line&&(a.position={start:c,end:p}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function gq(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,c=a?a.length:e.children.length;let p=-1;const m=[];for(;++p<c;){const w=e.children[p],E={},C=a?a[p]:void 0;C&&(E.align=C);let P={type:"element",tagName:s,properties:E,children:[]};w&&(P.children=t.all(w),t.patch(w,P),P=t.applyData(e,P)),m.push(P)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(e,y),t.applyData(e,y)}function mq(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const mb=9,vb=32;function vq(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(yb(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(yb(e.slice(i),i>0,!1)),s.join("")}function yb(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===mb||s===vb;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===mb||s===vb;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function yq(t,e){const n={type:"text",value:vq(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function _q(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const wq={blockquote:KW,break:QW,code:XW,delete:YW,emphasis:ZW,footnoteReference:D4,footnote:JW,heading:eq,html:tq,imageReference:nq,image:rq,inlineCode:iq,linkReference:oq,link:sq,listItem:aq,list:uq,paragraph:cq,root:fq,strong:hq,table:pq,tableCell:mq,tableRow:gq,text:yq,thematicBreak:_q,toml:E0,yaml:E0,definition:E0,footnoteDefinition:E0};function E0(){return null}const N4=function(t){if(t==null)return Cq;if(typeof t=="string")return Sq(t);if(typeof t=="object")return Array.isArray(t)?xq(t):Eq(t);if(typeof t=="function")return s_(t);throw new Error("Expected function, string, or object as test")};function xq(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=N4(t[n]);return s_(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function Eq(t){return s_(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function Sq(t){return s_(e);function e(n){return n&&n.type===t}}function s_(t){return e;function e(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...r))}}function Cq(){return!0}const Tq=!0,_b=!1,kq="skip",Aq=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=N4(e),s=r?-1:1;a(t,void 0,[])();function a(c,p,m){const y=c&&typeof c=="object"?c:{};if(typeof y.type=="string"){const E=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(c.type+(E?"<"+E+">":""))+")"})}return w;function w(){let E=[],C,P,O;if((!e||i(c,p,m[m.length-1]||null))&&(E=Iq(n(c,m)),E[0]===_b))return E;if(c.children&&E[0]!==kq)for(P=(r?c.children.length:-1)+s,O=m.concat(c);P>-1&&P<c.children.length;){if(C=a(c.children[P],P,O)(),C[0]===_b)return C;P=typeof C[1]=="number"?C[1]:P+s}return E}}};function Iq(t){return Array.isArray(t)?t:typeof t=="number"?[Tq,t]:[t]}const fT=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),Aq(t,e,i,r);function i(s,a){const c=a[a.length-1];return n(s,c?c.children.indexOf(s):null,c)}};function bq(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const wb={}.hasOwnProperty;function Dq(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return fT(t,"definition",r=>{const i=xb(r.identifier);i&&!wb.call(e,i)&&(e[i]=r)}),n;function n(r){const i=xb(r);return i&&wb.call(e,i)?e[i]:null}}function xb(t){return String(t||"").toUpperCase()}const qy={}.hasOwnProperty;function Rq(t,e){const n=e||{},r=n.allowDangerousHtml||!1,i={};return a.dangerous=r,a.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,a.footnoteLabel=n.footnoteLabel||"Footnotes",a.footnoteLabelTagName=n.footnoteLabelTagName||"h2",a.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=n.footnoteBackLabel||"Back to content",a.unknownHandler=n.unknownHandler,a.passThrough=n.passThrough,a.handlers={...wq,...n.handlers},a.definition=Dq(t),a.footnoteById=i,a.footnoteOrder=[],a.footnoteCounts={},a.patch=Lq,a.applyData=Pq,a.one=c,a.all=p,a.wrap=Fq,a.augment=s,fT(t,"footnoteDefinition",m=>{const y=String(m.identifier).toUpperCase();qy.call(i,y)||(i[y]=m)}),a;function s(m,y){if(m&&"data"in m&&m.data){const w=m.data;w.hName&&(y.type!=="element"&&(y={type:"element",tagName:"",properties:{},children:[]}),y.tagName=w.hName),y.type==="element"&&w.hProperties&&(y.properties={...y.properties,...w.hProperties}),"children"in y&&y.children&&w.hChildren&&(y.children=w.hChildren)}if(m){const w="type"in m?m:{position:m};bq(w)||(y.position={start:uT(w),end:cT(w)})}return y}function a(m,y,w,E){return Array.isArray(w)&&(E=w,w={}),s(m,{type:"element",tagName:y,properties:w||{},children:E||[]})}function c(m,y){return F4(a,m,y)}function p(m){return hT(a,m)}}function Lq(t,e){t.position&&(e.position=dq(t))}function Pq(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function F4(t,e,n){const r=e&&e.type;if(!r)throw new Error("Expected node, got `"+e+"`");return qy.call(t.handlers,r)?t.handlers[r](t,e,n):t.passThrough&&t.passThrough.includes(r)?"children"in e?{...e,children:hT(t,e)}:e:t.unknownHandler?t.unknownHandler(t,e,n):Nq(t,e)}function hT(t,e){const n=[];if("children"in e){const r=e.children;let i=-1;for(;++i<r.length;){const s=F4(t,r[i],e);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const a=s.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function Nq(t,e){const n=e.data||{},r="value"in e&&!(qy.call(n,"hProperties")||qy.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:hT(t,e)};return t.patch(e,r),t.applyData(e,r)}function Fq(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Oq(t){const e=[];let n=-1;for(;++n<t.footnoteOrder.length;){const r=t.footnoteById[t.footnoteOrder[n]];if(!r)continue;const i=t.all(r),s=String(r.identifier).toUpperCase(),a=id(s.toLowerCase());let c=0;const p=[];for(;++c<=t.footnoteCounts[s];){const w={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+a+(c>1?"-"+c:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"↩"}]};c>1&&w.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(c)}]}),p.length>0&&p.push({type:"text",value:" "}),p.push(w)}const m=i[i.length-1];if(m&&m.type==="element"&&m.tagName==="p"){const w=m.children[m.children.length-1];w&&w.type==="text"?w.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...p)}else i.push(...p);const y={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+a},children:t.wrap(i,!0)};t.patch(r,y),e.push(y)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(e,!0)},{type:"text",value:`
`}]}}function O4(t,e){const n=Rq(t,e),r=n.one(t,null),i=Oq(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const Mq=function(t,e){return t&&"run"in t?Uq(t,e):Vq(t||e)},Bq=Mq;function Uq(t,e){return(n,r,i)=>{t.run(O4(n,e),r,s=>{i(s)})}}function Vq(t){return e=>O4(e,t)}var M4={exports:{}},zq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Hq=zq,$q=Hq;function B4(){}function U4(){}U4.resetWarningCache=B4;var jq=function(){function t(r,i,s,a,c,p){if(p!==$q){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:U4,resetWarningCache:B4};return n.PropTypes=n,n};M4.exports=jq();var Wq=M4.exports;const St=jc(Wq);class Cm{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Cm.prototype.property={};Cm.prototype.normal={};Cm.prototype.space=null;function V4(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Cm(n,r,e)}function VS(t){return t.toLowerCase()}class Wo{constructor(e,n){this.property=e,this.attribute=n}}Wo.prototype.space=null;Wo.prototype.boolean=!1;Wo.prototype.booleanish=!1;Wo.prototype.overloadedBoolean=!1;Wo.prototype.number=!1;Wo.prototype.commaSeparated=!1;Wo.prototype.spaceSeparated=!1;Wo.prototype.commaOrSpaceSeparated=!1;Wo.prototype.mustUseProperty=!1;Wo.prototype.defined=!1;let qq=0;const It=Yc(),yr=Yc(),z4=Yc(),Fe=Yc(),En=Yc(),Th=Yc(),oo=Yc();function Yc(){return 2**++qq}const zS=Object.freeze(Object.defineProperty({__proto__:null,boolean:It,booleanish:yr,commaOrSpaceSeparated:oo,commaSeparated:Th,number:Fe,overloadedBoolean:z4,spaceSeparated:En},Symbol.toStringTag,{value:"Module"})),Yx=Object.keys(zS);class dT extends Wo{constructor(e,n,r,i){let s=-1;if(super(e,n),Eb(this,"space",i),typeof r=="number")for(;++s<Yx.length;){const a=Yx[s];Eb(this,Yx[s],(r&zS[a])===zS[a])}}}dT.prototype.defined=!0;function Eb(t,e,n){n&&(t[e]=n)}const Gq={}.hasOwnProperty;function od(t){const e={},n={};let r;for(r in t.properties)if(Gq.call(t.properties,r)){const i=t.properties[r],s=new dT(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[VS(r)]=r,n[VS(s.attribute)]=r}return new Cm(e,n,t.space)}const H4=od({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),$4=od({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function j4(t,e){return e in t?t[e]:e}function W4(t,e){return j4(t,e.toLowerCase())}const q4=od({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:W4,properties:{xmlns:null,xmlnsXLink:null}}),G4=od({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:yr,ariaAutoComplete:null,ariaBusy:yr,ariaChecked:yr,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:En,ariaCurrent:null,ariaDescribedBy:En,ariaDetails:null,ariaDisabled:yr,ariaDropEffect:En,ariaErrorMessage:null,ariaExpanded:yr,ariaFlowTo:En,ariaGrabbed:yr,ariaHasPopup:null,ariaHidden:yr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:En,ariaLevel:Fe,ariaLive:null,ariaModal:yr,ariaMultiLine:yr,ariaMultiSelectable:yr,ariaOrientation:null,ariaOwns:En,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:yr,ariaReadOnly:yr,ariaRelevant:null,ariaRequired:yr,ariaRoleDescription:En,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:yr,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null}}),Kq=od({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:W4,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Th,acceptCharset:En,accessKey:En,action:null,allow:null,allowFullScreen:It,allowPaymentRequest:It,allowUserMedia:It,alt:null,as:null,async:It,autoCapitalize:null,autoComplete:En,autoFocus:It,autoPlay:It,blocking:En,capture:null,charSet:null,checked:It,cite:null,className:En,cols:Fe,colSpan:null,content:null,contentEditable:yr,controls:It,controlsList:En,coords:Fe|Th,crossOrigin:null,data:null,dateTime:null,decoding:null,default:It,defer:It,dir:null,dirName:null,disabled:It,download:z4,draggable:yr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:It,formTarget:null,headers:En,height:Fe,hidden:It,high:Fe,href:null,hrefLang:null,htmlFor:En,httpEquiv:En,id:null,imageSizes:null,imageSrcSet:null,inert:It,inputMode:null,integrity:null,is:null,isMap:It,itemId:null,itemProp:En,itemRef:En,itemScope:It,itemType:En,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:It,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:It,muted:It,name:null,nonce:null,noModule:It,noValidate:It,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:It,optimum:Fe,pattern:null,ping:En,placeholder:null,playsInline:It,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:It,referrerPolicy:null,rel:En,required:It,reversed:It,rows:Fe,rowSpan:Fe,sandbox:En,scope:null,scoped:It,seamless:It,selected:It,shadowRootClonable:It,shadowRootDelegatesFocus:It,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:yr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:It,useMap:null,value:yr,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:En,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:It,declare:It,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:It,noHref:It,noShade:It,noWrap:It,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:yr,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:It,disableRemotePlayback:It,prefix:null,property:null,results:Fe,security:null,unselectable:null}}),Qq=od({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:j4,properties:{about:oo,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:En,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:It,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Th,g2:Th,glyphName:Th,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:oo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:En,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:oo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:oo,rev:oo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:oo,requiredFeatures:oo,requiredFonts:oo,requiredFormats:oo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:oo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:oo,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:oo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Xq=/^data[-\w.:]+$/i,Sb=/-[a-z]/g,Yq=/[A-Z]/g;function Zq(t,e){const n=VS(e);let r=e,i=Wo;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Xq.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Sb,eG);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Sb.test(s)){let a=s.replace(Yq,Jq);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=dT}return new i(r,e)}function Jq(t){return"-"+t.toLowerCase()}function eG(t){return t.charAt(1).toUpperCase()}const Cb={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},tG=V4([$4,H4,q4,G4,Kq],"html"),nG=V4([$4,H4,q4,G4,Qq],"svg");function rG(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return e=>{fT(e,"element",(n,r,i)=>{const s=i;let a;if(t.allowedElements?a=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(a=t.disallowedElements.includes(n.tagName)),!a&&t.allowElement&&typeof r=="number"&&(a=!t.allowElement(n,r,s)),a&&typeof r=="number")return t.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}const Tb=["http","https","mailto","tel"];function iG(t){const e=(t||"").trim(),n=e.charAt(0);if(n==="#"||n==="/")return e;const r=e.indexOf(":");if(r===-1)return e;let i=-1;for(;++i<Tb.length;){const s=Tb[i];if(r===s.length&&e.slice(0,s.length).toLowerCase()===s)return e}return i=e.indexOf("?"),i!==-1&&r>i||(i=e.indexOf("#"),i!==-1&&r>i)?e:"javascript:void(0)"}var K4={exports:{}},hn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT=Symbol.for("react.element"),gT=Symbol.for("react.portal"),a_=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),u_=Symbol.for("react.profiler"),c_=Symbol.for("react.provider"),f_=Symbol.for("react.context"),oG=Symbol.for("react.server_context"),h_=Symbol.for("react.forward_ref"),d_=Symbol.for("react.suspense"),p_=Symbol.for("react.suspense_list"),g_=Symbol.for("react.memo"),m_=Symbol.for("react.lazy"),sG=Symbol.for("react.offscreen"),Q4;Q4=Symbol.for("react.module.reference");function qo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pT:switch(t=t.type,t){case a_:case u_:case l_:case d_:case p_:return t;default:switch(t=t&&t.$$typeof,t){case oG:case f_:case h_:case m_:case g_:case c_:return t;default:return e}}case gT:return e}}}hn.ContextConsumer=f_;hn.ContextProvider=c_;hn.Element=pT;hn.ForwardRef=h_;hn.Fragment=a_;hn.Lazy=m_;hn.Memo=g_;hn.Portal=gT;hn.Profiler=u_;hn.StrictMode=l_;hn.Suspense=d_;hn.SuspenseList=p_;hn.isAsyncMode=function(){return!1};hn.isConcurrentMode=function(){return!1};hn.isContextConsumer=function(t){return qo(t)===f_};hn.isContextProvider=function(t){return qo(t)===c_};hn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pT};hn.isForwardRef=function(t){return qo(t)===h_};hn.isFragment=function(t){return qo(t)===a_};hn.isLazy=function(t){return qo(t)===m_};hn.isMemo=function(t){return qo(t)===g_};hn.isPortal=function(t){return qo(t)===gT};hn.isProfiler=function(t){return qo(t)===u_};hn.isStrictMode=function(t){return qo(t)===l_};hn.isSuspense=function(t){return qo(t)===d_};hn.isSuspenseList=function(t){return qo(t)===p_};hn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===a_||t===u_||t===l_||t===d_||t===p_||t===sG||typeof t=="object"&&t!==null&&(t.$$typeof===m_||t.$$typeof===g_||t.$$typeof===c_||t.$$typeof===f_||t.$$typeof===h_||t.$$typeof===Q4||t.getModuleId!==void 0)};hn.typeOf=qo;K4.exports=hn;var aG=K4.exports;const lG=jc(aG);function uG(t){const e=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}function cG(t){return t.join(" ").trim()}function fG(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var kb=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,hG=/\n/g,dG=/^\s*/,pG=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,gG=/^:\s*/,mG=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,vG=/^[;\s]*/,yG=/^\s+|\s+$/g,_G=`
`,Ab="/",Ib="*",dc="",wG="comment",xG="declaration",EG=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(P){var O=P.match(hG);O&&(n+=O.length);var M=P.lastIndexOf(_G);r=~M?P.length-M:r+P.length}function s(){var P={line:n,column:r};return function(O){return O.position=new a(P),m(),O}}function a(P){this.start=P,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function c(P){var O=new Error(e.source+":"+n+":"+r+": "+P);if(O.reason=P,O.filename=e.source,O.line=n,O.column=r,O.source=t,!e.silent)throw O}function p(P){var O=P.exec(t);if(O){var M=O[0];return i(M),t=t.slice(M.length),O}}function m(){p(dG)}function y(P){var O;for(P=P||[];O=w();)O!==!1&&P.push(O);return P}function w(){var P=s();if(!(Ab!=t.charAt(0)||Ib!=t.charAt(1))){for(var O=2;dc!=t.charAt(O)&&(Ib!=t.charAt(O)||Ab!=t.charAt(O+1));)++O;if(O+=2,dc===t.charAt(O-1))return c("End of comment missing");var M=t.slice(2,O-2);return r+=2,i(M),t=t.slice(O),r+=2,P({type:wG,comment:M})}}function E(){var P=s(),O=p(pG);if(O){if(w(),!p(gG))return c("property missing ':'");var M=p(mG),R=P({type:xG,property:bb(O[0].replace(kb,dc)),value:M?bb(M[0].replace(kb,dc)):dc});return p(vG),R}}function C(){var P=[];y(P);for(var O;O=E();)O!==!1&&(P.push(O),y(P));return P}return m(),C()};function bb(t){return t?t.replace(yG,dc):dc}var SG=EG;function CG(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,i=SG(t),s=typeof e=="function",a,c,p=0,m=i.length;p<m;p++)r=i[p],a=r.property,c=r.value,s?e(a,c,r):c&&(n||(n={}),n[a]=c);return n}var TG=CG;const kG=jc(TG),HS={}.hasOwnProperty,AG=new Set(["table","thead","tbody","tfoot","tr"]);function X4(t,e){const n=[];let r=-1,i;for(;++r<e.children.length;)i=e.children[r],i.type==="element"?n.push(IG(t,i,r,e)):i.type==="text"?(e.type!=="element"||!AG.has(e.tagName)||!uG(i))&&n.push(i.value):i.type==="raw"&&!t.options.skipHtml&&n.push(i.value);return n}function IG(t,e,n,r){const i=t.options,s=t.schema,a=e.tagName,c={};let p=s,m;if(s.space==="html"&&a==="svg"&&(p=nG,t.schema=p),e.properties)for(m in e.properties)HS.call(e.properties,m)&&DG(c,m,e.properties[m],t);(a==="ol"||a==="ul")&&t.listDepth++;const y=X4(t,e);(a==="ol"||a==="ul")&&t.listDepth--,t.schema=s;const w=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},E=i.components&&HS.call(i.components,a)?i.components[a]:a,C=typeof E=="string"||E===dt.Fragment;if(!lG.isValidElementType(E))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(c.key=[a,w.start.line,w.start.column,n].join("-"),a==="a"&&i.linkTarget&&(c.target=typeof i.linkTarget=="function"?i.linkTarget(String(c.href||""),e.children,typeof c.title=="string"?c.title:null):i.linkTarget),a==="a"&&i.transformLinkUri&&(c.href=i.transformLinkUri(String(c.href||""),e.children,typeof c.title=="string"?c.title:null)),!C&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(c.inline=!0),!C&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(c.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(c.src=i.transformImageUri(String(c.src||""),String(c.alt||""),typeof c.title=="string"?c.title:null)),!C&&a==="li"&&r.type==="element"){const P=bG(e);c.checked=P&&P.properties?!!P.properties.checked:null,c.index=Zx(r,e),c.ordered=r.tagName==="ol"}return!C&&(a==="ol"||a==="ul")&&(c.ordered=a==="ol",c.depth=t.listDepth),(a==="td"||a==="th")&&(c.align&&(c.style||(c.style={}),c.style.textAlign=c.align,delete c.align),C||(c.isHeader=a==="th")),!C&&a==="tr"&&r.type==="element"&&(c.isHeader=r.tagName==="thead"),i.sourcePos&&(c["data-sourcepos"]=PG(w)),!C&&i.rawSourcePos&&(c.sourcePosition=e.position),!C&&i.includeElementIndex&&(c.index=Zx(r,e),c.siblingCount=Zx(r)),C||(c.node=e),y.length>0?dt.createElement(E,c,y):dt.createElement(E,c)}function bG(t){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n.type==="element"&&n.tagName==="input")return n}return null}function Zx(t,e){let n=-1,r=0;for(;++n<t.children.length&&t.children[n]!==e;)t.children[n].type==="element"&&r++;return r}function DG(t,e,n,r){const i=Zq(r.schema,e);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?fG(s):cG(s)),i.property==="style"&&typeof s=="string"&&(s=RG(s)),i.space&&i.property?t[HS.call(Cb,i.property)?Cb[i.property]:i.property]=s:i.attribute&&(t[i.attribute]=s))}function RG(t){const e={};try{kG(t,n)}catch{}return e;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;e[s.replace(/-([a-z])/g,LG)]=i}}function LG(t,e){return e.toUpperCase()}function PG(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(e=>String(e)).join("")}const Db={}.hasOwnProperty,NG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",S0={plugins:{to:"plugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function v_(t){for(const s in S0)if(Db.call(S0,s)&&Db.call(t,s)){const a=S0[s];console.warn(`[react-markdown] Warning: please ${a.to?`use \`${a.to}\` instead of`:"remove"} \`${s}\` (see <${NG}#${a.id}> for more info)`),delete S0[s]}const e=B$().use(GW).use(t.remarkPlugins||[]).use(Bq,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(rG,t),n=new d4;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const r=e.runSync(e.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=dt.createElement(dt.Fragment,{},X4({options:t,schema:tG,listDepth:0},r));return t.className&&(i=dt.createElement("div",{className:t.className},i)),i}v_.defaultProps={transformLinkUri:iG};v_.propTypes={children:St.string,className:St.string,allowElement:St.func,allowedElements:St.arrayOf(St.string),disallowedElements:St.arrayOf(St.string),unwrapDisallowed:St.bool,remarkPlugins:St.arrayOf(St.oneOfType([St.object,St.func,St.arrayOf(St.oneOfType([St.bool,St.string,St.object,St.func,St.arrayOf(St.any)]))])),rehypePlugins:St.arrayOf(St.oneOfType([St.object,St.func,St.arrayOf(St.oneOfType([St.bool,St.string,St.object,St.func,St.arrayOf(St.any)]))])),sourcePos:St.bool,rawSourcePos:St.bool,skipHtml:St.bool,includeElementIndex:St.bool,transformLinkUri:St.oneOfType([St.func,St.bool]),linkTarget:St.oneOfType([St.func,St.string]),transformImageUri:St.func,components:St.object};function mT(t){let e=t.getDate();e=e<10?"0"+e:e;let n=t.getMonth()+1;n=n<10?"0"+n:n;let r=t.getFullYear();return e+"."+n+"."+r}var $S=new Map,C0=new WeakMap,Rb=0,FG=void 0;function OG(t){return t?(C0.has(t)||(Rb+=1,C0.set(t,Rb.toString())),C0.get(t)):"0"}function MG(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?OG(t.root):t[e]}`).toString()}function BG(t){const e=MG(t);let n=$S.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(a=>{a.forEach(c=>{var p;const m=c.isIntersecting&&i.some(y=>c.intersectionRatio>=y);t.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=m),(p=r.get(c.target))==null||p.forEach(y=>{y(m,c)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},$S.set(e,n)}return n}function UG(t,e,n={},r=FG){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const p=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:p,intersectionRect:p,rootBounds:p}),()=>{}}const{id:i,observer:s,elements:a}=BG(n),c=a.get(t)||[];return a.has(t)||a.set(t,c),c.push(e),s.observe(t),function(){c.splice(c.indexOf(e),1),c.length===0&&(a.delete(t),s.unobserve(t)),a.size===0&&(s.disconnect(),$S.delete(i))}}function VG({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:a,initialInView:c,fallbackInView:p,onChange:m}={}){var y;const[w,E]=pe.useState(null),C=pe.useRef(),[P,O]=pe.useState({inView:!!c,entry:void 0});C.current=m,pe.useEffect(()=>{if(a||!w)return;let D;return D=UG(w,(B,j)=>{O({inView:B,entry:j}),C.current&&C.current(B,j),j.isIntersecting&&s&&D&&(D(),D=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},p),()=>{D&&D()}},[Array.isArray(t)?t.toString():t,w,i,r,s,a,n,p,e]);const M=(y=P.entry)==null?void 0:y.target,R=pe.useRef();!w&&M&&!s&&!a&&R.current!==M&&(R.current=M,O({inView:!!c,entry:void 0}));const b=[E,P.inView,P.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}const Y4=({handleLike:t,likes:e,userId:n})=>{const r=()=>(e==null?void 0:e.length)>0?e.find(i=>i===n)?H.jsxs(H.Fragment,{children:[H.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:H.jsx("path",{d:"M20.9752 12.1852L20.2361 12.0574L20.9752 12.1852ZM20.2696 16.265L19.5306 16.1371L20.2696 16.265ZM6.93777 20.4771L6.19056 20.5417L6.93777 20.4771ZM6.12561 11.0844L6.87282 11.0198L6.12561 11.0844ZM13.995 5.22142L14.7351 5.34269V5.34269L13.995 5.22142ZM13.3323 9.26598L14.0724 9.38725V9.38725L13.3323 9.26598ZM6.69814 9.67749L6.20855 9.10933H6.20855L6.69814 9.67749ZM8.13688 8.43769L8.62647 9.00585H8.62647L8.13688 8.43769ZM10.5181 4.78374L9.79208 4.59542L10.5181 4.78374ZM10.9938 2.94989L11.7197 3.13821V3.13821L10.9938 2.94989ZM12.6676 2.06435L12.4382 2.77841L12.4382 2.77841L12.6676 2.06435ZM12.8126 2.11093L13.042 1.39687L13.042 1.39687L12.8126 2.11093ZM9.86195 6.46262L10.5235 6.81599V6.81599L9.86195 6.46262ZM13.9047 3.24752L13.1787 3.43584V3.43584L13.9047 3.24752ZM11.6742 2.13239L11.3486 1.45675V1.45675L11.6742 2.13239ZM3.9716 21.4707L3.22439 21.5353L3.9716 21.4707ZM3 10.2342L3.74721 10.1696C3.71261 9.76945 3.36893 9.46758 2.96767 9.4849C2.5664 9.50221 2.25 9.83256 2.25 10.2342H3ZM20.2361 12.0574L19.5306 16.1371L21.0087 16.3928L21.7142 12.313L20.2361 12.0574ZM13.245 21.25H8.59635V22.75H13.245V21.25ZM7.68498 20.4125L6.87282 11.0198L5.3784 11.149L6.19056 20.5417L7.68498 20.4125ZM19.5306 16.1371C19.0238 19.0677 16.3813 21.25 13.245 21.25V22.75C17.0712 22.75 20.3708 20.081 21.0087 16.3928L19.5306 16.1371ZM13.2548 5.10015L12.5921 9.14472L14.0724 9.38725L14.7351 5.34269L13.2548 5.10015ZM7.18773 10.2456L8.62647 9.00585L7.64729 7.86954L6.20855 9.10933L7.18773 10.2456ZM11.244 4.97206L11.7197 3.13821L10.2678 2.76157L9.79208 4.59542L11.244 4.97206ZM12.4382 2.77841L12.5832 2.82498L13.042 1.39687L12.897 1.3503L12.4382 2.77841ZM10.5235 6.81599C10.8354 6.23198 11.0777 5.61339 11.244 4.97206L9.79208 4.59542C9.65573 5.12107 9.45699 5.62893 9.20042 6.10924L10.5235 6.81599ZM12.5832 2.82498C12.8896 2.92342 13.1072 3.16009 13.1787 3.43584L14.6307 3.05921C14.4252 2.26719 13.819 1.64648 13.042 1.39687L12.5832 2.82498ZM11.7197 3.13821C11.7548 3.0032 11.8523 2.87913 11.9998 2.80804L11.3486 1.45675C10.8166 1.71309 10.417 2.18627 10.2678 2.76157L11.7197 3.13821ZM11.9998 2.80804C12.1345 2.74311 12.2931 2.73181 12.4382 2.77841L12.897 1.3503C12.3873 1.18655 11.8312 1.2242 11.3486 1.45675L11.9998 2.80804ZM14.1537 10.9842H19.3348V9.4842H14.1537V10.9842ZM4.71881 21.4061L3.74721 10.1696L2.25279 10.2988L3.22439 21.5353L4.71881 21.4061ZM3.75 21.5127V10.2342H2.25V21.5127H3.75ZM3.22439 21.5353C3.2112 21.3828 3.33146 21.25 3.48671 21.25V22.75C4.21268 22.75 4.78122 22.1279 4.71881 21.4061L3.22439 21.5353ZM14.7351 5.34269C14.8596 4.58256 14.8241 3.80477 14.6307 3.0592L13.1787 3.43584C13.3197 3.97923 13.3456 4.54613 13.2548 5.10016L14.7351 5.34269ZM8.59635 21.25C8.12244 21.25 7.72601 20.887 7.68498 20.4125L6.19056 20.5417C6.29852 21.7902 7.3427 22.75 8.59635 22.75V21.25ZM8.62647 9.00585C9.30632 8.42 10.0392 7.72267 10.5235 6.81599L9.20042 6.10924C8.85404 6.75767 8.3025 7.30493 7.64729 7.86954L8.62647 9.00585ZM21.7142 12.313C21.9695 10.8365 20.8341 9.4842 19.3348 9.4842V10.9842C19.9014 10.9842 20.3332 11.4959 20.2361 12.0574L21.7142 12.313ZM3.48671 21.25C3.63292 21.25 3.75 21.3684 3.75 21.5127H2.25C2.25 22.1953 2.80289 22.75 3.48671 22.75V21.25ZM12.5921 9.14471C12.4344 10.1076 13.1766 10.9842 14.1537 10.9842V9.4842C14.1038 9.4842 14.0639 9.43901 14.0724 9.38725L12.5921 9.14471ZM6.87282 11.0198C6.8474 10.7258 6.96475 10.4378 7.18773 10.2456L6.20855 9.10933C5.62022 9.61631 5.31149 10.3753 5.3784 11.149L6.87282 11.0198Z",fill:"red"})})," ",e.length]}):H.jsxs(H.Fragment,{children:[H.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:H.jsx("path",{d:"M20.9752 12.1852L20.2361 12.0574L20.9752 12.1852ZM20.2696 16.265L19.5306 16.1371L20.2696 16.265ZM6.93777 20.4771L6.19056 20.5417L6.93777 20.4771ZM6.12561 11.0844L6.87282 11.0198L6.12561 11.0844ZM13.995 5.22142L14.7351 5.34269V5.34269L13.995 5.22142ZM13.3323 9.26598L14.0724 9.38725V9.38725L13.3323 9.26598ZM6.69814 9.67749L6.20855 9.10933H6.20855L6.69814 9.67749ZM8.13688 8.43769L8.62647 9.00585H8.62647L8.13688 8.43769ZM10.5181 4.78374L9.79208 4.59542L10.5181 4.78374ZM10.9938 2.94989L11.7197 3.13821V3.13821L10.9938 2.94989ZM12.6676 2.06435L12.4382 2.77841L12.4382 2.77841L12.6676 2.06435ZM12.8126 2.11093L13.042 1.39687L13.042 1.39687L12.8126 2.11093ZM9.86195 6.46262L10.5235 6.81599V6.81599L9.86195 6.46262ZM13.9047 3.24752L13.1787 3.43584V3.43584L13.9047 3.24752ZM11.6742 2.13239L11.3486 1.45675V1.45675L11.6742 2.13239ZM3.9716 21.4707L3.22439 21.5353L3.9716 21.4707ZM3 10.2342L3.74721 10.1696C3.71261 9.76945 3.36893 9.46758 2.96767 9.4849C2.5664 9.50221 2.25 9.83256 2.25 10.2342H3ZM20.2361 12.0574L19.5306 16.1371L21.0087 16.3928L21.7142 12.313L20.2361 12.0574ZM13.245 21.25H8.59635V22.75H13.245V21.25ZM7.68498 20.4125L6.87282 11.0198L5.3784 11.149L6.19056 20.5417L7.68498 20.4125ZM19.5306 16.1371C19.0238 19.0677 16.3813 21.25 13.245 21.25V22.75C17.0712 22.75 20.3708 20.081 21.0087 16.3928L19.5306 16.1371ZM13.2548 5.10015L12.5921 9.14472L14.0724 9.38725L14.7351 5.34269L13.2548 5.10015ZM7.18773 10.2456L8.62647 9.00585L7.64729 7.86954L6.20855 9.10933L7.18773 10.2456ZM11.244 4.97206L11.7197 3.13821L10.2678 2.76157L9.79208 4.59542L11.244 4.97206ZM12.4382 2.77841L12.5832 2.82498L13.042 1.39687L12.897 1.3503L12.4382 2.77841ZM10.5235 6.81599C10.8354 6.23198 11.0777 5.61339 11.244 4.97206L9.79208 4.59542C9.65573 5.12107 9.45699 5.62893 9.20042 6.10924L10.5235 6.81599ZM12.5832 2.82498C12.8896 2.92342 13.1072 3.16009 13.1787 3.43584L14.6307 3.05921C14.4252 2.26719 13.819 1.64648 13.042 1.39687L12.5832 2.82498ZM11.7197 3.13821C11.7548 3.0032 11.8523 2.87913 11.9998 2.80804L11.3486 1.45675C10.8166 1.71309 10.417 2.18627 10.2678 2.76157L11.7197 3.13821ZM11.9998 2.80804C12.1345 2.74311 12.2931 2.73181 12.4382 2.77841L12.897 1.3503C12.3873 1.18655 11.8312 1.2242 11.3486 1.45675L11.9998 2.80804ZM14.1537 10.9842H19.3348V9.4842H14.1537V10.9842ZM4.71881 21.4061L3.74721 10.1696L2.25279 10.2988L3.22439 21.5353L4.71881 21.4061ZM3.75 21.5127V10.2342H2.25V21.5127H3.75ZM3.22439 21.5353C3.2112 21.3828 3.33146 21.25 3.48671 21.25V22.75C4.21268 22.75 4.78122 22.1279 4.71881 21.4061L3.22439 21.5353ZM14.7351 5.34269C14.8596 4.58256 14.8241 3.80477 14.6307 3.0592L13.1787 3.43584C13.3197 3.97923 13.3456 4.54613 13.2548 5.10016L14.7351 5.34269ZM8.59635 21.25C8.12244 21.25 7.72601 20.887 7.68498 20.4125L6.19056 20.5417C6.29852 21.7902 7.3427 22.75 8.59635 22.75V21.25ZM8.62647 9.00585C9.30632 8.42 10.0392 7.72267 10.5235 6.81599L9.20042 6.10924C8.85404 6.75767 8.3025 7.30493 7.64729 7.86954L8.62647 9.00585ZM21.7142 12.313C21.9695 10.8365 20.8341 9.4842 19.3348 9.4842V10.9842C19.9014 10.9842 20.3332 11.4959 20.2361 12.0574L21.7142 12.313ZM3.48671 21.25C3.63292 21.25 3.75 21.3684 3.75 21.5127H2.25C2.25 22.1953 2.80289 22.75 3.48671 22.75V21.25ZM12.5921 9.14471C12.4344 10.1076 13.1766 10.9842 14.1537 10.9842V9.4842C14.1038 9.4842 14.0639 9.43901 14.0724 9.38725L12.5921 9.14471ZM6.87282 11.0198C6.8474 10.7258 6.96475 10.4378 7.18773 10.2456L6.20855 9.10933C5.62022 9.61631 5.31149 10.3753 5.3784 11.149L6.87282 11.0198Z",fill:"red"})})," ",e.length]}):H.jsx(H.Fragment,{children:H.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:H.jsx("path",{d:"M20.9752 12.1852L20.2361 12.0574L20.9752 12.1852ZM20.2696 16.265L19.5306 16.1371L20.2696 16.265ZM6.93777 20.4771L6.19056 20.5417L6.93777 20.4771ZM6.12561 11.0844L6.87282 11.0198L6.12561 11.0844ZM13.995 5.22142L14.7351 5.34269V5.34269L13.995 5.22142ZM13.3323 9.26598L14.0724 9.38725V9.38725L13.3323 9.26598ZM6.69814 9.67749L6.20855 9.10933H6.20855L6.69814 9.67749ZM8.13688 8.43769L8.62647 9.00585H8.62647L8.13688 8.43769ZM10.5181 4.78374L9.79208 4.59542L10.5181 4.78374ZM10.9938 2.94989L11.7197 3.13821V3.13821L10.9938 2.94989ZM12.6676 2.06435L12.4382 2.77841L12.4382 2.77841L12.6676 2.06435ZM12.8126 2.11093L13.042 1.39687L13.042 1.39687L12.8126 2.11093ZM9.86195 6.46262L10.5235 6.81599V6.81599L9.86195 6.46262ZM13.9047 3.24752L13.1787 3.43584V3.43584L13.9047 3.24752ZM11.6742 2.13239L11.3486 1.45675V1.45675L11.6742 2.13239ZM3.9716 21.4707L3.22439 21.5353L3.9716 21.4707ZM3 10.2342L3.74721 10.1696C3.71261 9.76945 3.36893 9.46758 2.96767 9.4849C2.5664 9.50221 2.25 9.83256 2.25 10.2342H3ZM20.2361 12.0574L19.5306 16.1371L21.0087 16.3928L21.7142 12.313L20.2361 12.0574ZM13.245 21.25H8.59635V22.75H13.245V21.25ZM7.68498 20.4125L6.87282 11.0198L5.3784 11.149L6.19056 20.5417L7.68498 20.4125ZM19.5306 16.1371C19.0238 19.0677 16.3813 21.25 13.245 21.25V22.75C17.0712 22.75 20.3708 20.081 21.0087 16.3928L19.5306 16.1371ZM13.2548 5.10015L12.5921 9.14472L14.0724 9.38725L14.7351 5.34269L13.2548 5.10015ZM7.18773 10.2456L8.62647 9.00585L7.64729 7.86954L6.20855 9.10933L7.18773 10.2456ZM11.244 4.97206L11.7197 3.13821L10.2678 2.76157L9.79208 4.59542L11.244 4.97206ZM12.4382 2.77841L12.5832 2.82498L13.042 1.39687L12.897 1.3503L12.4382 2.77841ZM10.5235 6.81599C10.8354 6.23198 11.0777 5.61339 11.244 4.97206L9.79208 4.59542C9.65573 5.12107 9.45699 5.62893 9.20042 6.10924L10.5235 6.81599ZM12.5832 2.82498C12.8896 2.92342 13.1072 3.16009 13.1787 3.43584L14.6307 3.05921C14.4252 2.26719 13.819 1.64648 13.042 1.39687L12.5832 2.82498ZM11.7197 3.13821C11.7548 3.0032 11.8523 2.87913 11.9998 2.80804L11.3486 1.45675C10.8166 1.71309 10.417 2.18627 10.2678 2.76157L11.7197 3.13821ZM11.9998 2.80804C12.1345 2.74311 12.2931 2.73181 12.4382 2.77841L12.897 1.3503C12.3873 1.18655 11.8312 1.2242 11.3486 1.45675L11.9998 2.80804ZM14.1537 10.9842H19.3348V9.4842H14.1537V10.9842ZM4.71881 21.4061L3.74721 10.1696L2.25279 10.2988L3.22439 21.5353L4.71881 21.4061ZM3.75 21.5127V10.2342H2.25V21.5127H3.75ZM3.22439 21.5353C3.2112 21.3828 3.33146 21.25 3.48671 21.25V22.75C4.21268 22.75 4.78122 22.1279 4.71881 21.4061L3.22439 21.5353ZM14.7351 5.34269C14.8596 4.58256 14.8241 3.80477 14.6307 3.0592L13.1787 3.43584C13.3197 3.97923 13.3456 4.54613 13.2548 5.10016L14.7351 5.34269ZM8.59635 21.25C8.12244 21.25 7.72601 20.887 7.68498 20.4125L6.19056 20.5417C6.29852 21.7902 7.3427 22.75 8.59635 22.75V21.25ZM8.62647 9.00585C9.30632 8.42 10.0392 7.72267 10.5235 6.81599L9.20042 6.10924C8.85404 6.75767 8.3025 7.30493 7.64729 7.86954L8.62647 9.00585ZM21.7142 12.313C21.9695 10.8365 20.8341 9.4842 19.3348 9.4842V10.9842C19.9014 10.9842 20.3332 11.4959 20.2361 12.0574L21.7142 12.313ZM3.48671 21.25C3.63292 21.25 3.75 21.3684 3.75 21.5127H2.25C2.25 22.1953 2.80289 22.75 3.48671 22.75V21.25ZM12.5921 9.14471C12.4344 10.1076 13.1766 10.9842 14.1537 10.9842V9.4842C14.1038 9.4842 14.0639 9.43901 14.0724 9.38725L12.5921 9.14471ZM6.87282 11.0198C6.8474 10.7258 6.96475 10.4378 7.18773 10.2456L6.20855 9.10933C5.62022 9.61631 5.31149 10.3753 5.3784 11.149L6.87282 11.0198Z",fill:"black"})})});return H.jsx(H.Fragment,{children:H.jsx("span",{style:{float:"right",cursor:"pointer"},onClick:n?t:null,children:n?H.jsx("button",{style:{backgroundColor:"transparent",display:"flex",alignItems:"center",padding:0},children:H.jsx(r,{})}):H.jsx("button",{style:{backgroundColor:"transparent",display:"flex",alignItems:"center",padding:0},children:H.jsx(r,{})})})})},zG=({comments:t})=>H.jsxs("div",{children:[t.length>0?H.jsx("svg",{style:{width:"20px"},viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns",children:H.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd","sketch:type":"MSPage",children:H.jsx("g",{id:"Icon-Set","sketch:type":"MSLayerGroup",transform:"translate(-360.000000, -255.000000)",fill:"red",children:H.jsx("path",{d:"M390,277 C390,278.463 388.473,280 387,280 L379,280 L376,284 L373,280 L365,280 C363.527,280 362,278.463 362,277 L362,260 C362,258.537 363.527,257 365,257 L387,257 C388.473,257 390,258.537 390,260 L390,277 L390,277 Z M386.667,255 L365.333,255 C362.388,255 360,257.371 360,260.297 L360,277.187 C360,280.111 362.055,282 365,282 L371.639,282 L376,287.001 L380.361,282 L387,282 C389.945,282 392,280.111 392,277.187 L392,260.297 C392,257.371 389.612,255 386.667,255 L386.667,255 Z",id:"comment-5","sketch:type":"MSShapeGroup"})})})}):H.jsx("svg",{style:{width:"20px"},viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns",children:H.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd","sketch:type":"MSPage",children:H.jsx("g",{id:"Icon-Set","sketch:type":"MSLayerGroup",transform:"translate(-360.000000, -255.000000)",fill:"black",children:H.jsx("path",{d:"M390,277 C390,278.463 388.473,280 387,280 L379,280 L376,284 L373,280 L365,280 C363.527,280 362,278.463 362,277 L362,260 C362,258.537 363.527,257 365,257 L387,257 C388.473,257 390,258.537 390,260 L390,277 L390,277 Z M386.667,255 L365.333,255 C362.388,255 360,257.371 360,260.297 L360,277.187 C360,280.111 362.055,282 365,282 L371.639,282 L376,287.001 L380.361,282 L387,282 C389.945,282 392,280.111 392,277.187 L392,260.297 C392,257.371 389.612,255 386.667,255 L386.667,255 Z",id:"comment-5","sketch:type":"MSShapeGroup"})})})})," ",H.jsxs("span",{style:{color:"black"},children:[" ",t.length," "]})]}),vT=({id:t,title:e,description:n,category:r,imgUrl:i,author:s,timestamp:a,likes:c,comments:p,view:m})=>{const{ref:y,inView:w}=VG({threshold:.2,triggerOnce:!0});return H.jsx("div",{ref:y,children:w?H.jsx("div",{style:{position:"relative"},children:H.jsxs("div",{className:"row pb-4",children:[H.jsx("div",{className:"col-md-5",children:H.jsx("div",{className:"hover-blogs-img",children:H.jsx(Gs,{to:`/detail/${t}`,children:H.jsx("div",{className:"blogs-img",children:i?H.jsx("img",{src:i,alt:e}):H.jsx("div",{style:{backgroundColor:"gray",height:"100%",opacity:"0.4",padding:"10px"},children:H.jsx("h3",{style:{color:"black"},children:"Нет изображения"})})})})})}),H.jsxs("div",{className:"col-md-7",children:[H.jsxs(Gs,{to:`/detail/${t}`,children:[H.jsxs("div",{className:"text-start",children:[r==="Путешевствия"&&H.jsx("h6",{className:"category catg-color bgc4287f5",children:r}),r==="Технологии"&&H.jsx("h6",{className:"category catg-color bgcc43421",children:r}),r==="Новости"&&H.jsx("h6",{className:"category catg-color bgc32CD32",children:r}),r==="Бизнес"&&H.jsx("h6",{className:"category catg-color bgcc808000",children:r}),r!=="Путешевствия"&&r!=="Технологии"&&r!=="Бизнес"&&r!=="Новости"&&H.jsx("h6",{className:"category catg-color bgc000000",children:r}),H.jsx("span",{className:"title py-2",children:e}),H.jsxs("span",{className:"meta-info",children:[H.jsx("p",{className:"author",children:s})," - ",mT(new Date(a.seconds*1e3))]})]}),H.jsx("div",{className:"short-description text-start",children:H.jsx(v_,{children:n})})]}),H.jsxs("div",{style:{display:"flex",alignItems:"center",position:"absolute",right:0,bottom:"10px"},children:[H.jsx(Y4,{likes:c}),"    ",H.jsx(Gs,{to:`/detail/${t}`,children:H.jsx(zG,{comments:p})}),"   ",H.jsxs("div",{children:[H.jsxs("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[H.jsx("path",{d:"M15.0007 12C15.0007 13.6569 13.6576 15 12.0007 15C10.3439 15 9.00073 13.6569 9.00073 12C9.00073 10.3431 10.3439 9 12.0007 9C13.6576 9 15.0007 10.3431 15.0007 12Z",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),H.jsx("path",{d:"M12.0012 5C7.52354 5 3.73326 7.94288 2.45898 12C3.73324 16.0571 7.52354 19 12.0012 19C16.4788 19 20.2691 16.0571 21.5434 12C20.2691 7.94291 16.4788 5 12.0012 5Z",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})," ",m]})]})]})]},t)}):H.jsx("div",{style:{width:"100%",height:"333px",background:"white"}})})},yT=()=>H.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:H.jsx("div",{className:"container padding",children:H.jsx("div",{className:"row mx-0",children:H.jsx("div",{className:"loading",children:"Loading…"})})})});var HG="firebase",$G="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(HG,$G,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="firebasestorage.googleapis.com",J4="storageBucket",jG=2*60*1e3,WG=10*60*1e3,qG=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn extends la{constructor(e,n,r=0){super(Jx(e),`Firebase Storage: ${n} (${Jx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fn||(Fn={}));function Jx(t){return"storage/"+t}function _T(){const t="An unknown error occurred, please check the error payload for server response.";return new Xn(Fn.UNKNOWN,t)}function GG(t){return new Xn(Fn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function KG(t){return new Xn(Fn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xn(Fn.UNAUTHENTICATED,t)}function XG(){return new Xn(Fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function YG(t){return new Xn(Fn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function eN(){return new Xn(Fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tN(){return new Xn(Fn.CANCELED,"User canceled the upload/download.")}function ZG(t){return new Xn(Fn.INVALID_URL,"Invalid URL '"+t+"'.")}function JG(t){return new Xn(Fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eK(){return new Xn(Fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+J4+"' property when initializing the app?")}function nN(){return new Xn(Fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tK(){return new Xn(Fn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function nK(){return new Xn(Fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rK(t){return new Xn(Fn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jS(t){return new Xn(Fn.INVALID_ARGUMENT,t)}function rN(){return new Xn(Fn.APP_DELETED,"The Firebase app was deleted.")}function iK(t){return new Xn(Fn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cg(t,e){return new Xn(Fn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Np(t){throw new Xn(Fn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=co.makeFromUrl(e,n)}catch{return new co(e,"")}if(r.path==="")return r;throw JG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),p={bucket:1,path:3};function m(B){B.path_=decodeURIComponent(B.path)}const y="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",C=new RegExp(`^https?://${w}/${y}/b/${i}/o${E}`,"i"),P={bucket:1,path:3},O=n===Z4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",R=new RegExp(`^https?://${O}/${i}/${M}`,"i"),D=[{regex:c,indices:p,postModify:s},{regex:C,indices:P,postModify:m},{regex:R,indices:{bucket:1,path:2},postModify:m}];for(let B=0;B<D.length;B++){const j=D[B],U=j.regex.exec(e);if(U){const W=U[j.indices.bucket];let Y=U[j.indices.path];Y||(Y=""),r=new co(W,Y),j.postModify(r);break}}if(r==null)throw ZG(e);return r}}class oK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(t,e,n){let r=1,i=null,s=null,a=!1,c=0;function p(){return c===2}let m=!1;function y(...M){m||(m=!0,e.apply(null,M))}function w(M){i=setTimeout(()=>{i=null,t(C,p())},M)}function E(){s&&clearTimeout(s)}function C(M,...R){if(m){E();return}if(M){E(),y.call(null,M,...R);return}if(p()||a){E(),y.call(null,M,...R);return}r<64&&(r*=2);let D;c===1?(c=2,D=0):D=(r+Math.random())*1e3,w(D)}let P=!1;function O(M){P||(P=!0,E(),!m&&(i!==null?(M||(c=2),clearTimeout(i),w(0)):M||(c=1)))}return w(0),s=setTimeout(()=>{a=!0,O(!0)},n),O}function aK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lK(t){return t!==void 0}function uK(t){return typeof t=="function"}function cK(t){return typeof t=="object"&&!Array.isArray(t)}function y_(t){return typeof t=="string"||t instanceof String}function Lb(t){return wT()&&t instanceof Blob}function wT(){return typeof Blob<"u"}function Pb(t,e,n,r){if(r<e)throw jS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jS(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function iN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Cc||(Cc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e,n,r,i,s,a,c,p,m,y,w,E=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=w,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,P)=>{this.resolve_=C,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new T0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=c=>{const p=c.loaded,m=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const c=s.getErrorCode()===Cc.NO_ERROR,p=s.getStatus();if(!c||oN(p,this.additionalRetryCodes_)&&this.retry){const y=s.getErrorCode()===Cc.ABORT;r(!1,new T0(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new T0(m,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(c,c.getResponse());lK(p)?s(p):s()}catch(p){a(p)}else if(c!==null){const p=_T();p.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,p)):a(p)}else if(i.canceled){const p=this.appDelete_?rN():tN();a(p)}else{const p=eN();a(p)}};this.canceled_?n(!1,new T0(!1,null,!0)):this.backoffId_=sK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class T0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function hK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function dK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mK(t,e,n,r,i,s,a=!0){const c=iN(t.urlParams),p=t.url+c,m=Object.assign({},t.headers);return pK(m,e),hK(m,n),dK(m,s),gK(m,r),new fK(p,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yK(...t){const e=vK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(wT())return new Blob(t);throw new Xn(Fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _K(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t){if(typeof atob>"u")throw rK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class eE{constructor(e,n){this.data=e,this.contentType=n||null}}function xK(t,e){switch(t){case Xs.RAW:return new eE(sN(e));case Xs.BASE64:case Xs.BASE64URL:return new eE(aN(t,e));case Xs.DATA_URL:return new eE(SK(e),CK(e))}throw _T()}function sN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function EK(t){let e;try{e=decodeURIComponent(t)}catch{throw cg(Xs.DATA_URL,"Malformed data URL.")}return sN(e)}function aN(t,e){switch(t){case Xs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw cg(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw cg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=wK(e)}catch(i){throw i.message.includes("polyfill")?i:cg(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class lN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cg(Xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=TK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function SK(t){const e=new lN(t);return e.base64?aN(Xs.BASE64,e.rest):EK(e.rest)}function CK(t){return new lN(t).contentType}function TK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){let r=0,i="";Lb(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Lb(this.data_)){const r=this.data_,i=_K(r,e,n);return i===null?null:new Wl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Wl(r,!0)}}static getBlob(...e){if(wT()){const n=e.map(r=>r instanceof Wl?r.data_:r);return new Wl(yK.apply(null,n))}else{const n=e.map(a=>y_(a)?xK(Xs.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)i[s++]=a[c]}),new Wl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){let e;try{e=JSON.parse(t)}catch{return null}return cK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function AK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function cN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IK(t,e){return e}class gi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||IK}}let k0=null;function bK(t){return!y_(t)||t.length<2?t:cN(t)}function fN(){if(k0)return k0;const t=[];t.push(new gi("bucket")),t.push(new gi("generation")),t.push(new gi("metageneration")),t.push(new gi("name","fullPath",!0));function e(s,a){return bK(a)}const n=new gi("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new gi("size");return i.xform=r,t.push(i),t.push(new gi("timeCreated")),t.push(new gi("updated")),t.push(new gi("md5Hash",null,!0)),t.push(new gi("cacheControl",null,!0)),t.push(new gi("contentDisposition",null,!0)),t.push(new gi("contentEncoding",null,!0)),t.push(new gi("contentLanguage",null,!0)),t.push(new gi("contentType",null,!0)),t.push(new gi("metadata","customMetadata",!0)),k0=t,k0}function DK(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new co(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function RK(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return DK(r,t),r}function hN(t,e,n){const r=uN(e);return r===null?null:RK(t,r,n)}function LK(t,e,n,r){const i=uN(e);if(i===null||!y_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(m=>{const y=t.bucket,w=t.fullPath,E="/b/"+a(y)+"/o/"+a(w),C=Tm(E,n,r),P=iN({alt:"media",token:m});return C+P})[0]}function dN(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class sd{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){if(!t)throw _T()}function xT(t,e){function n(r,i){const s=hN(t,i,e);return qa(s!==null),s}return n}function PK(t,e){function n(r,i){const s=hN(t,i,e);return qa(s!==null),LK(s,i,t.host,t._protocol)}return n}function km(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=XG():i=QG():n.getStatus()===402?i=KG(t.bucket):n.getStatus()===403?i=YG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function pN(t){const e=km(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=GG(t.path)),s.serverResponse=i.serverResponse,s}return n}function NK(t,e,n){const r=e.fullServerUrl(),i=Tm(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,c=new sd(i,s,xT(t,n),a);return c.errorHandler=pN(e),c}function FK(t,e,n){const r=e.fullServerUrl(),i=Tm(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,c=new sd(i,s,PK(t,n),a);return c.errorHandler=pN(e),c}function OK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function gN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=OK(null,e)),r}function MK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let D="";for(let B=0;B<2;B++)D=D+Math.random().toString().slice(2);return D}const p=c();a["Content-Type"]="multipart/related; boundary="+p;const m=gN(e,r,i),y=dN(m,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,E=`\r
--`+p+"--",C=Wl.getBlob(w,r,E);if(C===null)throw nN();const P={name:m.fullPath},O=Tm(s,t.host,t._protocol),M="POST",R=t.maxUploadRetryTime,b=new sd(O,M,xT(t,n),R);return b.urlParams=P,b.headers=a,b.body=C.uploadData(),b.errorHandler=km(e),b}class Gy{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function ET(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{qa(!1)}return qa(!!n&&(e||["active"]).indexOf(n)!==-1),n}function BK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a=gN(e,r,i),c={name:a.fullPath},p=Tm(s,t.host,t._protocol),m="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},w=dN(a,n),E=t.maxUploadRetryTime;function C(O){ET(O);let M;try{M=O.getResponseHeader("X-Goog-Upload-URL")}catch{qa(!1)}return qa(y_(M)),M}const P=new sd(p,m,C,E);return P.urlParams=c,P.headers=y,P.body=w,P.errorHandler=km(e),P}function UK(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(m){const y=ET(m,["active","final"]);let w=null;try{w=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qa(!1)}w||qa(!1);const E=Number(w);return qa(!isNaN(E)),new Gy(E,r.size(),y==="final")}const a="POST",c=t.maxUploadRetryTime,p=new sd(n,a,s,c);return p.headers=i,p.errorHandler=km(e),p}const Nb=256*1024;function VK(t,e,n,r,i,s,a,c){const p=new Gy(0,0);if(a?(p.current=a.current,p.total=a.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw tK();const m=p.total-p.current;let y=m;i>0&&(y=Math.min(y,i));const w=p.current,E=w+y;let C="";y===0?C="finalize":m===y?C="upload, finalize":C="upload";const P={"X-Goog-Upload-Command":C,"X-Goog-Upload-Offset":`${p.current}`},O=r.slice(w,E);if(O===null)throw nN();function M(B,j){const U=ET(B,["active","final"]),W=p.current+y,Y=r.size();let ae;return U==="final"?ae=xT(e,s)(B,j):ae=null,new Gy(W,Y,U==="final",ae)}const R="POST",b=e.maxUploadRetryTime,D=new sd(n,R,M,b);return D.headers=P,D.body=O.uploadData(),D.progressCallback=c||null,D.errorHandler=km(t),D}const Ni={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tE(t){switch(t){case"running":case"pausing":case"canceling":return Ni.RUNNING;case"paused":return Ni.PAUSED;case"success":return Ni.SUCCESS;case"canceled":return Ni.CANCELED;case"error":return Ni.ERROR;default:return Ni.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(e,n,r){if(uK(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class HK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Np("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Np("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Np("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Np("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Np("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $K extends HK{initXhr(){this.xhr_.responseType="text"}}function eh(){return new $K}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=fN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Fn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(oN(i.status,[]))if(s)i=eN();else{this.sleepTime=Math.max(this.sleepTime*2,qG),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Fn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=BK(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,eh,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=UK(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,eh,n,r);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Nb*this._chunkMultiplier,n=new Gy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=VK(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const c=this._ref.storage._makeRequest(a,eh,i,s,!1);this._request=c,c.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Nb*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=NK(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,eh,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=MK(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,eh,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=tN(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=tE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new zK(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(tE(this._state)){case Ni.SUCCESS:Kf(this._resolve.bind(null,this.snapshot))();break;case Ni.CANCELED:case Ni.ERROR:const n=this._reject;Kf(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(tE(this._state)){case Ni.RUNNING:case Ni.PAUSED:e.next&&Kf(e.next.bind(e,this.snapshot))();break;case Ni.SUCCESS:e.complete&&Kf(e.complete.bind(e))();break;case Ni.CANCELED:case Ni.ERROR:e.error&&Kf(e.error.bind(e,this._error))();break;default:e.error&&Kf(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this._service=e,n instanceof co?this._location=n:this._location=co.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Uc(e,n)}get root(){const e=new co(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cN(this._location.path)}get storage(){return this._service}get parent(){const e=kK(this._location.path);if(e===null)return null;const n=new co(this._location.bucket,e);return new Uc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iK(e)}}function WK(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new jK(t,new Wl(e),n)}function qK(t){t._throwIfRoot("getDownloadURL");const e=FK(t.storage,t._location,fN());return t.storage.makeRequestWithTokens(e,eh).then(n=>{if(n===null)throw nK();return n})}function GK(t,e){const n=AK(t._location.path,e),r=new co(t._location.bucket,n);return new Uc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t){return/^[A-Za-z]+:\/\//.test(t)}function QK(t,e){return new Uc(t,e)}function mN(t,e){if(t instanceof ST){const n=t;if(n._bucket==null)throw eK();const r=new Uc(n,n._bucket);return e!=null?mN(r,e):r}else return e!==void 0?GK(t,e):t}function XK(t,e){if(e&&KK(e)){if(t instanceof ST)return QK(t,e);throw jS("To use ref(service, url), the first argument must be a Storage instance.")}else return mN(t,e)}function Fb(t,e){const n=e==null?void 0:e[J4];return n==null?null:co.makeFromBucketSpec(n,t)}function YK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:HL(i,t.app.options.projectId))}class ST{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Z4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jG,this._maxUploadRetryTime=WG,this._requests=new Set,i!=null?this._bucket=co.makeFromBucketSpec(i,this._host):this._bucket=Fb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=co.makeFromBucketSpec(this._url,e):this._bucket=Fb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Pb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Pb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new oK(rN());{const a=mK(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Ob="@firebase/storage",Mb="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="storage";function ZK(t,e,n){return t=Kn(t),WK(t,e,n)}function JK(t){return t=Kn(t),qK(t)}function eQ(t,e){return t=Kn(t),XK(t,e)}function tQ(t=Q2(),e){t=Kn(t);const r=C1(t,vN).getImmediate({identifier:e}),i=UL("storage");return i&&nQ(r,...i),r}function nQ(t,e,n,r={}){YK(t,e,n,r)}function rQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ST(n,r,i,e,Gc)}function iQ(){Fc(new gu(vN,rQ,"PUBLIC").setMultipleInstances(!0)),Js(Ob,Mb,""),Js(Ob,Mb,"esm2017")}iQ();function CT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oQ=yN,_N=new sm("auth","Firebase",yN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new G2("@firebase/auth");function sQ(t,...e){Ky.logLevel<=jt.WARN&&Ky.warn(`Auth (${Gc}): ${t}`,...e)}function Q0(t,...e){Ky.logLevel<=jt.ERROR&&Ky.error(`Auth (${Gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,...e){throw TT(t,...e)}function ra(t,...e){return TT(t,...e)}function aQ(t,e,n){const r=Object.assign(Object.assign({},oQ()),{[e]:n});return new sm("auth","Firebase",r).create(e,{appName:t.name})}function TT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _N.create(t,...e)}function _t(t,e,...n){if(!t)throw TT(e,...n)}function $a(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Q0(e),new Error(e)}function Ja(t,e){t||$a(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lQ(){return Bb()==="http:"||Bb()==="https:"}function Bb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lQ()||X7()||"connection"in navigator)?navigator.onLine:!0}function cQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ja(n>e,"Short delay should be less than long delay!"),this.isMobile=K7()||Y7()}get(){return uQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t,e){Ja(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hQ=new Am(3e4,6e4);function Iu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function il(t,e,n,r,i={}){return xN(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=am(Object.assign({key:t.config.apiKey},a)).slice(1),p=await t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),wN.fetch()(EN(t,t.config.apiHost,n,c),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},s))})}async function xN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fQ),e);try{const i=new pQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw A0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[p,m]=c.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw A0(t,"credential-already-in-use",a);if(p==="EMAIL_EXISTS")throw A0(t,"email-already-in-use",a);if(p==="USER_DISABLED")throw A0(t,"user-disabled",a);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw aQ(t,y,m);ys(t,y)}}catch(i){if(i instanceof la)throw i;ys(t,"network-request-failed",{message:String(i)})}}async function Im(t,e,n,r,i={}){const s=await il(t,e,n,r,i);return"mfaPendingCredential"in s&&ys(t,"multi-factor-auth-required",{_serverResponse:s}),s}function EN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?kT(t.config,i):`${t.config.apiScheme}://${i}`}function dQ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ra(this.auth,"network-request-failed")),hQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function A0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ra(t,e,r);return i.customData._tokenResponse=n,i}function Ub(t){return t!==void 0&&t.enterprise!==void 0}class gQ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dQ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function mQ(t,e){return il(t,"GET","/v2/recaptchaConfig",Iu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vQ(t,e){return il(t,"POST","/v1/accounts:delete",e)}async function yQ(t,e){return il(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _Q(t,e=!1){const n=Kn(t),r=await n.getIdToken(e),i=AT(r);_t(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fg(nE(i.auth_time)),issuedAtTime:fg(nE(i.iat)),expirationTime:fg(nE(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nE(t){return Number(t)*1e3}function AT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Q0("JWT malformed, contained fewer than 3 sections"),null;try{const i=ML(n);return i?JSON.parse(i):(Q0("Failed to decode base64 JWT payload"),null)}catch(i){return Q0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wQ(t){const e=AT(t);return _t(e,"internal-error"),_t(typeof e.exp<"u","internal-error"),_t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof la&&xQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fg(this.lastLoginAt),this.creationTime=fg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qy(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wh(t,yQ(n,{idToken:r}));_t(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?TQ(s.providerUserInfo):[],c=CQ(t.providerData,a),p=t.isAnonymous,m=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),y=p?m:!1,w={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new SN(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function SQ(t){const e=Kn(t);await Qy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TQ(t){return t.map(e=>{var{providerId:n}=e,r=CT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kQ(t,e){const n=await xN(t,{},async()=>{const r=am({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=EN(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",wN.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AQ(t,e){return il(t,"POST","/v2/accounts:revokeToken",Iu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_t(e.idToken,"internal-error"),_t(typeof e.idToken<"u","internal-error"),_t(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wQ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return _t(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Qg;return r&&(_t(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_t(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(_t(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qg,this.toJSON())}_performRefresh(){return $a("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t,e){_t(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=CT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new SN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wh(this,this.stsTokenManager.getToken(this.auth,e));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _Q(this,e)}reload(){return SQ(this)}_assign(e){this!==e&&(_t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Wh(this,vQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,p,m,y;const w=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(i=n.email)!==null&&i!==void 0?i:void 0,C=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,P=(a=n.photoURL)!==null&&a!==void 0?a:void 0,O=(c=n.tenantId)!==null&&c!==void 0?c:void 0,M=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,R=(m=n.createdAt)!==null&&m!==void 0?m:void 0,b=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:D,emailVerified:B,isAnonymous:j,providerData:U,stsTokenManager:W}=n;_t(D&&W,e,"internal-error");const Y=Qg.fromJSON(this.name,W);_t(typeof D=="string",e,"internal-error"),Ul(w,e.name),Ul(E,e.name),_t(typeof B=="boolean",e,"internal-error"),_t(typeof j=="boolean",e,"internal-error"),Ul(C,e.name),Ul(P,e.name),Ul(O,e.name),Ul(M,e.name),Ul(R,e.name),Ul(b,e.name);const ae=new Tc({uid:D,auth:e,email:E,emailVerified:B,displayName:w,isAnonymous:j,photoURL:P,phoneNumber:C,tenantId:O,stsTokenManager:Y,createdAt:R,lastLoginAt:b});return U&&Array.isArray(U)&&(ae.providerData=U.map(_e=>Object.assign({},_e))),M&&(ae._redirectEventId=M),ae}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qg;i.updateFromServerResponse(n);const s=new Tc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qy(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Map;function ja(t){Ja(t instanceof Function,"Expected a class definition");let e=Vb.get(t);return e?(Ja(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CN.type="NONE";const zb=CN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t,e,n){return`firebase:${t}:${e}:${n}`}class kh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=X0(this.userKey,i.apiKey,s),this.fullPersistenceKey=X0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kh(ja(zb),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let s=i[0]||ja(zb);const a=X0(r,e.config.apiKey,e.name);let c=null;for(const m of n)try{const y=await m._get(a);if(y){const w=Tc._fromJSON(e,y);m!==s&&(c=w),s=m;break}}catch{}const p=i.filter(m=>m._shouldAllowMigration);return!s._shouldAllowMigration||!p.length?new kh(s,e,r):(s=p[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async m=>{if(m!==s)try{await m._remove(a)}catch{}})),new kh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bN(e))return"Blackberry";if(DN(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||kN(e))&&!e.includes("edge/"))return"Chrome";if(IN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TN(t=Sr()){return/firefox\//i.test(t)}function IT(t=Sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kN(t=Sr()){return/crios\//i.test(t)}function AN(t=Sr()){return/iemobile/i.test(t)}function IN(t=Sr()){return/android/i.test(t)}function bN(t=Sr()){return/blackberry/i.test(t)}function DN(t=Sr()){return/webos/i.test(t)}function __(t=Sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IQ(t=Sr()){var e;return __(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bQ(){return Z7()&&document.documentMode===10}function RN(t=Sr()){return __(t)||IN(t)||DN(t)||bN(t)||/windows phone/i.test(t)||AN(t)}function DQ(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e=[]){let n;switch(t){case"Browser":n=Hb(Sr());break;case"Worker":n=`${Hb(Sr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{const p=e(s);a(p)}catch(p){c(p)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LQ(t,e={}){return il(t,"GET","/v2/passwordPolicy",Iu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ=6;class NQ{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:PQ,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,c;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(i=p.containsLowercaseLetter)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.containsUppercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsNumericCharacter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),p}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $b(this),this.idTokenSubscription=new $b(this),this.beforeStateQueue=new RQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_N,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ja(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await kh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!a||a===c)&&(p!=null&&p.user)&&(i=p.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Kn(e):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LQ(this),n=new NQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AQ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ja(e)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await kh.create(this,[ja(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,i);return()=>{a=!0,p()}}else{const p=e.addObserver(n);return()=>{a=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sQ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zc(t){return Kn(t)}class $b{constructor(e){this.auth=e,this.observer=null,this.addObserver=oB(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OQ(t){w_=t}function PN(t){return w_.loadJS(t)}function MQ(){return w_.recaptchaEnterpriseScript}function BQ(){return w_.gapiScript}function UQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const VQ="recaptcha-enterprise",zQ="NO_RECAPTCHA";class HQ{constructor(e){this.type=VQ,this.auth=Zc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{mQ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const m=new gQ(p);return s.tenantId==null?s._agentRecaptchaConfig=m:s._tenantRecaptchaConfigs[s.tenantId]=m,a(m.siteKey)}}).catch(p=>{c(p)})})}function i(s,a,c){const p=window.grecaptcha;Ub(p)?p.enterprise.ready(()=>{p.enterprise.execute(s,{action:e}).then(m=>{a(m)}).catch(()=>{a(zQ)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(c=>{if(!n&&Ub(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let p=MQ();p.length!==0&&(p+=c),PN(p).then(()=>{i(c,s,a)}).catch(m=>{a(m)})}}).catch(c=>{a(c)})})}}async function jb(t,e,n,r=!1){const i=new HQ(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qS(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await jb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await jb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(t,e){const n=C1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(by(s,e??{}))return i;ys(i,"already-initialized")}return n.initialize({options:e})}function jQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ja);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WQ(t,e,n){const r=Zc(t);_t(r._canInitEmulator,r,"emulator-config-failed"),_t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=NN(e),{host:a,port:c}=qQ(e),p=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${p}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||GQ()}function NN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qQ(t){const e=NN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Wb(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Wb(a)}}}function Wb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $a("not implemented")}_getIdTokenResponse(e){return $a("not implemented")}_linkToIdToken(e,n){return $a("not implemented")}_getReauthenticationResolver(e){return $a("not implemented")}}async function KQ(t,e){return il(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QQ(t,e){return Im(t,"POST","/v1/accounts:signInWithPassword",Iu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XQ(t,e){return Im(t,"POST","/v1/accounts:signInWithEmailLink",Iu(t,e))}async function YQ(t,e){return Im(t,"POST","/v1/accounts:signInWithEmailLink",Iu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg extends bT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qS(e,n,"signInWithPassword",QQ);case"emailLink":return XQ(e,{email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qS(e,r,"signUpPassword",KQ);case"emailLink":return YQ(e,{idToken:n,email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t,e){return Im(t,"POST","/v1/accounts:signInWithIdp",Iu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ="http://localhost";class Vc extends bT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=CT(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Vc(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ah(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ah(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ah(e,n)}buildRequest(){const e={requestUri:ZQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=am(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eX(t){const e=Up(Vp(t)).link,n=e?Up(Vp(e)).deep_link_id:null,r=Up(Vp(t)).deep_link_id;return(r?Up(Vp(r)).link:null)||r||n||e||t}class DT{constructor(e){var n,r,i,s,a,c;const p=Up(Vp(e)),m=(n=p.apiKey)!==null&&n!==void 0?n:null,y=(r=p.oobCode)!==null&&r!==void 0?r:null,w=JQ((i=p.mode)!==null&&i!==void 0?i:null);_t(m&&y&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=y,this.continueUrl=(s=p.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=p.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=p.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=eX(e);try{return new DT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this.providerId=ad.PROVIDER_ID}static credential(e,n){return Xg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=DT.parseLink(n);return _t(r,"argument-error"),Xg._fromEmailAndCode(e,r.code,r.tenantId)}}ad.PROVIDER_ID="password";ad.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ad.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends FN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends bm{constructor(){super("facebook.com")}static credential(e){return Vc._fromParams({providerId:ql.PROVIDER_ID,signInMethod:ql.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ql.credentialFromTaggedObject(e)}static credentialFromError(e){return ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ql.credential(e.oauthAccessToken)}catch{return null}}}ql.FACEBOOK_SIGN_IN_METHOD="facebook.com";ql.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends bm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vc._fromParams({providerId:Gl.PROVIDER_ID,signInMethod:Gl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gl.credentialFromTaggedObject(e)}static credentialFromError(e){return Gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gl.credential(n,r)}catch{return null}}}Gl.GOOGLE_SIGN_IN_METHOD="google.com";Gl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends bm{constructor(){super("github.com")}static credential(e){return Vc._fromParams({providerId:Kl.PROVIDER_ID,signInMethod:Kl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kl.credentialFromTaggedObject(e)}static credentialFromError(e){return Kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kl.credential(e.oauthAccessToken)}catch{return null}}}Kl.GITHUB_SIGN_IN_METHOD="github.com";Kl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends bm{constructor(){super("twitter.com")}static credential(e,n){return Vc._fromParams({providerId:Ql.PROVIDER_ID,signInMethod:Ql.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ql.credentialFromTaggedObject(e)}static credentialFromError(e){return Ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ql.credential(n,r)}catch{return null}}}Ql.TWITTER_SIGN_IN_METHOD="twitter.com";Ql.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tX(t,e){return Im(t,"POST","/v1/accounts:signUp",Iu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Tc._fromIdTokenResponse(e,r,i),a=qb(r);return new zc({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qb(r);return new zc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends la{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xy.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xy(e,n,r,i)}}function ON(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xy._fromErrorAndOperation(t,s,e,r):s})}async function nX(t,e,n=!1){const r=await Wh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rX(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Wh(t,ON(r,i,e,t),n);_t(s.idToken,r,"internal-error");const a=AT(s.idToken);_t(a,r,"internal-error");const{sub:c}=a;return _t(t.uid===c,r,"user-mismatch"),zc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ys(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e,n=!1){const r="signIn",i=await ON(t,r,e),s=await zc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function iX(t,e){return MN(Zc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(t){const e=Zc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oX(t,e,n){const r=Zc(t),a=await qS(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tX).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&BN(t),p}),c=await zc._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function sX(t,e,n){return iX(Kn(t),ad.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aX(t,e){return il(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lX(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Kn(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Wh(r,aX(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find(({providerId:p})=>p==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function uX(t,e,n,r){return Kn(t).onIdTokenChanged(e,n,r)}function cX(t,e,n){return Kn(t).beforeAuthStateChanged(e,n)}function fX(t){return Kn(t).signOut()}const Yy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yy,"1"),this.storage.removeItem(Yy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(){const t=Sr();return IT(t)||__(t)}const dX=1e3,pX=10;class VN extends UN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=hX()&&DQ(),this.fallbackToPolling=RN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,p)=>{this.notifyListeners(a,p)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);bQ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VN.type="LOCAL";const gX=VN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN extends UN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zN.type="SESSION";const HN=zN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new x_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async m=>m(n.origin,s)),p=await mX(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}x_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,p)=>{const m=RT("",20);i.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(w){const E=w;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),s=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(E.data.response);break;default:clearTimeout(y),clearTimeout(s),p(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(){return window}function yX(t){ia().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){return typeof ia().WorkerGlobalScope<"u"&&typeof ia().importScripts=="function"}async function _X(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xX(){return $N()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="firebaseLocalStorageDb",EX=1,Zy="firebaseLocalStorage",WN="fbase_key";class Dm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function E_(t,e){return t.transaction([Zy],e?"readwrite":"readonly").objectStore(Zy)}function SX(){const t=indexedDB.deleteDatabase(jN);return new Dm(t).toPromise()}function GS(){const t=indexedDB.open(jN,EX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zy,{keyPath:WN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zy)?e(r):(r.close(),await SX(),e(await GS()))})})}async function Gb(t,e,n){const r=E_(t,!0).put({[WN]:e,value:n});return new Dm(r).toPromise()}async function CX(t,e){const n=E_(t,!1).get(e),r=await new Dm(n).toPromise();return r===void 0?null:r.value}function Kb(t,e){const n=E_(t,!0).delete(e);return new Dm(n).toPromise()}const TX=800,kX=3;class qN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await GS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $N()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=x_._getInstance(xX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _X(),!this.activeServiceWorker)return;this.sender=new vX(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await GS();return await Gb(e,Yy,"1"),await Kb(e,Yy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=E_(i,!1).getAll();return new Dm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qN.type="LOCAL";const AX=qN;new Am(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IX(t,e){return e?ja(e):(_t(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends bT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ah(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ah(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ah(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bX(t){return MN(t.auth,new LT(t),t.bypassAuthState)}function DX(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),rX(n,new LT(t),t.bypassAuthState)}async function RX(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),nX(n,new LT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bX;case"linkViaPopup":case"linkViaRedirect":return RX;case"reauthViaPopup":case"reauthViaRedirect":return DX;default:ys(this.auth,"internal-error")}}resolve(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX=new Am(2e3,1e4);class ph extends GN{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ph.currentPopupAction&&ph.currentPopupAction.cancel(),ph.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _t(e,this.auth,"internal-error"),e}async onExecution(){Ja(this.filter.length===1,"Popup operations only handle one event");const e=RT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ra(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ra(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ph.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ra(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LX.get())};e()}}ph.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX="pendingRedirect",Y0=new Map;class NX extends GN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Y0.get(this.auth._key());if(!e){try{const r=await FX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Y0.set(this.auth._key(),e)}return this.bypassAuthState||Y0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FX(t,e){const n=BX(e),r=MX(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function OX(t,e){Y0.set(t._key(),e)}function MX(t){return ja(t._redirectPersistence)}function BX(t){return X0(PX,t.config.apiKey,t.name)}async function UX(t,e,n=!1){const r=Zc(t),i=IX(r,e),a=await new NX(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX=10*60*1e3;class zX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ra(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VX&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qb(e))}saveEventToCache(e){this.cachedEventUids.add(Qb(e)),this.lastProcessedEventTime=Date.now()}}function Qb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $X(t,e={}){return il(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WX=/^https?/;async function qX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $X(t);for(const n of e)try{if(GX(n))return}catch{}ys(t,"unauthorized-domain")}function GX(t){const e=WS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!WX.test(n))return!1;if(jX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KX=new Am(3e4,6e4);function Xb(){const t=ia().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QX(t){return new Promise((e,n)=>{var r,i,s;function a(){Xb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xb(),n(ra(t,"network-request-failed"))},timeout:KX.get()})}if(!((i=(r=ia().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ia().gapi)===null||s===void 0)&&s.load)a();else{const c=UQ("iframefcb");return ia()[c]=()=>{gapi.load?a():n(ra(t,"network-request-failed"))},PN(`${BQ()}?onload=${c}`).catch(p=>n(p))}}).catch(e=>{throw Z0=null,e})}let Z0=null;function XX(t){return Z0=Z0||QX(t),Z0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YX=new Am(5e3,15e3),ZX="__/auth/iframe",JX="emulator/auth/iframe",eY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nY(t){const e=t.config;_t(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kT(e,JX):`https://${t.config.authDomain}/${ZX}`,r={apiKey:e.apiKey,appName:t.name,v:Gc},i=tY.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${am(r).slice(1)}`}async function rY(t){const e=await XX(t),n=ia().gapi;return _t(n,t,"internal-error"),e.open({where:document.body,url:nY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eY,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ra(t,"network-request-failed"),c=ia().setTimeout(()=>{s(a)},YX.get());function p(){ia().clearTimeout(c),i(r)}r.ping(p).then(p,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oY=500,sY=600,aY="_blank",lY="http://localhost";class Yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uY(t,e,n,r=oY,i=sY){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const p=Object.assign(Object.assign({},iY),{width:r.toString(),height:i.toString(),top:s,left:a}),m=Sr().toLowerCase();n&&(c=kN(m)?aY:n),TN(m)&&(e=e||lY,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[C,P])=>`${E}${C}=${P},`,"");if(IQ(m)&&c!=="_self")return cY(e||"",c),new Yb(null);const w=window.open(e||"",c,y);_t(w,t,"popup-blocked");try{w.focus()}catch{}return new Yb(w)}function cY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY="__/auth/handler",hY="emulator/auth/handler",dY=encodeURIComponent("fac");async function Zb(t,e,n,r,i,s){_t(t.config.authDomain,t,"auth-domain-config-required"),_t(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gc,eventId:i};if(e instanceof FN){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",iB(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries(s||{}))a[y]=w}if(e instanceof bm){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(a.scopes=y.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const p=await t._getAppCheckToken(),m=p?`#${dY}=${encodeURIComponent(p)}`:"";return`${pY(t)}?${am(c).slice(1)}${m}`}function pY({config:t}){return t.emulator?kT(t,hY):`https://${t.authDomain}/${fY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="webStorageSupport";class gY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HN,this._completeRedirectFn=UX,this._overrideRedirectResult=OX}async _openPopup(e,n,r,i){var s;Ja((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Zb(e,n,r,WS(),i);return uY(e,a,RT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Zb(e,n,r,WS(),i);return yX(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ja(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rY(e),r=new zX(e);return n.register("authEvent",i=>(_t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rE,{type:rE},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[rE];a!==void 0&&n(!!a),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RN()||IT()||__()}}const mY=gY;var Jb="@firebase/auth",eD="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _Y(t){Fc(new gu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;_t(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LN(t)},m=new FQ(r,i,s,p);return jQ(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fc(new gu("auth-internal",e=>{const n=Zc(e.getProvider("auth").getImmediate());return(r=>new vY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(Jb,eD,yY(t)),Js(Jb,eD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=5*60,xY=zL("authIdTokenMaxAge")||wY;let tD=null;const EY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xY)return;const i=n==null?void 0:n.token;tD!==i&&(tD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SY(t=Q2()){const e=C1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$Q(t,{popupRedirectResolver:mY,persistence:[AX,gX,HN]}),r=zL("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=EY(r);cX(n,s,()=>s(n.currentUser)),uX(n,a=>s(a))}const i=BL("auth");return i&&WQ(n,`http://${i}`),n}function CY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ra("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",CY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_Y("Browser");const TY={apiKey:"AIzaSyDRlEoUYWIhC7karwr6ZLfB1hy-7LnBVg4",authDomain:"blog-3ad85.firebaseapp.com",projectId:"blog-3ad85",storageBucket:"blog-3ad85.appspot.com",messagingSenderId:"1047345580916",appId:"1:1047345580916:web:7d357fd6c040b579e6fa21"},PT=qL(TY),Jy=SY(PT),Fi=s$(PT),kY=tQ(PT),QN=({tags:t})=>H.jsx("div",{children:H.jsx("div",{className:"tags",children:t==null?void 0:t.map((e,n)=>H.jsx("p",{className:"tag",children:H.jsx(Gs,{to:`/tag/${e}`,style:{textDecoration:"none",color:"black"},children:e})},n))})}),AY=({uniqCat:t})=>H.jsx(H.Fragment,{children:H.jsx(Gs,{to:`/category/${t.category}`,children:H.jsxs("span",{children:[t.category==="Путешевствия"&&H.jsx("h6",{className:"category catg-color bgc4287f5",style:{marginRight:"10px"},children:t.category}),t.category==="Технологии"&&H.jsx("h6",{className:"category catg-color bgcc43421",style:{marginRight:"10px"},children:t.category}),t.category==="Новости"&&H.jsx("h6",{className:"category catg-color bgc32CD32",style:{marginRight:"10px"},children:t.category}),t.category==="Бизнес"&&H.jsx("h6",{className:"category catg-color bgcc808000",style:{marginRight:"10px"},children:t.category}),t.category!=="Путешевствия"&&t.category!=="Технологии"&&t.category!=="Бизнес"&&t.category!=="Новости"&&H.jsx("h6",{className:"category catg-color bgc000000",style:{marginRight:"10px"},children:t.category})]})})}),IY=({blogs:t,title:e})=>{t.sort(function(i,s){return s.view-i.view});const n=t.slice(0,5),r=Su();return H.jsxs("div",{children:[H.jsx("div",{className:"blog-heading text-start pt-3 py-2 mb-4",children:e}),n==null?void 0:n.map(i=>H.jsxs("div",{className:"row pb-3",style:{cursor:"pointer"},onClick:()=>r(`/detail/${i.id}`),children:[H.jsx("div",{className:"col-5 align-self-center",children:i.imgUrl?H.jsx("img",{src:i.imgUrl,alt:i.title,className:"most-popular-img"}):H.jsx("div",{style:{backgroundColor:"gray",height:"80px",opacity:"0.4"}})}),H.jsxs("div",{className:"col-7 padding",children:[H.jsx("div",{className:"text-start most-popular-font",children:i.title}),H.jsx("div",{className:"text-start most-popular-font-meta",children:i.timestamp.toDate().toDateString()})]})]},i.id))]})};function bY({setActive:t,user:e,active:n}){const[r,i]=pe.useState(!0),[s,a]=pe.useState([]),[c,p]=pe.useState(null);if(pe.useEffect(()=>{const y=E$($h(Fi,"blogs"),w=>{let E=[],C=[];w.docs.forEach(O=>{C.push(...O.get("tags")),E.push({id:O.id,...O.data()})});const P=[...new Set(C)];a(P),p(E),i(!1),t("home")},w=>{console.log(w)});return()=>{y()}},[t,n]),r)return H.jsx(yT,{});let m=[];return c.filter(function(y){return m.findIndex(E=>E.category==y.category)<=-1&&m.push(y),null}),H.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:H.jsx("div",{className:"container padding",children:H.jsxs("div",{className:"row mx-0",style:{display:"flex",justifyContent:"space-between"},children:[H.jsxs("div",{style:{width:"66%"},children:[H.jsxs("div",{className:"blog-heading text-start py-2 mb-4",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Блоги",H.jsx("div",{children:H.jsxs("p",{style:{marginBottom:"0",fontSize:"16px"},children:["Количество блогов: ",c.length]})})]}),c.length===0&&H.jsx("h4",{className:"text-start py-2 mb-4",children:"Блогов нет"}),c==null?void 0:c.map(y=>H.jsx(vT,{user:e,...y},y.id))]}),H.jsxs("div",{style:{width:"25%"},children:[H.jsx("div",{className:"blog-heading text-start py-2 mb-4",children:"Тэги"}),H.jsx(QN,{tags:s}),H.jsx("div",{className:"blog-heading text-start py-2 mb-4",children:"Категории"}),m==null?void 0:m.map(y=>H.jsx(AY,{uniqCat:y},y.id)),H.jsx(IY,{title:"Популярные блоги",blogs:c})]})]})})})}var e1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */e1.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",m=500,y="__lodash_placeholder__",w=1,E=2,C=4,P=1,O=2,M=1,R=2,b=4,D=8,B=16,j=32,U=64,W=128,Y=256,ae=512,_e=30,ie="...",ye=800,Ue=16,Pe=1,Z=2,we=3,de=1/0,he=9007199254740991,Le=17976931348623157e292,q=NaN,tt=4294967295,Q=tt-1,S=tt>>>1,fe=[["ary",W],["bind",M],["bindKey",R],["curry",D],["curryRight",B],["flip",ae],["partial",j],["partialRight",U],["rearg",Y]],nt="[object Arguments]",ze="[object Array]",At="[object AsyncFunction]",Bt="[object Boolean]",Pt="[object Date]",an="[object DOMException]",bt="[object Error]",Nt="[object Function]",gn="[object GeneratorFunction]",Zt="[object Map]",Ye="[object Number]",Ur="[object Null]",kn="[object Object]",Cr="[object Promise]",Si="[object Proxy]",mt="[object RegExp]",dn="[object Set]",br="[object String]",$i="[object Symbol]",ce="[object Undefined]",ue="[object WeakMap]",re="[object WeakSet]",A="[object ArrayBuffer]",F="[object DataView]",G="[object Float32Array]",K="[object Float64Array]",ee="[object Int8Array]",be="[object Int16Array]",Ve="[object Int32Array]",Be="[object Uint8Array]",$e="[object Uint8ClampedArray]",it="[object Uint16Array]",ke="[object Uint32Array]",ot=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,Qt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ut=/&(?:amp|lt|gt|quot|#39);/g,Vt=/[&<>"']/g,yt=RegExp(Ut.source),Yn=RegExp(Vt.source),dr=/<%-([\s\S]+?)%>/g,Ci=/<%([\s\S]+?)%>/g,mn=/<%=([\s\S]+?)%>/g,Go=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ko=/^\w*$/,ji=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ua=/[\\^$.*+?()[\]{}|]/g,_s=RegExp(ua.source),ud=/^\s+/,cd=/\s/,j_=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fd=/\{\n\/\* \[wrapped with (.+)\] \*/,W_=/,? & /,hd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,q_=/[()=,{}\[\]\/\s]/,G_=/\\(\\)?/g,dd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rm=/\w*$/,pd=/^[-+]0x[0-9a-f]+$/i,ol=/^0b[01]+$/i,K_=/^\[object .+?Constructor\]$/,Q_=/^0o[0-7]+$/i,Jc=/^(?:0|[1-9]\d*)$/,gd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qo=/($^)/,X_=/['\n\r\u2028\u2029\\]/g,_o="\\ud800-\\udfff",md="\\u0300-\\u036f",Lm="\\ufe20-\\ufe2f",Un="\\u20d0-\\u20ff",Je=md+Lm+Un,ws="\\u2700-\\u27bf",ef="a-z\\xdf-\\xf6\\xf8-\\xff",wo="\\xac\\xb1\\xd7\\xf7",Jt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ca="\\u2000-\\u206f",Ru=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tf="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",ct=wo+Jt+ca+Ru,Lu="['’]",vd="["+_o+"]",Pu="["+ct+"]",fa="["+Je+"]",yd="\\d+",pt="["+ws+"]",Pm="["+ef+"]",_d="[^"+_o+ct+yd+ws+ef+tf+"]",sl="\\ud83c[\\udffb-\\udfff]",xo="(?:"+fa+"|"+sl+")",wd="[^"+_o+"]",nf="(?:\\ud83c[\\udde6-\\uddff]){2}",ha="[\\ud800-\\udbff][\\udc00-\\udfff]",xs="["+tf+"]",xd="\\u200d",rf="(?:"+Pm+"|"+_d+")",Nm="(?:"+xs+"|"+_d+")",Ed="(?:"+Lu+"(?:d|ll|m|re|s|t|ve))?",Sd="(?:"+Lu+"(?:D|LL|M|RE|S|T|VE))?",Cd=xo+"?",Fm="["+Ae+"]?",Y_="(?:"+xd+"(?:"+[wd,nf,ha].join("|")+")"+Fm+Cd+")*",Om="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mm=Fm+Cd+Y_,Z_="(?:"+[pt,nf,ha].join("|")+")"+Mm,of="(?:"+[wd+fa+"?",fa,nf,ha,vd].join("|")+")",Nu=RegExp(Lu,"g"),J_=RegExp(fa,"g"),Td=RegExp(sl+"(?="+sl+")|"+of+Mm,"g"),ew=RegExp([xs+"?"+Pm+"+"+Ed+"(?="+[Pu,xs,"$"].join("|")+")",Nm+"+"+Sd+"(?="+[Pu,xs+rf,"$"].join("|")+")",xs+"?"+rf+"+"+Ed,xs+"+"+Sd,Xo,Om,yd,Z_].join("|"),"g"),tw=RegExp("["+xd+_o+Je+Ae+"]"),kd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nw=-1,pn={};pn[G]=pn[K]=pn[ee]=pn[be]=pn[Ve]=pn[Be]=pn[$e]=pn[it]=pn[ke]=!0,pn[nt]=pn[ze]=pn[A]=pn[Bt]=pn[F]=pn[Pt]=pn[bt]=pn[Nt]=pn[Zt]=pn[Ye]=pn[kn]=pn[mt]=pn[dn]=pn[br]=pn[ue]=!1;var ln={};ln[nt]=ln[ze]=ln[A]=ln[F]=ln[Bt]=ln[Pt]=ln[G]=ln[K]=ln[ee]=ln[be]=ln[Ve]=ln[Zt]=ln[Ye]=ln[kn]=ln[mt]=ln[dn]=ln[br]=ln[$i]=ln[Be]=ln[$e]=ln[it]=ln[ke]=!0,ln[bt]=ln[Nt]=ln[ue]=!1;var sf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},af={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ad={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Um={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vm=parseFloat,lf=parseInt,zm=typeof Xf=="object"&&Xf&&Xf.Object===Object&&Xf,Hm=typeof self=="object"&&self&&self.Object===Object&&self,un=zm||Hm||Function("return this")(),Id=e&&!e.nodeType&&e,da=Id&&!0&&t&&!t.nodeType&&t,uf=da&&da.exports===Id,cf=uf&&zm.process,ir=function(){try{var se=da&&da.require&&da.require("util").types;return se||cf&&cf.binding&&cf.binding("util")}catch{}}(),ff=ir&&ir.isArrayBuffer,Eo=ir&&ir.isDate,Fu=ir&&ir.isMap,hf=ir&&ir.isRegExp,pa=ir&&ir.isSet,$m=ir&&ir.isTypedArray;function li(se,xe,ge){switch(ge.length){case 0:return se.call(xe);case 1:return se.call(xe,ge[0]);case 2:return se.call(xe,ge[0],ge[1]);case 3:return se.call(xe,ge[0],ge[1],ge[2])}return se.apply(xe,ge)}function rw(se,xe,ge,Xe){for(var gt=-1,zt=se==null?0:se.length;++gt<zt;){var Zn=se[gt];xe(Xe,Zn,ge(Zn),se)}return Xe}function Ti(se,xe){for(var ge=-1,Xe=se==null?0:se.length;++ge<Xe&&xe(se[ge],ge,se)!==!1;);return se}function jm(se,xe){for(var ge=se==null?0:se.length;ge--&&xe(se[ge],ge,se)!==!1;);return se}function bd(se,xe){for(var ge=-1,Xe=se==null?0:se.length;++ge<Xe;)if(!xe(se[ge],ge,se))return!1;return!0}function Es(se,xe){for(var ge=-1,Xe=se==null?0:se.length,gt=0,zt=[];++ge<Xe;){var Zn=se[ge];xe(Zn,ge,se)&&(zt[gt++]=Zn)}return zt}function df(se,xe){var ge=se==null?0:se.length;return!!ge&&_n(se,xe,0)>-1}function Dd(se,xe,ge){for(var Xe=-1,gt=se==null?0:se.length;++Xe<gt;)if(ge(xe,se[Xe]))return!0;return!1}function yn(se,xe){for(var ge=-1,Xe=se==null?0:se.length,gt=Array(Xe);++ge<Xe;)gt[ge]=xe(se[ge],ge,se);return gt}function Yo(se,xe){for(var ge=-1,Xe=xe.length,gt=se.length;++ge<Xe;)se[gt+ge]=xe[ge];return se}function Rd(se,xe,ge,Xe){var gt=-1,zt=se==null?0:se.length;for(Xe&&zt&&(ge=se[++gt]);++gt<zt;)ge=xe(ge,se[gt],gt,se);return ge}function Wm(se,xe,ge,Xe){var gt=se==null?0:se.length;for(Xe&&gt&&(ge=se[--gt]);gt--;)ge=xe(ge,se[gt],gt,se);return ge}function al(se,xe){for(var ge=-1,Xe=se==null?0:se.length;++ge<Xe;)if(xe(se[ge],ge,se))return!0;return!1}var ll=Pd("length");function iw(se){return se.split("")}function ow(se){return se.match(hd)||[]}function qm(se,xe,ge){var Xe;return ge(se,function(gt,zt,Zn){if(xe(gt,zt,Zn))return Xe=zt,!1}),Xe}function Ss(se,xe,ge,Xe){for(var gt=se.length,zt=ge+(Xe?1:-1);Xe?zt--:++zt<gt;)if(xe(se[zt],zt,se))return zt;return-1}function _n(se,xe,ge){return xe===xe?Ym(se,xe,ge):Ss(se,Ld,ge)}function sw(se,xe,ge,Xe){for(var gt=ge-1,zt=se.length;++gt<zt;)if(Xe(se[gt],xe))return gt;return-1}function Ld(se){return se!==se}function ul(se,xe){var ge=se==null?0:se.length;return ge?gf(se,xe)/ge:q}function Pd(se){return function(xe){return xe==null?n:xe[se]}}function pf(se){return function(xe){return se==null?n:se[xe]}}function Gm(se,xe,ge,Xe,gt){return gt(se,function(zt,Zn,on){ge=Xe?(Xe=!1,zt):xe(ge,zt,Zn,on)}),ge}function Nd(se,xe){var ge=se.length;for(se.sort(xe);ge--;)se[ge]=se[ge].value;return se}function gf(se,xe){for(var ge,Xe=-1,gt=se.length;++Xe<gt;){var zt=xe(se[Xe]);zt!==n&&(ge=ge===n?zt:ge+zt)}return ge}function Fd(se,xe){for(var ge=-1,Xe=Array(se);++ge<se;)Xe[ge]=xe(ge);return Xe}function aw(se,xe){return yn(xe,function(ge){return[ge,se[ge]]})}function Od(se){return se&&se.slice(0,Vd(se)+1).replace(ud,"")}function Xr(se){return function(xe){return se(xe)}}function Md(se,xe){return yn(xe,function(ge){return se[ge]})}function Zo(se,xe){return se.has(xe)}function So(se,xe){for(var ge=-1,Xe=se.length;++ge<Xe&&_n(xe,se[ge],0)>-1;);return ge}function Ou(se,xe){for(var ge=se.length;ge--&&_n(xe,se[ge],0)>-1;);return ge}function Bd(se,xe){for(var ge=se.length,Xe=0;ge--;)se[ge]===xe&&++Xe;return Xe}var Km=pf(sf),Co=pf(af);function ga(se){return"\\"+Um[se]}function Ud(se,xe){return se==null?n:se[xe]}function cl(se){return tw.test(se)}function Qm(se){return kd.test(se)}function lw(se){for(var xe,ge=[];!(xe=se.next()).done;)ge.push(xe.value);return ge}function mf(se){var xe=-1,ge=Array(se.size);return se.forEach(function(Xe,gt){ge[++xe]=[gt,Xe]}),ge}function vf(se,xe){return function(ge){return se(xe(ge))}}function ui(se,xe){for(var ge=-1,Xe=se.length,gt=0,zt=[];++ge<Xe;){var Zn=se[ge];(Zn===xe||Zn===y)&&(se[ge]=y,zt[gt++]=ge)}return zt}function ci(se){var xe=-1,ge=Array(se.size);return se.forEach(function(Xe){ge[++xe]=Xe}),ge}function Xm(se){var xe=-1,ge=Array(se.size);return se.forEach(function(Xe){ge[++xe]=[Xe,Xe]}),ge}function Ym(se,xe,ge){for(var Xe=ge-1,gt=se.length;++Xe<gt;)if(se[Xe]===xe)return Xe;return-1}function uw(se,xe,ge){for(var Xe=ge+1;Xe--;)if(se[Xe]===xe)return Xe;return Xe}function fl(se){return cl(se)?Mu(se):ll(se)}function Wi(se){return cl(se)?Jm(se):iw(se)}function Vd(se){for(var xe=se.length;xe--&&cd.test(se.charAt(xe)););return xe}var Zm=pf(Ad);function Mu(se){for(var xe=Td.lastIndex=0;Td.test(se);)++xe;return xe}function Jm(se){return se.match(Td)||[]}function ev(se){return se.match(ew)||[]}var zd=function se(xe){xe=xe==null?un:Jo.defaults(un.Object(),xe,Jo.pick(un,Bm));var ge=xe.Array,Xe=xe.Date,gt=xe.Error,zt=xe.Function,Zn=xe.Math,on=xe.Object,Bu=xe.RegExp,cw=xe.String,ki=xe.TypeError,yf=ge.prototype,ma=zt.prototype,qi=on.prototype,es=xe["__core-js_shared__"],hl=ma.toString,Xt=qi.hasOwnProperty,tv=0,_f=function(){var u=/[^.]+$/.exec(es&&es.keys&&es.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),To=qi.toString,va=hl.call(on),Vr=un._,Cs=Bu("^"+hl.call(Xt).replace(ua,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gi=uf?xe.Buffer:n,Ki=xe.Symbol,wf=xe.Uint8Array,Hd=Gi?Gi.allocUnsafe:n,Ts=vf(on.getPrototypeOf,on),$d=on.create,xf=qi.propertyIsEnumerable,ya=yf.splice,nv=Ki?Ki.isConcatSpreadable:n,_a=Ki?Ki.iterator:n,ks=Ki?Ki.toStringTag:n,dl=function(){try{var u=Fs(on,"defineProperty");return u({},"",{}),u}catch{}}(),jd=xe.clearTimeout!==un.clearTimeout&&xe.clearTimeout,pl=Xe&&Xe.now!==un.Date.now&&Xe.now,Ef=xe.setTimeout!==un.setTimeout&&xe.setTimeout,Uu=Zn.ceil,wa=Zn.floor,Wd=on.getOwnPropertySymbols,fw=Gi?Gi.isBuffer:n,rv=xe.isFinite,qd=yf.join,Gd=vf(on.keys,on),wn=Zn.max,Jn=Zn.min,hw=Xe.now,Sf=xe.parseInt,Kd=Zn.random,Vu=yf.reverse,Cf=Fs(xe,"DataView"),Qi=Fs(xe,"Map"),xa=Fs(xe,"Promise"),Ai=Fs(xe,"Set"),ts=Fs(xe,"WeakMap"),ko=Fs(on,"create"),zu=ts&&new ts,Ea={},iv=Vn(Cf),dw=Vn(Qi),Sa=Vn(xa),Ca=Vn(Ai),pw=Vn(ts),Tf=Ki?Ki.prototype:n,Hu=Tf?Tf.valueOf:n,ov=Tf?Tf.toString:n;function V(u){if(tr(u)&&!Tt(u)&&!(u instanceof ut)){if(u instanceof en)return u;if(Xt.call(u,"__wrapped__"))return Rr(u)}return new en(u)}var gl=function(){function u(){}return function(d){if(!$n(d))return{};if($d)return $d(d);u.prototype=d;var v=new u;return u.prototype=n,v}}();function Tr(){}function en(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}V.templateSettings={escape:dr,evaluate:Ci,interpolate:mn,variable:"",imports:{_:V}},V.prototype=Tr.prototype,V.prototype.constructor=V,en.prototype=gl(Tr.prototype),en.prototype.constructor=en;function ut(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=tt,this.__views__=[]}function or(){var u=new ut(this.__wrapped__);return u.__actions__=Yr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Yr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Yr(this.__views__),u}function $u(){if(this.__filtered__){var u=new ut(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function gw(){var u=this.__wrapped__.value(),d=this.__dir__,v=Tt(u),T=d<0,N=v?u.length:0,z=Ow(0,N,this.__views__),J=z.start,te=z.end,le=te-J,Se=T?te:J-1,Ce=this.__iteratees__,De=Ce.length,We=0,st=Jn(le,this.__takeCount__);if(!v||!T&&N==le&&st==le)return Xu(u,this.__actions__);var ft=[];e:for(;le--&&We<st;){Se+=d;for(var Lt=-1,ht=u[Se];++Lt<De;){var Ft=Ce[Lt],$t=Ft.iteratee,ro=Ft.type,pi=$t(ht);if(ro==Z)ht=pi;else if(!pi){if(ro==Pe)continue e;break e}}ft[We++]=ht}return ft}ut.prototype=gl(Tr.prototype),ut.prototype.constructor=ut;function Ao(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function mw(){this.__data__=ko?ko(null):{},this.size=0}function vw(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function yw(u){var d=this.__data__;if(ko){var v=d[u];return v===p?n:v}return Xt.call(d,u)?d[u]:n}function Qd(u){var d=this.__data__;return ko?d[u]!==n:Xt.call(d,u)}function sv(u,d){var v=this.__data__;return this.size+=this.has(u)?0:1,v[u]=ko&&d===n?p:d,this}Ao.prototype.clear=mw,Ao.prototype.delete=vw,Ao.prototype.get=yw,Ao.prototype.has=Qd,Ao.prototype.set=sv;function Xi(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function _w(){this.__data__=[],this.size=0}function Xd(u){var d=this.__data__,v=vl(d,u);if(v<0)return!1;var T=d.length-1;return v==T?d.pop():ya.call(d,v,1),--this.size,!0}function Yd(u){var d=this.__data__,v=vl(d,u);return v<0?n:d[v][1]}function av(u){return vl(this.__data__,u)>-1}function lv(u,d){var v=this.__data__,T=vl(v,u);return T<0?(++this.size,v.push([u,d])):v[T][1]=d,this}Xi.prototype.clear=_w,Xi.prototype.delete=Xd,Xi.prototype.get=Yd,Xi.prototype.has=av,Xi.prototype.set=lv;function Yi(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function uv(){this.size=0,this.__data__={hash:new Ao,map:new(Qi||Xi),string:new Ao}}function ju(u){var d=ac(this,u).delete(u);return this.size-=d?1:0,d}function ww(u){return ac(this,u).get(u)}function kf(u){return ac(this,u).has(u)}function ns(u,d){var v=ac(this,u),T=v.size;return v.set(u,d),this.size+=v.size==T?0:1,this}Yi.prototype.clear=uv,Yi.prototype.delete=ju,Yi.prototype.get=ww,Yi.prototype.has=kf,Yi.prototype.set=ns;function As(u){var d=-1,v=u==null?0:u.length;for(this.__data__=new Yi;++d<v;)this.add(u[d])}function xw(u){return this.__data__.set(u,p),this}function cv(u){return this.__data__.has(u)}As.prototype.add=As.prototype.push=xw,As.prototype.has=cv;function An(u){var d=this.__data__=new Xi(u);this.size=d.size}function Wt(){this.__data__=new Xi,this.size=0}function Zi(u){var d=this.__data__,v=d.delete(u);return this.size=d.size,v}function Is(u){return this.__data__.get(u)}function bs(u){return this.__data__.has(u)}function fv(u,d){var v=this.__data__;if(v instanceof Xi){var T=v.__data__;if(!Qi||T.length<i-1)return T.push([u,d]),this.size=++v.size,this;v=this.__data__=new Yi(T)}return v.set(u,d),this.size=v.size,this}An.prototype.clear=Wt,An.prototype.delete=Zi,An.prototype.get=Is,An.prototype.has=bs,An.prototype.set=fv;function Af(u,d){var v=Tt(u),T=!v&&lc(u),N=!v&&!T&&Ol(u),z=!v&&!T&&!N&&jf(u),J=v||T||N||z,te=J?Fd(u.length,cw):[],le=te.length;for(var Se in u)(d||Xt.call(u,Se))&&!(J&&(Se=="length"||N&&(Se=="offset"||Se=="parent")||z&&(Se=="buffer"||Se=="byteLength"||Se=="byteOffset")||h(Se,le)))&&te.push(Se);return te}function Zd(u){var d=u.length;return d?u[Lf(0,d-1)]:n}function Ew(u,d){return Mn(Yr(u),is(d,0,u.length))}function Jd(u){return Mn(Yr(u))}function Ta(u,d,v){(v!==n&&!ss(u[d],v)||v===n&&!(d in u))&&rs(u,d,v)}function ml(u,d,v){var T=u[d];(!(Xt.call(u,d)&&ss(T,v))||v===n&&!(d in u))&&rs(u,d,v)}function vl(u,d){for(var v=u.length;v--;)if(ss(u[v][0],d))return v;return-1}function Ds(u,d,v,T){return Ji(u,function(N,z,J){d(T,N,v(N),J)}),T}function ep(u,d){return u&&to(d,Pr(d),u)}function hv(u,d){return u&&to(d,Ri(d),u)}function rs(u,d,v){d=="__proto__"&&dl?dl(u,d,{configurable:!0,enumerable:!0,value:v,writable:!0}):u[d]=v}function yl(u,d){for(var v=-1,T=d.length,N=ge(T),z=u==null;++v<T;)N[v]=z?n:jw(u,d[v]);return N}function is(u,d,v){return u===u&&(v!==n&&(u=u<=v?u:v),d!==n&&(u=u>=d?u:d)),u}function fi(u,d,v,T,N,z){var J,te=d&w,le=d&E,Se=d&C;if(v&&(J=N?v(u,T,N,z):v(u)),J!==n)return J;if(!$n(u))return u;var Ce=Tt(u);if(Ce){if(J=Mw(u),!te)return Yr(u,J)}else{var De=lr(u),We=De==Nt||De==gn;if(Ol(u))return fp(u,te);if(De==kn||De==nt||We&&!N){if(J=le||We?{}:Hv(u),!te)return le?Lw(u,hv(J,u)):Lv(u,ep(J,u))}else{if(!ln[De])return N?u:{};J=$f(u,De,te)}}z||(z=new An);var st=z.get(u);if(st)return st;z.set(u,J),nk(u)?u.forEach(function(ht){J.add(fi(ht,d,v,ht,u,z))}):ek(u)&&u.forEach(function(ht,Ft){J.set(Ft,fi(ht,d,v,Ft,u,z))});var ft=Se?le?Hf:zf:le?Ri:Pr,Lt=Ce?n:ft(u);return Ti(Lt||u,function(ht,Ft){Lt&&(Ft=ht,ht=u[Ft]),ml(J,Ft,fi(ht,d,v,Ft,u,z))}),J}function Sw(u){var d=Pr(u);return function(v){return tp(v,u,d)}}function tp(u,d,v){var T=v.length;if(u==null)return!T;for(u=on(u);T--;){var N=v[T],z=d[N],J=u[N];if(J===n&&!(N in u)||!z(J))return!1}return!0}function dv(u,d,v){if(typeof u!="function")throw new ki(a);return rt(function(){u.apply(n,v)},d)}function Wu(u,d,v,T){var N=-1,z=df,J=!0,te=u.length,le=[],Se=d.length;if(!te)return le;v&&(d=yn(d,Xr(v))),T?(z=Dd,J=!1):d.length>=i&&(z=Zo,J=!1,d=new As(d));e:for(;++N<te;){var Ce=u[N],De=v==null?Ce:v(Ce);if(Ce=T||Ce!==0?Ce:0,J&&De===De){for(var We=Se;We--;)if(d[We]===De)continue e;le.push(Ce)}else z(d,De,T)||le.push(Ce)}return le}var Ji=Dl(Ii),np=Dl(bf,!0);function Cw(u,d){var v=!0;return Ji(u,function(T,N,z){return v=!!d(T,N,z),v}),v}function If(u,d,v){for(var T=-1,N=u.length;++T<N;){var z=u[T],J=d(z);if(J!=null&&(te===n?J===J&&!no(J):v(J,te)))var te=J,le=z}return le}function pv(u,d,v,T){var N=u.length;for(v=Rt(v),v<0&&(v=-v>N?0:N+v),T=T===n||T>N?N:Rt(T),T<0&&(T+=N),T=v>T?0:ik(T);v<T;)u[v++]=d;return u}function ka(u,d){var v=[];return Ji(u,function(T,N,z){d(T,N,z)&&v.push(T)}),v}function sr(u,d,v,T,N){var z=-1,J=u.length;for(v||(v=l),N||(N=[]);++z<J;){var te=u[z];d>0&&v(te)?d>1?sr(te,d-1,v,T,N):Yo(N,te):T||(N[N.length]=te)}return N}var _l=Pv(),rp=Pv(!0);function Ii(u,d){return u&&_l(u,d,Pr)}function bf(u,d){return u&&rp(u,d,Pr)}function Df(u,d){return Es(d,function(v){return Pa(u[v])})}function Rs(u,d){d=Ns(d,u);for(var v=0,T=d.length;u!=null&&v<T;)u=u[In(d[v++])];return v&&v==T?u:n}function pr(u,d,v){var T=d(u);return Tt(u)?T:Yo(T,v(u))}function gr(u){return u==null?u===n?ce:Ur:ks&&ks in on(u)?Fw(u):Ee(u)}function Rf(u,d){return u>d}function gv(u,d){return u!=null&&Xt.call(u,d)}function mv(u,d){return u!=null&&d in on(u)}function wl(u,d,v){return u>=Jn(d,v)&&u<wn(d,v)}function xl(u,d,v){for(var T=v?Dd:df,N=u[0].length,z=u.length,J=z,te=ge(z),le=1/0,Se=[];J--;){var Ce=u[J];J&&d&&(Ce=yn(Ce,Xr(d))),le=Jn(Ce.length,le),te[J]=!v&&(d||N>=120&&Ce.length>=120)?new As(J&&Ce):n}Ce=u[0];var De=-1,We=te[0];e:for(;++De<N&&Se.length<le;){var st=Ce[De],ft=d?d(st):st;if(st=v||st!==0?st:0,!(We?Zo(We,ft):T(Se,ft,v))){for(J=z;--J;){var Lt=te[J];if(!(Lt?Zo(Lt,ft):T(u[J],ft,v)))continue e}We&&We.push(ft),Se.push(st)}}return Se}function vv(u,d,v,T){return Ii(u,function(N,z,J){d(T,v(N),z,J)}),T}function El(u,d,v){d=Ns(d,u),u=Me(u,d);var T=u==null?u:u[In(Po(d))];return T==null?n:li(T,u,v)}function ip(u){return tr(u)&&gr(u)==nt}function Sl(u){return tr(u)&&gr(u)==A}function yv(u){return tr(u)&&gr(u)==Pt}function Ls(u,d,v,T,N){return u===d?!0:u==null||d==null||!tr(u)&&!tr(d)?u!==u&&d!==d:_v(u,d,v,T,Ls,N)}function _v(u,d,v,T,N,z){var J=Tt(u),te=Tt(d),le=J?ze:lr(u),Se=te?ze:lr(d);le=le==nt?kn:le,Se=Se==nt?kn:Se;var Ce=le==kn,De=Se==kn,We=le==Se;if(We&&Ol(u)){if(!Ol(d))return!1;J=!0,Ce=!1}if(We&&!Ce)return z||(z=new An),J||jf(u)?bi(u,d,v,T,N,z):Vf(u,d,le,v,T,N,z);if(!(v&P)){var st=Ce&&Xt.call(u,"__wrapped__"),ft=De&&Xt.call(d,"__wrapped__");if(st||ft){var Lt=st?u.value():u,ht=ft?d.value():d;return z||(z=new An),N(Lt,ht,v,T,z)}}return We?(z||(z=new An),yp(u,d,v,T,N,z)):!1}function qu(u){return tr(u)&&lr(u)==Zt}function op(u,d,v,T){var N=v.length,z=N,J=!T;if(u==null)return!z;for(u=on(u);N--;){var te=v[N];if(J&&te[2]?te[1]!==u[te[0]]:!(te[0]in u))return!1}for(;++N<z;){te=v[N];var le=te[0],Se=u[le],Ce=te[1];if(J&&te[2]){if(Se===n&&!(le in u))return!1}else{var De=new An;if(T)var We=T(Se,Ce,le,u,d,De);if(!(We===n?Ls(Ce,Se,P|O,T,De):We))return!1}}return!0}function Aa(u){if(!$n(u)||k(u))return!1;var d=Pa(u)?Cs:K_;return d.test(Vn(u))}function wv(u){return tr(u)&&gr(u)==mt}function xv(u){return tr(u)&&lr(u)==dn}function Ev(u){return tr(u)&&Kv(u.length)&&!!pn[gr(u)]}function Cl(u){return typeof u=="function"?u:u==null?Li:typeof u=="object"?Tt(u)?ap(u[0],u[1]):Sv(u):gk(u)}function Ia(u){if(!L(u))return Gd(u);var d=[];for(var v in on(u))Xt.call(u,v)&&v!="constructor"&&d.push(v);return d}function Gu(u){if(!$n(u))return ve(u);var d=L(u),v=[];for(var T in u)T=="constructor"&&(d||!Xt.call(u,T))||v.push(T);return v}function ba(u,d){return u<d}function sp(u,d){var v=-1,T=Di(u)?ge(u.length):[];return Ji(u,function(N,z,J){T[++v]=d(N,z,J)}),T}function Sv(u){var d=qt(u);return d.length==1&&d[0][2]?X(d[0][0],d[0][1]):function(v){return v===u||op(v,u,d)}}function ap(u,d){return g(u)&&$(d)?X(In(u),d):function(v){var T=jw(v,u);return T===n&&T===d?Ww(v,u):Ls(d,T,P|O)}}function eo(u,d,v,T,N){u!==d&&_l(d,function(z,J){if(N||(N=new An),$n(z))Tl(u,d,J,v,eo,T,N);else{var te=T?T(Oe(u,J),z,J+"",u,d,N):n;te===n&&(te=z),Ta(u,J,te)}},Ri)}function Tl(u,d,v,T,N,z,J){var te=Oe(u,v),le=Oe(d,v),Se=J.get(le);if(Se){Ta(u,v,Se);return}var Ce=z?z(te,le,v+"",u,d,J):n,De=Ce===n;if(De){var We=Tt(le),st=!We&&Ol(le),ft=!We&&!st&&jf(le);Ce=le,We||st||ft?Tt(te)?Ce=te:cr(te)?Ce=Yr(te):st?(De=!1,Ce=fp(le,!0)):ft?(De=!1,Ce=hp(le,!0)):Ce=[]:xp(le)||lc(le)?(Ce=te,lc(te)?Ce=ok(te):(!$n(te)||Pa(te))&&(Ce=Hv(le))):De=!1}De&&(J.set(le,Ce),N(Ce,le,T,z,J),J.delete(le)),Ta(u,v,Ce)}function kl(u,d){var v=u.length;if(v)return d+=d<0?v:0,h(d,v)?u[d]:n}function Cv(u,d,v){d.length?d=yn(d,function(z){return Tt(z)?function(J){return Rs(J,z.length===1?z[0]:z)}:z}):d=[Li];var T=-1;d=yn(d,Xr(at()));var N=sp(u,function(z,J,te){var le=yn(d,function(Se){return Se(z)});return{criteria:le,index:++T,value:z}});return Nd(N,function(z,J){return Rw(z,J,v)})}function Tv(u,d){return kv(u,d,function(v,T){return Ww(u,T)})}function kv(u,d,v){for(var T=-1,N=d.length,z={};++T<N;){var J=d[T],te=Rs(u,J);v(te,J)&&Al(z,Ns(J,u),te)}return z}function Tw(u){return function(d){return Rs(d,u)}}function lp(u,d,v,T){var N=T?sw:_n,z=-1,J=d.length,te=u;for(u===d&&(d=Yr(d)),v&&(te=yn(u,Xr(v)));++z<J;)for(var le=0,Se=d[z],Ce=v?v(Se):Se;(le=N(te,Ce,le,T))>-1;)te!==u&&ya.call(te,le,1),ya.call(u,le,1);return u}function Dr(u,d){for(var v=u?d.length:0,T=v-1;v--;){var N=d[v];if(v==T||N!==z){var z=N;h(N)?ya.call(u,N,1):Pf(u,N)}}return u}function Lf(u,d){return u+wa(Kd()*(d-u+1))}function kw(u,d,v,T){for(var N=-1,z=wn(Uu((d-u)/(v||1)),0),J=ge(z);z--;)J[T?z:++N]=u,u+=v;return J}function up(u,d){var v="";if(!u||d<1||d>he)return v;do d%2&&(v+=u),d=wa(d/2),d&&(u+=u);while(d);return v}function Dt(u,d){return et(Re(u,d,Li),u+"")}function Av(u){return Zd(Wf(u))}function Iv(u,d){var v=Wf(u);return Mn(v,is(d,0,v.length))}function Al(u,d,v,T){if(!$n(u))return u;d=Ns(d,u);for(var N=-1,z=d.length,J=z-1,te=u;te!=null&&++N<z;){var le=In(d[N]),Se=v;if(le==="__proto__"||le==="constructor"||le==="prototype")return u;if(N!=J){var Ce=te[le];Se=T?T(Ce,le,te):n,Se===n&&(Se=$n(Ce)?Ce:h(d[N+1])?[]:{})}ml(te,le,Se),te=te[le]}return u}var bv=zu?function(u,d){return zu.set(u,d),u}:Li,Aw=dl?function(u,d){return dl(u,"toString",{configurable:!0,enumerable:!1,value:Gw(d),writable:!0})}:Li;function Iw(u){return Mn(Wf(u))}function ar(u,d,v){var T=-1,N=u.length;d<0&&(d=-d>N?0:N+d),v=v>N?N:v,v<0&&(v+=N),N=d>v?0:v-d>>>0,d>>>=0;for(var z=ge(N);++T<N;)z[T]=u[T+d];return z}function Ku(u,d){var v;return Ji(u,function(T,N,z){return v=d(T,N,z),!v}),!!v}function Da(u,d,v){var T=0,N=u==null?T:u.length;if(typeof d=="number"&&d===d&&N<=S){for(;T<N;){var z=T+N>>>1,J=u[z];J!==null&&!no(J)&&(v?J<=d:J<d)?T=z+1:N=z}return N}return Ra(u,d,Li,v)}function Ra(u,d,v,T){var N=0,z=u==null?0:u.length;if(z===0)return 0;d=v(d);for(var J=d!==d,te=d===null,le=no(d),Se=d===n;N<z;){var Ce=wa((N+z)/2),De=v(u[Ce]),We=De!==n,st=De===null,ft=De===De,Lt=no(De);if(J)var ht=T||ft;else Se?ht=ft&&(T||We):te?ht=ft&&We&&(T||!st):le?ht=ft&&We&&!st&&(T||!Lt):st||Lt?ht=!1:ht=T?De<=d:De<d;ht?N=Ce+1:z=Ce}return Jn(z,Q)}function Io(u,d){for(var v=-1,T=u.length,N=0,z=[];++v<T;){var J=u[v],te=d?d(J):J;if(!v||!ss(te,le)){var le=te;z[N++]=J===0?0:J}}return z}function Dv(u){return typeof u=="number"?u:no(u)?q:+u}function hi(u){if(typeof u=="string")return u;if(Tt(u))return yn(u,hi)+"";if(no(u))return ov?ov.call(u):"";var d=u+"";return d=="0"&&1/u==-de?"-0":d}function di(u,d,v){var T=-1,N=df,z=u.length,J=!0,te=[],le=te;if(v)J=!1,N=Dd;else if(z>=i){var Se=d?null:Nw(u);if(Se)return ci(Se);J=!1,N=Zo,le=new As}else le=d?[]:te;e:for(;++T<z;){var Ce=u[T],De=d?d(Ce):Ce;if(Ce=v||Ce!==0?Ce:0,J&&De===De){for(var We=le.length;We--;)if(le[We]===De)continue e;d&&le.push(De),te.push(Ce)}else N(le,De,v)||(le!==te&&le.push(De),te.push(Ce))}return te}function Pf(u,d){return d=Ns(d,u),u=Me(u,d),u==null||delete u[In(Po(d))]}function cp(u,d,v,T){return Al(u,d,v(Rs(u,d)),T)}function Qu(u,d,v,T){for(var N=u.length,z=T?N:-1;(T?z--:++z<N)&&d(u[z],z,u););return v?ar(u,T?0:z,T?z+1:N):ar(u,T?z+1:0,T?N:z)}function Xu(u,d){var v=u;return v instanceof ut&&(v=v.value()),Rd(d,function(T,N){return N.func.apply(N.thisArg,Yo([T],N.args))},v)}function Ps(u,d,v){var T=u.length;if(T<2)return T?di(u[0]):[];for(var N=-1,z=ge(T);++N<T;)for(var J=u[N],te=-1;++te<T;)te!=N&&(z[N]=Wu(z[N]||J,u[te],d,v));return di(sr(z,1),d,v)}function Nf(u,d,v){for(var T=-1,N=u.length,z=d.length,J={};++T<N;){var te=T<z?d[T]:n;v(J,u[T],te)}return J}function Yu(u){return cr(u)?u:[]}function Zu(u){return typeof u=="function"?u:Li}function Ns(u,d){return Tt(u)?u:g(u,d)?[u]:vn(sn(u))}var Ju=Dt;function os(u,d,v){var T=u.length;return v=v===n?T:v,!d&&v>=T?u:ar(u,d,v)}var Rv=jd||function(u){return un.clearTimeout(u)};function fp(u,d){if(d)return u.slice();var v=u.length,T=Hd?Hd(v):new u.constructor(v);return u.copy(T),T}function Il(u){var d=new u.constructor(u.byteLength);return new wf(d).set(new wf(u)),d}function bw(u,d){var v=d?Il(u.buffer):u.buffer;return new u.constructor(v,u.byteOffset,u.byteLength)}function Dw(u){var d=new u.constructor(u.source,Rm.exec(u));return d.lastIndex=u.lastIndex,d}function ec(u){return Hu?on(Hu.call(u)):{}}function hp(u,d){var v=d?Il(u.buffer):u.buffer;return new u.constructor(v,u.byteOffset,u.length)}function dp(u,d){if(u!==d){var v=u!==n,T=u===null,N=u===u,z=no(u),J=d!==n,te=d===null,le=d===d,Se=no(d);if(!te&&!Se&&!z&&u>d||z&&J&&le&&!te&&!Se||T&&J&&le||!v&&le||!N)return 1;if(!T&&!z&&!Se&&u<d||Se&&v&&N&&!T&&!z||te&&v&&N||!J&&N||!le)return-1}return 0}function Rw(u,d,v){for(var T=-1,N=u.criteria,z=d.criteria,J=N.length,te=v.length;++T<J;){var le=dp(N[T],z[T]);if(le){if(T>=te)return le;var Se=v[T];return le*(Se=="desc"?-1:1)}}return u.index-d.index}function Ff(u,d,v,T){for(var N=-1,z=u.length,J=v.length,te=-1,le=d.length,Se=wn(z-J,0),Ce=ge(le+Se),De=!T;++te<le;)Ce[te]=d[te];for(;++N<J;)(De||N<z)&&(Ce[v[N]]=u[N]);for(;Se--;)Ce[te++]=u[N++];return Ce}function pp(u,d,v,T){for(var N=-1,z=u.length,J=-1,te=v.length,le=-1,Se=d.length,Ce=wn(z-te,0),De=ge(Ce+Se),We=!T;++N<Ce;)De[N]=u[N];for(var st=N;++le<Se;)De[st+le]=d[le];for(;++J<te;)(We||N<z)&&(De[st+v[J]]=u[N++]);return De}function Yr(u,d){var v=-1,T=u.length;for(d||(d=ge(T));++v<T;)d[v]=u[v];return d}function to(u,d,v,T){var N=!v;v||(v={});for(var z=-1,J=d.length;++z<J;){var te=d[z],le=T?T(v[te],u[te],te,v,u):n;le===n&&(le=u[te]),N?rs(v,te,le):ml(v,te,le)}return v}function Lv(u,d){return to(u,Os(u),d)}function Lw(u,d){return to(u,Vv(u),d)}function bl(u,d){return function(v,T){var N=Tt(v)?rw:Ds,z=d?d():{};return N(v,u,at(T,2),z)}}function bo(u){return Dt(function(d,v){var T=-1,N=v.length,z=N>1?v[N-1]:n,J=N>2?v[2]:n;for(z=u.length>3&&typeof z=="function"?(N--,z):n,J&&f(v[0],v[1],J)&&(z=N<3?n:z,N=1),d=on(d);++T<N;){var te=v[T];te&&u(d,te,T,z)}return d})}function Dl(u,d){return function(v,T){if(v==null)return v;if(!Di(v))return u(v,T);for(var N=v.length,z=d?N:-1,J=on(v);(d?z--:++z<N)&&T(J[z],z,J)!==!1;);return v}}function Pv(u){return function(d,v,T){for(var N=-1,z=on(d),J=T(d),te=J.length;te--;){var le=J[u?te:++N];if(v(z[le],le,z)===!1)break}return d}}function Nv(u,d,v){var T=d&M,N=tc(u);function z(){var J=this&&this!==un&&this instanceof z?N:u;return J.apply(T?v:this,arguments)}return z}function Fv(u){return function(d){d=sn(d);var v=cl(d)?Wi(d):n,T=v?v[0]:d.charAt(0),N=v?os(v,1).join(""):d.slice(1);return T[u]()+N}}function Rl(u){return function(d){return Rd(dk(hk(d).replace(Nu,"")),u,"")}}function tc(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var v=gl(u.prototype),T=u.apply(v,d);return $n(T)?T:v}}function Pw(u,d,v){var T=tc(u);function N(){for(var z=arguments.length,J=ge(z),te=z,le=Pl(N);te--;)J[te]=arguments[te];var Se=z<3&&J[0]!==le&&J[z-1]!==le?[]:ui(J,le);if(z-=Se.length,z<v)return rc(u,d,Of,N.placeholder,n,J,Se,n,n,v-z);var Ce=this&&this!==un&&this instanceof N?T:u;return li(Ce,this,J)}return N}function gp(u){return function(d,v,T){var N=on(d);if(!Di(d)){var z=at(v,3);d=Pr(d),v=function(te){return z(N[te],te,N)}}var J=u(d,v,T);return J>-1?N[z?d[J]:J]:n}}function Ov(u){return Do(function(d){var v=d.length,T=v,N=en.prototype.thru;for(u&&d.reverse();T--;){var z=d[T];if(typeof z!="function")throw new ki(a);if(N&&!J&&sc(z)=="wrapper")var J=new en([],!0)}for(T=J?T:v;++T<v;){z=d[T];var te=sc(z),le=te=="wrapper"?oc(z):n;le&&x(le[0])&&le[1]==(W|D|j|Y)&&!le[4].length&&le[9]==1?J=J[sc(le[0])].apply(J,le[3]):J=z.length==1&&x(z)?J[te]():J.thru(z)}return function(){var Se=arguments,Ce=Se[0];if(J&&Se.length==1&&Tt(Ce))return J.plant(Ce).value();for(var De=0,We=v?d[De].apply(this,Se):Ce;++De<v;)We=d[De].call(this,We);return We}})}function Of(u,d,v,T,N,z,J,te,le,Se){var Ce=d&W,De=d&M,We=d&R,st=d&(D|B),ft=d&ae,Lt=We?n:tc(u);function ht(){for(var Ft=arguments.length,$t=ge(Ft),ro=Ft;ro--;)$t[ro]=arguments[ro];if(st)var pi=Pl(ht),io=Bd($t,pi);if(T&&($t=Ff($t,T,N,st)),z&&($t=pp($t,z,J,st)),Ft-=io,st&&Ft<Se){var fr=ui($t,pi);return rc(u,d,Of,ht.placeholder,v,$t,fr,te,le,Se-Ft)}var as=De?v:this,Fa=We?as[u]:u;return Ft=$t.length,te?$t=He($t,te):ft&&Ft>1&&$t.reverse(),Ce&&le<Ft&&($t.length=le),this&&this!==un&&this instanceof ht&&(Fa=Lt||tc(Fa)),Fa.apply(as,$t)}return ht}function mp(u,d){return function(v,T){return vv(v,u,d(T),{})}}function Ll(u,d){return function(v,T){var N;if(v===n&&T===n)return d;if(v!==n&&(N=v),T!==n){if(N===n)return T;typeof v=="string"||typeof T=="string"?(v=hi(v),T=hi(T)):(v=Dv(v),T=Dv(T)),N=u(v,T)}return N}}function Mf(u){return Do(function(d){return d=yn(d,Xr(at())),Dt(function(v){var T=this;return u(d,function(N){return li(N,T,v)})})})}function Bf(u,d){d=d===n?" ":hi(d);var v=d.length;if(v<2)return v?up(d,u):d;var T=up(d,Uu(u/fl(d)));return cl(d)?os(Wi(T),0,u).join(""):T.slice(0,u)}function Mv(u,d,v,T){var N=d&M,z=tc(u);function J(){for(var te=-1,le=arguments.length,Se=-1,Ce=T.length,De=ge(Ce+le),We=this&&this!==un&&this instanceof J?z:u;++Se<Ce;)De[Se]=T[Se];for(;le--;)De[Se++]=arguments[++te];return li(We,N?v:this,De)}return J}function La(u){return function(d,v,T){return T&&typeof T!="number"&&f(d,v,T)&&(v=T=n),d=Na(d),v===n?(v=d,d=0):v=Na(v),T=T===n?d<v?1:-1:Na(T),kw(d,v,T,u)}}function nc(u){return function(d,v){return typeof d=="string"&&typeof v=="string"||(d=No(d),v=No(v)),u(d,v)}}function rc(u,d,v,T,N,z,J,te,le,Se){var Ce=d&D,De=Ce?J:n,We=Ce?n:J,st=Ce?z:n,ft=Ce?n:z;d|=Ce?j:U,d&=~(Ce?U:j),d&b||(d&=~(M|R));var Lt=[u,d,N,st,De,ft,We,te,le,Se],ht=v.apply(n,Lt);return x(u)&&je(ht,Lt),ht.placeholder=T,xt(ht,u,d)}function vp(u){var d=Zn[u];return function(v,T){if(v=No(v),T=T==null?0:Jn(Rt(T),292),T&&rv(v)){var N=(sn(v)+"e").split("e"),z=d(N[0]+"e"+(+N[1]+T));return N=(sn(z)+"e").split("e"),+(N[0]+"e"+(+N[1]-T))}return d(v)}}var Nw=Ai&&1/ci(new Ai([,-0]))[1]==de?function(u){return new Ai(u)}:Xw;function Bv(u){return function(d){var v=lr(d);return v==Zt?mf(d):v==dn?Xm(d):aw(d,u(d))}}function Ht(u,d,v,T,N,z,J,te){var le=d&R;if(!le&&typeof u!="function")throw new ki(a);var Se=T?T.length:0;if(Se||(d&=~(j|U),T=N=n),J=J===n?J:wn(Rt(J),0),te=te===n?te:Rt(te),Se-=N?N.length:0,d&U){var Ce=T,De=N;T=N=n}var We=le?n:oc(u),st=[u,d,v,T,N,Ce,De,z,J,te];if(We&&ne(st,We),u=st[0],d=st[1],v=st[2],T=st[3],N=st[4],te=st[9]=st[9]===n?le?0:u.length:wn(st[9]-Se,0),!te&&d&(D|B)&&(d&=~(D|B)),!d||d==M)var ft=Nv(u,d,v);else d==D||d==B?ft=Pw(u,d,te):(d==j||d==(M|j))&&!N.length?ft=Mv(u,d,v,T):ft=Of.apply(n,st);var Lt=We?bv:je;return xt(Lt(ft,st),u,d)}function Uv(u,d,v,T){return u===n||ss(u,qi[v])&&!Xt.call(T,v)?d:u}function Uf(u,d,v,T,N,z){return $n(u)&&$n(d)&&(z.set(d,u),eo(u,d,n,Uf,z),z.delete(d)),u}function ic(u){return xp(u)?n:u}function bi(u,d,v,T,N,z){var J=v&P,te=u.length,le=d.length;if(te!=le&&!(J&&le>te))return!1;var Se=z.get(u),Ce=z.get(d);if(Se&&Ce)return Se==d&&Ce==u;var De=-1,We=!0,st=v&O?new As:n;for(z.set(u,d),z.set(d,u);++De<te;){var ft=u[De],Lt=d[De];if(T)var ht=J?T(Lt,ft,De,d,u,z):T(ft,Lt,De,u,d,z);if(ht!==n){if(ht)continue;We=!1;break}if(st){if(!al(d,function(Ft,$t){if(!Zo(st,$t)&&(ft===Ft||N(ft,Ft,v,T,z)))return st.push($t)})){We=!1;break}}else if(!(ft===Lt||N(ft,Lt,v,T,z))){We=!1;break}}return z.delete(u),z.delete(d),We}function Vf(u,d,v,T,N,z,J){switch(v){case F:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case A:return!(u.byteLength!=d.byteLength||!z(new wf(u),new wf(d)));case Bt:case Pt:case Ye:return ss(+u,+d);case bt:return u.name==d.name&&u.message==d.message;case mt:case br:return u==d+"";case Zt:var te=mf;case dn:var le=T&P;if(te||(te=ci),u.size!=d.size&&!le)return!1;var Se=J.get(u);if(Se)return Se==d;T|=O,J.set(u,d);var Ce=bi(te(u),te(d),T,N,z,J);return J.delete(u),Ce;case $i:if(Hu)return Hu.call(u)==Hu.call(d)}return!1}function yp(u,d,v,T,N,z){var J=v&P,te=zf(u),le=te.length,Se=zf(d),Ce=Se.length;if(le!=Ce&&!J)return!1;for(var De=le;De--;){var We=te[De];if(!(J?We in d:Xt.call(d,We)))return!1}var st=z.get(u),ft=z.get(d);if(st&&ft)return st==d&&ft==u;var Lt=!0;z.set(u,d),z.set(d,u);for(var ht=J;++De<le;){We=te[De];var Ft=u[We],$t=d[We];if(T)var ro=J?T($t,Ft,We,d,u,z):T(Ft,$t,We,u,d,z);if(!(ro===n?Ft===$t||N(Ft,$t,v,T,z):ro)){Lt=!1;break}ht||(ht=We=="constructor")}if(Lt&&!ht){var pi=u.constructor,io=d.constructor;pi!=io&&"constructor"in u&&"constructor"in d&&!(typeof pi=="function"&&pi instanceof pi&&typeof io=="function"&&io instanceof io)&&(Lt=!1)}return z.delete(u),z.delete(d),Lt}function Do(u){return et(Re(u,n,Us),u+"")}function zf(u){return pr(u,Pr,Os)}function Hf(u){return pr(u,Ri,Vv)}var oc=zu?function(u){return zu.get(u)}:Xw;function sc(u){for(var d=u.name+"",v=Ea[d],T=Xt.call(Ea,d)?v.length:0;T--;){var N=v[T],z=N.func;if(z==null||z==u)return N.name}return d}function Pl(u){var d=Xt.call(V,"placeholder")?V:u;return d.placeholder}function at(){var u=V.iteratee||Kw;return u=u===Kw?Cl:u,arguments.length?u(arguments[0],arguments[1]):u}function ac(u,d){var v=u.__data__;return _(d)?v[typeof d=="string"?"string":"hash"]:v.map}function qt(u){for(var d=Pr(u),v=d.length;v--;){var T=d[v],N=u[T];d[v]=[T,N,$(N)]}return d}function Fs(u,d){var v=Ud(u,d);return Aa(v)?v:n}function Fw(u){var d=Xt.call(u,ks),v=u[ks];try{u[ks]=n;var T=!0}catch{}var N=To.call(u);return T&&(d?u[ks]=v:delete u[ks]),N}var Os=Wd?function(u){return u==null?[]:(u=on(u),Es(Wd(u),function(d){return xf.call(u,d)}))}:Yw,Vv=Wd?function(u){for(var d=[];u;)Yo(d,Os(u)),u=Ts(u);return d}:Yw,lr=gr;(Cf&&lr(new Cf(new ArrayBuffer(1)))!=F||Qi&&lr(new Qi)!=Zt||xa&&lr(xa.resolve())!=Cr||Ai&&lr(new Ai)!=dn||ts&&lr(new ts)!=ue)&&(lr=function(u){var d=gr(u),v=d==kn?u.constructor:n,T=v?Vn(v):"";if(T)switch(T){case iv:return F;case dw:return Zt;case Sa:return Cr;case Ca:return dn;case pw:return ue}return d});function Ow(u,d,v){for(var T=-1,N=v.length;++T<N;){var z=v[T],J=z.size;switch(z.type){case"drop":u+=J;break;case"dropRight":d-=J;break;case"take":d=Jn(d,u+J);break;case"takeRight":u=wn(u,d-J);break}}return{start:u,end:d}}function On(u){var d=u.match(fd);return d?d[1].split(W_):[]}function zv(u,d,v){d=Ns(d,u);for(var T=-1,N=d.length,z=!1;++T<N;){var J=In(d[T]);if(!(z=u!=null&&v(u,J)))break;u=u[J]}return z||++T!=N?z:(N=u==null?0:u.length,!!N&&Kv(N)&&h(J,N)&&(Tt(u)||lc(u)))}function Mw(u){var d=u.length,v=new u.constructor(d);return d&&typeof u[0]=="string"&&Xt.call(u,"index")&&(v.index=u.index,v.input=u.input),v}function Hv(u){return typeof u.constructor=="function"&&!L(u)?gl(Ts(u)):{}}function $f(u,d,v){var T=u.constructor;switch(d){case A:return Il(u);case Bt:case Pt:return new T(+u);case F:return bw(u,v);case G:case K:case ee:case be:case Ve:case Be:case $e:case it:case ke:return hp(u,v);case Zt:return new T;case Ye:case br:return new T(u);case mt:return Dw(u);case dn:return new T;case $i:return ec(u)}}function o(u,d){var v=d.length;if(!v)return u;var T=v-1;return d[T]=(v>1?"& ":"")+d[T],d=d.join(v>2?", ":" "),u.replace(j_,`{
/* [wrapped with `+d+`] */
`)}function l(u){return Tt(u)||lc(u)||!!(nv&&u&&u[nv])}function h(u,d){var v=typeof u;return d=d??he,!!d&&(v=="number"||v!="symbol"&&Jc.test(u))&&u>-1&&u%1==0&&u<d}function f(u,d,v){if(!$n(v))return!1;var T=typeof d;return(T=="number"?Di(v)&&h(d,v.length):T=="string"&&d in v)?ss(v[d],u):!1}function g(u,d){if(Tt(u))return!1;var v=typeof u;return v=="number"||v=="symbol"||v=="boolean"||u==null||no(u)?!0:Ko.test(u)||!Go.test(u)||d!=null&&u in on(d)}function _(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function x(u){var d=sc(u),v=V[d];if(typeof v!="function"||!(d in ut.prototype))return!1;if(u===v)return!0;var T=oc(v);return!!T&&u===T[0]}function k(u){return!!_f&&_f in u}var I=es?Pa:Zw;function L(u){var d=u&&u.constructor,v=typeof d=="function"&&d.prototype||qi;return u===v}function $(u){return u===u&&!$n(u)}function X(u,d){return function(v){return v==null?!1:v[u]===d&&(d!==n||u in on(v))}}function oe(u){var d=qv(u,function(T){return v.size===m&&v.clear(),T}),v=d.cache;return d}function ne(u,d){var v=u[1],T=d[1],N=v|T,z=N<(M|R|W),J=T==W&&v==D||T==W&&v==Y&&u[7].length<=d[8]||T==(W|Y)&&d[7].length<=d[8]&&v==D;if(!(z||J))return u;T&M&&(u[2]=d[2],N|=v&M?0:b);var te=d[3];if(te){var le=u[3];u[3]=le?Ff(le,te,d[4]):te,u[4]=le?ui(u[3],y):d[4]}return te=d[5],te&&(le=u[5],u[5]=le?pp(le,te,d[6]):te,u[6]=le?ui(u[5],y):d[6]),te=d[7],te&&(u[7]=te),T&W&&(u[8]=u[8]==null?d[8]:Jn(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=N,u}function ve(u){var d=[];if(u!=null)for(var v in on(u))d.push(v);return d}function Ee(u){return To.call(u)}function Re(u,d,v){return d=wn(d===n?u.length-1:d,0),function(){for(var T=arguments,N=-1,z=wn(T.length-d,0),J=ge(z);++N<z;)J[N]=T[d+N];N=-1;for(var te=ge(d+1);++N<d;)te[N]=T[N];return te[d]=v(J),li(u,this,te)}}function Me(u,d){return d.length<2?u:Rs(u,ar(d,0,-1))}function He(u,d){for(var v=u.length,T=Jn(d.length,v),N=Yr(u);T--;){var z=d[T];u[T]=h(z,v)?N[z]:n}return u}function Oe(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var je=tn(bv),rt=Ef||function(u,d){return un.setTimeout(u,d)},et=tn(Aw);function xt(u,d,v){var T=d+"";return et(u,o(T,zn(On(T),v)))}function tn(u){var d=0,v=0;return function(){var T=hw(),N=Ue-(T-v);if(v=T,N>0){if(++d>=ye)return arguments[0]}else d=0;return u.apply(n,arguments)}}function Mn(u,d){var v=-1,T=u.length,N=T-1;for(d=d===n?T:d;++v<d;){var z=Lf(v,N),J=u[z];u[z]=u[v],u[v]=J}return u.length=d,u}var vn=oe(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(ji,function(v,T,N,z){d.push(N?z.replace(G_,"$1"):T||v)}),d});function In(u){if(typeof u=="string"||no(u))return u;var d=u+"";return d=="0"&&1/u==-de?"-0":d}function Vn(u){if(u!=null){try{return hl.call(u)}catch{}try{return u+""}catch{}}return""}function zn(u,d){return Ti(fe,function(v){var T="_."+v[0];d&v[1]&&!df(u,T)&&u.push(T)}),u.sort()}function Rr(u){if(u instanceof ut)return u.clone();var d=new en(u.__wrapped__,u.__chain__);return d.__actions__=Yr(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function mr(u,d,v){(v?f(u,d,v):d===n)?d=1:d=wn(Rt(d),0);var T=u==null?0:u.length;if(!T||d<1)return[];for(var N=0,z=0,J=ge(Uu(T/d));N<T;)J[z++]=ar(u,N,N+=d);return J}function er(u){for(var d=-1,v=u==null?0:u.length,T=0,N=[];++d<v;){var z=u[d];z&&(N[T++]=z)}return N}function Hn(){var u=arguments.length;if(!u)return[];for(var d=ge(u-1),v=arguments[0],T=u;T--;)d[T-1]=arguments[T];return Yo(Tt(v)?Yr(v):[v],sr(d,1))}var bn=Dt(function(u,d){return cr(u)?Wu(u,sr(d,1,cr,!0)):[]}),zr=Dt(function(u,d){var v=Po(d);return cr(v)&&(v=n),cr(u)?Wu(u,sr(d,1,cr,!0),at(v,2)):[]}),Nl=Dt(function(u,d){var v=Po(d);return cr(v)&&(v=n),cr(u)?Wu(u,sr(d,1,cr,!0),n,v):[]});function Ms(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:Rt(d),ar(u,d<0?0:d,T)):[]}function kr(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:Rt(d),d=T-d,ar(u,0,d<0?0:d)):[]}function Ro(u,d){return u&&u.length?Qu(u,at(d,3),!0,!0):[]}function ur(u,d){return u&&u.length?Qu(u,at(d,3),!0):[]}function _p(u,d,v,T){var N=u==null?0:u.length;return N?(v&&typeof v!="number"&&f(u,d,v)&&(v=0,T=N),pv(u,d,v,T)):[]}function Lo(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var N=v==null?0:Rt(v);return N<0&&(N=wn(T+N,0)),Ss(u,at(d,3),N)}function Bs(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var N=T-1;return v!==n&&(N=Rt(v),N=v<0?wn(T+N,0):Jn(N,T-1)),Ss(u,at(d,3),N,!0)}function Us(u){var d=u==null?0:u.length;return d?sr(u,1):[]}function Lr(u){var d=u==null?0:u.length;return d?sr(u,de):[]}function Fl(u,d){var v=u==null?0:u.length;return v?(d=d===n?1:Rt(d),sr(u,d)):[]}function wp(u){for(var d=-1,v=u==null?0:u.length,T={};++d<v;){var N=u[d];T[N[0]]=N[1]}return T}function VT(u){return u&&u.length?u[0]:n}function dF(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var N=v==null?0:Rt(v);return N<0&&(N=wn(T+N,0)),_n(u,d,N)}function pF(u){var d=u==null?0:u.length;return d?ar(u,0,-1):[]}var gF=Dt(function(u){var d=yn(u,Yu);return d.length&&d[0]===u[0]?xl(d):[]}),mF=Dt(function(u){var d=Po(u),v=yn(u,Yu);return d===Po(v)?d=n:v.pop(),v.length&&v[0]===u[0]?xl(v,at(d,2)):[]}),vF=Dt(function(u){var d=Po(u),v=yn(u,Yu);return d=typeof d=="function"?d:n,d&&v.pop(),v.length&&v[0]===u[0]?xl(v,n,d):[]});function yF(u,d){return u==null?"":qd.call(u,d)}function Po(u){var d=u==null?0:u.length;return d?u[d-1]:n}function _F(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var N=T;return v!==n&&(N=Rt(v),N=N<0?wn(T+N,0):Jn(N,T-1)),d===d?uw(u,d,N):Ss(u,Ld,N,!0)}function wF(u,d){return u&&u.length?kl(u,Rt(d)):n}var xF=Dt(zT);function zT(u,d){return u&&u.length&&d&&d.length?lp(u,d):u}function EF(u,d,v){return u&&u.length&&d&&d.length?lp(u,d,at(v,2)):u}function SF(u,d,v){return u&&u.length&&d&&d.length?lp(u,d,n,v):u}var CF=Do(function(u,d){var v=u==null?0:u.length,T=yl(u,d);return Dr(u,yn(d,function(N){return h(N,v)?+N:N}).sort(dp)),T});function TF(u,d){var v=[];if(!(u&&u.length))return v;var T=-1,N=[],z=u.length;for(d=at(d,3);++T<z;){var J=u[T];d(J,T,u)&&(v.push(J),N.push(T))}return Dr(u,N),v}function Bw(u){return u==null?u:Vu.call(u)}function kF(u,d,v){var T=u==null?0:u.length;return T?(v&&typeof v!="number"&&f(u,d,v)?(d=0,v=T):(d=d==null?0:Rt(d),v=v===n?T:Rt(v)),ar(u,d,v)):[]}function AF(u,d){return Da(u,d)}function IF(u,d,v){return Ra(u,d,at(v,2))}function bF(u,d){var v=u==null?0:u.length;if(v){var T=Da(u,d);if(T<v&&ss(u[T],d))return T}return-1}function DF(u,d){return Da(u,d,!0)}function RF(u,d,v){return Ra(u,d,at(v,2),!0)}function LF(u,d){var v=u==null?0:u.length;if(v){var T=Da(u,d,!0)-1;if(ss(u[T],d))return T}return-1}function PF(u){return u&&u.length?Io(u):[]}function NF(u,d){return u&&u.length?Io(u,at(d,2)):[]}function FF(u){var d=u==null?0:u.length;return d?ar(u,1,d):[]}function OF(u,d,v){return u&&u.length?(d=v||d===n?1:Rt(d),ar(u,0,d<0?0:d)):[]}function MF(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:Rt(d),d=T-d,ar(u,d<0?0:d,T)):[]}function BF(u,d){return u&&u.length?Qu(u,at(d,3),!1,!0):[]}function UF(u,d){return u&&u.length?Qu(u,at(d,3)):[]}var VF=Dt(function(u){return di(sr(u,1,cr,!0))}),zF=Dt(function(u){var d=Po(u);return cr(d)&&(d=n),di(sr(u,1,cr,!0),at(d,2))}),HF=Dt(function(u){var d=Po(u);return d=typeof d=="function"?d:n,di(sr(u,1,cr,!0),n,d)});function $F(u){return u&&u.length?di(u):[]}function jF(u,d){return u&&u.length?di(u,at(d,2)):[]}function WF(u,d){return d=typeof d=="function"?d:n,u&&u.length?di(u,n,d):[]}function Uw(u){if(!(u&&u.length))return[];var d=0;return u=Es(u,function(v){if(cr(v))return d=wn(v.length,d),!0}),Fd(d,function(v){return yn(u,Pd(v))})}function HT(u,d){if(!(u&&u.length))return[];var v=Uw(u);return d==null?v:yn(v,function(T){return li(d,n,T)})}var qF=Dt(function(u,d){return cr(u)?Wu(u,d):[]}),GF=Dt(function(u){return Ps(Es(u,cr))}),KF=Dt(function(u){var d=Po(u);return cr(d)&&(d=n),Ps(Es(u,cr),at(d,2))}),QF=Dt(function(u){var d=Po(u);return d=typeof d=="function"?d:n,Ps(Es(u,cr),n,d)}),XF=Dt(Uw);function YF(u,d){return Nf(u||[],d||[],ml)}function ZF(u,d){return Nf(u||[],d||[],Al)}var JF=Dt(function(u){var d=u.length,v=d>1?u[d-1]:n;return v=typeof v=="function"?(u.pop(),v):n,HT(u,v)});function $T(u){var d=V(u);return d.__chain__=!0,d}function e9(u,d){return d(u),u}function $v(u,d){return d(u)}var t9=Do(function(u){var d=u.length,v=d?u[0]:0,T=this.__wrapped__,N=function(z){return yl(z,u)};return d>1||this.__actions__.length||!(T instanceof ut)||!h(v)?this.thru(N):(T=T.slice(v,+v+(d?1:0)),T.__actions__.push({func:$v,args:[N],thisArg:n}),new en(T,this.__chain__).thru(function(z){return d&&!z.length&&z.push(n),z}))});function n9(){return $T(this)}function r9(){return new en(this.value(),this.__chain__)}function i9(){this.__values__===n&&(this.__values__=rk(this.value()));var u=this.__index__>=this.__values__.length,d=u?n:this.__values__[this.__index__++];return{done:u,value:d}}function o9(){return this}function s9(u){for(var d,v=this;v instanceof Tr;){var T=Rr(v);T.__index__=0,T.__values__=n,d?N.__wrapped__=T:d=T;var N=T;v=v.__wrapped__}return N.__wrapped__=u,d}function a9(){var u=this.__wrapped__;if(u instanceof ut){var d=u;return this.__actions__.length&&(d=new ut(this)),d=d.reverse(),d.__actions__.push({func:$v,args:[Bw],thisArg:n}),new en(d,this.__chain__)}return this.thru(Bw)}function l9(){return Xu(this.__wrapped__,this.__actions__)}var u9=bl(function(u,d,v){Xt.call(u,v)?++u[v]:rs(u,v,1)});function c9(u,d,v){var T=Tt(u)?bd:Cw;return v&&f(u,d,v)&&(d=n),T(u,at(d,3))}function f9(u,d){var v=Tt(u)?Es:ka;return v(u,at(d,3))}var h9=gp(Lo),d9=gp(Bs);function p9(u,d){return sr(jv(u,d),1)}function g9(u,d){return sr(jv(u,d),de)}function m9(u,d,v){return v=v===n?1:Rt(v),sr(jv(u,d),v)}function jT(u,d){var v=Tt(u)?Ti:Ji;return v(u,at(d,3))}function WT(u,d){var v=Tt(u)?jm:np;return v(u,at(d,3))}var v9=bl(function(u,d,v){Xt.call(u,v)?u[v].push(d):rs(u,v,[d])});function y9(u,d,v,T){u=Di(u)?u:Wf(u),v=v&&!T?Rt(v):0;var N=u.length;return v<0&&(v=wn(N+v,0)),Qv(u)?v<=N&&u.indexOf(d,v)>-1:!!N&&_n(u,d,v)>-1}var _9=Dt(function(u,d,v){var T=-1,N=typeof d=="function",z=Di(u)?ge(u.length):[];return Ji(u,function(J){z[++T]=N?li(d,J,v):El(J,d,v)}),z}),w9=bl(function(u,d,v){rs(u,v,d)});function jv(u,d){var v=Tt(u)?yn:sp;return v(u,at(d,3))}function x9(u,d,v,T){return u==null?[]:(Tt(d)||(d=d==null?[]:[d]),v=T?n:v,Tt(v)||(v=v==null?[]:[v]),Cv(u,d,v))}var E9=bl(function(u,d,v){u[v?0:1].push(d)},function(){return[[],[]]});function S9(u,d,v){var T=Tt(u)?Rd:Gm,N=arguments.length<3;return T(u,at(d,4),v,N,Ji)}function C9(u,d,v){var T=Tt(u)?Wm:Gm,N=arguments.length<3;return T(u,at(d,4),v,N,np)}function T9(u,d){var v=Tt(u)?Es:ka;return v(u,Gv(at(d,3)))}function k9(u){var d=Tt(u)?Zd:Av;return d(u)}function A9(u,d,v){(v?f(u,d,v):d===n)?d=1:d=Rt(d);var T=Tt(u)?Ew:Iv;return T(u,d)}function I9(u){var d=Tt(u)?Jd:Iw;return d(u)}function b9(u){if(u==null)return 0;if(Di(u))return Qv(u)?fl(u):u.length;var d=lr(u);return d==Zt||d==dn?u.size:Ia(u).length}function D9(u,d,v){var T=Tt(u)?al:Ku;return v&&f(u,d,v)&&(d=n),T(u,at(d,3))}var R9=Dt(function(u,d){if(u==null)return[];var v=d.length;return v>1&&f(u,d[0],d[1])?d=[]:v>2&&f(d[0],d[1],d[2])&&(d=[d[0]]),Cv(u,sr(d,1),[])}),Wv=pl||function(){return un.Date.now()};function L9(u,d){if(typeof d!="function")throw new ki(a);return u=Rt(u),function(){if(--u<1)return d.apply(this,arguments)}}function qT(u,d,v){return d=v?n:d,d=u&&d==null?u.length:d,Ht(u,W,n,n,n,n,d)}function GT(u,d){var v;if(typeof d!="function")throw new ki(a);return u=Rt(u),function(){return--u>0&&(v=d.apply(this,arguments)),u<=1&&(d=n),v}}var Vw=Dt(function(u,d,v){var T=M;if(v.length){var N=ui(v,Pl(Vw));T|=j}return Ht(u,T,d,v,N)}),KT=Dt(function(u,d,v){var T=M|R;if(v.length){var N=ui(v,Pl(KT));T|=j}return Ht(d,T,u,v,N)});function QT(u,d,v){d=v?n:d;var T=Ht(u,D,n,n,n,n,n,d);return T.placeholder=QT.placeholder,T}function XT(u,d,v){d=v?n:d;var T=Ht(u,B,n,n,n,n,n,d);return T.placeholder=XT.placeholder,T}function YT(u,d,v){var T,N,z,J,te,le,Se=0,Ce=!1,De=!1,We=!0;if(typeof u!="function")throw new ki(a);d=No(d)||0,$n(v)&&(Ce=!!v.leading,De="maxWait"in v,z=De?wn(No(v.maxWait)||0,d):z,We="trailing"in v?!!v.trailing:We);function st(fr){var as=T,Fa=N;return T=N=n,Se=fr,J=u.apply(Fa,as),J}function ft(fr){return Se=fr,te=rt(Ft,d),Ce?st(fr):J}function Lt(fr){var as=fr-le,Fa=fr-Se,mk=d-as;return De?Jn(mk,z-Fa):mk}function ht(fr){var as=fr-le,Fa=fr-Se;return le===n||as>=d||as<0||De&&Fa>=z}function Ft(){var fr=Wv();if(ht(fr))return $t(fr);te=rt(Ft,Lt(fr))}function $t(fr){return te=n,We&&T?st(fr):(T=N=n,J)}function ro(){te!==n&&Rv(te),Se=0,T=le=N=te=n}function pi(){return te===n?J:$t(Wv())}function io(){var fr=Wv(),as=ht(fr);if(T=arguments,N=this,le=fr,as){if(te===n)return ft(le);if(De)return Rv(te),te=rt(Ft,d),st(le)}return te===n&&(te=rt(Ft,d)),J}return io.cancel=ro,io.flush=pi,io}var P9=Dt(function(u,d){return dv(u,1,d)}),N9=Dt(function(u,d,v){return dv(u,No(d)||0,v)});function F9(u){return Ht(u,ae)}function qv(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new ki(a);var v=function(){var T=arguments,N=d?d.apply(this,T):T[0],z=v.cache;if(z.has(N))return z.get(N);var J=u.apply(this,T);return v.cache=z.set(N,J)||z,J};return v.cache=new(qv.Cache||Yi),v}qv.Cache=Yi;function Gv(u){if(typeof u!="function")throw new ki(a);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function O9(u){return GT(2,u)}var M9=Ju(function(u,d){d=d.length==1&&Tt(d[0])?yn(d[0],Xr(at())):yn(sr(d,1),Xr(at()));var v=d.length;return Dt(function(T){for(var N=-1,z=Jn(T.length,v);++N<z;)T[N]=d[N].call(this,T[N]);return li(u,this,T)})}),zw=Dt(function(u,d){var v=ui(d,Pl(zw));return Ht(u,j,n,d,v)}),ZT=Dt(function(u,d){var v=ui(d,Pl(ZT));return Ht(u,U,n,d,v)}),B9=Do(function(u,d){return Ht(u,Y,n,n,n,d)});function U9(u,d){if(typeof u!="function")throw new ki(a);return d=d===n?d:Rt(d),Dt(u,d)}function V9(u,d){if(typeof u!="function")throw new ki(a);return d=d==null?0:wn(Rt(d),0),Dt(function(v){var T=v[d],N=os(v,0,d);return T&&Yo(N,T),li(u,this,N)})}function z9(u,d,v){var T=!0,N=!0;if(typeof u!="function")throw new ki(a);return $n(v)&&(T="leading"in v?!!v.leading:T,N="trailing"in v?!!v.trailing:N),YT(u,d,{leading:T,maxWait:d,trailing:N})}function H9(u){return qT(u,1)}function $9(u,d){return zw(Zu(d),u)}function j9(){if(!arguments.length)return[];var u=arguments[0];return Tt(u)?u:[u]}function W9(u){return fi(u,C)}function q9(u,d){return d=typeof d=="function"?d:n,fi(u,C,d)}function G9(u){return fi(u,w|C)}function K9(u,d){return d=typeof d=="function"?d:n,fi(u,w|C,d)}function Q9(u,d){return d==null||tp(u,d,Pr(d))}function ss(u,d){return u===d||u!==u&&d!==d}var X9=nc(Rf),Y9=nc(function(u,d){return u>=d}),lc=ip(function(){return arguments}())?ip:function(u){return tr(u)&&Xt.call(u,"callee")&&!xf.call(u,"callee")},Tt=ge.isArray,Z9=ff?Xr(ff):Sl;function Di(u){return u!=null&&Kv(u.length)&&!Pa(u)}function cr(u){return tr(u)&&Di(u)}function J9(u){return u===!0||u===!1||tr(u)&&gr(u)==Bt}var Ol=fw||Zw,eO=Eo?Xr(Eo):yv;function tO(u){return tr(u)&&u.nodeType===1&&!xp(u)}function nO(u){if(u==null)return!0;if(Di(u)&&(Tt(u)||typeof u=="string"||typeof u.splice=="function"||Ol(u)||jf(u)||lc(u)))return!u.length;var d=lr(u);if(d==Zt||d==dn)return!u.size;if(L(u))return!Ia(u).length;for(var v in u)if(Xt.call(u,v))return!1;return!0}function rO(u,d){return Ls(u,d)}function iO(u,d,v){v=typeof v=="function"?v:n;var T=v?v(u,d):n;return T===n?Ls(u,d,n,v):!!T}function Hw(u){if(!tr(u))return!1;var d=gr(u);return d==bt||d==an||typeof u.message=="string"&&typeof u.name=="string"&&!xp(u)}function oO(u){return typeof u=="number"&&rv(u)}function Pa(u){if(!$n(u))return!1;var d=gr(u);return d==Nt||d==gn||d==At||d==Si}function JT(u){return typeof u=="number"&&u==Rt(u)}function Kv(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=he}function $n(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function tr(u){return u!=null&&typeof u=="object"}var ek=Fu?Xr(Fu):qu;function sO(u,d){return u===d||op(u,d,qt(d))}function aO(u,d,v){return v=typeof v=="function"?v:n,op(u,d,qt(d),v)}function lO(u){return tk(u)&&u!=+u}function uO(u){if(I(u))throw new gt(s);return Aa(u)}function cO(u){return u===null}function fO(u){return u==null}function tk(u){return typeof u=="number"||tr(u)&&gr(u)==Ye}function xp(u){if(!tr(u)||gr(u)!=kn)return!1;var d=Ts(u);if(d===null)return!0;var v=Xt.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&hl.call(v)==va}var $w=hf?Xr(hf):wv;function hO(u){return JT(u)&&u>=-he&&u<=he}var nk=pa?Xr(pa):xv;function Qv(u){return typeof u=="string"||!Tt(u)&&tr(u)&&gr(u)==br}function no(u){return typeof u=="symbol"||tr(u)&&gr(u)==$i}var jf=$m?Xr($m):Ev;function dO(u){return u===n}function pO(u){return tr(u)&&lr(u)==ue}function gO(u){return tr(u)&&gr(u)==re}var mO=nc(ba),vO=nc(function(u,d){return u<=d});function rk(u){if(!u)return[];if(Di(u))return Qv(u)?Wi(u):Yr(u);if(_a&&u[_a])return lw(u[_a]());var d=lr(u),v=d==Zt?mf:d==dn?ci:Wf;return v(u)}function Na(u){if(!u)return u===0?u:0;if(u=No(u),u===de||u===-de){var d=u<0?-1:1;return d*Le}return u===u?u:0}function Rt(u){var d=Na(u),v=d%1;return d===d?v?d-v:d:0}function ik(u){return u?is(Rt(u),0,tt):0}function No(u){if(typeof u=="number")return u;if(no(u))return q;if($n(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=$n(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=Od(u);var v=ol.test(u);return v||Q_.test(u)?lf(u.slice(2),v?2:8):pd.test(u)?q:+u}function ok(u){return to(u,Ri(u))}function yO(u){return u?is(Rt(u),-he,he):u===0?u:0}function sn(u){return u==null?"":hi(u)}var _O=bo(function(u,d){if(L(d)||Di(d)){to(d,Pr(d),u);return}for(var v in d)Xt.call(d,v)&&ml(u,v,d[v])}),sk=bo(function(u,d){to(d,Ri(d),u)}),Xv=bo(function(u,d,v,T){to(d,Ri(d),u,T)}),wO=bo(function(u,d,v,T){to(d,Pr(d),u,T)}),xO=Do(yl);function EO(u,d){var v=gl(u);return d==null?v:ep(v,d)}var SO=Dt(function(u,d){u=on(u);var v=-1,T=d.length,N=T>2?d[2]:n;for(N&&f(d[0],d[1],N)&&(T=1);++v<T;)for(var z=d[v],J=Ri(z),te=-1,le=J.length;++te<le;){var Se=J[te],Ce=u[Se];(Ce===n||ss(Ce,qi[Se])&&!Xt.call(u,Se))&&(u[Se]=z[Se])}return u}),CO=Dt(function(u){return u.push(n,Uf),li(ak,n,u)});function TO(u,d){return qm(u,at(d,3),Ii)}function kO(u,d){return qm(u,at(d,3),bf)}function AO(u,d){return u==null?u:_l(u,at(d,3),Ri)}function IO(u,d){return u==null?u:rp(u,at(d,3),Ri)}function bO(u,d){return u&&Ii(u,at(d,3))}function DO(u,d){return u&&bf(u,at(d,3))}function RO(u){return u==null?[]:Df(u,Pr(u))}function LO(u){return u==null?[]:Df(u,Ri(u))}function jw(u,d,v){var T=u==null?n:Rs(u,d);return T===n?v:T}function PO(u,d){return u!=null&&zv(u,d,gv)}function Ww(u,d){return u!=null&&zv(u,d,mv)}var NO=mp(function(u,d,v){d!=null&&typeof d.toString!="function"&&(d=To.call(d)),u[d]=v},Gw(Li)),FO=mp(function(u,d,v){d!=null&&typeof d.toString!="function"&&(d=To.call(d)),Xt.call(u,d)?u[d].push(v):u[d]=[v]},at),OO=Dt(El);function Pr(u){return Di(u)?Af(u):Ia(u)}function Ri(u){return Di(u)?Af(u,!0):Gu(u)}function MO(u,d){var v={};return d=at(d,3),Ii(u,function(T,N,z){rs(v,d(T,N,z),T)}),v}function BO(u,d){var v={};return d=at(d,3),Ii(u,function(T,N,z){rs(v,N,d(T,N,z))}),v}var UO=bo(function(u,d,v){eo(u,d,v)}),ak=bo(function(u,d,v,T){eo(u,d,v,T)}),VO=Do(function(u,d){var v={};if(u==null)return v;var T=!1;d=yn(d,function(z){return z=Ns(z,u),T||(T=z.length>1),z}),to(u,Hf(u),v),T&&(v=fi(v,w|E|C,ic));for(var N=d.length;N--;)Pf(v,d[N]);return v});function zO(u,d){return lk(u,Gv(at(d)))}var HO=Do(function(u,d){return u==null?{}:Tv(u,d)});function lk(u,d){if(u==null)return{};var v=yn(Hf(u),function(T){return[T]});return d=at(d),kv(u,v,function(T,N){return d(T,N[0])})}function $O(u,d,v){d=Ns(d,u);var T=-1,N=d.length;for(N||(N=1,u=n);++T<N;){var z=u==null?n:u[In(d[T])];z===n&&(T=N,z=v),u=Pa(z)?z.call(u):z}return u}function jO(u,d,v){return u==null?u:Al(u,d,v)}function WO(u,d,v,T){return T=typeof T=="function"?T:n,u==null?u:Al(u,d,v,T)}var uk=Bv(Pr),ck=Bv(Ri);function qO(u,d,v){var T=Tt(u),N=T||Ol(u)||jf(u);if(d=at(d,4),v==null){var z=u&&u.constructor;N?v=T?new z:[]:$n(u)?v=Pa(z)?gl(Ts(u)):{}:v={}}return(N?Ti:Ii)(u,function(J,te,le){return d(v,J,te,le)}),v}function GO(u,d){return u==null?!0:Pf(u,d)}function KO(u,d,v){return u==null?u:cp(u,d,Zu(v))}function QO(u,d,v,T){return T=typeof T=="function"?T:n,u==null?u:cp(u,d,Zu(v),T)}function Wf(u){return u==null?[]:Md(u,Pr(u))}function XO(u){return u==null?[]:Md(u,Ri(u))}function YO(u,d,v){return v===n&&(v=d,d=n),v!==n&&(v=No(v),v=v===v?v:0),d!==n&&(d=No(d),d=d===d?d:0),is(No(u),d,v)}function ZO(u,d,v){return d=Na(d),v===n?(v=d,d=0):v=Na(v),u=No(u),wl(u,d,v)}function JO(u,d,v){if(v&&typeof v!="boolean"&&f(u,d,v)&&(d=v=n),v===n&&(typeof d=="boolean"?(v=d,d=n):typeof u=="boolean"&&(v=u,u=n)),u===n&&d===n?(u=0,d=1):(u=Na(u),d===n?(d=u,u=0):d=Na(d)),u>d){var T=u;u=d,d=T}if(v||u%1||d%1){var N=Kd();return Jn(u+N*(d-u+Vm("1e-"+((N+"").length-1))),d)}return Lf(u,d)}var e5=Rl(function(u,d,v){return d=d.toLowerCase(),u+(v?fk(d):d)});function fk(u){return qw(sn(u).toLowerCase())}function hk(u){return u=sn(u),u&&u.replace(gd,Km).replace(J_,"")}function t5(u,d,v){u=sn(u),d=hi(d);var T=u.length;v=v===n?T:is(Rt(v),0,T);var N=v;return v-=d.length,v>=0&&u.slice(v,N)==d}function n5(u){return u=sn(u),u&&Yn.test(u)?u.replace(Vt,Co):u}function r5(u){return u=sn(u),u&&_s.test(u)?u.replace(ua,"\\$&"):u}var i5=Rl(function(u,d,v){return u+(v?"-":"")+d.toLowerCase()}),o5=Rl(function(u,d,v){return u+(v?" ":"")+d.toLowerCase()}),s5=Fv("toLowerCase");function a5(u,d,v){u=sn(u),d=Rt(d);var T=d?fl(u):0;if(!d||T>=d)return u;var N=(d-T)/2;return Bf(wa(N),v)+u+Bf(Uu(N),v)}function l5(u,d,v){u=sn(u),d=Rt(d);var T=d?fl(u):0;return d&&T<d?u+Bf(d-T,v):u}function u5(u,d,v){u=sn(u),d=Rt(d);var T=d?fl(u):0;return d&&T<d?Bf(d-T,v)+u:u}function c5(u,d,v){return v||d==null?d=0:d&&(d=+d),Sf(sn(u).replace(ud,""),d||0)}function f5(u,d,v){return(v?f(u,d,v):d===n)?d=1:d=Rt(d),up(sn(u),d)}function h5(){var u=arguments,d=sn(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var d5=Rl(function(u,d,v){return u+(v?"_":"")+d.toLowerCase()});function p5(u,d,v){return v&&typeof v!="number"&&f(u,d,v)&&(d=v=n),v=v===n?tt:v>>>0,v?(u=sn(u),u&&(typeof d=="string"||d!=null&&!$w(d))&&(d=hi(d),!d&&cl(u))?os(Wi(u),0,v):u.split(d,v)):[]}var g5=Rl(function(u,d,v){return u+(v?" ":"")+qw(d)});function m5(u,d,v){return u=sn(u),v=v==null?0:is(Rt(v),0,u.length),d=hi(d),u.slice(v,v+d.length)==d}function v5(u,d,v){var T=V.templateSettings;v&&f(u,d,v)&&(d=n),u=sn(u),d=Xv({},d,T,Uv);var N=Xv({},d.imports,T.imports,Uv),z=Pr(N),J=Md(N,z),te,le,Se=0,Ce=d.interpolate||Qo,De="__p += '",We=Bu((d.escape||Qo).source+"|"+Ce.source+"|"+(Ce===mn?dd:Qo).source+"|"+(d.evaluate||Qo).source+"|$","g"),st="//# sourceURL="+(Xt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nw+"]")+`
`;u.replace(We,function(ht,Ft,$t,ro,pi,io){return $t||($t=ro),De+=u.slice(Se,io).replace(X_,ga),Ft&&(te=!0,De+=`' +
__e(`+Ft+`) +
'`),pi&&(le=!0,De+=`';
`+pi+`;
__p += '`),$t&&(De+=`' +
((__t = (`+$t+`)) == null ? '' : __t) +
'`),Se=io+ht.length,ht}),De+=`';
`;var ft=Xt.call(d,"variable")&&d.variable;if(!ft)De=`with (obj) {
`+De+`
}
`;else if(q_.test(ft))throw new gt(c);De=(le?De.replace(ot,""):De).replace(me,"$1").replace(Qt,"$1;"),De="function("+(ft||"obj")+`) {
`+(ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(te?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+De+`return __p
}`;var Lt=pk(function(){return zt(z,st+"return "+De).apply(n,J)});if(Lt.source=De,Hw(Lt))throw Lt;return Lt}function y5(u){return sn(u).toLowerCase()}function _5(u){return sn(u).toUpperCase()}function w5(u,d,v){if(u=sn(u),u&&(v||d===n))return Od(u);if(!u||!(d=hi(d)))return u;var T=Wi(u),N=Wi(d),z=So(T,N),J=Ou(T,N)+1;return os(T,z,J).join("")}function x5(u,d,v){if(u=sn(u),u&&(v||d===n))return u.slice(0,Vd(u)+1);if(!u||!(d=hi(d)))return u;var T=Wi(u),N=Ou(T,Wi(d))+1;return os(T,0,N).join("")}function E5(u,d,v){if(u=sn(u),u&&(v||d===n))return u.replace(ud,"");if(!u||!(d=hi(d)))return u;var T=Wi(u),N=So(T,Wi(d));return os(T,N).join("")}function S5(u,d){var v=_e,T=ie;if($n(d)){var N="separator"in d?d.separator:N;v="length"in d?Rt(d.length):v,T="omission"in d?hi(d.omission):T}u=sn(u);var z=u.length;if(cl(u)){var J=Wi(u);z=J.length}if(v>=z)return u;var te=v-fl(T);if(te<1)return T;var le=J?os(J,0,te).join(""):u.slice(0,te);if(N===n)return le+T;if(J&&(te+=le.length-te),$w(N)){if(u.slice(te).search(N)){var Se,Ce=le;for(N.global||(N=Bu(N.source,sn(Rm.exec(N))+"g")),N.lastIndex=0;Se=N.exec(Ce);)var De=Se.index;le=le.slice(0,De===n?te:De)}}else if(u.indexOf(hi(N),te)!=te){var We=le.lastIndexOf(N);We>-1&&(le=le.slice(0,We))}return le+T}function C5(u){return u=sn(u),u&&yt.test(u)?u.replace(Ut,Zm):u}var T5=Rl(function(u,d,v){return u+(v?" ":"")+d.toUpperCase()}),qw=Fv("toUpperCase");function dk(u,d,v){return u=sn(u),d=v?n:d,d===n?Qm(u)?ev(u):ow(u):u.match(d)||[]}var pk=Dt(function(u,d){try{return li(u,n,d)}catch(v){return Hw(v)?v:new gt(v)}}),k5=Do(function(u,d){return Ti(d,function(v){v=In(v),rs(u,v,Vw(u[v],u))}),u});function A5(u){var d=u==null?0:u.length,v=at();return u=d?yn(u,function(T){if(typeof T[1]!="function")throw new ki(a);return[v(T[0]),T[1]]}):[],Dt(function(T){for(var N=-1;++N<d;){var z=u[N];if(li(z[0],this,T))return li(z[1],this,T)}})}function I5(u){return Sw(fi(u,w))}function Gw(u){return function(){return u}}function b5(u,d){return u==null||u!==u?d:u}var D5=Ov(),R5=Ov(!0);function Li(u){return u}function Kw(u){return Cl(typeof u=="function"?u:fi(u,w))}function L5(u){return Sv(fi(u,w))}function P5(u,d){return ap(u,fi(d,w))}var N5=Dt(function(u,d){return function(v){return El(v,u,d)}}),F5=Dt(function(u,d){return function(v){return El(u,v,d)}});function Qw(u,d,v){var T=Pr(d),N=Df(d,T);v==null&&!($n(d)&&(N.length||!T.length))&&(v=d,d=u,u=this,N=Df(d,Pr(d)));var z=!($n(v)&&"chain"in v)||!!v.chain,J=Pa(u);return Ti(N,function(te){var le=d[te];u[te]=le,J&&(u.prototype[te]=function(){var Se=this.__chain__;if(z||Se){var Ce=u(this.__wrapped__),De=Ce.__actions__=Yr(this.__actions__);return De.push({func:le,args:arguments,thisArg:u}),Ce.__chain__=Se,Ce}return le.apply(u,Yo([this.value()],arguments))})}),u}function O5(){return un._===this&&(un._=Vr),this}function Xw(){}function M5(u){return u=Rt(u),Dt(function(d){return kl(d,u)})}var B5=Mf(yn),U5=Mf(bd),V5=Mf(al);function gk(u){return g(u)?Pd(In(u)):Tw(u)}function z5(u){return function(d){return u==null?n:Rs(u,d)}}var H5=La(),$5=La(!0);function Yw(){return[]}function Zw(){return!1}function j5(){return{}}function W5(){return""}function q5(){return!0}function G5(u,d){if(u=Rt(u),u<1||u>he)return[];var v=tt,T=Jn(u,tt);d=at(d),u-=tt;for(var N=Fd(T,d);++v<u;)d(v);return N}function K5(u){return Tt(u)?yn(u,In):no(u)?[u]:Yr(vn(sn(u)))}function Q5(u){var d=++tv;return sn(u)+d}var X5=Ll(function(u,d){return u+d},0),Y5=vp("ceil"),Z5=Ll(function(u,d){return u/d},1),J5=vp("floor");function e6(u){return u&&u.length?If(u,Li,Rf):n}function t6(u,d){return u&&u.length?If(u,at(d,2),Rf):n}function n6(u){return ul(u,Li)}function r6(u,d){return ul(u,at(d,2))}function i6(u){return u&&u.length?If(u,Li,ba):n}function o6(u,d){return u&&u.length?If(u,at(d,2),ba):n}var s6=Ll(function(u,d){return u*d},1),a6=vp("round"),l6=Ll(function(u,d){return u-d},0);function u6(u){return u&&u.length?gf(u,Li):0}function c6(u,d){return u&&u.length?gf(u,at(d,2)):0}return V.after=L9,V.ary=qT,V.assign=_O,V.assignIn=sk,V.assignInWith=Xv,V.assignWith=wO,V.at=xO,V.before=GT,V.bind=Vw,V.bindAll=k5,V.bindKey=KT,V.castArray=j9,V.chain=$T,V.chunk=mr,V.compact=er,V.concat=Hn,V.cond=A5,V.conforms=I5,V.constant=Gw,V.countBy=u9,V.create=EO,V.curry=QT,V.curryRight=XT,V.debounce=YT,V.defaults=SO,V.defaultsDeep=CO,V.defer=P9,V.delay=N9,V.difference=bn,V.differenceBy=zr,V.differenceWith=Nl,V.drop=Ms,V.dropRight=kr,V.dropRightWhile=Ro,V.dropWhile=ur,V.fill=_p,V.filter=f9,V.flatMap=p9,V.flatMapDeep=g9,V.flatMapDepth=m9,V.flatten=Us,V.flattenDeep=Lr,V.flattenDepth=Fl,V.flip=F9,V.flow=D5,V.flowRight=R5,V.fromPairs=wp,V.functions=RO,V.functionsIn=LO,V.groupBy=v9,V.initial=pF,V.intersection=gF,V.intersectionBy=mF,V.intersectionWith=vF,V.invert=NO,V.invertBy=FO,V.invokeMap=_9,V.iteratee=Kw,V.keyBy=w9,V.keys=Pr,V.keysIn=Ri,V.map=jv,V.mapKeys=MO,V.mapValues=BO,V.matches=L5,V.matchesProperty=P5,V.memoize=qv,V.merge=UO,V.mergeWith=ak,V.method=N5,V.methodOf=F5,V.mixin=Qw,V.negate=Gv,V.nthArg=M5,V.omit=VO,V.omitBy=zO,V.once=O9,V.orderBy=x9,V.over=B5,V.overArgs=M9,V.overEvery=U5,V.overSome=V5,V.partial=zw,V.partialRight=ZT,V.partition=E9,V.pick=HO,V.pickBy=lk,V.property=gk,V.propertyOf=z5,V.pull=xF,V.pullAll=zT,V.pullAllBy=EF,V.pullAllWith=SF,V.pullAt=CF,V.range=H5,V.rangeRight=$5,V.rearg=B9,V.reject=T9,V.remove=TF,V.rest=U9,V.reverse=Bw,V.sampleSize=A9,V.set=jO,V.setWith=WO,V.shuffle=I9,V.slice=kF,V.sortBy=R9,V.sortedUniq=PF,V.sortedUniqBy=NF,V.split=p5,V.spread=V9,V.tail=FF,V.take=OF,V.takeRight=MF,V.takeRightWhile=BF,V.takeWhile=UF,V.tap=e9,V.throttle=z9,V.thru=$v,V.toArray=rk,V.toPairs=uk,V.toPairsIn=ck,V.toPath=K5,V.toPlainObject=ok,V.transform=qO,V.unary=H9,V.union=VF,V.unionBy=zF,V.unionWith=HF,V.uniq=$F,V.uniqBy=jF,V.uniqWith=WF,V.unset=GO,V.unzip=Uw,V.unzipWith=HT,V.update=KO,V.updateWith=QO,V.values=Wf,V.valuesIn=XO,V.without=qF,V.words=dk,V.wrap=$9,V.xor=GF,V.xorBy=KF,V.xorWith=QF,V.zip=XF,V.zipObject=YF,V.zipObjectDeep=ZF,V.zipWith=JF,V.entries=uk,V.entriesIn=ck,V.extend=sk,V.extendWith=Xv,Qw(V,V),V.add=X5,V.attempt=pk,V.camelCase=e5,V.capitalize=fk,V.ceil=Y5,V.clamp=YO,V.clone=W9,V.cloneDeep=G9,V.cloneDeepWith=K9,V.cloneWith=q9,V.conformsTo=Q9,V.deburr=hk,V.defaultTo=b5,V.divide=Z5,V.endsWith=t5,V.eq=ss,V.escape=n5,V.escapeRegExp=r5,V.every=c9,V.find=h9,V.findIndex=Lo,V.findKey=TO,V.findLast=d9,V.findLastIndex=Bs,V.findLastKey=kO,V.floor=J5,V.forEach=jT,V.forEachRight=WT,V.forIn=AO,V.forInRight=IO,V.forOwn=bO,V.forOwnRight=DO,V.get=jw,V.gt=X9,V.gte=Y9,V.has=PO,V.hasIn=Ww,V.head=VT,V.identity=Li,V.includes=y9,V.indexOf=dF,V.inRange=ZO,V.invoke=OO,V.isArguments=lc,V.isArray=Tt,V.isArrayBuffer=Z9,V.isArrayLike=Di,V.isArrayLikeObject=cr,V.isBoolean=J9,V.isBuffer=Ol,V.isDate=eO,V.isElement=tO,V.isEmpty=nO,V.isEqual=rO,V.isEqualWith=iO,V.isError=Hw,V.isFinite=oO,V.isFunction=Pa,V.isInteger=JT,V.isLength=Kv,V.isMap=ek,V.isMatch=sO,V.isMatchWith=aO,V.isNaN=lO,V.isNative=uO,V.isNil=fO,V.isNull=cO,V.isNumber=tk,V.isObject=$n,V.isObjectLike=tr,V.isPlainObject=xp,V.isRegExp=$w,V.isSafeInteger=hO,V.isSet=nk,V.isString=Qv,V.isSymbol=no,V.isTypedArray=jf,V.isUndefined=dO,V.isWeakMap=pO,V.isWeakSet=gO,V.join=yF,V.kebabCase=i5,V.last=Po,V.lastIndexOf=_F,V.lowerCase=o5,V.lowerFirst=s5,V.lt=mO,V.lte=vO,V.max=e6,V.maxBy=t6,V.mean=n6,V.meanBy=r6,V.min=i6,V.minBy=o6,V.stubArray=Yw,V.stubFalse=Zw,V.stubObject=j5,V.stubString=W5,V.stubTrue=q5,V.multiply=s6,V.nth=wF,V.noConflict=O5,V.noop=Xw,V.now=Wv,V.pad=a5,V.padEnd=l5,V.padStart=u5,V.parseInt=c5,V.random=JO,V.reduce=S9,V.reduceRight=C9,V.repeat=f5,V.replace=h5,V.result=$O,V.round=a6,V.runInContext=se,V.sample=k9,V.size=b9,V.snakeCase=d5,V.some=D9,V.sortedIndex=AF,V.sortedIndexBy=IF,V.sortedIndexOf=bF,V.sortedLastIndex=DF,V.sortedLastIndexBy=RF,V.sortedLastIndexOf=LF,V.startCase=g5,V.startsWith=m5,V.subtract=l6,V.sum=u6,V.sumBy=c6,V.template=v5,V.times=G5,V.toFinite=Na,V.toInteger=Rt,V.toLength=ik,V.toLower=y5,V.toNumber=No,V.toSafeInteger=yO,V.toString=sn,V.toUpper=_5,V.trim=w5,V.trimEnd=x5,V.trimStart=E5,V.truncate=S5,V.unescape=C5,V.uniqueId=Q5,V.upperCase=T5,V.upperFirst=qw,V.each=jT,V.eachRight=WT,V.first=VT,Qw(V,function(){var u={};return Ii(V,function(d,v){Xt.call(V.prototype,v)||(u[v]=d)}),u}(),{chain:!1}),V.VERSION=r,Ti(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){V[u].placeholder=V}),Ti(["drop","take"],function(u,d){ut.prototype[u]=function(v){v=v===n?1:wn(Rt(v),0);var T=this.__filtered__&&!d?new ut(this):this.clone();return T.__filtered__?T.__takeCount__=Jn(v,T.__takeCount__):T.__views__.push({size:Jn(v,tt),type:u+(T.__dir__<0?"Right":"")}),T},ut.prototype[u+"Right"]=function(v){return this.reverse()[u](v).reverse()}}),Ti(["filter","map","takeWhile"],function(u,d){var v=d+1,T=v==Pe||v==we;ut.prototype[u]=function(N){var z=this.clone();return z.__iteratees__.push({iteratee:at(N,3),type:v}),z.__filtered__=z.__filtered__||T,z}}),Ti(["head","last"],function(u,d){var v="take"+(d?"Right":"");ut.prototype[u]=function(){return this[v](1).value()[0]}}),Ti(["initial","tail"],function(u,d){var v="drop"+(d?"":"Right");ut.prototype[u]=function(){return this.__filtered__?new ut(this):this[v](1)}}),ut.prototype.compact=function(){return this.filter(Li)},ut.prototype.find=function(u){return this.filter(u).head()},ut.prototype.findLast=function(u){return this.reverse().find(u)},ut.prototype.invokeMap=Dt(function(u,d){return typeof u=="function"?new ut(this):this.map(function(v){return El(v,u,d)})}),ut.prototype.reject=function(u){return this.filter(Gv(at(u)))},ut.prototype.slice=function(u,d){u=Rt(u);var v=this;return v.__filtered__&&(u>0||d<0)?new ut(v):(u<0?v=v.takeRight(-u):u&&(v=v.drop(u)),d!==n&&(d=Rt(d),v=d<0?v.dropRight(-d):v.take(d-u)),v)},ut.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},ut.prototype.toArray=function(){return this.take(tt)},Ii(ut.prototype,function(u,d){var v=/^(?:filter|find|map|reject)|While$/.test(d),T=/^(?:head|last)$/.test(d),N=V[T?"take"+(d=="last"?"Right":""):d],z=T||/^find/.test(d);N&&(V.prototype[d]=function(){var J=this.__wrapped__,te=T?[1]:arguments,le=J instanceof ut,Se=te[0],Ce=le||Tt(J),De=function(Ft){var $t=N.apply(V,Yo([Ft],te));return T&&We?$t[0]:$t};Ce&&v&&typeof Se=="function"&&Se.length!=1&&(le=Ce=!1);var We=this.__chain__,st=!!this.__actions__.length,ft=z&&!We,Lt=le&&!st;if(!z&&Ce){J=Lt?J:new ut(this);var ht=u.apply(J,te);return ht.__actions__.push({func:$v,args:[De],thisArg:n}),new en(ht,We)}return ft&&Lt?u.apply(this,te):(ht=this.thru(De),ft?T?ht.value()[0]:ht.value():ht)})}),Ti(["pop","push","shift","sort","splice","unshift"],function(u){var d=yf[u],v=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",T=/^(?:pop|shift)$/.test(u);V.prototype[u]=function(){var N=arguments;if(T&&!this.__chain__){var z=this.value();return d.apply(Tt(z)?z:[],N)}return this[v](function(J){return d.apply(Tt(J)?J:[],N)})}}),Ii(ut.prototype,function(u,d){var v=V[d];if(v){var T=v.name+"";Xt.call(Ea,T)||(Ea[T]=[]),Ea[T].push({name:d,func:v})}}),Ea[Of(n,R).name]=[{name:"wrapper",func:n}],ut.prototype.clone=or,ut.prototype.reverse=$u,ut.prototype.value=gw,V.prototype.at=t9,V.prototype.chain=n9,V.prototype.commit=r9,V.prototype.next=i9,V.prototype.plant=s9,V.prototype.reverse=a9,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=l9,V.prototype.first=V.prototype.head,_a&&(V.prototype[_a]=o9),V},Jo=zd();da?((da.exports=Jo)._=Jo,Id._=Jo):un._=Jo}).call(Xf)})(e1,e1.exports);var DY=e1.exports;const RY=({userId:t,userComment:e,setUserComment:n,handleComment:r})=>{const i=Su();return H.jsxs(H.Fragment,{children:[H.jsx("form",{className:"row blog-form",children:H.jsx("div",{className:"col-12 py-3",children:H.jsx("textarea",{rows:"4",value:e,onChange:s=>n(s.target.value),className:"form-control description"})})}),t?H.jsx(H.Fragment,{children:H.jsx("button",{disabled:!e,className:"btn btn-primary",type:"submit",onClick:r,children:"Комментарии"})}):H.jsxs(H.Fragment,{children:[H.jsx("h5",{children:"Войдите, что-бы оставить комментарий"}),H.jsx("button",{className:"btn btn-success",onClick:()=>i("/auth"),children:"Логин"})]})]})},nD=({name:t,body:e,createdAt:n,msg:r})=>H.jsx("div",{children:H.jsx("div",{className:"row",children:H.jsx("div",{className:"col-lg-12",children:H.jsx("div",{className:"comments-list",children:H.jsx("div",{className:"media",children:r?H.jsx("h4",{className:"mt-5",children:r}):H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"media-left",children:H.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"user",className:"rounded-circle"})}),H.jsxs("div",{className:"media-body",children:[H.jsxs("h3",{className:"text-start media-heading user_name",children:[t,H.jsx("small",{children:mT(new Date(n.seconds*1e3))})]}),H.jsx("p",{className:"text-start",children:e})]})]})})})})})});function XN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=XN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function eu(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=XN(t))&&(r&&(r+=" "),r+=e);return r}const Yg=t=>typeof t=="number"&&!isNaN(t),kc=t=>typeof t=="string",fo=t=>typeof t=="function",J0=t=>kc(t)||fo(t)?t:null,KS=t=>pe.isValidElement(t)||kc(t)||fo(t)||Yg(t);function LY(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function S_(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(a){let{children:c,position:p,preventExitTransition:m,done:y,nodeRef:w,isIn:E,playToast:C}=a;const P=r?`${e}--${p}`:e,O=r?`${n}--${p}`:n,M=pe.useRef(0);return pe.useLayoutEffect(()=>{const R=w.current,b=P.split(" "),D=B=>{B.target===w.current&&(C(),R.removeEventListener("animationend",D),R.removeEventListener("animationcancel",D),M.current===0&&B.type!=="animationcancel"&&R.classList.remove(...b))};R.classList.add(...b),R.addEventListener("animationend",D),R.addEventListener("animationcancel",D)},[]),pe.useEffect(()=>{const R=w.current,b=()=>{R.removeEventListener("animationend",b),i?LY(R,y,s):y()};E||(m?b():(M.current=1,R.className+=` ${O}`,R.addEventListener("animationend",b)))},[E]),dt.createElement(dt.Fragment,null,c)}}function rD(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const vi=new Map;let Zg=[];const QS=new Set,PY=t=>QS.forEach(e=>e(t)),YN=()=>vi.size>0;function ZN(t,e){var n;if(e)return!((n=vi.get(e))==null||!n.isToastActive(t));let r=!1;return vi.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function JN(t,e){KS(t)&&(YN()||Zg.push({content:t,options:e}),vi.forEach(n=>{n.buildToast(t,e)}))}function iD(t,e){vi.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function NY(t){const{subscribe:e,getSnapshot:n,setProps:r}=pe.useRef(function(s){const a=s.containerId||1;return{subscribe(c){const p=function(y,w,E){let C=1,P=0,O=[],M=[],R=[],b=w;const D=new Map,B=new Set,j=()=>{R=Array.from(D.values()),B.forEach(Y=>Y())},U=Y=>{M=Y==null?[]:M.filter(ae=>ae!==Y),j()},W=Y=>{const{toastId:ae,onOpen:_e,updateId:ie,children:ye}=Y.props,Ue=ie==null;Y.staleId&&D.delete(Y.staleId),D.set(ae,Y),M=[...M,Y.props.toastId].filter(Pe=>Pe!==Y.staleId),j(),E(rD(Y,Ue?"added":"updated")),Ue&&fo(_e)&&_e(pe.isValidElement(ye)&&ye.props)};return{id:y,props:b,observe:Y=>(B.add(Y),()=>B.delete(Y)),toggle:(Y,ae)=>{D.forEach(_e=>{ae!=null&&ae!==_e.props.toastId||fo(_e.toggle)&&_e.toggle(Y)})},removeToast:U,toasts:D,clearQueue:()=>{P-=O.length,O=[]},buildToast:(Y,ae)=>{if((Q=>{let{containerId:S,toastId:fe,updateId:nt}=Q;const ze=S?S!==y:y!==1,At=D.has(fe)&&nt==null;return ze||At})(ae))return;const{toastId:_e,updateId:ie,data:ye,staleId:Ue,delay:Pe}=ae,Z=()=>{U(_e)},we=ie==null;we&&P++;const de={...b,style:b.toastStyle,key:C++,...Object.fromEntries(Object.entries(ae).filter(Q=>{let[S,fe]=Q;return fe!=null})),toastId:_e,updateId:ie,data:ye,closeToast:Z,isIn:!1,className:J0(ae.className||b.toastClassName),bodyClassName:J0(ae.bodyClassName||b.bodyClassName),progressClassName:J0(ae.progressClassName||b.progressClassName),autoClose:!ae.isLoading&&(he=ae.autoClose,Le=b.autoClose,he===!1||Yg(he)&&he>0?he:Le),deleteToast(){const Q=D.get(_e),{onClose:S,children:fe}=Q.props;fo(S)&&S(pe.isValidElement(fe)&&fe.props),E(rD(Q,"removed")),D.delete(_e),P--,P<0&&(P=0),O.length>0?W(O.shift()):j()}};var he,Le;de.closeButton=b.closeButton,ae.closeButton===!1||KS(ae.closeButton)?de.closeButton=ae.closeButton:ae.closeButton===!0&&(de.closeButton=!KS(b.closeButton)||b.closeButton);let q=Y;pe.isValidElement(Y)&&!kc(Y.type)?q=pe.cloneElement(Y,{closeToast:Z,toastProps:de,data:ye}):fo(Y)&&(q=Y({closeToast:Z,toastProps:de,data:ye}));const tt={content:q,props:de,staleId:Ue};b.limit&&b.limit>0&&P>b.limit&&we?O.push(tt):Yg(Pe)?setTimeout(()=>{W(tt)},Pe):W(tt)},setProps(Y){b=Y},setToggle:(Y,ae)=>{D.get(Y).toggle=ae},isToastActive:Y=>M.some(ae=>ae===Y),getSnapshot:()=>b.newestOnTop?R.reverse():R}}(a,s,PY);vi.set(a,p);const m=p.observe(c);return Zg.forEach(y=>JN(y.content,y.options)),Zg=[],()=>{m(),vi.delete(a)}},setProps(c){var p;(p=vi.get(a))==null||p.setProps(c)},getSnapshot(){var c;return(c=vi.get(a))==null?void 0:c.getSnapshot()}}}(t)).current;r(t);const i=pe.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const a=new Map;return i.forEach(c=>{const{position:p}=c.props;a.has(p)||a.set(p,[]),a.get(p).push(c)}),Array.from(a,c=>s(c[0],c[1]))},isToastActive:ZN,count:i==null?void 0:i.length}}function FY(t){const[e,n]=pe.useState(!1),[r,i]=pe.useState(!1),s=pe.useRef(null),a=pe.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:p,closeToast:m,onClick:y,closeOnClick:w}=t;var E,C;function P(){n(!0)}function O(){n(!1)}function M(D){const B=s.current;a.canDrag&&B&&(a.didMove=!0,e&&O(),a.delta=t.draggableDirection==="x"?D.clientX-a.start:D.clientY-a.start,a.start!==D.clientX&&(a.canCloseOnClick=!1),B.style.transform=`translate3d(${t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,B.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function R(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",R);const D=s.current;if(a.canDrag&&a.didMove&&D){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}(C=vi.get((E={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||C.setToggle(E.id,E.fn),pe.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||O(),window.addEventListener("focus",P),window.addEventListener("blur",O),()=>{window.removeEventListener("focus",P),window.removeEventListener("blur",O)}},[t.pauseOnFocusLoss]);const b={onPointerDown:function(D){if(t.draggable===!0||t.draggable===D.pointerType){a.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",R);const B=s.current;a.canCloseOnClick=!0,a.canDrag=!0,B.style.transition="none",t.draggableDirection==="x"?(a.start=D.clientX,a.removalDistance=B.offsetWidth*(t.draggablePercent/100)):(a.start=D.clientY,a.removalDistance=B.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(D){const{top:B,bottom:j,left:U,right:W}=s.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&t.pauseOnHover&&D.clientX>=U&&D.clientX<=W&&D.clientY>=B&&D.clientY<=j?O():P()}};return c&&p&&(b.onMouseEnter=O,t.stacked||(b.onMouseLeave=P)),w&&(b.onClick=D=>{y&&y(D),a.canCloseOnClick&&m()}),{playToast:P,pauseToast:O,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:b}}function OY(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:a,style:c,controlledProgress:p,progress:m,rtl:y,isIn:w,theme:E}=t;const C=s||p&&m===0,P={...c,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};p&&(P.transform=`scaleX(${m})`);const O=eu("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":y}),M=fo(a)?a({rtl:y,type:i,defaultClassName:O}):eu(O,a),R={[p&&m>=1?"onTransitionEnd":"onAnimationEnd"]:p&&m<1?null:()=>{w&&r()}};return dt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":C},dt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${i}`}),dt.createElement("div",{role:"progressbar","aria-hidden":C?"true":"false","aria-label":"notification timer",className:M,style:P,...R}))}let MY=1;const eF=()=>""+MY++;function BY(t){return t&&(kc(t.toastId)||Yg(t.toastId))?t.toastId:eF()}function hg(t,e){return JN(t,e),e.toastId}function t1(t,e){return{...e,type:e&&e.type||t,toastId:BY(e)}}function I0(t){return(e,n)=>hg(e,t1(t,n))}function Kt(t,e){return hg(t,t1("default",e))}Kt.loading=(t,e)=>hg(t,t1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Kt.promise=function(t,e,n){let r,{pending:i,error:s,success:a}=e;i&&(r=kc(i)?Kt.loading(i,n):Kt.loading(i.render,{...n,...i}));const c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(y,w,E)=>{if(w==null)return void Kt.dismiss(r);const C={type:y,...c,...n,data:E},P=kc(w)?{render:w}:w;return r?Kt.update(r,{...C,...P}):Kt(P.render,{...C,...P}),E},m=fo(t)?t():t;return m.then(y=>p("success",a,y)).catch(y=>p("error",s,y)),m},Kt.success=I0("success"),Kt.info=I0("info"),Kt.error=I0("error"),Kt.warning=I0("warning"),Kt.warn=Kt.warning,Kt.dark=(t,e)=>hg(t,t1("default",{theme:"dark",...e})),Kt.dismiss=function(t){(function(e){var n;if(YN()){if(e==null||kc(n=e)||Yg(n))vi.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=vi.get(e.containerId);r?r.removeToast(e.id):vi.forEach(i=>{i.removeToast(e.id)})}}else Zg=Zg.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Kt.clearWaitingQueue=function(t){t===void 0&&(t={}),vi.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Kt.isActive=ZN,Kt.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:a}=i;return(s=vi.get(a||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:eF()};s.toastId!==t&&(s.staleId=t);const a=s.render||i;delete s.render,hg(a,s)}},Kt.done=t=>{Kt.update(t,{progress:1})},Kt.onChange=function(t){return QS.add(t),()=>{QS.delete(t)}},Kt.play=t=>iD(!0,t),Kt.pause=t=>iD(!1,t);const UY=typeof window<"u"?pe.useLayoutEffect:pe.useEffect,b0=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return dt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},iE={info:function(t){return dt.createElement(b0,{...t},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return dt.createElement(b0,{...t},dt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return dt.createElement(b0,{...t},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return dt.createElement(b0,{...t},dt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return dt.createElement("div",{className:"Toastify__spinner"})}},VY=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=FY(t),{closeButton:a,children:c,autoClose:p,onClick:m,type:y,hideProgressBar:w,closeToast:E,transition:C,position:P,className:O,style:M,bodyClassName:R,bodyStyle:b,progressClassName:D,progressStyle:B,updateId:j,role:U,progress:W,rtl:Y,toastId:ae,deleteToast:_e,isIn:ie,isLoading:ye,closeOnClick:Ue,theme:Pe}=t,Z=eu("Toastify__toast",`Toastify__toast-theme--${Pe}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":Ue}),we=fo(O)?O({rtl:Y,position:P,type:y,defaultClassName:Z}):eu(Z,O),de=function(tt){let{theme:Q,type:S,isLoading:fe,icon:nt}=tt,ze=null;const At={theme:Q,type:S};return nt===!1||(fo(nt)?ze=nt({...At,isLoading:fe}):pe.isValidElement(nt)?ze=pe.cloneElement(nt,At):fe?ze=iE.spinner():(Bt=>Bt in iE)(S)&&(ze=iE[S](At))),ze}(t),he=!!W||!p,Le={closeToast:E,type:y,theme:Pe};let q=null;return a===!1||(q=fo(a)?a(Le):pe.isValidElement(a)?pe.cloneElement(a,Le):function(tt){let{closeToast:Q,theme:S,ariaLabel:fe="close"}=tt;return dt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${S}`,type:"button",onClick:nt=>{nt.stopPropagation(),Q(nt)},"aria-label":fe},dt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},dt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Le)),dt.createElement(C,{isIn:ie,done:_e,position:P,preventExitTransition:n,nodeRef:r,playToast:s},dt.createElement("div",{id:ae,onClick:m,"data-in":ie,className:we,...i,style:M,ref:r},dt.createElement("div",{...ie&&{role:U},className:fo(R)?R({type:y}):eu("Toastify__toast-body",R),style:b},de!=null&&dt.createElement("div",{className:eu("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ye})},de),dt.createElement("div",null,c)),q,dt.createElement(OY,{...j&&!he?{key:`pb-${j}`}:{},rtl:Y,theme:Pe,delay:p,isRunning:e,isIn:ie,closeToast:E,hide:w,type:y,style:B,className:D,controlledProgress:he,progress:W||0})))},C_=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},zY=S_(C_("bounce",!0));S_(C_("slide",!0));S_(C_("zoom"));S_(C_("flip"));const HY={position:"top-right",transition:zY,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function $Y(t){let e={...HY,...t};const n=t.stacked,[r,i]=pe.useState(!0),s=pe.useRef(null),{getToastToRender:a,isToastActive:c,count:p}=NY(e),{className:m,style:y,rtl:w,containerId:E}=e;function C(O){const M=eu("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":w});return fo(m)?m({position:O,rtl:w,defaultClassName:M}):eu(M,J0(m))}function P(){n&&(i(!0),Kt.play())}return UY(()=>{if(n){var O;const M=s.current.querySelectorAll('[data-in="true"]'),R=12,b=(O=e.position)==null?void 0:O.includes("top");let D=0,B=0;Array.from(M).reverse().forEach((j,U)=>{const W=j;W.classList.add("Toastify__toast--stacked"),U>0&&(W.dataset.collapsed=`${r}`),W.dataset.pos||(W.dataset.pos=b?"top":"bot");const Y=D*(r?.2:1)+(r?0:R*U);W.style.setProperty("--y",`${b?Y:-1*Y}px`),W.style.setProperty("--g",`${R}`),W.style.setProperty("--s",""+(1-(r?B:0))),D+=W.offsetHeight,B+=.025})}},[r,p,n]),dt.createElement("div",{ref:s,className:"Toastify",id:E,onMouseEnter:()=>{n&&(i(!1),Kt.pause())},onMouseLeave:P},a((O,M)=>{const R=M.length?{...y}:{...y,pointerEvents:"none"};return dt.createElement("div",{className:C(O),style:R,key:`container-${O}`},M.map(b=>{let{content:D,props:B}=b;return dt.createElement(VY,{...B,stacked:n,collapseAll:P,isIn:c(B.toastId,B.containerId),style:B.style,key:`toast-${B.key}`},D)}))}))}const Ac={position:"top-center",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"};function jY({setActive:t,user:e}){const n=e==null?void 0:e.uid,{id:r}=x1(),[i,s]=pe.useState(!1),[a,c]=pe.useState([]),[p,m]=pe.useState(""),[y,w]=pe.useState(null),[E,C]=pe.useState([]),[P,O]=pe.useState([]);let[M,R]=pe.useState([]);const b=Su();pe.useEffect(()=>{(async()=>{const ae=$h(Fi,"blogs"),_e=Wy(ae,m$("timestamp","desc"),VI(5)),ie=await ag(_e);C(ie.docs.map(ye=>({id:ye.id,...ye.data()})))})()},[]);const D=async Y=>{if(window.confirm("ВЫ хотите удалить блог?"))try{s(!0),await w$(Ua(Fi,"blogs",Y)),Kt.success("Блог удалён",Ac),s(!1),b("/")}catch(ae){console.log(ae)}},B=async()=>{s(!0);const Y=$h(Fi,"blogs"),ae=Ua(Fi,"blogs",r),_e=await PS(ae),ie=await ag(Y);let ye=[];ie.docs.map(de=>ye.push(...de.get("tags")));let Ue=[...new Set(ye)];c(_e.data().comments?_e.data().comments:[]),R(_e.data().likes?_e.data().likes:[]),O(Ue),w(_e.data());const Pe=Wy(Y,eT("tags","array-contains-any",_e.data().tags,VI(3))),Z=await ag(Pe),we=[];Z.forEach(de=>{we.push({id:de.id,...de.data()})}),t(null),s(!1)},j=async Y=>{Y.preventDefault(),a.push({createdAt:Er.fromDate(new Date),userId:n,name:e==null?void 0:e.displayName,body:p}),Kt.success("Комментарий опубликован"),await q0(Ua(Fi,"blogs",r),{...y,comments:a}),c(a),m("")},U=async()=>{const Y=Ua(Fi,"blogs",r),_e=(await PS(Y)).data().view+1;await q0(Ua(Fi,"blogs",r),{...y,view:_e})},W=async()=>{n&&(y!=null&&y.likes&&(M.findIndex(ae=>ae===n)===-1?(M.push(n),R([...new Set(M)])):(M=M.filter(ae=>ae!==n),R(M))),await q0(Ua(Fi,"blogs",r),{...y,likes:M}))};return pe.useEffect(()=>{r&&B(),U()},[r]),H.jsxs("div",{className:"single",children:[H.jsxs("div",{className:"blog-title-box",style:{backgroundImage:`url('${y==null?void 0:y.imgUrl}')`},children:[H.jsx("div",{className:"overlay"}),H.jsx("div",{className:"blog-title",children:H.jsx("h2",{children:y==null?void 0:y.title})})]}),H.jsx("div",{className:"container-fluid pb-4 pt-4 padding blog-single-content",children:H.jsx("div",{className:"container padding",children:H.jsxs("div",{className:"row",style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[H.jsxs("div",{className:"col-md-8 details-description",children:[H.jsxs("span",{className:"meta-info",children:["Создан ",H.jsx("p",{className:"author",children:y==null?void 0:y.author})," - ",mT(new Date((y==null?void 0:y.timestamp.seconds)*1e3))]}),H.jsx(v_,{children:y==null?void 0:y.description}),e&&e.uid===n&&H.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[H.jsx(Y4,{handleLike:W,likes:M,userId:n}),H.jsxs("div",{children:[H.jsx("button",{onClick:()=>D(r),children:H.jsxs("svg",{style:{width:"25px"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[H.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),H.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),H.jsxs("g",{id:"SVGRepo_iconCarrier",children:[H.jsx("path",{d:"M3 3L21 21M18 6L17.6 12M17.2498 17.2527L17.1991 18.0129C17.129 19.065 17.0939 19.5911 16.8667 19.99C16.6666 20.3412 16.3648 20.6235 16.0011 20.7998C15.588 21 15.0607 21 14.0062 21H9.99377C8.93927 21 8.41202 21 7.99889 20.7998C7.63517 20.6235 7.33339 20.3412 7.13332 19.99C6.90607 19.5911 6.871 19.065 6.80086 18.0129L6 6H4M16 6L15.4559 4.36754C15.1837 3.55086 14.4194 3 13.5585 3H10.4416C9.94243 3 9.47576 3.18519 9.11865 3.5M11.6133 6H20M14 14V17M10 10V17",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})," "]})]})}),H.jsx(Gs,{to:`/update/${r}`,children:H.jsxs("svg",{style:{width:"25px"},viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#000000",children:[H.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),H.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),H.jsxs("g",{id:"SVGRepo_iconCarrier",children:[H.jsx("path",{d:"M22 7.662l1-1V18h-7v4.745L11.255 18H1V2h16.763l-1 1H2v14h9.668L15 20.331V17h7zm1.657-5.192a.965.965 0 0 1 .03 1.385l-9.325 9.324-4.097 1.755a.371.371 0 0 1-.487-.487l1.755-4.097 9.31-9.309a.98.98 0 0 1 1.385 0zm-10.1 9.965l-1.28-1.28-.961 2.24zm7.243-7.11l-1.414-1.413-6.469 6.47 1.414 1.413zm1.865-2.445l-.804-.838a.42.42 0 0 0-.6-.006l-1.168 1.168 1.414 1.415 1.152-1.152a.42.42 0 0 0 .006-.587z"}),H.jsx("path",{fill:"none",d:"M0 0h24v24H0z"})]})]})})]})]}),H.jsx("br",{}),H.jsx("div",{className:"custombox",children:H.jsxs("div",{className:"scroll",children:[H.jsxs("h4",{className:"small-title",children:["Комментариев: ",a==null?void 0:a.length]}),DY.isEmpty(a)?H.jsx(nD,{msg:"Комментариев нет"}):H.jsx(H.Fragment,{children:a==null?void 0:a.map(Y=>H.jsx(nD,{...Y}))})]})}),H.jsx(RY,{userId:n,userComment:p,setUserComment:m,handleComment:j})]}),H.jsxs("div",{className:"col-md-3",children:[H.jsx("div",{className:"blog-heading  py-2 mb-4",children:"Тэги"}),H.jsx(QN,{tags:P})]})]})})})]})}var Hl={wrapper:"react-tag-input",input:"react-tag-input__input",tag:"react-tag-input__tag",tagContent:"react-tag-input__tag__content",tagRemove:"react-tag-input__tag__remove",tagRemoveReadOnly:"react-tag-input__tag__remove-readonly"};function WY(t){return t.replace(/(\r\n|\n|\r)/gm,"")}var qY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function GY(t){return String(t).replace(/[&<>"'`=\/]/g,function(e){return qY[e]})}function oD(t){return GY(WY(t))}var KY=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),QY=function(t){KY(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.focused=!1,n.removed=!1,n.preFocusedValue="",n.onPaste=function(r){r.preventDefault();var i=r.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,oD(i))},n.onFocus=function(){n.preFocusedValue=n.getValue(),n.focused=!0},n.onBlur=function(){n.focused=!1;var r=n.props.innerEditableRef.current,i=n.props,s=i.validator,a=i.change;if(!n.removed&&r){if(r.innerText===""){n.props.remove();return}if(s){var c=s(n.getValue());if(!c){r.innerText=n.preFocusedValue;return}}a(r.innerText)}},n.onKeyDown=function(r){if(r.keyCode===13){r.preventDefault(),n.focusInputRef();return}var i=n.props.removeOnBackspace,s=n.getValue();if(i&&r.keyCode===8&&s===""){n.removed=!0,n.props.remove(),n.focusInputRef();return}},n.getValue=function(){var r=n.getRef();return r?r.innerText:""},n.getRef=function(){return n.props.innerEditableRef.current},n.focusInputRef=function(){var r=n.props.inputRef;r&&r.current&&r.current.focus()},n}return e.prototype.componentDidMount=function(){this.preFocusedValue=this.getValue()},e.prototype.render=function(){var n=this.props,r=n.value,i=n.className,s=n.innerEditableRef;return dt.createElement("div",{ref:s,className:i,contentEditable:!0,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,dangerouslySetInnerHTML:{__html:oD(r)}})},e}(dt.Component),XY=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),YY=function(t){XY(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.innerEditableRef=dt.createRef(),n.remove=function(){return n.props.remove(n.props.index)},n}return e.prototype.render=function(){var n=this.props,r=n.value,i=n.index,s=n.editable,a=n.inputRef,c=n.validator,p=n.update,m=n.readOnly,y=n.removeOnBackspace,w=m?Hl.tagRemove+" "+Hl.tagRemoveReadOnly:Hl.tagRemove;return dt.createElement("div",{className:Hl.tag},!s&&dt.createElement("div",{className:Hl.tagContent},r),s&&dt.createElement(QY,{value:r,inputRef:a,innerEditableRef:this.innerEditableRef,className:Hl.tagContent,change:function(E){return p(i,E)},remove:this.remove,validator:c,removeOnBackspace:y}),dt.createElement("div",{className:w,onClick:this.remove}))},e}(dt.Component),ZY=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),JY=function(t){ZY(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={input:""},n.inputRef=dt.createRef(),n.onInputChange=function(r){n.setState({input:r.target.value})},n.onInputKeyDown=function(r){var i=n.state.input,s=n.props,a=s.validator,c=s.removeOnBackspace;if(r.keyCode===13){if(r.preventDefault(),i==="")return;var p=a!==void 0?a(i):!0;if(!p)return;n.addTag(i)}else if(c&&(r.keyCode===8||r.keyCode===46)){if(i!=="")return;n.removeTag(n.props.tags.length-1)}},n.addTag=function(r){var i=n.props.tags.slice();i.push(r),n.props.onChange(i),n.setState({input:""})},n.removeTag=function(r){var i=n.props.tags.slice();i.splice(r,1),n.props.onChange(i)},n.updateTag=function(r,i){var s=n.props.tags.slice();s[r]=i,n.props.onChange(s)},n}return e.prototype.render=function(){var n=this,r=this.state.input,i=this.props,s=i.tags,a=i.placeholder,c=i.maxTags,p=i.editable,m=i.readOnly,y=i.validator,w=i.removeOnBackspace,E=c!==void 0?s.length>=c:!1,C=m?!1:p||!1,P=!m&&!E;return dt.createElement("div",{className:Hl.wrapper},s.map(function(O,M){return dt.createElement(YY,{key:M,value:O,index:M,editable:C,readOnly:m||!1,inputRef:n.inputRef,update:n.updateTag,remove:n.removeTag,validator:y,removeOnBackspace:w})}),P&&dt.createElement("input",{ref:this.inputRef,value:r,className:Hl.input,placeholder:a||"Type and press enter",onChange:this.onInputChange,onKeyDown:this.onInputKeyDown}))},e}(dt.Component);const eZ=JY;var tF={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Xf,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),s=/MSIE \d/.test(n),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),c=/Edge\/(\d+)/.exec(n),p=s||a||c,m=p&&(s?document.documentMode||6:+(c||a)[1]),y=!c&&/WebKit\//.test(n),w=y&&/Qt\/\d+\.\d+/.test(n),E=!c&&/Chrome\/(\d+)/.exec(n),C=E&&+E[1],P=/Opera\//.test(n),O=/Apple Computer/.test(navigator.vendor),M=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),R=/PhantomJS/.test(n),b=O&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),D=/Android/.test(n),B=b||D||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),j=b||/Mac/.test(r),U=/\bCrOS\b/.test(n),W=/win/i.test(r),Y=P&&n.match(/Version\/(\d*\.\d*)/);Y&&(Y=Number(Y[1])),Y&&Y>=15&&(P=!1,y=!0);var ae=j&&(w||P&&(Y==null||Y<12.11)),_e=i||p&&m>=9;function ie(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var ye=function(o,l){var h=o.className,f=ie(l).exec(h);if(f){var g=h.slice(f.index+f[0].length);o.className=h.slice(0,f.index)+(g?f[1]+g:"")}};function Ue(o){for(var l=o.childNodes.length;l>0;--l)o.removeChild(o.firstChild);return o}function Pe(o,l){return Ue(o).appendChild(l)}function Z(o,l,h,f){var g=document.createElement(o);if(h&&(g.className=h),f&&(g.style.cssText=f),typeof l=="string")g.appendChild(document.createTextNode(l));else if(l)for(var _=0;_<l.length;++_)g.appendChild(l[_]);return g}function we(o,l,h,f){var g=Z(o,l,h,f);return g.setAttribute("role","presentation"),g}var de;document.createRange?de=function(o,l,h,f){var g=document.createRange();return g.setEnd(f||o,h),g.setStart(o,l),g}:de=function(o,l,h){var f=document.body.createTextRange();try{f.moveToElementText(o.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",h),f.moveStart("character",l),f};function he(o,l){if(l.nodeType==3&&(l=l.parentNode),o.contains)return o.contains(l);do if(l.nodeType==11&&(l=l.host),l==o)return!0;while(l=l.parentNode)}function Le(o){var l=o.ownerDocument||o,h;try{h=o.activeElement}catch{h=l.body||null}for(;h&&h.shadowRoot&&h.shadowRoot.activeElement;)h=h.shadowRoot.activeElement;return h}function q(o,l){var h=o.className;ie(l).test(h)||(o.className+=(h?" ":"")+l)}function tt(o,l){for(var h=o.split(" "),f=0;f<h.length;f++)h[f]&&!ie(h[f]).test(l)&&(l+=" "+h[f]);return l}var Q=function(o){o.select()};b?Q=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:p&&(Q=function(o){try{o.select()}catch{}});function S(o){return o.display.wrapper.ownerDocument}function fe(o){return nt(o.display.wrapper)}function nt(o){return o.getRootNode?o.getRootNode():o.ownerDocument}function ze(o){return S(o).defaultView}function At(o){var l=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,l)}}function Bt(o,l,h){l||(l={});for(var f in o)o.hasOwnProperty(f)&&(h!==!1||!l.hasOwnProperty(f))&&(l[f]=o[f]);return l}function Pt(o,l,h,f,g){l==null&&(l=o.search(/[^\s\u00a0]/),l==-1&&(l=o.length));for(var _=f||0,x=g||0;;){var k=o.indexOf("	",_);if(k<0||k>=l)return x+(l-_);x+=k-_,x+=h-x%h,_=k+1}}var an=function(){this.id=null,this.f=null,this.time=0,this.handler=At(this.onTimeout,this)};an.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},an.prototype.set=function(o,l){this.f=l;var h=+new Date+o;(!this.id||h<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=h)};function bt(o,l){for(var h=0;h<o.length;++h)if(o[h]==l)return h;return-1}var Nt=50,gn={toString:function(){return"CodeMirror.Pass"}},Zt={scroll:!1},Ye={origin:"*mouse"},Ur={origin:"+move"};function kn(o,l,h){for(var f=0,g=0;;){var _=o.indexOf("	",f);_==-1&&(_=o.length);var x=_-f;if(_==o.length||g+x>=l)return f+Math.min(x,l-g);if(g+=_-f,g+=h-g%h,f=_+1,g>=l)return f}}var Cr=[""];function Si(o){for(;Cr.length<=o;)Cr.push(mt(Cr)+" ");return Cr[o]}function mt(o){return o[o.length-1]}function dn(o,l){for(var h=[],f=0;f<o.length;f++)h[f]=l(o[f],f);return h}function br(o,l,h){for(var f=0,g=h(l);f<o.length&&h(o[f])<=g;)f++;o.splice(f,0,l)}function $i(){}function ce(o,l){var h;return Object.create?h=Object.create(o):($i.prototype=o,h=new $i),l&&Bt(l,h),h}var ue=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function re(o){return/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||ue.test(o))}function A(o,l){return l?l.source.indexOf("\\w")>-1&&re(o)?!0:l.test(o):re(o)}function F(o){for(var l in o)if(o.hasOwnProperty(l)&&o[l])return!1;return!0}var G=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function K(o){return o.charCodeAt(0)>=768&&G.test(o)}function ee(o,l,h){for(;(h<0?l>0:l<o.length)&&K(o.charAt(l));)l+=h;return l}function be(o,l,h){for(var f=l>h?-1:1;;){if(l==h)return l;var g=(l+h)/2,_=f<0?Math.ceil(g):Math.floor(g);if(_==l)return o(_)?l:h;o(_)?h=_:l=_+f}}function Ve(o,l,h,f){if(!o)return f(l,h,"ltr",0);for(var g=!1,_=0;_<o.length;++_){var x=o[_];(x.from<h&&x.to>l||l==h&&x.to==l)&&(f(Math.max(x.from,l),Math.min(x.to,h),x.level==1?"rtl":"ltr",_),g=!0)}g||f(l,h,"ltr")}var Be=null;function $e(o,l,h){var f;Be=null;for(var g=0;g<o.length;++g){var _=o[g];if(_.from<l&&_.to>l)return g;_.to==l&&(_.from!=_.to&&h=="before"?f=g:Be=g),_.from==l&&(_.from!=_.to&&h!="before"?f=g:Be=g)}return f??Be}var it=function(){var o="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",l="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function h(L){return L<=247?o.charAt(L):1424<=L&&L<=1524?"R":1536<=L&&L<=1785?l.charAt(L-1536):1774<=L&&L<=2220?"r":8192<=L&&L<=8203?"w":L==8204?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,_=/[LRr]/,x=/[Lb1n]/,k=/[1n]/;function I(L,$,X){this.level=L,this.from=$,this.to=X}return function(L,$){var X=$=="ltr"?"L":"R";if(L.length==0||$=="ltr"&&!f.test(L))return!1;for(var oe=L.length,ne=[],ve=0;ve<oe;++ve)ne.push(h(L.charCodeAt(ve)));for(var Ee=0,Re=X;Ee<oe;++Ee){var Me=ne[Ee];Me=="m"?ne[Ee]=Re:Re=Me}for(var He=0,Oe=X;He<oe;++He){var je=ne[He];je=="1"&&Oe=="r"?ne[He]="n":_.test(je)&&(Oe=je,je=="r"&&(ne[He]="R"))}for(var rt=1,et=ne[0];rt<oe-1;++rt){var xt=ne[rt];xt=="+"&&et=="1"&&ne[rt+1]=="1"?ne[rt]="1":xt==","&&et==ne[rt+1]&&(et=="1"||et=="n")&&(ne[rt]=et),et=xt}for(var tn=0;tn<oe;++tn){var Mn=ne[tn];if(Mn==",")ne[tn]="N";else if(Mn=="%"){var vn=void 0;for(vn=tn+1;vn<oe&&ne[vn]=="%";++vn);for(var In=tn&&ne[tn-1]=="!"||vn<oe&&ne[vn]=="1"?"1":"N",Vn=tn;Vn<vn;++Vn)ne[Vn]=In;tn=vn-1}}for(var zn=0,Rr=X;zn<oe;++zn){var mr=ne[zn];Rr=="L"&&mr=="1"?ne[zn]="L":_.test(mr)&&(Rr=mr)}for(var er=0;er<oe;++er)if(g.test(ne[er])){var Hn=void 0;for(Hn=er+1;Hn<oe&&g.test(ne[Hn]);++Hn);for(var bn=(er?ne[er-1]:X)=="L",zr=(Hn<oe?ne[Hn]:X)=="L",Nl=bn==zr?bn?"L":"R":X,Ms=er;Ms<Hn;++Ms)ne[Ms]=Nl;er=Hn-1}for(var kr=[],Ro,ur=0;ur<oe;)if(x.test(ne[ur])){var _p=ur;for(++ur;ur<oe&&x.test(ne[ur]);++ur);kr.push(new I(0,_p,ur))}else{var Lo=ur,Bs=kr.length,Us=$=="rtl"?1:0;for(++ur;ur<oe&&ne[ur]!="L";++ur);for(var Lr=Lo;Lr<ur;)if(k.test(ne[Lr])){Lo<Lr&&(kr.splice(Bs,0,new I(1,Lo,Lr)),Bs+=Us);var Fl=Lr;for(++Lr;Lr<ur&&k.test(ne[Lr]);++Lr);kr.splice(Bs,0,new I(2,Fl,Lr)),Bs+=Us,Lo=Lr}else++Lr;Lo<ur&&kr.splice(Bs,0,new I(1,Lo,ur))}return $=="ltr"&&(kr[0].level==1&&(Ro=L.match(/^\s+/))&&(kr[0].from=Ro[0].length,kr.unshift(new I(0,0,Ro[0].length))),mt(kr).level==1&&(Ro=L.match(/\s+$/))&&(mt(kr).to-=Ro[0].length,kr.push(new I(0,oe-Ro[0].length,oe)))),$=="rtl"?kr.reverse():kr}}();function ke(o,l){var h=o.order;return h==null&&(h=o.order=it(o.text,l)),h}var ot=[],me=function(o,l,h){if(o.addEventListener)o.addEventListener(l,h,!1);else if(o.attachEvent)o.attachEvent("on"+l,h);else{var f=o._handlers||(o._handlers={});f[l]=(f[l]||ot).concat(h)}};function Qt(o,l){return o._handlers&&o._handlers[l]||ot}function Ut(o,l,h){if(o.removeEventListener)o.removeEventListener(l,h,!1);else if(o.detachEvent)o.detachEvent("on"+l,h);else{var f=o._handlers,g=f&&f[l];if(g){var _=bt(g,h);_>-1&&(f[l]=g.slice(0,_).concat(g.slice(_+1)))}}}function Vt(o,l){var h=Qt(o,l);if(h.length)for(var f=Array.prototype.slice.call(arguments,2),g=0;g<h.length;++g)h[g].apply(null,f)}function yt(o,l,h){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),Vt(o,h||l.type,o,l),Ko(l)||l.codemirrorIgnore}function Yn(o){var l=o._handlers&&o._handlers.cursorActivity;if(l)for(var h=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),f=0;f<l.length;++f)bt(h,l[f])==-1&&h.push(l[f])}function dr(o,l){return Qt(o,l).length>0}function Ci(o){o.prototype.on=function(l,h){me(this,l,h)},o.prototype.off=function(l,h){Ut(this,l,h)}}function mn(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function Go(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function Ko(o){return o.defaultPrevented!=null?o.defaultPrevented:o.returnValue==!1}function ji(o){mn(o),Go(o)}function ua(o){return o.target||o.srcElement}function _s(o){var l=o.which;return l==null&&(o.button&1?l=1:o.button&2?l=3:o.button&4&&(l=2)),j&&o.ctrlKey&&l==1&&(l=3),l}var ud=function(){if(p&&m<9)return!1;var o=Z("div");return"draggable"in o||"dragDrop"in o}(),cd;function j_(o){if(cd==null){var l=Z("span","​");Pe(o,Z("span",[l,document.createTextNode("x")])),o.firstChild.offsetHeight!=0&&(cd=l.offsetWidth<=1&&l.offsetHeight>2&&!(p&&m<8))}var h=cd?Z("span","​"):Z("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return h.setAttribute("cm-text",""),h}var fd;function W_(o){if(fd!=null)return fd;var l=Pe(o,document.createTextNode("AخA")),h=de(l,0,1).getBoundingClientRect(),f=de(l,1,2).getBoundingClientRect();return Ue(o),!h||h.left==h.right?!1:fd=f.right-h.right<3}var hd=`

b`.split(/\n/).length!=3?function(o){for(var l=0,h=[],f=o.length;l<=f;){var g=o.indexOf(`
`,l);g==-1&&(g=o.length);var _=o.slice(l,o.charAt(g-1)=="\r"?g-1:g),x=_.indexOf("\r");x!=-1?(h.push(_.slice(0,x)),l+=x+1):(h.push(_),l=g+1)}return h}:function(o){return o.split(/\r\n?|\n/)},q_=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var l;try{l=o.ownerDocument.selection.createRange()}catch{}return!l||l.parentElement()!=o?!1:l.compareEndPoints("StartToEnd",l)!=0},G_=function(){var o=Z("div");return"oncopy"in o?!0:(o.setAttribute("oncopy","return;"),typeof o.oncopy=="function")}(),dd=null;function Rm(o){if(dd!=null)return dd;var l=Pe(o,Z("span","x")),h=l.getBoundingClientRect(),f=de(l,0,1).getBoundingClientRect();return dd=Math.abs(h.left-f.left)>1}var pd={},ol={};function K_(o,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),pd[o]=l}function Q_(o,l){ol[o]=l}function Jc(o){if(typeof o=="string"&&ol.hasOwnProperty(o))o=ol[o];else if(o&&typeof o.name=="string"&&ol.hasOwnProperty(o.name)){var l=ol[o.name];typeof l=="string"&&(l={name:l}),o=ce(l,o),o.name=l.name}else{if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return Jc("application/xml");if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return Jc("application/json")}return typeof o=="string"?{name:o}:o||{name:"null"}}function gd(o,l){l=Jc(l);var h=pd[l.name];if(!h)return gd(o,"text/plain");var f=h(o,l);if(Qo.hasOwnProperty(l.name)){var g=Qo[l.name];for(var _ in g)g.hasOwnProperty(_)&&(f.hasOwnProperty(_)&&(f["_"+_]=f[_]),f[_]=g[_])}if(f.name=l.name,l.helperType&&(f.helperType=l.helperType),l.modeProps)for(var x in l.modeProps)f[x]=l.modeProps[x];return f}var Qo={};function X_(o,l){var h=Qo.hasOwnProperty(o)?Qo[o]:Qo[o]={};Bt(l,h)}function _o(o,l){if(l===!0)return l;if(o.copyState)return o.copyState(l);var h={};for(var f in l){var g=l[f];g instanceof Array&&(g=g.concat([])),h[f]=g}return h}function md(o,l){for(var h;o.innerMode&&(h=o.innerMode(l),!(!h||h.mode==o));)l=h.state,o=h.mode;return h||{mode:o,state:l}}function Lm(o,l,h){return o.startState?o.startState(l,h):!0}var Un=function(o,l,h){this.pos=this.start=0,this.string=o,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=h};Un.prototype.eol=function(){return this.pos>=this.string.length},Un.prototype.sol=function(){return this.pos==this.lineStart},Un.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Un.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Un.prototype.eat=function(o){var l=this.string.charAt(this.pos),h;if(typeof o=="string"?h=l==o:h=l&&(o.test?o.test(l):o(l)),h)return++this.pos,l},Un.prototype.eatWhile=function(o){for(var l=this.pos;this.eat(o););return this.pos>l},Un.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},Un.prototype.skipToEnd=function(){this.pos=this.string.length},Un.prototype.skipTo=function(o){var l=this.string.indexOf(o,this.pos);if(l>-1)return this.pos=l,!0},Un.prototype.backUp=function(o){this.pos-=o},Un.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Pt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Pt(this.string,this.lineStart,this.tabSize):0)},Un.prototype.indentation=function(){return Pt(this.string,null,this.tabSize)-(this.lineStart?Pt(this.string,this.lineStart,this.tabSize):0)},Un.prototype.match=function(o,l,h){if(typeof o=="string"){var f=function(x){return h?x.toLowerCase():x},g=this.string.substr(this.pos,o.length);if(f(g)==f(o))return l!==!1&&(this.pos+=o.length),!0}else{var _=this.string.slice(this.pos).match(o);return _&&_.index>0?null:(_&&l!==!1&&(this.pos+=_[0].length),_)}},Un.prototype.current=function(){return this.string.slice(this.start,this.pos)},Un.prototype.hideFirstChars=function(o,l){this.lineStart+=o;try{return l()}finally{this.lineStart-=o}},Un.prototype.lookAhead=function(o){var l=this.lineOracle;return l&&l.lookAhead(o)},Un.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};function Je(o,l){if(l-=o.first,l<0||l>=o.size)throw new Error("There is no line "+(l+o.first)+" in the document.");for(var h=o;!h.lines;)for(var f=0;;++f){var g=h.children[f],_=g.chunkSize();if(l<_){h=g;break}l-=_}return h.lines[l]}function ws(o,l,h){var f=[],g=l.line;return o.iter(l.line,h.line+1,function(_){var x=_.text;g==h.line&&(x=x.slice(0,h.ch)),g==l.line&&(x=x.slice(l.ch)),f.push(x),++g}),f}function ef(o,l,h){var f=[];return o.iter(l,h,function(g){f.push(g.text)}),f}function wo(o,l){var h=l-o.height;if(h)for(var f=o;f;f=f.parent)f.height+=h}function Jt(o){if(o.parent==null)return null;for(var l=o.parent,h=bt(l.lines,o),f=l.parent;f;l=f,f=f.parent)for(var g=0;f.children[g]!=l;++g)h+=f.children[g].chunkSize();return h+l.first}function ca(o,l){var h=o.first;e:do{for(var f=0;f<o.children.length;++f){var g=o.children[f],_=g.height;if(l<_){o=g;continue e}l-=_,h+=g.chunkSize()}return h}while(!o.lines);for(var x=0;x<o.lines.length;++x){var k=o.lines[x],I=k.height;if(l<I)break;l-=I}return h+x}function Ru(o,l){return l>=o.first&&l<o.first+o.size}function tf(o,l){return String(o.lineNumberFormatter(l+o.firstLineNumber))}function Ae(o,l,h){if(h===void 0&&(h=null),!(this instanceof Ae))return new Ae(o,l,h);this.line=o,this.ch=l,this.sticky=h}function ct(o,l){return o.line-l.line||o.ch-l.ch}function Lu(o,l){return o.sticky==l.sticky&&ct(o,l)==0}function vd(o){return Ae(o.line,o.ch)}function Pu(o,l){return ct(o,l)<0?l:o}function fa(o,l){return ct(o,l)<0?o:l}function yd(o,l){return Math.max(o.first,Math.min(l,o.first+o.size-1))}function pt(o,l){if(l.line<o.first)return Ae(o.first,0);var h=o.first+o.size-1;return l.line>h?Ae(h,Je(o,h).text.length):Pm(l,Je(o,l.line).text.length)}function Pm(o,l){var h=o.ch;return h==null||h>l?Ae(o.line,l):h<0?Ae(o.line,0):o}function _d(o,l){for(var h=[],f=0;f<l.length;f++)h[f]=pt(o,l[f]);return h}var sl=function(o,l){this.state=o,this.lookAhead=l},xo=function(o,l,h,f){this.state=l,this.doc=o,this.line=h,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};xo.prototype.lookAhead=function(o){var l=this.doc.getLine(this.line+o);return l!=null&&o>this.maxLookAhead&&(this.maxLookAhead=o),l},xo.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},xo.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},xo.fromSaved=function(o,l,h){return l instanceof sl?new xo(o,_o(o.mode,l.state),h,l.lookAhead):new xo(o,_o(o.mode,l),h)},xo.prototype.save=function(o){var l=o!==!1?_o(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new sl(l,this.maxLookAhead):l};function wd(o,l,h,f){var g=[o.state.modeGen],_={};Cd(o,l.text,o.doc.mode,h,function(L,$){return g.push(L,$)},_,f);for(var x=h.state,k=function(L){h.baseTokens=g;var $=o.state.overlays[L],X=1,oe=0;h.state=!0,Cd(o,l.text,$.mode,h,function(ne,ve){for(var Ee=X;oe<ne;){var Re=g[X];Re>ne&&g.splice(X,1,ne,g[X+1],Re),X+=2,oe=Math.min(ne,Re)}if(ve)if($.opaque)g.splice(Ee,X-Ee,ne,"overlay "+ve),X=Ee+2;else for(;Ee<X;Ee+=2){var Me=g[Ee+1];g[Ee+1]=(Me?Me+" ":"")+"overlay "+ve}},_),h.state=x,h.baseTokens=null,h.baseTokenPos=1},I=0;I<o.state.overlays.length;++I)k(I);return{styles:g,classes:_.bgClass||_.textClass?_:null}}function nf(o,l,h){if(!l.styles||l.styles[0]!=o.state.modeGen){var f=ha(o,Jt(l)),g=l.text.length>o.options.maxHighlightLength&&_o(o.doc.mode,f.state),_=wd(o,l,f);g&&(f.state=g),l.stateAfter=f.save(!g),l.styles=_.styles,_.classes?l.styleClasses=_.classes:l.styleClasses&&(l.styleClasses=null),h===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return l.styles}function ha(o,l,h){var f=o.doc,g=o.display;if(!f.mode.startState)return new xo(f,!0,l);var _=Fm(o,l,h),x=_>f.first&&Je(f,_-1).stateAfter,k=x?xo.fromSaved(f,x,_):new xo(f,Lm(f.mode),_);return f.iter(_,l,function(I){xs(o,I.text,k);var L=k.line;I.stateAfter=L==l-1||L%5==0||L>=g.viewFrom&&L<g.viewTo?k.save():null,k.nextLine()}),h&&(f.modeFrontier=k.line),k}function xs(o,l,h,f){var g=o.doc.mode,_=new Un(l,o.options.tabSize,h);for(_.start=_.pos=f||0,l==""&&xd(g,h.state);!_.eol();)rf(g,_,h.state),_.start=_.pos}function xd(o,l){if(o.blankLine)return o.blankLine(l);if(o.innerMode){var h=md(o,l);if(h.mode.blankLine)return h.mode.blankLine(h.state)}}function rf(o,l,h,f){for(var g=0;g<10;g++){f&&(f[0]=md(o,h).mode);var _=o.token(l,h);if(l.pos>l.start)return _}throw new Error("Mode "+o.name+" failed to advance stream.")}var Nm=function(o,l,h){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=l||null,this.state=h};function Ed(o,l,h,f){var g=o.doc,_=g.mode,x;l=pt(g,l);var k=Je(g,l.line),I=ha(o,l.line,h),L=new Un(k.text,o.options.tabSize,I),$;for(f&&($=[]);(f||L.pos<l.ch)&&!L.eol();)L.start=L.pos,x=rf(_,L,I.state),f&&$.push(new Nm(L,x,_o(g.mode,I.state)));return f?$:new Nm(L,x,I.state)}function Sd(o,l){if(o)for(;;){var h=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!h)break;o=o.slice(0,h.index)+o.slice(h.index+h[0].length);var f=h[1]?"bgClass":"textClass";l[f]==null?l[f]=h[2]:new RegExp("(?:^|\\s)"+h[2]+"(?:$|\\s)").test(l[f])||(l[f]+=" "+h[2])}return o}function Cd(o,l,h,f,g,_,x){var k=h.flattenSpans;k==null&&(k=o.options.flattenSpans);var I=0,L=null,$=new Un(l,o.options.tabSize,f),X,oe=o.options.addModeClass&&[null];for(l==""&&Sd(xd(h,f.state),_);!$.eol();){if($.pos>o.options.maxHighlightLength?(k=!1,x&&xs(o,l,f,$.pos),$.pos=l.length,X=null):X=Sd(rf(h,$,f.state,oe),_),oe){var ne=oe[0].name;ne&&(X="m-"+(X?ne+" "+X:ne))}if(!k||L!=X){for(;I<$.start;)I=Math.min($.start,I+5e3),g(I,L);L=X}$.start=$.pos}for(;I<$.pos;){var ve=Math.min($.pos,I+5e3);g(ve,L),I=ve}}function Fm(o,l,h){for(var f,g,_=o.doc,x=h?-1:l-(o.doc.mode.innerMode?1e3:100),k=l;k>x;--k){if(k<=_.first)return _.first;var I=Je(_,k-1),L=I.stateAfter;if(L&&(!h||k+(L instanceof sl?L.lookAhead:0)<=_.modeFrontier))return k;var $=Pt(I.text,null,o.options.tabSize);(g==null||f>$)&&(g=k-1,f=$)}return g}function Y_(o,l){if(o.modeFrontier=Math.min(o.modeFrontier,l),!(o.highlightFrontier<l-10)){for(var h=o.first,f=l-1;f>h;f--){var g=Je(o,f).stateAfter;if(g&&(!(g instanceof sl)||f+g.lookAhead<l)){h=f+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,h)}}var Om=!1,Xo=!1;function Mm(){Om=!0}function Z_(){Xo=!0}function of(o,l,h){this.marker=o,this.from=l,this.to=h}function Nu(o,l){if(o)for(var h=0;h<o.length;++h){var f=o[h];if(f.marker==l)return f}}function J_(o,l){for(var h,f=0;f<o.length;++f)o[f]!=l&&(h||(h=[])).push(o[f]);return h}function Td(o,l,h){var f=h&&window.WeakSet&&(h.markedSpans||(h.markedSpans=new WeakSet));f&&o.markedSpans&&f.has(o.markedSpans)?o.markedSpans.push(l):(o.markedSpans=o.markedSpans?o.markedSpans.concat([l]):[l],f&&f.add(o.markedSpans)),l.marker.attachLine(o)}function ew(o,l,h){var f;if(o)for(var g=0;g<o.length;++g){var _=o[g],x=_.marker,k=_.from==null||(x.inclusiveLeft?_.from<=l:_.from<l);if(k||_.from==l&&x.type=="bookmark"&&(!h||!_.marker.insertLeft)){var I=_.to==null||(x.inclusiveRight?_.to>=l:_.to>l);(f||(f=[])).push(new of(x,_.from,I?null:_.to))}}return f}function tw(o,l,h){var f;if(o)for(var g=0;g<o.length;++g){var _=o[g],x=_.marker,k=_.to==null||(x.inclusiveRight?_.to>=l:_.to>l);if(k||_.from==l&&x.type=="bookmark"&&(!h||_.marker.insertLeft)){var I=_.from==null||(x.inclusiveLeft?_.from<=l:_.from<l);(f||(f=[])).push(new of(x,I?null:_.from-l,_.to==null?null:_.to-l))}}return f}function kd(o,l){if(l.full)return null;var h=Ru(o,l.from.line)&&Je(o,l.from.line).markedSpans,f=Ru(o,l.to.line)&&Je(o,l.to.line).markedSpans;if(!h&&!f)return null;var g=l.from.ch,_=l.to.ch,x=ct(l.from,l.to)==0,k=ew(h,g,x),I=tw(f,_,x),L=l.text.length==1,$=mt(l.text).length+(L?g:0);if(k)for(var X=0;X<k.length;++X){var oe=k[X];if(oe.to==null){var ne=Nu(I,oe.marker);ne?L&&(oe.to=ne.to==null?null:ne.to+$):oe.to=g}}if(I)for(var ve=0;ve<I.length;++ve){var Ee=I[ve];if(Ee.to!=null&&(Ee.to+=$),Ee.from==null){var Re=Nu(k,Ee.marker);Re||(Ee.from=$,L&&(k||(k=[])).push(Ee))}else Ee.from+=$,L&&(k||(k=[])).push(Ee)}k&&(k=Bm(k)),I&&I!=k&&(I=Bm(I));var Me=[k];if(!L){var He=l.text.length-2,Oe;if(He>0&&k)for(var je=0;je<k.length;++je)k[je].to==null&&(Oe||(Oe=[])).push(new of(k[je].marker,null,null));for(var rt=0;rt<He;++rt)Me.push(Oe);Me.push(I)}return Me}function Bm(o){for(var l=0;l<o.length;++l){var h=o[l];h.from!=null&&h.from==h.to&&h.marker.clearWhenEmpty!==!1&&o.splice(l--,1)}return o.length?o:null}function nw(o,l,h){var f=null;if(o.iter(l.line,h.line+1,function(ne){if(ne.markedSpans)for(var ve=0;ve<ne.markedSpans.length;++ve){var Ee=ne.markedSpans[ve].marker;Ee.readOnly&&(!f||bt(f,Ee)==-1)&&(f||(f=[])).push(Ee)}}),!f)return null;for(var g=[{from:l,to:h}],_=0;_<f.length;++_)for(var x=f[_],k=x.find(0),I=0;I<g.length;++I){var L=g[I];if(!(ct(L.to,k.from)<0||ct(L.from,k.to)>0)){var $=[I,1],X=ct(L.from,k.from),oe=ct(L.to,k.to);(X<0||!x.inclusiveLeft&&!X)&&$.push({from:L.from,to:k.from}),(oe>0||!x.inclusiveRight&&!oe)&&$.push({from:k.to,to:L.to}),g.splice.apply(g,$),I+=$.length-3}}return g}function pn(o){var l=o.markedSpans;if(l){for(var h=0;h<l.length;++h)l[h].marker.detachLine(o);o.markedSpans=null}}function ln(o,l){if(l){for(var h=0;h<l.length;++h)l[h].marker.attachLine(o);o.markedSpans=l}}function sf(o){return o.inclusiveLeft?-1:0}function af(o){return o.inclusiveRight?1:0}function Ad(o,l){var h=o.lines.length-l.lines.length;if(h!=0)return h;var f=o.find(),g=l.find(),_=ct(f.from,g.from)||sf(o)-sf(l);if(_)return-_;var x=ct(f.to,g.to)||af(o)-af(l);return x||l.id-o.id}function Um(o,l){var h=Xo&&o.markedSpans,f;if(h)for(var g=void 0,_=0;_<h.length;++_)g=h[_],g.marker.collapsed&&(l?g.from:g.to)==null&&(!f||Ad(f,g.marker)<0)&&(f=g.marker);return f}function Vm(o){return Um(o,!0)}function lf(o){return Um(o,!1)}function zm(o,l){var h=Xo&&o.markedSpans,f;if(h)for(var g=0;g<h.length;++g){var _=h[g];_.marker.collapsed&&(_.from==null||_.from<l)&&(_.to==null||_.to>l)&&(!f||Ad(f,_.marker)<0)&&(f=_.marker)}return f}function Hm(o,l,h,f,g){var _=Je(o,l),x=Xo&&_.markedSpans;if(x)for(var k=0;k<x.length;++k){var I=x[k];if(I.marker.collapsed){var L=I.marker.find(0),$=ct(L.from,h)||sf(I.marker)-sf(g),X=ct(L.to,f)||af(I.marker)-af(g);if(!($>=0&&X<=0||$<=0&&X>=0)&&($<=0&&(I.marker.inclusiveRight&&g.inclusiveLeft?ct(L.to,h)>=0:ct(L.to,h)>0)||$>=0&&(I.marker.inclusiveRight&&g.inclusiveLeft?ct(L.from,f)<=0:ct(L.from,f)<0)))return!0}}}function un(o){for(var l;l=Vm(o);)o=l.find(-1,!0).line;return o}function Id(o){for(var l;l=lf(o);)o=l.find(1,!0).line;return o}function da(o){for(var l,h;l=lf(o);)o=l.find(1,!0).line,(h||(h=[])).push(o);return h}function uf(o,l){var h=Je(o,l),f=un(h);return h==f?l:Jt(f)}function cf(o,l){if(l>o.lastLine())return l;var h=Je(o,l),f;if(!ir(o,h))return l;for(;f=lf(h);)h=f.find(1,!0).line;return Jt(h)+1}function ir(o,l){var h=Xo&&l.markedSpans;if(h){for(var f=void 0,g=0;g<h.length;++g)if(f=h[g],!!f.marker.collapsed){if(f.from==null)return!0;if(!f.marker.widgetNode&&f.from==0&&f.marker.inclusiveLeft&&ff(o,l,f))return!0}}}function ff(o,l,h){if(h.to==null){var f=h.marker.find(1,!0);return ff(o,f.line,Nu(f.line.markedSpans,h.marker))}if(h.marker.inclusiveRight&&h.to==l.text.length)return!0;for(var g=void 0,_=0;_<l.markedSpans.length;++_)if(g=l.markedSpans[_],g.marker.collapsed&&!g.marker.widgetNode&&g.from==h.to&&(g.to==null||g.to!=h.from)&&(g.marker.inclusiveLeft||h.marker.inclusiveRight)&&ff(o,l,g))return!0}function Eo(o){o=un(o);for(var l=0,h=o.parent,f=0;f<h.lines.length;++f){var g=h.lines[f];if(g==o)break;l+=g.height}for(var _=h.parent;_;h=_,_=h.parent)for(var x=0;x<_.children.length;++x){var k=_.children[x];if(k==h)break;l+=k.height}return l}function Fu(o){if(o.height==0)return 0;for(var l=o.text.length,h,f=o;h=Vm(f);){var g=h.find(0,!0);f=g.from.line,l+=g.from.ch-g.to.ch}for(f=o;h=lf(f);){var _=h.find(0,!0);l-=f.text.length-_.from.ch,f=_.to.line,l+=f.text.length-_.to.ch}return l}function hf(o){var l=o.display,h=o.doc;l.maxLine=Je(h,h.first),l.maxLineLength=Fu(l.maxLine),l.maxLineChanged=!0,h.iter(function(f){var g=Fu(f);g>l.maxLineLength&&(l.maxLineLength=g,l.maxLine=f)})}var pa=function(o,l,h){this.text=o,ln(this,l),this.height=h?h(this):1};pa.prototype.lineNo=function(){return Jt(this)},Ci(pa);function $m(o,l,h,f){o.text=l,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),o.order!=null&&(o.order=null),pn(o),ln(o,h);var g=f?f(o):1;g!=o.height&&wo(o,g)}function li(o){o.parent=null,pn(o)}var rw={},Ti={};function jm(o,l){if(!o||/^\s*$/.test(o))return null;var h=l.addModeClass?Ti:rw;return h[o]||(h[o]=o.replace(/\S+/g,"cm-$&"))}function bd(o,l){var h=we("span",null,null,y?"padding-right: .1px":null),f={pre:we("pre",[h],"CodeMirror-line"),content:h,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};l.measure={};for(var g=0;g<=(l.rest?l.rest.length:0);g++){var _=g?l.rest[g-1]:l.line,x=void 0;f.pos=0,f.addToken=df,W_(o.display.measure)&&(x=ke(_,o.doc.direction))&&(f.addToken=yn(f.addToken,x)),f.map=[];var k=l!=o.display.externalMeasured&&Jt(_);Rd(_,f,nf(o,_,k)),_.styleClasses&&(_.styleClasses.bgClass&&(f.bgClass=tt(_.styleClasses.bgClass,f.bgClass||"")),_.styleClasses.textClass&&(f.textClass=tt(_.styleClasses.textClass,f.textClass||""))),f.map.length==0&&f.map.push(0,0,f.content.appendChild(j_(o.display.measure))),g==0?(l.measure.map=f.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(f.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(y){var I=f.content.lastChild;(/\bcm-tab\b/.test(I.className)||I.querySelector&&I.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return Vt(o,"renderLine",o,l.line,f.pre),f.pre.className&&(f.textClass=tt(f.pre.className,f.textClass||"")),f}function Es(o){var l=Z("span","•","cm-invalidchar");return l.title="\\u"+o.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function df(o,l,h,f,g,_,x){if(l){var k=o.splitSpaces?Dd(l,o.trailingSpace):l,I=o.cm.state.specialChars,L=!1,$;if(!I.test(l))o.col+=l.length,$=document.createTextNode(k),o.map.push(o.pos,o.pos+l.length,$),p&&m<9&&(L=!0),o.pos+=l.length;else{$=document.createDocumentFragment();for(var X=0;;){I.lastIndex=X;var oe=I.exec(l),ne=oe?oe.index-X:l.length-X;if(ne){var ve=document.createTextNode(k.slice(X,X+ne));p&&m<9?$.appendChild(Z("span",[ve])):$.appendChild(ve),o.map.push(o.pos,o.pos+ne,ve),o.col+=ne,o.pos+=ne}if(!oe)break;X+=ne+1;var Ee=void 0;if(oe[0]=="	"){var Re=o.cm.options.tabSize,Me=Re-o.col%Re;Ee=$.appendChild(Z("span",Si(Me),"cm-tab")),Ee.setAttribute("role","presentation"),Ee.setAttribute("cm-text","	"),o.col+=Me}else oe[0]=="\r"||oe[0]==`
`?(Ee=$.appendChild(Z("span",oe[0]=="\r"?"␍":"␤","cm-invalidchar")),Ee.setAttribute("cm-text",oe[0]),o.col+=1):(Ee=o.cm.options.specialCharPlaceholder(oe[0]),Ee.setAttribute("cm-text",oe[0]),p&&m<9?$.appendChild(Z("span",[Ee])):$.appendChild(Ee),o.col+=1);o.map.push(o.pos,o.pos+1,Ee),o.pos++}}if(o.trailingSpace=k.charCodeAt(l.length-1)==32,h||f||g||L||_||x){var He=h||"";f&&(He+=f),g&&(He+=g);var Oe=Z("span",[$],He,_);if(x)for(var je in x)x.hasOwnProperty(je)&&je!="style"&&je!="class"&&Oe.setAttribute(je,x[je]);return o.content.appendChild(Oe)}o.content.appendChild($)}}function Dd(o,l){if(o.length>1&&!/  /.test(o))return o;for(var h=l,f="",g=0;g<o.length;g++){var _=o.charAt(g);_==" "&&h&&(g==o.length-1||o.charCodeAt(g+1)==32)&&(_=" "),f+=_,h=_==" "}return f}function yn(o,l){return function(h,f,g,_,x,k,I){g=g?g+" cm-force-border":"cm-force-border";for(var L=h.pos,$=L+f.length;;){for(var X=void 0,oe=0;oe<l.length&&(X=l[oe],!(X.to>L&&X.from<=L));oe++);if(X.to>=$)return o(h,f,g,_,x,k,I);o(h,f.slice(0,X.to-L),g,_,null,k,I),_=null,f=f.slice(X.to-L),L=X.to}}}function Yo(o,l,h,f){var g=!f&&h.widgetNode;g&&o.map.push(o.pos,o.pos+l,g),!f&&o.cm.display.input.needsContentAttribute&&(g||(g=o.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",h.id)),g&&(o.cm.display.input.setUneditable(g),o.content.appendChild(g)),o.pos+=l,o.trailingSpace=!1}function Rd(o,l,h){var f=o.markedSpans,g=o.text,_=0;if(!f){for(var x=1;x<h.length;x+=2)l.addToken(l,g.slice(_,_=h[x]),jm(h[x+1],l.cm.options));return}for(var k=g.length,I=0,L=1,$="",X,oe,ne=0,ve,Ee,Re,Me,He;;){if(ne==I){ve=Ee=Re=oe="",He=null,Me=null,ne=1/0;for(var Oe=[],je=void 0,rt=0;rt<f.length;++rt){var et=f[rt],xt=et.marker;if(xt.type=="bookmark"&&et.from==I&&xt.widgetNode)Oe.push(xt);else if(et.from<=I&&(et.to==null||et.to>I||xt.collapsed&&et.to==I&&et.from==I)){if(et.to!=null&&et.to!=I&&ne>et.to&&(ne=et.to,Ee=""),xt.className&&(ve+=" "+xt.className),xt.css&&(oe=(oe?oe+";":"")+xt.css),xt.startStyle&&et.from==I&&(Re+=" "+xt.startStyle),xt.endStyle&&et.to==ne&&(je||(je=[])).push(xt.endStyle,et.to),xt.title&&((He||(He={})).title=xt.title),xt.attributes)for(var tn in xt.attributes)(He||(He={}))[tn]=xt.attributes[tn];xt.collapsed&&(!Me||Ad(Me.marker,xt)<0)&&(Me=et)}else et.from>I&&ne>et.from&&(ne=et.from)}if(je)for(var Mn=0;Mn<je.length;Mn+=2)je[Mn+1]==ne&&(Ee+=" "+je[Mn]);if(!Me||Me.from==I)for(var vn=0;vn<Oe.length;++vn)Yo(l,0,Oe[vn]);if(Me&&(Me.from||0)==I){if(Yo(l,(Me.to==null?k+1:Me.to)-I,Me.marker,Me.from==null),Me.to==null)return;Me.to==I&&(Me=!1)}}if(I>=k)break;for(var In=Math.min(k,ne);;){if($){var Vn=I+$.length;if(!Me){var zn=Vn>In?$.slice(0,In-I):$;l.addToken(l,zn,X?X+ve:ve,Re,I+zn.length==ne?Ee:"",oe,He)}if(Vn>=In){$=$.slice(In-I),I=In;break}I=Vn,Re=""}$=g.slice(_,_=h[L++]),X=jm(h[L++],l.cm.options)}}}function Wm(o,l,h){this.line=l,this.rest=da(l),this.size=this.rest?Jt(mt(this.rest))-h+1:1,this.node=this.text=null,this.hidden=ir(o,l)}function al(o,l,h){for(var f=[],g,_=l;_<h;_=g){var x=new Wm(o.doc,Je(o.doc,_),_);g=_+x.size,f.push(x)}return f}var ll=null;function iw(o){ll?ll.ops.push(o):o.ownsGroup=ll={ops:[o],delayedCallbacks:[]}}function ow(o){var l=o.delayedCallbacks,h=0;do{for(;h<l.length;h++)l[h].call(null);for(var f=0;f<o.ops.length;f++){var g=o.ops[f];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(h<l.length)}function qm(o,l){var h=o.ownsGroup;if(h)try{ow(h)}finally{ll=null,l(h)}}var Ss=null;function _n(o,l){var h=Qt(o,l);if(h.length){var f=Array.prototype.slice.call(arguments,2),g;ll?g=ll.delayedCallbacks:Ss?g=Ss:(g=Ss=[],setTimeout(sw,0));for(var _=function(k){g.push(function(){return h[k].apply(null,f)})},x=0;x<h.length;++x)_(x)}}function sw(){var o=Ss;Ss=null;for(var l=0;l<o.length;++l)o[l]()}function Ld(o,l,h,f){for(var g=0;g<l.changes.length;g++){var _=l.changes[g];_=="text"?Gm(o,l):_=="gutter"?gf(o,l,h,f):_=="class"?Nd(o,l):_=="widget"&&Fd(o,l,f)}l.changes=null}function ul(o){return o.node==o.text&&(o.node=Z("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),p&&m<8&&(o.node.style.zIndex=2)),o.node}function Pd(o,l){var h=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(h&&(h+=" CodeMirror-linebackground"),l.background)h?l.background.className=h:(l.background.parentNode.removeChild(l.background),l.background=null);else if(h){var f=ul(l);l.background=f.insertBefore(Z("div",null,h),f.firstChild),o.display.input.setUneditable(l.background)}}function pf(o,l){var h=o.display.externalMeasured;return h&&h.line==l.line?(o.display.externalMeasured=null,l.measure=h.measure,h.built):bd(o,l)}function Gm(o,l){var h=l.text.className,f=pf(o,l);l.text==l.node&&(l.node=f.pre),l.text.parentNode.replaceChild(f.pre,l.text),l.text=f.pre,f.bgClass!=l.bgClass||f.textClass!=l.textClass?(l.bgClass=f.bgClass,l.textClass=f.textClass,Nd(o,l)):h&&(l.text.className=h)}function Nd(o,l){Pd(o,l),l.line.wrapClass?ul(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className="");var h=l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass;l.text.className=h||""}function gf(o,l,h,f){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var g=ul(l);l.gutterBackground=Z("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(o.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),o.display.input.setUneditable(l.gutterBackground),g.insertBefore(l.gutterBackground,l.text)}var _=l.line.gutterMarkers;if(o.options.lineNumbers||_){var x=ul(l),k=l.gutter=Z("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(k.setAttribute("aria-hidden","true"),o.display.input.setUneditable(k),x.insertBefore(k,l.text),l.line.gutterClass&&(k.className+=" "+l.line.gutterClass),o.options.lineNumbers&&(!_||!_["CodeMirror-linenumbers"])&&(l.lineNumber=k.appendChild(Z("div",tf(o.options,h),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),_)for(var I=0;I<o.display.gutterSpecs.length;++I){var L=o.display.gutterSpecs[I].className,$=_.hasOwnProperty(L)&&_[L];$&&k.appendChild(Z("div",[$],"CodeMirror-gutter-elt","left: "+f.gutterLeft[L]+"px; width: "+f.gutterWidth[L]+"px"))}}}function Fd(o,l,h){l.alignable&&(l.alignable=null);for(var f=ie("CodeMirror-linewidget"),g=l.node.firstChild,_=void 0;g;g=_)_=g.nextSibling,f.test(g.className)&&l.node.removeChild(g);Od(o,l,h)}function aw(o,l,h,f){var g=pf(o,l);return l.text=l.node=g.pre,g.bgClass&&(l.bgClass=g.bgClass),g.textClass&&(l.textClass=g.textClass),Nd(o,l),gf(o,l,h,f),Od(o,l,f),l.node}function Od(o,l,h){if(Xr(o,l.line,l,h,!0),l.rest)for(var f=0;f<l.rest.length;f++)Xr(o,l.rest[f],l,h,!1)}function Xr(o,l,h,f,g){if(l.widgets)for(var _=ul(h),x=0,k=l.widgets;x<k.length;++x){var I=k[x],L=Z("div",[I.node],"CodeMirror-linewidget"+(I.className?" "+I.className:""));I.handleMouseEvents||L.setAttribute("cm-ignore-events","true"),Md(I,L,h,f),o.display.input.setUneditable(L),g&&I.above?_.insertBefore(L,h.gutter||h.text):_.appendChild(L),_n(I,"redraw")}}function Md(o,l,h,f){if(o.noHScroll){(h.alignable||(h.alignable=[])).push(l);var g=f.wrapperWidth;l.style.left=f.fixedPos+"px",o.coverGutter||(g-=f.gutterTotalWidth,l.style.paddingLeft=f.gutterTotalWidth+"px"),l.style.width=g+"px"}o.coverGutter&&(l.style.zIndex=5,l.style.position="relative",o.noHScroll||(l.style.marginLeft=-f.gutterTotalWidth+"px"))}function Zo(o){if(o.height!=null)return o.height;var l=o.doc.cm;if(!l)return 0;if(!he(document.body,o.node)){var h="position: relative;";o.coverGutter&&(h+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),o.noHScroll&&(h+="width: "+l.display.wrapper.clientWidth+"px;"),Pe(l.display.measure,Z("div",[o.node],null,h))}return o.height=o.node.parentNode.offsetHeight}function So(o,l){for(var h=ua(l);h!=o.wrapper;h=h.parentNode)if(!h||h.nodeType==1&&h.getAttribute("cm-ignore-events")=="true"||h.parentNode==o.sizer&&h!=o.mover)return!0}function Ou(o){return o.lineSpace.offsetTop}function Bd(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function Km(o){if(o.cachedPaddingH)return o.cachedPaddingH;var l=Pe(o.measure,Z("pre","x","CodeMirror-line-like")),h=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,f={left:parseInt(h.paddingLeft),right:parseInt(h.paddingRight)};return!isNaN(f.left)&&!isNaN(f.right)&&(o.cachedPaddingH=f),f}function Co(o){return Nt-o.display.nativeBarWidth}function ga(o){return o.display.scroller.clientWidth-Co(o)-o.display.barWidth}function Ud(o){return o.display.scroller.clientHeight-Co(o)-o.display.barHeight}function cl(o,l,h){var f=o.options.lineWrapping,g=f&&ga(o);if(!l.measure.heights||f&&l.measure.width!=g){var _=l.measure.heights=[];if(f){l.measure.width=g;for(var x=l.text.firstChild.getClientRects(),k=0;k<x.length-1;k++){var I=x[k],L=x[k+1];Math.abs(I.bottom-L.bottom)>2&&_.push((I.bottom+L.top)/2-h.top)}}_.push(h.bottom-h.top)}}function Qm(o,l,h){if(o.line==l)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var f=0;f<o.rest.length;f++)if(o.rest[f]==l)return{map:o.measure.maps[f],cache:o.measure.caches[f]};for(var g=0;g<o.rest.length;g++)if(Jt(o.rest[g])>h)return{map:o.measure.maps[g],cache:o.measure.caches[g],before:!0}}}function lw(o,l){l=un(l);var h=Jt(l),f=o.display.externalMeasured=new Wm(o.doc,l,h);f.lineN=h;var g=f.built=bd(o,f);return f.text=g.pre,Pe(o.display.lineMeasure,g.pre),f}function mf(o,l,h,f){return ci(o,ui(o,l),h,f)}function vf(o,l){if(l>=o.display.viewFrom&&l<o.display.viewTo)return o.display.view[va(o,l)];var h=o.display.externalMeasured;if(h&&l>=h.lineN&&l<h.lineN+h.size)return h}function ui(o,l){var h=Jt(l),f=vf(o,h);f&&!f.text?f=null:f&&f.changes&&(Ld(o,f,h,hl(o)),o.curOp.forceUpdate=!0),f||(f=lw(o,l));var g=Qm(f,l,h);return{line:l,view:f,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function ci(o,l,h,f,g){l.before&&(h=-1);var _=h+(f||""),x;return l.cache.hasOwnProperty(_)?x=l.cache[_]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(cl(o,l.view,l.rect),l.hasHeights=!0),x=fl(o,l,h,f),x.bogus||(l.cache[_]=x)),{left:x.left,right:x.right,top:g?x.rtop:x.top,bottom:g?x.rbottom:x.bottom}}var Xm={left:0,right:0,top:0,bottom:0};function Ym(o,l,h){for(var f,g,_,x,k,I,L=0;L<o.length;L+=3)if(k=o[L],I=o[L+1],l<k?(g=0,_=1,x="left"):l<I?(g=l-k,_=g+1):(L==o.length-3||l==I&&o[L+3]>l)&&(_=I-k,g=_-1,l>=I&&(x="right")),g!=null){if(f=o[L+2],k==I&&h==(f.insertLeft?"left":"right")&&(x=h),h=="left"&&g==0)for(;L&&o[L-2]==o[L-3]&&o[L-1].insertLeft;)f=o[(L-=3)+2],x="left";if(h=="right"&&g==I-k)for(;L<o.length-3&&o[L+3]==o[L+4]&&!o[L+5].insertLeft;)f=o[(L+=3)+2],x="right";break}return{node:f,start:g,end:_,collapse:x,coverStart:k,coverEnd:I}}function uw(o,l){var h=Xm;if(l=="left")for(var f=0;f<o.length&&(h=o[f]).left==h.right;f++);else for(var g=o.length-1;g>=0&&(h=o[g]).left==h.right;g--);return h}function fl(o,l,h,f){var g=Ym(l.map,h,f),_=g.node,x=g.start,k=g.end,I=g.collapse,L;if(_.nodeType==3){for(var $=0;$<4;$++){for(;x&&K(l.line.text.charAt(g.coverStart+x));)--x;for(;g.coverStart+k<g.coverEnd&&K(l.line.text.charAt(g.coverStart+k));)++k;if(p&&m<9&&x==0&&k==g.coverEnd-g.coverStart?L=_.parentNode.getBoundingClientRect():L=uw(de(_,x,k).getClientRects(),f),L.left||L.right||x==0)break;k=x,x=x-1,I="right"}p&&m<11&&(L=Wi(o.display.measure,L))}else{x>0&&(I=f="right");var X;o.options.lineWrapping&&(X=_.getClientRects()).length>1?L=X[f=="right"?X.length-1:0]:L=_.getBoundingClientRect()}if(p&&m<9&&!x&&(!L||!L.left&&!L.right)){var oe=_.parentNode.getClientRects()[0];oe?L={left:oe.left,right:oe.left+es(o.display),top:oe.top,bottom:oe.bottom}:L=Xm}for(var ne=L.top-l.rect.top,ve=L.bottom-l.rect.top,Ee=(ne+ve)/2,Re=l.view.measure.heights,Me=0;Me<Re.length-1&&!(Ee<Re[Me]);Me++);var He=Me?Re[Me-1]:0,Oe=Re[Me],je={left:(I=="right"?L.right:L.left)-l.rect.left,right:(I=="left"?L.left:L.right)-l.rect.left,top:He,bottom:Oe};return!L.left&&!L.right&&(je.bogus=!0),o.options.singleCursorHeightPerLine||(je.rtop=ne,je.rbottom=ve),je}function Wi(o,l){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Rm(o))return l;var h=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*h,right:l.right*h,top:l.top*f,bottom:l.bottom*f}}function Vd(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var l=0;l<o.rest.length;l++)o.measure.caches[l]={}}function Zm(o){o.display.externalMeasure=null,Ue(o.display.lineMeasure);for(var l=0;l<o.display.view.length;l++)Vd(o.display.view[l])}function Mu(o){Zm(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function Jm(o){return E&&D?-(o.body.getBoundingClientRect().left-parseInt(getComputedStyle(o.body).marginLeft)):o.defaultView.pageXOffset||(o.documentElement||o.body).scrollLeft}function ev(o){return E&&D?-(o.body.getBoundingClientRect().top-parseInt(getComputedStyle(o.body).marginTop)):o.defaultView.pageYOffset||(o.documentElement||o.body).scrollTop}function zd(o){var l=un(o),h=l.widgets,f=0;if(h)for(var g=0;g<h.length;++g)h[g].above&&(f+=Zo(h[g]));return f}function Jo(o,l,h,f,g){if(!g){var _=zd(l);h.top+=_,h.bottom+=_}if(f=="line")return h;f||(f="local");var x=Eo(l);if(f=="local"?x+=Ou(o.display):x-=o.display.viewOffset,f=="page"||f=="window"){var k=o.display.lineSpace.getBoundingClientRect();x+=k.top+(f=="window"?0:ev(S(o)));var I=k.left+(f=="window"?0:Jm(S(o)));h.left+=I,h.right+=I}return h.top+=x,h.bottom+=x,h}function se(o,l,h){if(h=="div")return l;var f=l.left,g=l.top;if(h=="page")f-=Jm(S(o)),g-=ev(S(o));else if(h=="local"||!h){var _=o.display.sizer.getBoundingClientRect();f+=_.left,g+=_.top}var x=o.display.lineSpace.getBoundingClientRect();return{left:f-x.left,top:g-x.top}}function xe(o,l,h,f,g){return f||(f=Je(o.doc,l.line)),Jo(o,f,mf(o,f,l.ch,g),h)}function ge(o,l,h,f,g,_){f=f||Je(o.doc,l.line),g||(g=ui(o,f));function x(ve,Ee){var Re=ci(o,g,ve,Ee?"right":"left",_);return Ee?Re.left=Re.right:Re.right=Re.left,Jo(o,f,Re,h)}var k=ke(f,o.doc.direction),I=l.ch,L=l.sticky;if(I>=f.text.length?(I=f.text.length,L="before"):I<=0&&(I=0,L="after"),!k)return x(L=="before"?I-1:I,L=="before");function $(ve,Ee,Re){var Me=k[Ee],He=Me.level==1;return x(Re?ve-1:ve,He!=Re)}var X=$e(k,I,L),oe=Be,ne=$(I,X,L=="before");return oe!=null&&(ne.other=$(I,oe,L!="before")),ne}function Xe(o,l){var h=0;l=pt(o.doc,l),o.options.lineWrapping||(h=es(o.display)*l.ch);var f=Je(o.doc,l.line),g=Eo(f)+Ou(o.display);return{left:h,right:h,top:g,bottom:g+f.height}}function gt(o,l,h,f,g){var _=Ae(o,l,h);return _.xRel=g,f&&(_.outside=f),_}function zt(o,l,h){var f=o.doc;if(h+=o.display.viewOffset,h<0)return gt(f.first,0,null,-1,-1);var g=ca(f,h),_=f.first+f.size-1;if(g>_)return gt(f.first+f.size-1,Je(f,_).text.length,null,1,1);l<0&&(l=0);for(var x=Je(f,g);;){var k=cw(o,x,g,l,h),I=zm(x,k.ch+(k.xRel>0||k.outside>0?1:0));if(!I)return k;var L=I.find(1);if(L.line==g)return L;x=Je(f,g=L.line)}}function Zn(o,l,h,f){f-=zd(l);var g=l.text.length,_=be(function(x){return ci(o,h,x-1).bottom<=f},g,0);return g=be(function(x){return ci(o,h,x).top>f},_,g),{begin:_,end:g}}function on(o,l,h,f){h||(h=ui(o,l));var g=Jo(o,l,ci(o,h,f),"line").top;return Zn(o,l,h,g)}function Bu(o,l,h,f){return o.bottom<=h?!1:o.top>h?!0:(f?o.left:o.right)>l}function cw(o,l,h,f,g){g-=Eo(l);var _=ui(o,l),x=zd(l),k=0,I=l.text.length,L=!0,$=ke(l,o.doc.direction);if($){var X=(o.options.lineWrapping?yf:ki)(o,l,h,_,$,f,g);L=X.level!=1,k=L?X.from:X.to-1,I=L?X.to:X.from-1}var oe=null,ne=null,ve=be(function(rt){var et=ci(o,_,rt);return et.top+=x,et.bottom+=x,Bu(et,f,g,!1)?(et.top<=g&&et.left<=f&&(oe=rt,ne=et),!0):!1},k,I),Ee,Re,Me=!1;if(ne){var He=f-ne.left<ne.right-f,Oe=He==L;ve=oe+(Oe?0:1),Re=Oe?"after":"before",Ee=He?ne.left:ne.right}else{!L&&(ve==I||ve==k)&&ve++,Re=ve==0?"after":ve==l.text.length?"before":ci(o,_,ve-(L?1:0)).bottom+x<=g==L?"after":"before";var je=ge(o,Ae(h,ve,Re),"line",l,_);Ee=je.left,Me=g<je.top?-1:g>=je.bottom?1:0}return ve=ee(l.text,ve,1),gt(h,ve,Re,Me,f-Ee)}function ki(o,l,h,f,g,_,x){var k=be(function(X){var oe=g[X],ne=oe.level!=1;return Bu(ge(o,Ae(h,ne?oe.to:oe.from,ne?"before":"after"),"line",l,f),_,x,!0)},0,g.length-1),I=g[k];if(k>0){var L=I.level!=1,$=ge(o,Ae(h,L?I.from:I.to,L?"after":"before"),"line",l,f);Bu($,_,x,!0)&&$.top>x&&(I=g[k-1])}return I}function yf(o,l,h,f,g,_,x){var k=Zn(o,l,f,x),I=k.begin,L=k.end;/\s/.test(l.text.charAt(L-1))&&L--;for(var $=null,X=null,oe=0;oe<g.length;oe++){var ne=g[oe];if(!(ne.from>=L||ne.to<=I)){var ve=ne.level!=1,Ee=ci(o,f,ve?Math.min(L,ne.to)-1:Math.max(I,ne.from)).right,Re=Ee<_?_-Ee+1e9:Ee-_;(!$||X>Re)&&($=ne,X=Re)}}return $||($=g[g.length-1]),$.from<I&&($={from:I,to:$.to,level:$.level}),$.to>L&&($={from:$.from,to:L,level:$.level}),$}var ma;function qi(o){if(o.cachedTextHeight!=null)return o.cachedTextHeight;if(ma==null){ma=Z("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)ma.appendChild(document.createTextNode("x")),ma.appendChild(Z("br"));ma.appendChild(document.createTextNode("x"))}Pe(o.measure,ma);var h=ma.offsetHeight/50;return h>3&&(o.cachedTextHeight=h),Ue(o.measure),h||1}function es(o){if(o.cachedCharWidth!=null)return o.cachedCharWidth;var l=Z("span","xxxxxxxxxx"),h=Z("pre",[l],"CodeMirror-line-like");Pe(o.measure,h);var f=l.getBoundingClientRect(),g=(f.right-f.left)/10;return g>2&&(o.cachedCharWidth=g),g||10}function hl(o){for(var l=o.display,h={},f={},g=l.gutters.clientLeft,_=l.gutters.firstChild,x=0;_;_=_.nextSibling,++x){var k=o.display.gutterSpecs[x].className;h[k]=_.offsetLeft+_.clientLeft+g,f[k]=_.clientWidth}return{fixedPos:Xt(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:h,gutterWidth:f,wrapperWidth:l.wrapper.clientWidth}}function Xt(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function tv(o){var l=qi(o.display),h=o.options.lineWrapping,f=h&&Math.max(5,o.display.scroller.clientWidth/es(o.display)-3);return function(g){if(ir(o.doc,g))return 0;var _=0;if(g.widgets)for(var x=0;x<g.widgets.length;x++)g.widgets[x].height&&(_+=g.widgets[x].height);return h?_+(Math.ceil(g.text.length/f)||1)*l:_+l}}function _f(o){var l=o.doc,h=tv(o);l.iter(function(f){var g=h(f);g!=f.height&&wo(f,g)})}function To(o,l,h,f){var g=o.display;if(!h&&ua(l).getAttribute("cm-not-content")=="true")return null;var _,x,k=g.lineSpace.getBoundingClientRect();try{_=l.clientX-k.left,x=l.clientY-k.top}catch{return null}var I=zt(o,_,x),L;if(f&&I.xRel>0&&(L=Je(o.doc,I.line).text).length==I.ch){var $=Pt(L,L.length,o.options.tabSize)-L.length;I=Ae(I.line,Math.max(0,Math.round((_-Km(o.display).left)/es(o.display))-$))}return I}function va(o,l){if(l>=o.display.viewTo||(l-=o.display.viewFrom,l<0))return null;for(var h=o.display.view,f=0;f<h.length;f++)if(l-=h[f].size,l<0)return f}function Vr(o,l,h,f){l==null&&(l=o.doc.first),h==null&&(h=o.doc.first+o.doc.size),f||(f=0);var g=o.display;if(f&&h<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>l)&&(g.updateLineNumbers=l),o.curOp.viewChanged=!0,l>=g.viewTo)Xo&&uf(o.doc,l)<g.viewTo&&Gi(o);else if(h<=g.viewFrom)Xo&&cf(o.doc,h+f)>g.viewFrom?Gi(o):(g.viewFrom+=f,g.viewTo+=f);else if(l<=g.viewFrom&&h>=g.viewTo)Gi(o);else if(l<=g.viewFrom){var _=Ki(o,h,h+f,1);_?(g.view=g.view.slice(_.index),g.viewFrom=_.lineN,g.viewTo+=f):Gi(o)}else if(h>=g.viewTo){var x=Ki(o,l,l,-1);x?(g.view=g.view.slice(0,x.index),g.viewTo=x.lineN):Gi(o)}else{var k=Ki(o,l,l,-1),I=Ki(o,h,h+f,1);k&&I?(g.view=g.view.slice(0,k.index).concat(al(o,k.lineN,I.lineN)).concat(g.view.slice(I.index)),g.viewTo+=f):Gi(o)}var L=g.externalMeasured;L&&(h<L.lineN?L.lineN+=f:l<L.lineN+L.size&&(g.externalMeasured=null))}function Cs(o,l,h){o.curOp.viewChanged=!0;var f=o.display,g=o.display.externalMeasured;if(g&&l>=g.lineN&&l<g.lineN+g.size&&(f.externalMeasured=null),!(l<f.viewFrom||l>=f.viewTo)){var _=f.view[va(o,l)];if(_.node!=null){var x=_.changes||(_.changes=[]);bt(x,h)==-1&&x.push(h)}}}function Gi(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function Ki(o,l,h,f){var g=va(o,l),_,x=o.display.view;if(!Xo||h==o.doc.first+o.doc.size)return{index:g,lineN:h};for(var k=o.display.viewFrom,I=0;I<g;I++)k+=x[I].size;if(k!=l){if(f>0){if(g==x.length-1)return null;_=k+x[g].size-l,g++}else _=k-l;l+=_,h+=_}for(;uf(o.doc,h)!=h;){if(g==(f<0?0:x.length-1))return null;h+=f*x[g-(f<0?1:0)].size,g+=f}return{index:g,lineN:h}}function wf(o,l,h){var f=o.display,g=f.view;g.length==0||l>=f.viewTo||h<=f.viewFrom?(f.view=al(o,l,h),f.viewFrom=l):(f.viewFrom>l?f.view=al(o,l,f.viewFrom).concat(f.view):f.viewFrom<l&&(f.view=f.view.slice(va(o,l))),f.viewFrom=l,f.viewTo<h?f.view=f.view.concat(al(o,f.viewTo,h)):f.viewTo>h&&(f.view=f.view.slice(0,va(o,h)))),f.viewTo=h}function Hd(o){for(var l=o.display.view,h=0,f=0;f<l.length;f++){var g=l[f];!g.hidden&&(!g.node||g.changes)&&++h}return h}function Ts(o){o.display.input.showSelection(o.display.input.prepareSelection())}function $d(o,l){l===void 0&&(l=!0);var h=o.doc,f={},g=f.cursors=document.createDocumentFragment(),_=f.selection=document.createDocumentFragment(),x=o.options.$customCursor;x&&(l=!0);for(var k=0;k<h.sel.ranges.length;k++)if(!(!l&&k==h.sel.primIndex)){var I=h.sel.ranges[k];if(!(I.from().line>=o.display.viewTo||I.to().line<o.display.viewFrom)){var L=I.empty();if(x){var $=x(o,I);$&&xf(o,$,g)}else(L||o.options.showCursorWhenSelecting)&&xf(o,I.head,g);L||nv(o,I,_)}}return f}function xf(o,l,h){var f=ge(o,l,"div",null,null,!o.options.singleCursorHeightPerLine),g=h.appendChild(Z("div"," ","CodeMirror-cursor"));if(g.style.left=f.left+"px",g.style.top=f.top+"px",g.style.height=Math.max(0,f.bottom-f.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var _=xe(o,l,"div",null,null),x=_.right-_.left;g.style.width=(x>0?x:o.defaultCharWidth())+"px"}if(f.other){var k=h.appendChild(Z("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));k.style.display="",k.style.left=f.other.left+"px",k.style.top=f.other.top+"px",k.style.height=(f.other.bottom-f.other.top)*.85+"px"}}function ya(o,l){return o.top-l.top||o.left-l.left}function nv(o,l,h){var f=o.display,g=o.doc,_=document.createDocumentFragment(),x=Km(o.display),k=x.left,I=Math.max(f.sizerWidth,ga(o)-f.sizer.offsetLeft)-x.right,L=g.direction=="ltr";function $(Oe,je,rt,et){je<0&&(je=0),je=Math.round(je),et=Math.round(et),_.appendChild(Z("div",null,"CodeMirror-selected","position: absolute; left: "+Oe+`px;
                             top: `+je+"px; width: "+(rt??I-Oe)+`px;
                             height: `+(et-je)+"px"))}function X(Oe,je,rt){var et=Je(g,Oe),xt=et.text.length,tn,Mn;function vn(zn,Rr){return xe(o,Ae(Oe,zn),"div",et,Rr)}function In(zn,Rr,mr){var er=on(o,et,null,zn),Hn=Rr=="ltr"==(mr=="after")?"left":"right",bn=mr=="after"?er.begin:er.end-(/\s/.test(et.text.charAt(er.end-1))?2:1);return vn(bn,Hn)[Hn]}var Vn=ke(et,g.direction);return Ve(Vn,je||0,rt??xt,function(zn,Rr,mr,er){var Hn=mr=="ltr",bn=vn(zn,Hn?"left":"right"),zr=vn(Rr-1,Hn?"right":"left"),Nl=je==null&&zn==0,Ms=rt==null&&Rr==xt,kr=er==0,Ro=!Vn||er==Vn.length-1;if(zr.top-bn.top<=3){var ur=(L?Nl:Ms)&&kr,_p=(L?Ms:Nl)&&Ro,Lo=ur?k:(Hn?bn:zr).left,Bs=_p?I:(Hn?zr:bn).right;$(Lo,bn.top,Bs-Lo,bn.bottom)}else{var Us,Lr,Fl,wp;Hn?(Us=L&&Nl&&kr?k:bn.left,Lr=L?I:In(zn,mr,"before"),Fl=L?k:In(Rr,mr,"after"),wp=L&&Ms&&Ro?I:zr.right):(Us=L?In(zn,mr,"before"):k,Lr=!L&&Nl&&kr?I:bn.right,Fl=!L&&Ms&&Ro?k:zr.left,wp=L?In(Rr,mr,"after"):I),$(Us,bn.top,Lr-Us,bn.bottom),bn.bottom<zr.top&&$(k,bn.bottom,null,zr.top),$(Fl,zr.top,wp-Fl,zr.bottom)}(!tn||ya(bn,tn)<0)&&(tn=bn),ya(zr,tn)<0&&(tn=zr),(!Mn||ya(bn,Mn)<0)&&(Mn=bn),ya(zr,Mn)<0&&(Mn=zr)}),{start:tn,end:Mn}}var oe=l.from(),ne=l.to();if(oe.line==ne.line)X(oe.line,oe.ch,ne.ch);else{var ve=Je(g,oe.line),Ee=Je(g,ne.line),Re=un(ve)==un(Ee),Me=X(oe.line,oe.ch,Re?ve.text.length+1:null).end,He=X(ne.line,Re?0:null,ne.ch).start;Re&&(Me.top<He.top-2?($(Me.right,Me.top,null,Me.bottom),$(k,He.top,He.left,He.bottom)):$(Me.right,Me.top,He.left-Me.right,Me.bottom)),Me.bottom<He.top&&$(k,Me.bottom,null,He.top)}h.appendChild(_)}function _a(o){if(o.state.focused){var l=o.display;clearInterval(l.blinker);var h=!0;l.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?l.blinker=setInterval(function(){o.hasFocus()||pl(o),l.cursorDiv.style.visibility=(h=!h)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function ks(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||jd(o))}function dl(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&pl(o))},100)}function jd(o,l){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),o.options.readOnly!="nocursor"&&(o.state.focused||(Vt(o,"focus",o,l),o.state.focused=!0,q(o.display.wrapper,"CodeMirror-focused"),!o.curOp&&o.display.selForContextMenu!=o.doc.sel&&(o.display.input.reset(),y&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),_a(o))}function pl(o,l){o.state.delayingBlurEvent||(o.state.focused&&(Vt(o,"blur",o,l),o.state.focused=!1,ye(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function Ef(o){for(var l=o.display,h=l.lineDiv.offsetTop,f=Math.max(0,l.scroller.getBoundingClientRect().top),g=l.lineDiv.getBoundingClientRect().top,_=0,x=0;x<l.view.length;x++){var k=l.view[x],I=o.options.lineWrapping,L=void 0,$=0;if(!k.hidden){if(g+=k.line.height,p&&m<8){var X=k.node.offsetTop+k.node.offsetHeight;L=X-h,h=X}else{var oe=k.node.getBoundingClientRect();L=oe.bottom-oe.top,!I&&k.text.firstChild&&($=k.text.firstChild.getBoundingClientRect().right-oe.left-1)}var ne=k.line.height-L;if((ne>.005||ne<-.005)&&(g<f&&(_-=ne),wo(k.line,L),Uu(k.line),k.rest))for(var ve=0;ve<k.rest.length;ve++)Uu(k.rest[ve]);if($>o.display.sizerWidth){var Ee=Math.ceil($/es(o.display));Ee>o.display.maxLineLength&&(o.display.maxLineLength=Ee,o.display.maxLine=k.line,o.display.maxLineChanged=!0)}}}Math.abs(_)>2&&(l.scroller.scrollTop+=_)}function Uu(o){if(o.widgets)for(var l=0;l<o.widgets.length;++l){var h=o.widgets[l],f=h.node.parentNode;f&&(h.height=f.offsetHeight)}}function wa(o,l,h){var f=h&&h.top!=null?Math.max(0,h.top):o.scroller.scrollTop;f=Math.floor(f-Ou(o));var g=h&&h.bottom!=null?h.bottom:f+o.wrapper.clientHeight,_=ca(l,f),x=ca(l,g);if(h&&h.ensure){var k=h.ensure.from.line,I=h.ensure.to.line;k<_?(_=k,x=ca(l,Eo(Je(l,k))+o.wrapper.clientHeight)):Math.min(I,l.lastLine())>=x&&(_=ca(l,Eo(Je(l,I))-o.wrapper.clientHeight),x=I)}return{from:_,to:Math.max(x,_+1)}}function Wd(o,l){if(!yt(o,"scrollCursorIntoView")){var h=o.display,f=h.sizer.getBoundingClientRect(),g=null,_=h.wrapper.ownerDocument;if(l.top+f.top<0?g=!0:l.bottom+f.top>(_.defaultView.innerHeight||_.documentElement.clientHeight)&&(g=!1),g!=null&&!R){var x=Z("div","​",null,`position: absolute;
                         top: `+(l.top-h.viewOffset-Ou(o.display))+`px;
                         height: `+(l.bottom-l.top+Co(o)+h.barHeight)+`px;
                         left: `+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");o.display.lineSpace.appendChild(x),x.scrollIntoView(g),o.display.lineSpace.removeChild(x)}}}function fw(o,l,h,f){f==null&&(f=0);var g;!o.options.lineWrapping&&l==h&&(h=l.sticky=="before"?Ae(l.line,l.ch+1,"before"):l,l=l.ch?Ae(l.line,l.sticky=="before"?l.ch-1:l.ch,"after"):l);for(var _=0;_<5;_++){var x=!1,k=ge(o,l),I=!h||h==l?k:ge(o,h);g={left:Math.min(k.left,I.left),top:Math.min(k.top,I.top)-f,right:Math.max(k.left,I.left),bottom:Math.max(k.bottom,I.bottom)+f};var L=qd(o,g),$=o.doc.scrollTop,X=o.doc.scrollLeft;if(L.scrollTop!=null&&(Vu(o,L.scrollTop),Math.abs(o.doc.scrollTop-$)>1&&(x=!0)),L.scrollLeft!=null&&(Qi(o,L.scrollLeft),Math.abs(o.doc.scrollLeft-X)>1&&(x=!0)),!x)break}return g}function rv(o,l){var h=qd(o,l);h.scrollTop!=null&&Vu(o,h.scrollTop),h.scrollLeft!=null&&Qi(o,h.scrollLeft)}function qd(o,l){var h=o.display,f=qi(o.display);l.top<0&&(l.top=0);var g=o.curOp&&o.curOp.scrollTop!=null?o.curOp.scrollTop:h.scroller.scrollTop,_=Ud(o),x={};l.bottom-l.top>_&&(l.bottom=l.top+_);var k=o.doc.height+Bd(h),I=l.top<f,L=l.bottom>k-f;if(l.top<g)x.scrollTop=I?0:l.top;else if(l.bottom>g+_){var $=Math.min(l.top,(L?k:l.bottom)-_);$!=g&&(x.scrollTop=$)}var X=o.options.fixedGutter?0:h.gutters.offsetWidth,oe=o.curOp&&o.curOp.scrollLeft!=null?o.curOp.scrollLeft:h.scroller.scrollLeft-X,ne=ga(o)-h.gutters.offsetWidth,ve=l.right-l.left>ne;return ve&&(l.right=l.left+ne),l.left<10?x.scrollLeft=0:l.left<oe?x.scrollLeft=Math.max(0,l.left+X-(ve?0:10)):l.right>ne+oe-3&&(x.scrollLeft=l.right+(ve?0:10)-ne),x}function Gd(o,l){l!=null&&(Sf(o),o.curOp.scrollTop=(o.curOp.scrollTop==null?o.doc.scrollTop:o.curOp.scrollTop)+l)}function wn(o){Sf(o);var l=o.getCursor();o.curOp.scrollToPos={from:l,to:l,margin:o.options.cursorScrollMargin}}function Jn(o,l,h){(l!=null||h!=null)&&Sf(o),l!=null&&(o.curOp.scrollLeft=l),h!=null&&(o.curOp.scrollTop=h)}function hw(o,l){Sf(o),o.curOp.scrollToPos=l}function Sf(o){var l=o.curOp.scrollToPos;if(l){o.curOp.scrollToPos=null;var h=Xe(o,l.from),f=Xe(o,l.to);Kd(o,h,f,l.margin)}}function Kd(o,l,h,f){var g=qd(o,{left:Math.min(l.left,h.left),top:Math.min(l.top,h.top)-f,right:Math.max(l.right,h.right),bottom:Math.max(l.bottom,h.bottom)+f});Jn(o,g.scrollLeft,g.scrollTop)}function Vu(o,l){Math.abs(o.doc.scrollTop-l)<2||(i||Xi(o,{top:l}),Cf(o,l,!0),i&&Xi(o),$u(o,100))}function Cf(o,l,h){l=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,l)),!(o.display.scroller.scrollTop==l&&!h)&&(o.doc.scrollTop=l,o.display.scrollbars.setScrollTop(l),o.display.scroller.scrollTop!=l&&(o.display.scroller.scrollTop=l))}function Qi(o,l,h,f){l=Math.max(0,Math.min(l,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),!((h?l==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-l)<2)&&!f)&&(o.doc.scrollLeft=l,av(o),o.display.scroller.scrollLeft!=l&&(o.display.scroller.scrollLeft=l),o.display.scrollbars.setScrollLeft(l))}function xa(o){var l=o.display,h=l.gutters.offsetWidth,f=Math.round(o.doc.height+Bd(o.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:o.options.fixedGutter?h:0,docHeight:f,scrollHeight:f+Co(o)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:h}}var Ai=function(o,l,h){this.cm=h;var f=this.vert=Z("div",[Z("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=Z("div",[Z("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=g.tabIndex=-1,o(f),o(g),me(f,"scroll",function(){f.clientHeight&&l(f.scrollTop,"vertical")}),me(g,"scroll",function(){g.clientWidth&&l(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,p&&m<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ai.prototype.update=function(o){var l=o.scrollWidth>o.clientWidth+1,h=o.scrollHeight>o.clientHeight+1,f=o.nativeBarWidth;if(h){this.vert.style.display="block",this.vert.style.bottom=l?f+"px":"0";var g=o.viewHeight-(l?f:0);this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(l){this.horiz.style.display="block",this.horiz.style.right=h?f+"px":"0",this.horiz.style.left=o.barLeft+"px";var _=o.viewWidth-o.barLeft-(h?f:0);this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+_)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&o.clientHeight>0&&(f==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:h?f:0,bottom:l?f:0}},Ai.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ai.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ai.prototype.zeroWidthHack=function(){var o=j&&!M?"12px":"18px";this.horiz.style.height=this.vert.style.width=o,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new an,this.disableVert=new an},Ai.prototype.enableZeroWidthBar=function(o,l,h){o.style.visibility="";function f(){var g=o.getBoundingClientRect(),_=h=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);_!=o?o.style.visibility="hidden":l.set(1e3,f)}l.set(1e3,f)},Ai.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var ts=function(){};ts.prototype.update=function(){return{bottom:0,right:0}},ts.prototype.setScrollLeft=function(){},ts.prototype.setScrollTop=function(){},ts.prototype.clear=function(){};function ko(o,l){l||(l=xa(o));var h=o.display.barWidth,f=o.display.barHeight;zu(o,l);for(var g=0;g<4&&h!=o.display.barWidth||f!=o.display.barHeight;g++)h!=o.display.barWidth&&o.options.lineWrapping&&Ef(o),zu(o,xa(o)),h=o.display.barWidth,f=o.display.barHeight}function zu(o,l){var h=o.display,f=h.scrollbars.update(l);h.sizer.style.paddingRight=(h.barWidth=f.right)+"px",h.sizer.style.paddingBottom=(h.barHeight=f.bottom)+"px",h.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(h.scrollbarFiller.style.display="block",h.scrollbarFiller.style.height=f.bottom+"px",h.scrollbarFiller.style.width=f.right+"px"):h.scrollbarFiller.style.display="",f.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(h.gutterFiller.style.display="block",h.gutterFiller.style.height=f.bottom+"px",h.gutterFiller.style.width=l.gutterWidth+"px"):h.gutterFiller.style.display=""}var Ea={native:Ai,null:ts};function iv(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&ye(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new Ea[o.options.scrollbarStyle](function(l){o.display.wrapper.insertBefore(l,o.display.scrollbarFiller),me(l,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,h){h=="horizontal"?Qi(o,l):Vu(o,l)},o),o.display.scrollbars.addClass&&q(o.display.wrapper,o.display.scrollbars.addClass)}var dw=0;function Sa(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++dw,markArrays:null},iw(o.curOp)}function Ca(o){var l=o.curOp;l&&qm(l,function(h){for(var f=0;f<h.ops.length;f++)h.ops[f].cm.curOp=null;pw(h)})}function pw(o){for(var l=o.ops,h=0;h<l.length;h++)Tf(l[h]);for(var f=0;f<l.length;f++)Hu(l[f]);for(var g=0;g<l.length;g++)ov(l[g]);for(var _=0;_<l.length;_++)V(l[_]);for(var x=0;x<l.length;x++)gl(l[x])}function Tf(o){var l=o.cm,h=l.display;mw(l),o.updateMaxLine&&hf(l),o.mustUpdate=o.viewChanged||o.forceUpdate||o.scrollTop!=null||o.scrollToPos&&(o.scrollToPos.from.line<h.viewFrom||o.scrollToPos.to.line>=h.viewTo)||h.maxLineChanged&&l.options.lineWrapping,o.update=o.mustUpdate&&new Ao(l,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function Hu(o){o.updatedDisplay=o.mustUpdate&&Qd(o.cm,o.update)}function ov(o){var l=o.cm,h=l.display;o.updatedDisplay&&Ef(l),o.barMeasure=xa(l),h.maxLineChanged&&!l.options.lineWrapping&&(o.adjustWidthTo=mf(l,h.maxLine,h.maxLine.text.length).left+3,l.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(h.scroller.clientWidth,h.sizer.offsetLeft+o.adjustWidthTo+Co(l)+l.display.barWidth),o.maxScrollLeft=Math.max(0,h.sizer.offsetLeft+o.adjustWidthTo-ga(l))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=h.input.prepareSelection())}function V(o){var l=o.cm;o.adjustWidthTo!=null&&(l.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<l.doc.scrollLeft&&Qi(l,Math.min(l.display.scroller.scrollLeft,o.maxScrollLeft),!0),l.display.maxLineChanged=!1);var h=o.focus&&o.focus==Le(fe(l));o.preparedSelection&&l.display.input.showSelection(o.preparedSelection,h),(o.updatedDisplay||o.startHeight!=l.doc.height)&&ko(l,o.barMeasure),o.updatedDisplay&&Yd(l,o.barMeasure),o.selectionChanged&&_a(l),l.state.focused&&o.updateInput&&l.display.input.reset(o.typing),h&&ks(o.cm)}function gl(o){var l=o.cm,h=l.display,f=l.doc;if(o.updatedDisplay&&sv(l,o.update),h.wheelStartX!=null&&(o.scrollTop!=null||o.scrollLeft!=null||o.scrollToPos)&&(h.wheelStartX=h.wheelStartY=null),o.scrollTop!=null&&Cf(l,o.scrollTop,o.forceScroll),o.scrollLeft!=null&&Qi(l,o.scrollLeft,!0,!0),o.scrollToPos){var g=fw(l,pt(f,o.scrollToPos.from),pt(f,o.scrollToPos.to),o.scrollToPos.margin);Wd(l,g)}var _=o.maybeHiddenMarkers,x=o.maybeUnhiddenMarkers;if(_)for(var k=0;k<_.length;++k)_[k].lines.length||Vt(_[k],"hide");if(x)for(var I=0;I<x.length;++I)x[I].lines.length&&Vt(x[I],"unhide");h.wrapper.offsetHeight&&(f.scrollTop=l.display.scroller.scrollTop),o.changeObjs&&Vt(l,"changes",l,o.changeObjs),o.update&&o.update.finish()}function Tr(o,l){if(o.curOp)return l();Sa(o);try{return l()}finally{Ca(o)}}function en(o,l){return function(){if(o.curOp)return l.apply(o,arguments);Sa(o);try{return l.apply(o,arguments)}finally{Ca(o)}}}function ut(o){return function(){if(this.curOp)return o.apply(this,arguments);Sa(this);try{return o.apply(this,arguments)}finally{Ca(this)}}}function or(o){return function(){var l=this.cm;if(!l||l.curOp)return o.apply(this,arguments);Sa(l);try{return o.apply(this,arguments)}finally{Ca(l)}}}function $u(o,l){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(l,At(gw,o))}function gw(o){var l=o.doc;if(!(l.highlightFrontier>=o.display.viewTo)){var h=+new Date+o.options.workTime,f=ha(o,l.highlightFrontier),g=[];l.iter(f.line,Math.min(l.first+l.size,o.display.viewTo+500),function(_){if(f.line>=o.display.viewFrom){var x=_.styles,k=_.text.length>o.options.maxHighlightLength?_o(l.mode,f.state):null,I=wd(o,_,f,!0);k&&(f.state=k),_.styles=I.styles;var L=_.styleClasses,$=I.classes;$?_.styleClasses=$:L&&(_.styleClasses=null);for(var X=!x||x.length!=_.styles.length||L!=$&&(!L||!$||L.bgClass!=$.bgClass||L.textClass!=$.textClass),oe=0;!X&&oe<x.length;++oe)X=x[oe]!=_.styles[oe];X&&g.push(f.line),_.stateAfter=f.save(),f.nextLine()}else _.text.length<=o.options.maxHighlightLength&&xs(o,_.text,f),_.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>h)return $u(o,o.options.workDelay),!0}),l.highlightFrontier=f.line,l.modeFrontier=Math.max(l.modeFrontier,f.line),g.length&&Tr(o,function(){for(var _=0;_<g.length;_++)Cs(o,g[_],"text")})}}var Ao=function(o,l,h){var f=o.display;this.viewport=l,this.visible=wa(f,o.doc,l),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=ga(o),this.force=h,this.dims=hl(o),this.events=[]};Ao.prototype.signal=function(o,l){dr(o,l)&&this.events.push(arguments)},Ao.prototype.finish=function(){for(var o=0;o<this.events.length;o++)Vt.apply(null,this.events[o])};function mw(o){var l=o.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=Co(o)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=Co(o)+"px",l.scrollbarsClipped=!0)}function vw(o){if(o.hasFocus())return null;var l=Le(fe(o));if(!l||!he(o.display.lineDiv,l))return null;var h={activeElt:l};if(window.getSelection){var f=ze(o).getSelection();f.anchorNode&&f.extend&&he(o.display.lineDiv,f.anchorNode)&&(h.anchorNode=f.anchorNode,h.anchorOffset=f.anchorOffset,h.focusNode=f.focusNode,h.focusOffset=f.focusOffset)}return h}function yw(o){if(!(!o||!o.activeElt||o.activeElt==Le(nt(o.activeElt)))&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&he(document.body,o.anchorNode)&&he(document.body,o.focusNode))){var l=o.activeElt.ownerDocument,h=l.defaultView.getSelection(),f=l.createRange();f.setEnd(o.anchorNode,o.anchorOffset),f.collapse(!1),h.removeAllRanges(),h.addRange(f),h.extend(o.focusNode,o.focusOffset)}}function Qd(o,l){var h=o.display,f=o.doc;if(l.editorIsHidden)return Gi(o),!1;if(!l.force&&l.visible.from>=h.viewFrom&&l.visible.to<=h.viewTo&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo)&&h.renderedView==h.view&&Hd(o)==0)return!1;lv(o)&&(Gi(o),l.dims=hl(o));var g=f.first+f.size,_=Math.max(l.visible.from-o.options.viewportMargin,f.first),x=Math.min(g,l.visible.to+o.options.viewportMargin);h.viewFrom<_&&_-h.viewFrom<20&&(_=Math.max(f.first,h.viewFrom)),h.viewTo>x&&h.viewTo-x<20&&(x=Math.min(g,h.viewTo)),Xo&&(_=uf(o.doc,_),x=cf(o.doc,x));var k=_!=h.viewFrom||x!=h.viewTo||h.lastWrapHeight!=l.wrapperHeight||h.lastWrapWidth!=l.wrapperWidth;wf(o,_,x),h.viewOffset=Eo(Je(o.doc,h.viewFrom)),o.display.mover.style.top=h.viewOffset+"px";var I=Hd(o);if(!k&&I==0&&!l.force&&h.renderedView==h.view&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo))return!1;var L=vw(o);return I>4&&(h.lineDiv.style.display="none"),_w(o,h.updateLineNumbers,l.dims),I>4&&(h.lineDiv.style.display=""),h.renderedView=h.view,yw(L),Ue(h.cursorDiv),Ue(h.selectionDiv),h.gutters.style.height=h.sizer.style.minHeight=0,k&&(h.lastWrapHeight=l.wrapperHeight,h.lastWrapWidth=l.wrapperWidth,$u(o,400)),h.updateLineNumbers=null,!0}function sv(o,l){for(var h=l.viewport,f=!0;;f=!1){if(!f||!o.options.lineWrapping||l.oldDisplayWidth==ga(o)){if(h&&h.top!=null&&(h={top:Math.min(o.doc.height+Bd(o.display)-Ud(o),h.top)}),l.visible=wa(o.display,o.doc,h),l.visible.from>=o.display.viewFrom&&l.visible.to<=o.display.viewTo)break}else f&&(l.visible=wa(o.display,o.doc,h));if(!Qd(o,l))break;Ef(o);var g=xa(o);Ts(o),ko(o,g),Yd(o,g),l.force=!1}l.signal(o,"update",o),(o.display.viewFrom!=o.display.reportedViewFrom||o.display.viewTo!=o.display.reportedViewTo)&&(l.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function Xi(o,l){var h=new Ao(o,l);if(Qd(o,h)){Ef(o),sv(o,h);var f=xa(o);Ts(o),ko(o,f),Yd(o,f),h.finish()}}function _w(o,l,h){var f=o.display,g=o.options.lineNumbers,_=f.lineDiv,x=_.firstChild;function k(ve){var Ee=ve.nextSibling;return y&&j&&o.display.currentWheelTarget==ve?ve.style.display="none":ve.parentNode.removeChild(ve),Ee}for(var I=f.view,L=f.viewFrom,$=0;$<I.length;$++){var X=I[$];if(!X.hidden)if(!X.node||X.node.parentNode!=_){var oe=aw(o,X,L,h);_.insertBefore(oe,x)}else{for(;x!=X.node;)x=k(x);var ne=g&&l!=null&&l<=L&&X.lineNumber;X.changes&&(bt(X.changes,"gutter")>-1&&(ne=!1),Ld(o,X,L,h)),ne&&(Ue(X.lineNumber),X.lineNumber.appendChild(document.createTextNode(tf(o.options,L)))),x=X.node.nextSibling}L+=X.size}for(;x;)x=k(x)}function Xd(o){var l=o.gutters.offsetWidth;o.sizer.style.marginLeft=l+"px",_n(o,"gutterChanged",o)}function Yd(o,l){o.display.sizer.style.minHeight=l.docHeight+"px",o.display.heightForcer.style.top=l.docHeight+"px",o.display.gutters.style.height=l.docHeight+o.display.barHeight+Co(o)+"px"}function av(o){var l=o.display,h=l.view;if(!(!l.alignWidgets&&(!l.gutters.firstChild||!o.options.fixedGutter))){for(var f=Xt(l)-l.scroller.scrollLeft+o.doc.scrollLeft,g=l.gutters.offsetWidth,_=f+"px",x=0;x<h.length;x++)if(!h[x].hidden){o.options.fixedGutter&&(h[x].gutter&&(h[x].gutter.style.left=_),h[x].gutterBackground&&(h[x].gutterBackground.style.left=_));var k=h[x].alignable;if(k)for(var I=0;I<k.length;I++)k[I].style.left=_}o.options.fixedGutter&&(l.gutters.style.left=f+g+"px")}}function lv(o){if(!o.options.lineNumbers)return!1;var l=o.doc,h=tf(o.options,l.first+l.size-1),f=o.display;if(h.length!=f.lineNumChars){var g=f.measure.appendChild(Z("div",[Z("div",h)],"CodeMirror-linenumber CodeMirror-gutter-elt")),_=g.firstChild.offsetWidth,x=g.offsetWidth-_;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(_,f.lineGutter.offsetWidth-x)+1,f.lineNumWidth=f.lineNumInnerWidth+x,f.lineNumChars=f.lineNumInnerWidth?h.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",Xd(o.display),!0}return!1}function Yi(o,l){for(var h=[],f=!1,g=0;g<o.length;g++){var _=o[g],x=null;if(typeof _!="string"&&(x=_.style,_=_.className),_=="CodeMirror-linenumbers")if(l)f=!0;else continue;h.push({className:_,style:x})}return l&&!f&&h.push({className:"CodeMirror-linenumbers",style:null}),h}function uv(o){var l=o.gutters,h=o.gutterSpecs;Ue(l),o.lineGutter=null;for(var f=0;f<h.length;++f){var g=h[f],_=g.className,x=g.style,k=l.appendChild(Z("div",null,"CodeMirror-gutter "+_));x&&(k.style.cssText=x),_=="CodeMirror-linenumbers"&&(o.lineGutter=k,k.style.width=(o.lineNumWidth||1)+"px")}l.style.display=h.length?"":"none",Xd(o)}function ju(o){uv(o.display),Vr(o),av(o)}function ww(o,l,h,f){var g=this;this.input=h,g.scrollbarFiller=Z("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=Z("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=we("div",null,"CodeMirror-code"),g.selectionDiv=Z("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=Z("div",null,"CodeMirror-cursors"),g.measure=Z("div",null,"CodeMirror-measure"),g.lineMeasure=Z("div",null,"CodeMirror-measure"),g.lineSpace=we("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var _=we("div",[g.lineSpace],"CodeMirror-lines");g.mover=Z("div",[_],null,"position: relative"),g.sizer=Z("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=Z("div",null,null,"position: absolute; height: "+Nt+"px; width: 1px;"),g.gutters=Z("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=Z("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=Z("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),E&&C>=105&&(g.wrapper.style.clipPath="inset(0px)"),g.wrapper.setAttribute("translate","no"),p&&m<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!y&&!(i&&B)&&(g.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(g.wrapper):o(g.wrapper)),g.viewFrom=g.viewTo=l.first,g.reportedViewFrom=g.reportedViewTo=l.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=Yi(f.gutters,f.lineNumbers),uv(g),h.init(g)}var kf=0,ns=null;p?ns=-.53:i?ns=15:E?ns=-.7:O&&(ns=-1/3);function As(o){var l=o.wheelDeltaX,h=o.wheelDeltaY;return l==null&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(l=o.detail),h==null&&o.detail&&o.axis==o.VERTICAL_AXIS?h=o.detail:h==null&&(h=o.wheelDelta),{x:l,y:h}}function xw(o){var l=As(o);return l.x*=ns,l.y*=ns,l}function cv(o,l){E&&C==102&&(o.display.chromeScrollHack==null?o.display.sizer.style.pointerEvents="none":clearTimeout(o.display.chromeScrollHack),o.display.chromeScrollHack=setTimeout(function(){o.display.chromeScrollHack=null,o.display.sizer.style.pointerEvents=""},100));var h=As(l),f=h.x,g=h.y,_=ns;l.deltaMode===0&&(f=l.deltaX,g=l.deltaY,_=1);var x=o.display,k=x.scroller,I=k.scrollWidth>k.clientWidth,L=k.scrollHeight>k.clientHeight;if(f&&I||g&&L){if(g&&j&&y){e:for(var $=l.target,X=x.view;$!=k;$=$.parentNode)for(var oe=0;oe<X.length;oe++)if(X[oe].node==$){o.display.currentWheelTarget=$;break e}}if(f&&!i&&!P&&_!=null){g&&L&&Vu(o,Math.max(0,k.scrollTop+g*_)),Qi(o,Math.max(0,k.scrollLeft+f*_)),(!g||g&&L)&&mn(l),x.wheelStartX=null;return}if(g&&_!=null){var ne=g*_,ve=o.doc.scrollTop,Ee=ve+x.wrapper.clientHeight;ne<0?ve=Math.max(0,ve+ne-50):Ee=Math.min(o.doc.height,Ee+ne+50),Xi(o,{top:ve,bottom:Ee})}kf<20&&l.deltaMode!==0&&(x.wheelStartX==null?(x.wheelStartX=k.scrollLeft,x.wheelStartY=k.scrollTop,x.wheelDX=f,x.wheelDY=g,setTimeout(function(){if(x.wheelStartX!=null){var Re=k.scrollLeft-x.wheelStartX,Me=k.scrollTop-x.wheelStartY,He=Me&&x.wheelDY&&Me/x.wheelDY||Re&&x.wheelDX&&Re/x.wheelDX;x.wheelStartX=x.wheelStartY=null,He&&(ns=(ns*kf+He)/(kf+1),++kf)}},200)):(x.wheelDX+=f,x.wheelDY+=g))}}var An=function(o,l){this.ranges=o,this.primIndex=l};An.prototype.primary=function(){return this.ranges[this.primIndex]},An.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var h=this.ranges[l],f=o.ranges[l];if(!Lu(h.anchor,f.anchor)||!Lu(h.head,f.head))return!1}return!0},An.prototype.deepCopy=function(){for(var o=[],l=0;l<this.ranges.length;l++)o[l]=new Wt(vd(this.ranges[l].anchor),vd(this.ranges[l].head));return new An(o,this.primIndex)},An.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},An.prototype.contains=function(o,l){l||(l=o);for(var h=0;h<this.ranges.length;h++){var f=this.ranges[h];if(ct(l,f.from())>=0&&ct(o,f.to())<=0)return h}return-1};var Wt=function(o,l){this.anchor=o,this.head=l};Wt.prototype.from=function(){return fa(this.anchor,this.head)},Wt.prototype.to=function(){return Pu(this.anchor,this.head)},Wt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Zi(o,l,h){var f=o&&o.options.selectionsMayTouch,g=l[h];l.sort(function(oe,ne){return ct(oe.from(),ne.from())}),h=bt(l,g);for(var _=1;_<l.length;_++){var x=l[_],k=l[_-1],I=ct(k.to(),x.from());if(f&&!x.empty()?I>0:I>=0){var L=fa(k.from(),x.from()),$=Pu(k.to(),x.to()),X=k.empty()?x.from()==x.head:k.from()==k.head;_<=h&&--h,l.splice(--_,2,new Wt(X?$:L,X?L:$))}}return new An(l,h)}function Is(o,l){return new An([new Wt(o,l||o)],0)}function bs(o){return o.text?Ae(o.from.line+o.text.length-1,mt(o.text).length+(o.text.length==1?o.from.ch:0)):o.to}function fv(o,l){if(ct(o,l.from)<0)return o;if(ct(o,l.to)<=0)return bs(l);var h=o.line+l.text.length-(l.to.line-l.from.line)-1,f=o.ch;return o.line==l.to.line&&(f+=bs(l).ch-l.to.ch),Ae(h,f)}function Af(o,l){for(var h=[],f=0;f<o.sel.ranges.length;f++){var g=o.sel.ranges[f];h.push(new Wt(fv(g.anchor,l),fv(g.head,l)))}return Zi(o.cm,h,o.sel.primIndex)}function Zd(o,l,h){return o.line==l.line?Ae(h.line,o.ch-l.ch+h.ch):Ae(h.line+(o.line-l.line),o.ch)}function Ew(o,l,h){for(var f=[],g=Ae(o.first,0),_=g,x=0;x<l.length;x++){var k=l[x],I=Zd(k.from,g,_),L=Zd(bs(k),g,_);if(g=k.to,_=L,h=="around"){var $=o.sel.ranges[x],X=ct($.head,$.anchor)<0;f[x]=new Wt(X?L:I,X?I:L)}else f[x]=new Wt(I,I)}return new An(f,o.sel.primIndex)}function Jd(o){o.doc.mode=gd(o.options,o.doc.modeOption),Ta(o)}function Ta(o){o.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,$u(o,100),o.state.modeGen++,o.curOp&&Vr(o)}function ml(o,l){return l.from.ch==0&&l.to.ch==0&&mt(l.text)==""&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function vl(o,l,h,f){function g(He){return h?h[He]:null}function _(He,Oe,je){$m(He,Oe,je,f),_n(He,"change",He,l)}function x(He,Oe){for(var je=[],rt=He;rt<Oe;++rt)je.push(new pa(L[rt],g(rt),f));return je}var k=l.from,I=l.to,L=l.text,$=Je(o,k.line),X=Je(o,I.line),oe=mt(L),ne=g(L.length-1),ve=I.line-k.line;if(l.full)o.insert(0,x(0,L.length)),o.remove(L.length,o.size-L.length);else if(ml(o,l)){var Ee=x(0,L.length-1);_(X,X.text,ne),ve&&o.remove(k.line,ve),Ee.length&&o.insert(k.line,Ee)}else if($==X)if(L.length==1)_($,$.text.slice(0,k.ch)+oe+$.text.slice(I.ch),ne);else{var Re=x(1,L.length-1);Re.push(new pa(oe+$.text.slice(I.ch),ne,f)),_($,$.text.slice(0,k.ch)+L[0],g(0)),o.insert(k.line+1,Re)}else if(L.length==1)_($,$.text.slice(0,k.ch)+L[0]+X.text.slice(I.ch),g(0)),o.remove(k.line+1,ve);else{_($,$.text.slice(0,k.ch)+L[0],g(0)),_(X,oe+X.text.slice(I.ch),ne);var Me=x(1,L.length-1);ve>1&&o.remove(k.line+1,ve-1),o.insert(k.line+1,Me)}_n(o,"change",o,l)}function Ds(o,l,h){function f(g,_,x){if(g.linked)for(var k=0;k<g.linked.length;++k){var I=g.linked[k];if(I.doc!=_){var L=x&&I.sharedHist;h&&!L||(l(I.doc,L),f(I.doc,g,L))}}}f(o,null,!0)}function ep(o,l){if(l.cm)throw new Error("This document is already in use.");o.doc=l,l.cm=o,_f(o),Jd(o),hv(o),o.options.direction=l.direction,o.options.lineWrapping||hf(o),o.options.mode=l.modeOption,Vr(o)}function hv(o){(o.doc.direction=="rtl"?q:ye)(o.display.lineDiv,"CodeMirror-rtl")}function rs(o){Tr(o,function(){hv(o),Vr(o)})}function yl(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function is(o,l){var h={from:vd(l.from),to:bs(l),text:ws(o,l.from,l.to)};return np(o,h,l.from.line,l.to.line+1),Ds(o,function(f){return np(f,h,l.from.line,l.to.line+1)},!0),h}function fi(o){for(;o.length;){var l=mt(o);if(l.ranges)o.pop();else break}}function Sw(o,l){if(l)return fi(o.done),mt(o.done);if(o.done.length&&!mt(o.done).ranges)return mt(o.done);if(o.done.length>1&&!o.done[o.done.length-2].ranges)return o.done.pop(),mt(o.done)}function tp(o,l,h,f){var g=o.history;g.undone.length=0;var _=+new Date,x,k;if((g.lastOp==f||g.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&g.lastModTime>_-(o.cm?o.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*"))&&(x=Sw(g,g.lastOp==f)))k=mt(x.changes),ct(l.from,l.to)==0&&ct(l.from,k.to)==0?k.to=bs(l):x.changes.push(is(o,l));else{var I=mt(g.done);for((!I||!I.ranges)&&Ji(o.sel,g.done),x={changes:[is(o,l)],generation:g.generation},g.done.push(x);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(h),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=_,g.lastOp=g.lastSelOp=f,g.lastOrigin=g.lastSelOrigin=l.origin,k||Vt(o,"historyAdded")}function dv(o,l,h,f){var g=l.charAt(0);return g=="*"||g=="+"&&h.ranges.length==f.ranges.length&&h.somethingSelected()==f.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}function Wu(o,l,h,f){var g=o.history,_=f&&f.origin;h==g.lastSelOp||_&&g.lastSelOrigin==_&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==_||dv(o,_,mt(g.done),l))?g.done[g.done.length-1]=l:Ji(l,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=_,g.lastSelOp=h,f&&f.clearRedo!==!1&&fi(g.undone)}function Ji(o,l){var h=mt(l);h&&h.ranges&&h.equals(o)||l.push(o)}function np(o,l,h,f){var g=l["spans_"+o.id],_=0;o.iter(Math.max(o.first,h),Math.min(o.first+o.size,f),function(x){x.markedSpans&&((g||(g=l["spans_"+o.id]={}))[_]=x.markedSpans),++_})}function Cw(o){if(!o)return null;for(var l,h=0;h<o.length;++h)o[h].marker.explicitlyCleared?l||(l=o.slice(0,h)):l&&l.push(o[h]);return l?l.length?l:null:o}function If(o,l){var h=l["spans_"+o.id];if(!h)return null;for(var f=[],g=0;g<l.text.length;++g)f.push(Cw(h[g]));return f}function pv(o,l){var h=If(o,l),f=kd(o,l);if(!h)return f;if(!f)return h;for(var g=0;g<h.length;++g){var _=h[g],x=f[g];if(_&&x)e:for(var k=0;k<x.length;++k){for(var I=x[k],L=0;L<_.length;++L)if(_[L].marker==I.marker)continue e;_.push(I)}else x&&(h[g]=x)}return h}function ka(o,l,h){for(var f=[],g=0;g<o.length;++g){var _=o[g];if(_.ranges){f.push(h?An.prototype.deepCopy.call(_):_);continue}var x=_.changes,k=[];f.push({changes:k});for(var I=0;I<x.length;++I){var L=x[I],$=void 0;if(k.push({from:L.from,to:L.to,text:L.text}),l)for(var X in L)($=X.match(/^spans_(\d+)$/))&&bt(l,Number($[1]))>-1&&(mt(k)[X]=L[X],delete L[X])}}return f}function sr(o,l,h,f){if(f){var g=o.anchor;if(h){var _=ct(l,g)<0;_!=ct(h,g)<0?(g=l,l=h):_!=ct(l,h)<0&&(l=h)}return new Wt(g,l)}else return new Wt(h||l,l)}function _l(o,l,h,f,g){g==null&&(g=o.cm&&(o.cm.display.shift||o.extend)),pr(o,new An([sr(o.sel.primary(),l,h,g)],0),f)}function rp(o,l,h){for(var f=[],g=o.cm&&(o.cm.display.shift||o.extend),_=0;_<o.sel.ranges.length;_++)f[_]=sr(o.sel.ranges[_],l[_],null,g);var x=Zi(o.cm,f,o.sel.primIndex);pr(o,x,h)}function Ii(o,l,h,f){var g=o.sel.ranges.slice(0);g[l]=h,pr(o,Zi(o.cm,g,o.sel.primIndex),f)}function bf(o,l,h,f){pr(o,Is(l,h),f)}function Df(o,l,h){var f={ranges:l.ranges,update:function(g){this.ranges=[];for(var _=0;_<g.length;_++)this.ranges[_]=new Wt(pt(o,g[_].anchor),pt(o,g[_].head))},origin:h&&h.origin};return Vt(o,"beforeSelectionChange",o,f),o.cm&&Vt(o.cm,"beforeSelectionChange",o.cm,f),f.ranges!=l.ranges?Zi(o.cm,f.ranges,f.ranges.length-1):l}function Rs(o,l,h){var f=o.history.done,g=mt(f);g&&g.ranges?(f[f.length-1]=l,gr(o,l,h)):pr(o,l,h)}function pr(o,l,h){gr(o,l,h),Wu(o,o.sel,o.cm?o.cm.curOp.id:NaN,h)}function gr(o,l,h){(dr(o,"beforeSelectionChange")||o.cm&&dr(o.cm,"beforeSelectionChange"))&&(l=Df(o,l,h));var f=h&&h.bias||(ct(l.primary().head,o.sel.primary().head)<0?-1:1);Rf(o,mv(o,l,f,!0)),!(h&&h.scroll===!1)&&o.cm&&o.cm.getOption("readOnly")!="nocursor"&&wn(o.cm)}function Rf(o,l){l.equals(o.sel)||(o.sel=l,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,Yn(o.cm)),_n(o,"cursorActivity",o))}function gv(o){Rf(o,mv(o,o.sel,null,!1))}function mv(o,l,h,f){for(var g,_=0;_<l.ranges.length;_++){var x=l.ranges[_],k=l.ranges.length==o.sel.ranges.length&&o.sel.ranges[_],I=xl(o,x.anchor,k&&k.anchor,h,f),L=x.head==x.anchor?I:xl(o,x.head,k&&k.head,h,f);(g||I!=x.anchor||L!=x.head)&&(g||(g=l.ranges.slice(0,_)),g[_]=new Wt(I,L))}return g?Zi(o.cm,g,l.primIndex):l}function wl(o,l,h,f,g){var _=Je(o,l.line);if(_.markedSpans)for(var x=0;x<_.markedSpans.length;++x){var k=_.markedSpans[x],I=k.marker,L="selectLeft"in I?!I.selectLeft:I.inclusiveLeft,$="selectRight"in I?!I.selectRight:I.inclusiveRight;if((k.from==null||(L?k.from<=l.ch:k.from<l.ch))&&(k.to==null||($?k.to>=l.ch:k.to>l.ch))){if(g&&(Vt(I,"beforeCursorEnter"),I.explicitlyCleared))if(_.markedSpans){--x;continue}else break;if(!I.atomic)continue;if(h){var X=I.find(f<0?1:-1),oe=void 0;if((f<0?$:L)&&(X=vv(o,X,-f,X&&X.line==l.line?_:null)),X&&X.line==l.line&&(oe=ct(X,h))&&(f<0?oe<0:oe>0))return wl(o,X,l,f,g)}var ne=I.find(f<0?-1:1);return(f<0?L:$)&&(ne=vv(o,ne,f,ne.line==l.line?_:null)),ne?wl(o,ne,l,f,g):null}}return l}function xl(o,l,h,f,g){var _=f||1,x=wl(o,l,h,_,g)||!g&&wl(o,l,h,_,!0)||wl(o,l,h,-_,g)||!g&&wl(o,l,h,-_,!0);return x||(o.cantEdit=!0,Ae(o.first,0))}function vv(o,l,h,f){return h<0&&l.ch==0?l.line>o.first?pt(o,Ae(l.line-1)):null:h>0&&l.ch==(f||Je(o,l.line)).text.length?l.line<o.first+o.size-1?Ae(l.line+1,0):null:new Ae(l.line,l.ch+h)}function El(o){o.setSelection(Ae(o.firstLine(),0),Ae(o.lastLine()),Zt)}function ip(o,l,h){var f={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return f.canceled=!0}};return h&&(f.update=function(g,_,x,k){g&&(f.from=pt(o,g)),_&&(f.to=pt(o,_)),x&&(f.text=x),k!==void 0&&(f.origin=k)}),Vt(o,"beforeChange",o,f),o.cm&&Vt(o.cm,"beforeChange",o.cm,f),f.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function Sl(o,l,h){if(o.cm){if(!o.cm.curOp)return en(o.cm,Sl)(o,l,h);if(o.cm.state.suppressEdits)return}if(!((dr(o,"beforeChange")||o.cm&&dr(o.cm,"beforeChange"))&&(l=ip(o,l,!0),!l))){var f=Om&&!h&&nw(o,l.from,l.to);if(f)for(var g=f.length-1;g>=0;--g)yv(o,{from:f[g].from,to:f[g].to,text:g?[""]:l.text,origin:l.origin});else yv(o,l)}}function yv(o,l){if(!(l.text.length==1&&l.text[0]==""&&ct(l.from,l.to)==0)){var h=Af(o,l);tp(o,l,h,o.cm?o.cm.curOp.id:NaN),qu(o,l,h,kd(o,l));var f=[];Ds(o,function(g,_){!_&&bt(f,g.history)==-1&&(Ev(g.history,l),f.push(g.history)),qu(g,l,null,kd(g,l))})}}function Ls(o,l,h){var f=o.cm&&o.cm.state.suppressEdits;if(!(f&&!h)){for(var g=o.history,_,x=o.sel,k=l=="undo"?g.done:g.undone,I=l=="undo"?g.undone:g.done,L=0;L<k.length&&(_=k[L],!(h?_.ranges&&!_.equals(o.sel):!_.ranges));L++);if(L!=k.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(_=k.pop(),_.ranges){if(Ji(_,I),h&&!_.equals(o.sel)){pr(o,_,{clearRedo:!1});return}x=_}else if(f){k.push(_);return}else break;var $=[];Ji(x,I),I.push({changes:$,generation:g.generation}),g.generation=_.generation||++g.maxGeneration;for(var X=dr(o,"beforeChange")||o.cm&&dr(o.cm,"beforeChange"),oe=function(Ee){var Re=_.changes[Ee];if(Re.origin=l,X&&!ip(o,Re,!1))return k.length=0,{};$.push(is(o,Re));var Me=Ee?Af(o,Re):mt(k);qu(o,Re,Me,pv(o,Re)),!Ee&&o.cm&&o.cm.scrollIntoView({from:Re.from,to:bs(Re)});var He=[];Ds(o,function(Oe,je){!je&&bt(He,Oe.history)==-1&&(Ev(Oe.history,Re),He.push(Oe.history)),qu(Oe,Re,null,pv(Oe,Re))})},ne=_.changes.length-1;ne>=0;--ne){var ve=oe(ne);if(ve)return ve.v}}}}function _v(o,l){if(l!=0&&(o.first+=l,o.sel=new An(dn(o.sel.ranges,function(g){return new Wt(Ae(g.anchor.line+l,g.anchor.ch),Ae(g.head.line+l,g.head.ch))}),o.sel.primIndex),o.cm)){Vr(o.cm,o.first,o.first-l,l);for(var h=o.cm.display,f=h.viewFrom;f<h.viewTo;f++)Cs(o.cm,f,"gutter")}}function qu(o,l,h,f){if(o.cm&&!o.cm.curOp)return en(o.cm,qu)(o,l,h,f);if(l.to.line<o.first){_v(o,l.text.length-1-(l.to.line-l.from.line));return}if(!(l.from.line>o.lastLine())){if(l.from.line<o.first){var g=l.text.length-1-(o.first-l.from.line);_v(o,g),l={from:Ae(o.first,0),to:Ae(l.to.line+g,l.to.ch),text:[mt(l.text)],origin:l.origin}}var _=o.lastLine();l.to.line>_&&(l={from:l.from,to:Ae(_,Je(o,_).text.length),text:[l.text[0]],origin:l.origin}),l.removed=ws(o,l.from,l.to),h||(h=Af(o,l)),o.cm?op(o.cm,l,f):vl(o,l,f),gr(o,h,Zt),o.cantEdit&&xl(o,Ae(o.firstLine(),0))&&(o.cantEdit=!1)}}function op(o,l,h){var f=o.doc,g=o.display,_=l.from,x=l.to,k=!1,I=_.line;o.options.lineWrapping||(I=Jt(un(Je(f,_.line))),f.iter(I,x.line+1,function(ne){if(ne==g.maxLine)return k=!0,!0})),f.sel.contains(l.from,l.to)>-1&&Yn(o),vl(f,l,h,tv(o)),o.options.lineWrapping||(f.iter(I,_.line+l.text.length,function(ne){var ve=Fu(ne);ve>g.maxLineLength&&(g.maxLine=ne,g.maxLineLength=ve,g.maxLineChanged=!0,k=!1)}),k&&(o.curOp.updateMaxLine=!0)),Y_(f,_.line),$u(o,400);var L=l.text.length-(x.line-_.line)-1;l.full?Vr(o):_.line==x.line&&l.text.length==1&&!ml(o.doc,l)?Cs(o,_.line,"text"):Vr(o,_.line,x.line+1,L);var $=dr(o,"changes"),X=dr(o,"change");if(X||$){var oe={from:_,to:x,text:l.text,removed:l.removed,origin:l.origin};X&&_n(o,"change",o,oe),$&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(oe)}o.display.selForContextMenu=null}function Aa(o,l,h,f,g){var _;f||(f=h),ct(f,h)<0&&(_=[f,h],h=_[0],f=_[1]),typeof l=="string"&&(l=o.splitLines(l)),Sl(o,{from:h,to:f,text:l,origin:g})}function wv(o,l,h,f){h<o.line?o.line+=f:l<o.line&&(o.line=l,o.ch=0)}function xv(o,l,h,f){for(var g=0;g<o.length;++g){var _=o[g],x=!0;if(_.ranges){_.copied||(_=o[g]=_.deepCopy(),_.copied=!0);for(var k=0;k<_.ranges.length;k++)wv(_.ranges[k].anchor,l,h,f),wv(_.ranges[k].head,l,h,f);continue}for(var I=0;I<_.changes.length;++I){var L=_.changes[I];if(h<L.from.line)L.from=Ae(L.from.line+f,L.from.ch),L.to=Ae(L.to.line+f,L.to.ch);else if(l<=L.to.line){x=!1;break}}x||(o.splice(0,g+1),g=0)}}function Ev(o,l){var h=l.from.line,f=l.to.line,g=l.text.length-(f-h)-1;xv(o.done,h,f,g),xv(o.undone,h,f,g)}function Cl(o,l,h,f){var g=l,_=l;return typeof l=="number"?_=Je(o,yd(o,l)):g=Jt(l),g==null?null:(f(_,g)&&o.cm&&Cs(o.cm,g,h),_)}function Ia(o){this.lines=o,this.parent=null;for(var l=0,h=0;h<o.length;++h)o[h].parent=this,l+=o[h].height;this.height=l}Ia.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,l){for(var h=o,f=o+l;h<f;++h){var g=this.lines[h];this.height-=g.height,li(g),_n(g,"delete")}this.lines.splice(o,l)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,l,h){this.height+=h,this.lines=this.lines.slice(0,o).concat(l).concat(this.lines.slice(o));for(var f=0;f<l.length;++f)l[f].parent=this},iterN:function(o,l,h){for(var f=o+l;o<f;++o)if(h(this.lines[o]))return!0}};function Gu(o){this.children=o;for(var l=0,h=0,f=0;f<o.length;++f){var g=o[f];l+=g.chunkSize(),h+=g.height,g.parent=this}this.size=l,this.height=h,this.parent=null}Gu.prototype={chunkSize:function(){return this.size},removeInner:function(o,l){this.size-=l;for(var h=0;h<this.children.length;++h){var f=this.children[h],g=f.chunkSize();if(o<g){var _=Math.min(l,g-o),x=f.height;if(f.removeInner(o,_),this.height-=x-f.height,g==_&&(this.children.splice(h--,1),f.parent=null),(l-=_)==0)break;o=0}else o-=g}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof Ia))){var k=[];this.collapse(k),this.children=[new Ia(k)],this.children[0].parent=this}},collapse:function(o){for(var l=0;l<this.children.length;++l)this.children[l].collapse(o)},insertInner:function(o,l,h){this.size+=l.length,this.height+=h;for(var f=0;f<this.children.length;++f){var g=this.children[f],_=g.chunkSize();if(o<=_){if(g.insertInner(o,l,h),g.lines&&g.lines.length>50){for(var x=g.lines.length%25+25,k=x;k<g.lines.length;){var I=new Ia(g.lines.slice(k,k+=25));g.height-=I.height,this.children.splice(++f,0,I),I.parent=this}g.lines=g.lines.slice(0,x),this.maybeSpill()}break}o-=_}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var l=o.children.splice(o.children.length-5,5),h=new Gu(l);if(o.parent){o.size-=h.size,o.height-=h.height;var g=bt(o.parent.children,o);o.parent.children.splice(g+1,0,h)}else{var f=new Gu(o.children);f.parent=o,o.children=[f,h],o=f}h.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,l,h){for(var f=0;f<this.children.length;++f){var g=this.children[f],_=g.chunkSize();if(o<_){var x=Math.min(l,_-o);if(g.iterN(o,x,h))return!0;if((l-=x)==0)break;o=0}else o-=_}}};var ba=function(o,l,h){if(h)for(var f in h)h.hasOwnProperty(f)&&(this[f]=h[f]);this.doc=o,this.node=l};ba.prototype.clear=function(){var o=this.doc.cm,l=this.line.widgets,h=this.line,f=Jt(h);if(!(f==null||!l)){for(var g=0;g<l.length;++g)l[g]==this&&l.splice(g--,1);l.length||(h.widgets=null);var _=Zo(this);wo(h,Math.max(0,h.height-_)),o&&(Tr(o,function(){sp(o,h,-_),Cs(o,f,"widget")}),_n(o,"lineWidgetCleared",o,this,f))}},ba.prototype.changed=function(){var o=this,l=this.height,h=this.doc.cm,f=this.line;this.height=null;var g=Zo(this)-l;g&&(ir(this.doc,f)||wo(f,f.height+g),h&&Tr(h,function(){h.curOp.forceUpdate=!0,sp(h,f,g),_n(h,"lineWidgetChanged",h,o,Jt(f))}))},Ci(ba);function sp(o,l,h){Eo(l)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Gd(o,h)}function Sv(o,l,h,f){var g=new ba(o,h,f),_=o.cm;return _&&g.noHScroll&&(_.display.alignWidgets=!0),Cl(o,l,"widget",function(x){var k=x.widgets||(x.widgets=[]);if(g.insertAt==null?k.push(g):k.splice(Math.min(k.length,Math.max(0,g.insertAt)),0,g),g.line=x,_&&!ir(o,x)){var I=Eo(x)<o.scrollTop;wo(x,x.height+Zo(g)),I&&Gd(_,g.height),_.curOp.forceUpdate=!0}return!0}),_&&_n(_,"lineWidgetAdded",_,g,typeof l=="number"?l:Jt(l)),g}var ap=0,eo=function(o,l){this.lines=[],this.type=l,this.doc=o,this.id=++ap};eo.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,l=o&&!o.curOp;if(l&&Sa(o),dr(this,"clear")){var h=this.find();h&&_n(this,"clear",h.from,h.to)}for(var f=null,g=null,_=0;_<this.lines.length;++_){var x=this.lines[_],k=Nu(x.markedSpans,this);o&&!this.collapsed?Cs(o,Jt(x),"text"):o&&(k.to!=null&&(g=Jt(x)),k.from!=null&&(f=Jt(x))),x.markedSpans=J_(x.markedSpans,k),k.from==null&&this.collapsed&&!ir(this.doc,x)&&o&&wo(x,qi(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var I=0;I<this.lines.length;++I){var L=un(this.lines[I]),$=Fu(L);$>o.display.maxLineLength&&(o.display.maxLine=L,o.display.maxLineLength=$,o.display.maxLineChanged=!0)}f!=null&&o&&this.collapsed&&Vr(o,f,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&gv(o.doc)),o&&_n(o,"markerCleared",o,this,f,g),l&&Ca(o),this.parent&&this.parent.clear()}},eo.prototype.find=function(o,l){o==null&&this.type=="bookmark"&&(o=1);for(var h,f,g=0;g<this.lines.length;++g){var _=this.lines[g],x=Nu(_.markedSpans,this);if(x.from!=null&&(h=Ae(l?_:Jt(_),x.from),o==-1))return h;if(x.to!=null&&(f=Ae(l?_:Jt(_),x.to),o==1))return f}return h&&{from:h,to:f}},eo.prototype.changed=function(){var o=this,l=this.find(-1,!0),h=this,f=this.doc.cm;!l||!f||Tr(f,function(){var g=l.line,_=Jt(l.line),x=vf(f,_);if(x&&(Vd(x),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!ir(h.doc,g)&&h.height!=null){var k=h.height;h.height=null;var I=Zo(h)-k;I&&wo(g,g.height+I)}_n(f,"markerChanged",f,o)})},eo.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||bt(l.maybeHiddenMarkers,this)==-1)&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},eo.prototype.detachLine=function(o){if(this.lines.splice(bt(this.lines,o),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},Ci(eo);function Tl(o,l,h,f,g){if(f&&f.shared)return Cv(o,l,h,f,g);if(o.cm&&!o.cm.curOp)return en(o.cm,Tl)(o,l,h,f,g);var _=new eo(o,g),x=ct(l,h);if(f&&Bt(f,_,!1),x>0||x==0&&_.clearWhenEmpty!==!1)return _;if(_.replacedWith&&(_.collapsed=!0,_.widgetNode=we("span",[_.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||_.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(_.widgetNode.insertLeft=!0)),_.collapsed){if(Hm(o,l.line,l,h,_)||l.line!=h.line&&Hm(o,h.line,l,h,_))throw new Error("Inserting collapsed marker partially overlapping an existing one");Z_()}_.addToHistory&&tp(o,{from:l,to:h,origin:"markText"},o.sel,NaN);var k=l.line,I=o.cm,L;if(o.iter(k,h.line+1,function(X){I&&_.collapsed&&!I.options.lineWrapping&&un(X)==I.display.maxLine&&(L=!0),_.collapsed&&k!=l.line&&wo(X,0),Td(X,new of(_,k==l.line?l.ch:null,k==h.line?h.ch:null),o.cm&&o.cm.curOp),++k}),_.collapsed&&o.iter(l.line,h.line+1,function(X){ir(o,X)&&wo(X,0)}),_.clearOnEnter&&me(_,"beforeCursorEnter",function(){return _.clear()}),_.readOnly&&(Mm(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),_.collapsed&&(_.id=++ap,_.atomic=!0),I){if(L&&(I.curOp.updateMaxLine=!0),_.collapsed)Vr(I,l.line,h.line+1);else if(_.className||_.startStyle||_.endStyle||_.css||_.attributes||_.title)for(var $=l.line;$<=h.line;$++)Cs(I,$,"text");_.atomic&&gv(I.doc),_n(I,"markerAdded",I,_)}return _}var kl=function(o,l){this.markers=o,this.primary=l;for(var h=0;h<o.length;++h)o[h].parent=this};kl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();_n(this,"clear")}},kl.prototype.find=function(o,l){return this.primary.find(o,l)},Ci(kl);function Cv(o,l,h,f,g){f=Bt(f),f.shared=!1;var _=[Tl(o,l,h,f,g)],x=_[0],k=f.widgetNode;return Ds(o,function(I){k&&(f.widgetNode=k.cloneNode(!0)),_.push(Tl(I,pt(I,l),pt(I,h),f,g));for(var L=0;L<I.linked.length;++L)if(I.linked[L].isParent)return;x=mt(_)}),new kl(_,x)}function Tv(o){return o.findMarks(Ae(o.first,0),o.clipPos(Ae(o.lastLine())),function(l){return l.parent})}function kv(o,l){for(var h=0;h<l.length;h++){var f=l[h],g=f.find(),_=o.clipPos(g.from),x=o.clipPos(g.to);if(ct(_,x)){var k=Tl(o,_,x,f.primary,f.primary.type);f.markers.push(k),k.parent=f}}}function Tw(o){for(var l=function(f){var g=o[f],_=[g.primary.doc];Ds(g.primary.doc,function(I){return _.push(I)});for(var x=0;x<g.markers.length;x++){var k=g.markers[x];bt(_,k.doc)==-1&&(k.parent=null,g.markers.splice(x--,1))}},h=0;h<o.length;h++)l(h)}var lp=0,Dr=function(o,l,h,f,g){if(!(this instanceof Dr))return new Dr(o,l,h,f,g);h==null&&(h=0),Gu.call(this,[new Ia([new pa("",null)])]),this.first=h,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=h;var _=Ae(h,0);this.sel=Is(_),this.history=new yl(null),this.id=++lp,this.modeOption=l,this.lineSep=f,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof o=="string"&&(o=this.splitLines(o)),vl(this,{from:_,to:_,text:o}),pr(this,Is(_),Zt)};Dr.prototype=ce(Gu.prototype,{constructor:Dr,iter:function(o,l,h){h?this.iterN(o-this.first,l-o,h):this.iterN(this.first,this.first+this.size,o)},insert:function(o,l){for(var h=0,f=0;f<l.length;++f)h+=l[f].height;this.insertInner(o-this.first,l,h)},remove:function(o,l){this.removeInner(o-this.first,l)},getValue:function(o){var l=ef(this,this.first,this.first+this.size);return o===!1?l:l.join(o||this.lineSeparator())},setValue:or(function(o){var l=Ae(this.first,0),h=this.first+this.size-1;Sl(this,{from:l,to:Ae(h,Je(this,h).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&Jn(this.cm,0,0),pr(this,Is(l),Zt)}),replaceRange:function(o,l,h,f){l=pt(this,l),h=h?pt(this,h):l,Aa(this,o,l,h,f)},getRange:function(o,l,h){var f=ws(this,pt(this,o),pt(this,l));return h===!1?f:h===""?f.join(""):f.join(h||this.lineSeparator())},getLine:function(o){var l=this.getLineHandle(o);return l&&l.text},getLineHandle:function(o){if(Ru(this,o))return Je(this,o)},getLineNumber:function(o){return Jt(o)},getLineHandleVisualStart:function(o){return typeof o=="number"&&(o=Je(this,o)),un(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return pt(this,o)},getCursor:function(o){var l=this.sel.primary(),h;return o==null||o=="head"?h=l.head:o=="anchor"?h=l.anchor:o=="end"||o=="to"||o===!1?h=l.to():h=l.from(),h},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:or(function(o,l,h){bf(this,pt(this,typeof o=="number"?Ae(o,l||0):o),null,h)}),setSelection:or(function(o,l,h){bf(this,pt(this,o),pt(this,l||o),h)}),extendSelection:or(function(o,l,h){_l(this,pt(this,o),l&&pt(this,l),h)}),extendSelections:or(function(o,l){rp(this,_d(this,o),l)}),extendSelectionsBy:or(function(o,l){var h=dn(this.sel.ranges,o);rp(this,_d(this,h),l)}),setSelections:or(function(o,l,h){if(o.length){for(var f=[],g=0;g<o.length;g++)f[g]=new Wt(pt(this,o[g].anchor),pt(this,o[g].head||o[g].anchor));l==null&&(l=Math.min(o.length-1,this.sel.primIndex)),pr(this,Zi(this.cm,f,l),h)}}),addSelection:or(function(o,l,h){var f=this.sel.ranges.slice(0);f.push(new Wt(pt(this,o),pt(this,l||o))),pr(this,Zi(this.cm,f,f.length-1),h)}),getSelection:function(o){for(var l=this.sel.ranges,h,f=0;f<l.length;f++){var g=ws(this,l[f].from(),l[f].to());h=h?h.concat(g):g}return o===!1?h:h.join(o||this.lineSeparator())},getSelections:function(o){for(var l=[],h=this.sel.ranges,f=0;f<h.length;f++){var g=ws(this,h[f].from(),h[f].to());o!==!1&&(g=g.join(o||this.lineSeparator())),l[f]=g}return l},replaceSelection:function(o,l,h){for(var f=[],g=0;g<this.sel.ranges.length;g++)f[g]=o;this.replaceSelections(f,l,h||"+input")},replaceSelections:or(function(o,l,h){for(var f=[],g=this.sel,_=0;_<g.ranges.length;_++){var x=g.ranges[_];f[_]={from:x.from(),to:x.to(),text:this.splitLines(o[_]),origin:h}}for(var k=l&&l!="end"&&Ew(this,f,l),I=f.length-1;I>=0;I--)Sl(this,f[I]);k?Rs(this,k):this.cm&&wn(this.cm)}),undo:or(function(){Ls(this,"undo")}),redo:or(function(){Ls(this,"redo")}),undoSelection:or(function(){Ls(this,"undo",!0)}),redoSelection:or(function(){Ls(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,l=0,h=0,f=0;f<o.done.length;f++)o.done[f].ranges||++l;for(var g=0;g<o.undone.length;g++)o.undone[g].ranges||++h;return{undo:l,redo:h}},clearHistory:function(){var o=this;this.history=new yl(this.history),Ds(this,function(l){return l.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:ka(this.history.done),undone:ka(this.history.undone)}},setHistory:function(o){var l=this.history=new yl(this.history);l.done=ka(o.done.slice(0),null,!0),l.undone=ka(o.undone.slice(0),null,!0)},setGutterMarker:or(function(o,l,h){return Cl(this,o,"gutter",function(f){var g=f.gutterMarkers||(f.gutterMarkers={});return g[l]=h,!h&&F(g)&&(f.gutterMarkers=null),!0})}),clearGutter:or(function(o){var l=this;this.iter(function(h){h.gutterMarkers&&h.gutterMarkers[o]&&Cl(l,h,"gutter",function(){return h.gutterMarkers[o]=null,F(h.gutterMarkers)&&(h.gutterMarkers=null),!0})})}),lineInfo:function(o){var l;if(typeof o=="number"){if(!Ru(this,o)||(l=o,o=Je(this,o),!o))return null}else if(l=Jt(o),l==null)return null;return{line:l,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:or(function(o,l,h){return Cl(this,o,l=="gutter"?"gutter":"class",function(f){var g=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(!f[g])f[g]=h;else{if(ie(h).test(f[g]))return!1;f[g]+=" "+h}return!0})}),removeLineClass:or(function(o,l,h){return Cl(this,o,l=="gutter"?"gutter":"class",function(f){var g=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",_=f[g];if(_)if(h==null)f[g]=null;else{var x=_.match(ie(h));if(!x)return!1;var k=x.index+x[0].length;f[g]=_.slice(0,x.index)+(!x.index||k==_.length?"":" ")+_.slice(k)||null}else return!1;return!0})}),addLineWidget:or(function(o,l,h){return Sv(this,o,l,h)}),removeLineWidget:function(o){o.clear()},markText:function(o,l,h){return Tl(this,pt(this,o),pt(this,l),h,h&&h.type||"range")},setBookmark:function(o,l){var h={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return o=pt(this,o),Tl(this,o,o,h,"bookmark")},findMarksAt:function(o){o=pt(this,o);var l=[],h=Je(this,o.line).markedSpans;if(h)for(var f=0;f<h.length;++f){var g=h[f];(g.from==null||g.from<=o.ch)&&(g.to==null||g.to>=o.ch)&&l.push(g.marker.parent||g.marker)}return l},findMarks:function(o,l,h){o=pt(this,o),l=pt(this,l);var f=[],g=o.line;return this.iter(o.line,l.line+1,function(_){var x=_.markedSpans;if(x)for(var k=0;k<x.length;k++){var I=x[k];!(I.to!=null&&g==o.line&&o.ch>=I.to||I.from==null&&g!=o.line||I.from!=null&&g==l.line&&I.from>=l.ch)&&(!h||h(I.marker))&&f.push(I.marker.parent||I.marker)}++g}),f},getAllMarks:function(){var o=[];return this.iter(function(l){var h=l.markedSpans;if(h)for(var f=0;f<h.length;++f)h[f].from!=null&&o.push(h[f].marker)}),o},posFromIndex:function(o){var l,h=this.first,f=this.lineSeparator().length;return this.iter(function(g){var _=g.text.length+f;if(_>o)return l=o,!0;o-=_,++h}),pt(this,Ae(h,l))},indexFromPos:function(o){o=pt(this,o);var l=o.ch;if(o.line<this.first||o.ch<0)return 0;var h=this.lineSeparator().length;return this.iter(this.first,o.line,function(f){l+=f.text.length+h}),l},copy:function(o){var l=new Dr(ef(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,o&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(o){o||(o={});var l=this.first,h=this.first+this.size;o.from!=null&&o.from>l&&(l=o.from),o.to!=null&&o.to<h&&(h=o.to);var f=new Dr(ef(this,l,h),o.mode||this.modeOption,l,this.lineSep,this.direction);return o.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:o.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],kv(f,Tv(this)),f},unlinkDoc:function(o){if(o instanceof Ht&&(o=o.doc),this.linked)for(var l=0;l<this.linked.length;++l){var h=this.linked[l];if(h.doc==o){this.linked.splice(l,1),o.unlinkDoc(this),Tw(Tv(this));break}}if(o.history==this.history){var f=[o.id];Ds(o,function(g){return f.push(g.id)},!0),o.history=new yl(null),o.history.done=ka(this.history.done,f),o.history.undone=ka(this.history.undone,f)}},iterLinkedDocs:function(o){Ds(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):hd(o)},lineSeparator:function(){return this.lineSep||`
`},setDirection:or(function(o){o!="rtl"&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(l){return l.order=null}),this.cm&&rs(this.cm))})}),Dr.prototype.eachLine=Dr.prototype.iter;var Lf=0;function kw(o){var l=this;if(Av(l),!(yt(l,o)||So(l.display,o))){mn(o),p&&(Lf=+new Date);var h=To(l,o,!0),f=o.dataTransfer.files;if(!(!h||l.isReadOnly()))if(f&&f.length&&window.FileReader&&window.File)for(var g=f.length,_=Array(g),x=0,k=function(){++x==g&&en(l,function(){h=pt(l.doc,h);var ne={from:h,to:h,text:l.doc.splitLines(_.filter(function(ve){return ve!=null}).join(l.doc.lineSeparator())),origin:"paste"};Sl(l.doc,ne),Rs(l.doc,Is(pt(l.doc,h),pt(l.doc,bs(ne))))})()},I=function(ne,ve){if(l.options.allowDropFileTypes&&bt(l.options.allowDropFileTypes,ne.type)==-1){k();return}var Ee=new FileReader;Ee.onerror=function(){return k()},Ee.onload=function(){var Re=Ee.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Re)){k();return}_[ve]=Re,k()},Ee.readAsText(ne)},L=0;L<f.length;L++)I(f[L],L);else{if(l.state.draggingText&&l.doc.sel.contains(h)>-1){l.state.draggingText(o),setTimeout(function(){return l.display.input.focus()},20);return}try{var $=o.dataTransfer.getData("Text");if($){var X;if(l.state.draggingText&&!l.state.draggingText.copy&&(X=l.listSelections()),gr(l.doc,Is(h,h)),X)for(var oe=0;oe<X.length;++oe)Aa(l.doc,"",X[oe].anchor,X[oe].head,"drag");l.replaceSelection($,"around","paste"),l.display.input.focus()}}catch{}}}}function up(o,l){if(p&&(!o.state.draggingText||+new Date-Lf<100)){ji(l);return}if(!(yt(o,l)||So(o.display,l))&&(l.dataTransfer.setData("Text",o.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!O)){var h=Z("img",null,null,"position: fixed; left: 0; top: 0;");h.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",P&&(h.width=h.height=1,o.display.wrapper.appendChild(h),h._top=h.offsetTop),l.dataTransfer.setDragImage(h,0,0),P&&h.parentNode.removeChild(h)}}function Dt(o,l){var h=To(o,l);if(h){var f=document.createDocumentFragment();xf(o,h,f),o.display.dragCursor||(o.display.dragCursor=Z("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),Pe(o.display.dragCursor,f)}}function Av(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function Iv(o){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),h=[],f=0;f<l.length;f++){var g=l[f].CodeMirror;g&&h.push(g)}h.length&&h[0].operation(function(){for(var _=0;_<h.length;_++)o(h[_])})}}var Al=!1;function bv(){Al||(Aw(),Al=!0)}function Aw(){var o;me(window,"resize",function(){o==null&&(o=setTimeout(function(){o=null,Iv(Iw)},100))}),me(window,"blur",function(){return Iv(pl)})}function Iw(o){var l=o.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,o.setSize()}for(var ar={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ku=0;Ku<10;Ku++)ar[Ku+48]=ar[Ku+96]=String(Ku);for(var Da=65;Da<=90;Da++)ar[Da]=String.fromCharCode(Da);for(var Ra=1;Ra<=12;Ra++)ar[Ra+111]=ar[Ra+63235]="F"+Ra;var Io={};Io.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Io.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Io.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Io.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Io.default=j?Io.macDefault:Io.pcDefault;function Dv(o){var l=o.split(/-(?!$)/);o=l[l.length-1];for(var h,f,g,_,x=0;x<l.length-1;x++){var k=l[x];if(/^(cmd|meta|m)$/i.test(k))_=!0;else if(/^a(lt)?$/i.test(k))h=!0;else if(/^(c|ctrl|control)$/i.test(k))f=!0;else if(/^s(hift)?$/i.test(k))g=!0;else throw new Error("Unrecognized modifier name: "+k)}return h&&(o="Alt-"+o),f&&(o="Ctrl-"+o),_&&(o="Cmd-"+o),g&&(o="Shift-"+o),o}function hi(o){var l={};for(var h in o)if(o.hasOwnProperty(h)){var f=o[h];if(/^(name|fallthrough|(de|at)tach)$/.test(h))continue;if(f=="..."){delete o[h];continue}for(var g=dn(h.split(" "),Dv),_=0;_<g.length;_++){var x=void 0,k=void 0;_==g.length-1?(k=g.join(" "),x=f):(k=g.slice(0,_+1).join(" "),x="...");var I=l[k];if(!I)l[k]=x;else if(I!=x)throw new Error("Inconsistent bindings for "+k)}delete o[h]}for(var L in l)o[L]=l[L];return o}function di(o,l,h,f){l=Xu(l);var g=l.call?l.call(o,f):l[o];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&h(g))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return di(o,l.fallthrough,h,f);for(var _=0;_<l.fallthrough.length;_++){var x=di(o,l.fallthrough[_],h,f);if(x)return x}}}function Pf(o){var l=typeof o=="string"?o:ar[o.keyCode];return l=="Ctrl"||l=="Alt"||l=="Shift"||l=="Mod"}function cp(o,l,h){var f=o;return l.altKey&&f!="Alt"&&(o="Alt-"+o),(ae?l.metaKey:l.ctrlKey)&&f!="Ctrl"&&(o="Ctrl-"+o),(ae?l.ctrlKey:l.metaKey)&&f!="Mod"&&(o="Cmd-"+o),!h&&l.shiftKey&&f!="Shift"&&(o="Shift-"+o),o}function Qu(o,l){if(P&&o.keyCode==34&&o.char)return!1;var h=ar[o.keyCode];return h==null||o.altGraphKey?!1:(o.keyCode==3&&o.code&&(h=o.code),cp(h,o,l))}function Xu(o){return typeof o=="string"?Io[o]:o}function Ps(o,l){for(var h=o.doc.sel.ranges,f=[],g=0;g<h.length;g++){for(var _=l(h[g]);f.length&&ct(_.from,mt(f).to)<=0;){var x=f.pop();if(ct(x.from,_.from)<0){_.from=x.from;break}}f.push(_)}Tr(o,function(){for(var k=f.length-1;k>=0;k--)Aa(o.doc,"",f[k].from,f[k].to,"+delete");wn(o)})}function Nf(o,l,h){var f=ee(o.text,l+h,h);return f<0||f>o.text.length?null:f}function Yu(o,l,h){var f=Nf(o,l.ch,h);return f==null?null:new Ae(l.line,f,h<0?"after":"before")}function Zu(o,l,h,f,g){if(o){l.doc.direction=="rtl"&&(g=-g);var _=ke(h,l.doc.direction);if(_){var x=g<0?mt(_):_[0],k=g<0==(x.level==1),I=k?"after":"before",L;if(x.level>0||l.doc.direction=="rtl"){var $=ui(l,h);L=g<0?h.text.length-1:0;var X=ci(l,$,L).top;L=be(function(oe){return ci(l,$,oe).top==X},g<0==(x.level==1)?x.from:x.to-1,L),I=="before"&&(L=Nf(h,L,1))}else L=g<0?x.to:x.from;return new Ae(f,L,I)}}return new Ae(f,g<0?h.text.length:0,g<0?"before":"after")}function Ns(o,l,h,f){var g=ke(l,o.doc.direction);if(!g)return Yu(l,h,f);h.ch>=l.text.length?(h.ch=l.text.length,h.sticky="before"):h.ch<=0&&(h.ch=0,h.sticky="after");var _=$e(g,h.ch,h.sticky),x=g[_];if(o.doc.direction=="ltr"&&x.level%2==0&&(f>0?x.to>h.ch:x.from<h.ch))return Yu(l,h,f);var k=function(Me,He){return Nf(l,Me instanceof Ae?Me.ch:Me,He)},I,L=function(Me){return o.options.lineWrapping?(I=I||ui(o,l),on(o,l,I,Me)):{begin:0,end:l.text.length}},$=L(h.sticky=="before"?k(h,-1):h.ch);if(o.doc.direction=="rtl"||x.level==1){var X=x.level==1==f<0,oe=k(h,X?1:-1);if(oe!=null&&(X?oe<=x.to&&oe<=$.end:oe>=x.from&&oe>=$.begin)){var ne=X?"before":"after";return new Ae(h.line,oe,ne)}}var ve=function(Me,He,Oe){for(var je=function(tn,Mn){return Mn?new Ae(h.line,k(tn,1),"before"):new Ae(h.line,tn,"after")};Me>=0&&Me<g.length;Me+=He){var rt=g[Me],et=He>0==(rt.level!=1),xt=et?Oe.begin:k(Oe.end,-1);if(rt.from<=xt&&xt<rt.to||(xt=et?rt.from:k(rt.to,-1),Oe.begin<=xt&&xt<Oe.end))return je(xt,et)}},Ee=ve(_+f,f,$);if(Ee)return Ee;var Re=f>0?$.end:k($.begin,-1);return Re!=null&&!(f>0&&Re==l.text.length)&&(Ee=ve(f>0?0:g.length-1,f,L(Re)),Ee)?Ee:null}var Ju={selectAll:El,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),Zt)},killLine:function(o){return Ps(o,function(l){if(l.empty()){var h=Je(o.doc,l.head.line).text.length;return l.head.ch==h&&l.head.line<o.lastLine()?{from:l.head,to:Ae(l.head.line+1,0)}:{from:l.head,to:Ae(l.head.line,h)}}else return{from:l.from(),to:l.to()}})},deleteLine:function(o){return Ps(o,function(l){return{from:Ae(l.from().line,0),to:pt(o.doc,Ae(l.to().line+1,0))}})},delLineLeft:function(o){return Ps(o,function(l){return{from:Ae(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(o){return Ps(o,function(l){var h=o.charCoords(l.head,"div").top+5,f=o.coordsChar({left:0,top:h},"div");return{from:f,to:l.from()}})},delWrappedLineRight:function(o){return Ps(o,function(l){var h=o.charCoords(l.head,"div").top+5,f=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:h},"div");return{from:l.from(),to:f}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(Ae(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(Ae(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(l){return os(o,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(l){return fp(o,l.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(l){return Rv(o,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(l){var h=o.cursorCoords(l.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:h},"div")},Ur)},goLineLeft:function(o){return o.extendSelectionsBy(function(l){var h=o.cursorCoords(l.head,"div").top+5;return o.coordsChar({left:0,top:h},"div")},Ur)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(l){var h=o.cursorCoords(l.head,"div").top+5,f=o.coordsChar({left:0,top:h},"div");return f.ch<o.getLine(f.line).search(/\S/)?fp(o,l.head):f},Ur)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("	")},insertSoftTab:function(o){for(var l=[],h=o.listSelections(),f=o.options.tabSize,g=0;g<h.length;g++){var _=h[g].from(),x=Pt(o.getLine(_.line),_.ch,f);l.push(Si(f-x%f))}o.replaceSelections(l)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Tr(o,function(){for(var l=o.listSelections(),h=[],f=0;f<l.length;f++)if(l[f].empty()){var g=l[f].head,_=Je(o.doc,g.line).text;if(_){if(g.ch==_.length&&(g=new Ae(g.line,g.ch-1)),g.ch>0)g=new Ae(g.line,g.ch+1),o.replaceRange(_.charAt(g.ch-1)+_.charAt(g.ch-2),Ae(g.line,g.ch-2),g,"+transpose");else if(g.line>o.doc.first){var x=Je(o.doc,g.line-1).text;x&&(g=new Ae(g.line,1),o.replaceRange(_.charAt(0)+o.doc.lineSeparator()+x.charAt(x.length-1),Ae(g.line-1,x.length-1),g,"+transpose"))}}h.push(new Wt(g,g))}o.setSelections(h)})},newlineAndIndent:function(o){return Tr(o,function(){for(var l=o.listSelections(),h=l.length-1;h>=0;h--)o.replaceRange(o.doc.lineSeparator(),l[h].anchor,l[h].head,"+input");l=o.listSelections();for(var f=0;f<l.length;f++)o.indentLine(l[f].from().line,null,!0);wn(o)})},openLine:function(o){return o.replaceSelection(`
`,"start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function os(o,l){var h=Je(o.doc,l),f=un(h);return f!=h&&(l=Jt(f)),Zu(!0,o,f,l,1)}function Rv(o,l){var h=Je(o.doc,l),f=Id(h);return f!=h&&(l=Jt(f)),Zu(!0,o,h,l,-1)}function fp(o,l){var h=os(o,l.line),f=Je(o.doc,h.line),g=ke(f,o.doc.direction);if(!g||g[0].level==0){var _=Math.max(h.ch,f.text.search(/\S/)),x=l.line==h.line&&l.ch<=_&&l.ch;return Ae(h.line,x?0:_,h.sticky)}return h}function Il(o,l,h){if(typeof l=="string"&&(l=Ju[l],!l))return!1;o.display.input.ensurePolled();var f=o.display.shift,g=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),h&&(o.display.shift=!1),g=l(o)!=gn}finally{o.display.shift=f,o.state.suppressEdits=!1}return g}function bw(o,l,h){for(var f=0;f<o.state.keyMaps.length;f++){var g=di(l,o.state.keyMaps[f],h,o);if(g)return g}return o.options.extraKeys&&di(l,o.options.extraKeys,h,o)||di(l,o.options.keyMap,h,o)}var Dw=new an;function ec(o,l,h,f){var g=o.state.keySeq;if(g){if(Pf(l))return"handled";if(/\'$/.test(l)?o.state.keySeq=null:Dw.set(50,function(){o.state.keySeq==g&&(o.state.keySeq=null,o.display.input.reset())}),hp(o,g+" "+l,h,f))return!0}return hp(o,l,h,f)}function hp(o,l,h,f){var g=bw(o,l,f);return g=="multi"&&(o.state.keySeq=l),g=="handled"&&_n(o,"keyHandled",o,l,h),(g=="handled"||g=="multi")&&(mn(h),_a(o)),!!g}function dp(o,l){var h=Qu(l,!0);return h?l.shiftKey&&!o.state.keySeq?ec(o,"Shift-"+h,l,function(f){return Il(o,f,!0)})||ec(o,h,l,function(f){if(typeof f=="string"?/^go[A-Z]/.test(f):f.motion)return Il(o,f)}):ec(o,h,l,function(f){return Il(o,f)}):!1}function Rw(o,l,h){return ec(o,"'"+h+"'",l,function(f){return Il(o,f,!0)})}var Ff=null;function pp(o){var l=this;if(!(o.target&&o.target!=l.display.input.getField())&&(l.curOp.focus=Le(fe(l)),!yt(l,o))){p&&m<11&&o.keyCode==27&&(o.returnValue=!1);var h=o.keyCode;l.display.shift=h==16||o.shiftKey;var f=dp(l,o);P&&(Ff=f?h:null,!f&&h==88&&!G_&&(j?o.metaKey:o.ctrlKey)&&l.replaceSelection("",null,"cut")),i&&!j&&!f&&h==46&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),h==18&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&Yr(l)}}function Yr(o){var l=o.display.lineDiv;q(l,"CodeMirror-crosshair");function h(f){(f.keyCode==18||!f.altKey)&&(ye(l,"CodeMirror-crosshair"),Ut(document,"keyup",h),Ut(document,"mouseover",h))}me(document,"keyup",h),me(document,"mouseover",h)}function to(o){o.keyCode==16&&(this.doc.sel.shift=!1),yt(this,o)}function Lv(o){var l=this;if(!(o.target&&o.target!=l.display.input.getField())&&!(So(l.display,o)||yt(l,o)||o.ctrlKey&&!o.altKey||j&&o.metaKey)){var h=o.keyCode,f=o.charCode;if(P&&h==Ff){Ff=null,mn(o);return}if(!(P&&(!o.which||o.which<10)&&dp(l,o))){var g=String.fromCharCode(f??h);g!="\b"&&(Rw(l,o,g)||l.display.input.onKeyPress(o))}}}var Lw=400,bl=function(o,l,h){this.time=o,this.pos=l,this.button=h};bl.prototype.compare=function(o,l,h){return this.time+Lw>o&&ct(l,this.pos)==0&&h==this.button};var bo,Dl;function Pv(o,l){var h=+new Date;return Dl&&Dl.compare(h,o,l)?(bo=Dl=null,"triple"):bo&&bo.compare(h,o,l)?(Dl=new bl(h,o,l),bo=null,"double"):(bo=new bl(h,o,l),Dl=null,"single")}function Nv(o){var l=this,h=l.display;if(!(yt(l,o)||h.activeTouch&&h.input.supportsTouch())){if(h.input.ensurePolled(),h.shift=o.shiftKey,So(h,o)){y||(h.scroller.draggable=!1,setTimeout(function(){return h.scroller.draggable=!0},100));return}if(!Ll(l,o)){var f=To(l,o),g=_s(o),_=f?Pv(f,g):"single";ze(l).focus(),g==1&&l.state.selectingText&&l.state.selectingText(o),!(f&&Fv(l,g,f,_,o))&&(g==1?f?tc(l,f,_,o):ua(o)==h.scroller&&mn(o):g==2?(f&&_l(l.doc,f),setTimeout(function(){return h.input.focus()},20)):g==3&&(_e?l.display.input.onContextMenu(o):dl(l)))}}}function Fv(o,l,h,f,g){var _="Click";return f=="double"?_="Double"+_:f=="triple"&&(_="Triple"+_),_=(l==1?"Left":l==2?"Middle":"Right")+_,ec(o,cp(_,g),g,function(x){if(typeof x=="string"&&(x=Ju[x]),!x)return!1;var k=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),k=x(o,h)!=gn}finally{o.state.suppressEdits=!1}return k})}function Rl(o,l,h){var f=o.getOption("configureMouse"),g=f?f(o,l,h):{};if(g.unit==null){var _=U?h.shiftKey&&h.metaKey:h.altKey;g.unit=_?"rectangle":l=="single"?"char":l=="double"?"word":"line"}return(g.extend==null||o.doc.extend)&&(g.extend=o.doc.extend||h.shiftKey),g.addNew==null&&(g.addNew=j?h.metaKey:h.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(j?h.altKey:h.ctrlKey)),g}function tc(o,l,h,f){p?setTimeout(At(ks,o),0):o.curOp.focus=Le(fe(o));var g=Rl(o,h,f),_=o.doc.sel,x;o.options.dragDrop&&ud&&!o.isReadOnly()&&h=="single"&&(x=_.contains(l))>-1&&(ct((x=_.ranges[x]).from(),l)<0||l.xRel>0)&&(ct(x.to(),l)>0||l.xRel<0)?Pw(o,f,l,g):Ov(o,f,l,g)}function Pw(o,l,h,f){var g=o.display,_=!1,x=en(o,function(L){y&&(g.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:dl(o)),Ut(g.wrapper.ownerDocument,"mouseup",x),Ut(g.wrapper.ownerDocument,"mousemove",k),Ut(g.scroller,"dragstart",I),Ut(g.scroller,"drop",x),_||(mn(L),f.addNew||_l(o.doc,h,null,null,f.extend),y&&!O||p&&m==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),k=function(L){_=_||Math.abs(l.clientX-L.clientX)+Math.abs(l.clientY-L.clientY)>=10},I=function(){return _=!0};y&&(g.scroller.draggable=!0),o.state.draggingText=x,x.copy=!f.moveOnDrag,me(g.wrapper.ownerDocument,"mouseup",x),me(g.wrapper.ownerDocument,"mousemove",k),me(g.scroller,"dragstart",I),me(g.scroller,"drop",x),o.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function gp(o,l,h){if(h=="char")return new Wt(l,l);if(h=="word")return o.findWordAt(l);if(h=="line")return new Wt(Ae(l.line,0),pt(o.doc,Ae(l.line+1,0)));var f=h(o,l);return new Wt(f.from,f.to)}function Ov(o,l,h,f){p&&dl(o);var g=o.display,_=o.doc;mn(l);var x,k,I=_.sel,L=I.ranges;if(f.addNew&&!f.extend?(k=_.sel.contains(h),k>-1?x=L[k]:x=new Wt(h,h)):(x=_.sel.primary(),k=_.sel.primIndex),f.unit=="rectangle")f.addNew||(x=new Wt(h,h)),h=To(o,l,!0,!0),k=-1;else{var $=gp(o,h,f.unit);f.extend?x=sr(x,$.anchor,$.head,f.extend):x=$}f.addNew?k==-1?(k=L.length,pr(_,Zi(o,L.concat([x]),k),{scroll:!1,origin:"*mouse"})):L.length>1&&L[k].empty()&&f.unit=="char"&&!f.extend?(pr(_,Zi(o,L.slice(0,k).concat(L.slice(k+1)),0),{scroll:!1,origin:"*mouse"}),I=_.sel):Ii(_,k,x,Ye):(k=0,pr(_,new An([x],0),Ye),I=_.sel);var X=h;function oe(Oe){if(ct(X,Oe)!=0)if(X=Oe,f.unit=="rectangle"){for(var je=[],rt=o.options.tabSize,et=Pt(Je(_,h.line).text,h.ch,rt),xt=Pt(Je(_,Oe.line).text,Oe.ch,rt),tn=Math.min(et,xt),Mn=Math.max(et,xt),vn=Math.min(h.line,Oe.line),In=Math.min(o.lastLine(),Math.max(h.line,Oe.line));vn<=In;vn++){var Vn=Je(_,vn).text,zn=kn(Vn,tn,rt);tn==Mn?je.push(new Wt(Ae(vn,zn),Ae(vn,zn))):Vn.length>zn&&je.push(new Wt(Ae(vn,zn),Ae(vn,kn(Vn,Mn,rt))))}je.length||je.push(new Wt(h,h)),pr(_,Zi(o,I.ranges.slice(0,k).concat(je),k),{origin:"*mouse",scroll:!1}),o.scrollIntoView(Oe)}else{var Rr=x,mr=gp(o,Oe,f.unit),er=Rr.anchor,Hn;ct(mr.anchor,er)>0?(Hn=mr.head,er=fa(Rr.from(),mr.anchor)):(Hn=mr.anchor,er=Pu(Rr.to(),mr.head));var bn=I.ranges.slice(0);bn[k]=Of(o,new Wt(pt(_,er),Hn)),pr(_,Zi(o,bn,k),Ye)}}var ne=g.wrapper.getBoundingClientRect(),ve=0;function Ee(Oe){var je=++ve,rt=To(o,Oe,!0,f.unit=="rectangle");if(rt)if(ct(rt,X)!=0){o.curOp.focus=Le(fe(o)),oe(rt);var et=wa(g,_);(rt.line>=et.to||rt.line<et.from)&&setTimeout(en(o,function(){ve==je&&Ee(Oe)}),150)}else{var xt=Oe.clientY<ne.top?-20:Oe.clientY>ne.bottom?20:0;xt&&setTimeout(en(o,function(){ve==je&&(g.scroller.scrollTop+=xt,Ee(Oe))}),50)}}function Re(Oe){o.state.selectingText=!1,ve=1/0,Oe&&(mn(Oe),g.input.focus()),Ut(g.wrapper.ownerDocument,"mousemove",Me),Ut(g.wrapper.ownerDocument,"mouseup",He),_.history.lastSelOrigin=null}var Me=en(o,function(Oe){Oe.buttons===0||!_s(Oe)?Re(Oe):Ee(Oe)}),He=en(o,Re);o.state.selectingText=He,me(g.wrapper.ownerDocument,"mousemove",Me),me(g.wrapper.ownerDocument,"mouseup",He)}function Of(o,l){var h=l.anchor,f=l.head,g=Je(o.doc,h.line);if(ct(h,f)==0&&h.sticky==f.sticky)return l;var _=ke(g);if(!_)return l;var x=$e(_,h.ch,h.sticky),k=_[x];if(k.from!=h.ch&&k.to!=h.ch)return l;var I=x+(k.from==h.ch==(k.level!=1)?0:1);if(I==0||I==_.length)return l;var L;if(f.line!=h.line)L=(f.line-h.line)*(o.doc.direction=="ltr"?1:-1)>0;else{var $=$e(_,f.ch,f.sticky),X=$-x||(f.ch-h.ch)*(k.level==1?-1:1);$==I-1||$==I?L=X<0:L=X>0}var oe=_[I+(L?-1:0)],ne=L==(oe.level==1),ve=ne?oe.from:oe.to,Ee=ne?"after":"before";return h.ch==ve&&h.sticky==Ee?l:new Wt(new Ae(h.line,ve,Ee),f)}function mp(o,l,h,f){var g,_;if(l.touches)g=l.touches[0].clientX,_=l.touches[0].clientY;else try{g=l.clientX,_=l.clientY}catch{return!1}if(g>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;f&&mn(l);var x=o.display,k=x.lineDiv.getBoundingClientRect();if(_>k.bottom||!dr(o,h))return Ko(l);_-=k.top-x.viewOffset;for(var I=0;I<o.display.gutterSpecs.length;++I){var L=x.gutters.childNodes[I];if(L&&L.getBoundingClientRect().right>=g){var $=ca(o.doc,_),X=o.display.gutterSpecs[I];return Vt(o,h,o,$,X.className,l),Ko(l)}}}function Ll(o,l){return mp(o,l,"gutterClick",!0)}function Mf(o,l){So(o.display,l)||Bf(o,l)||yt(o,l,"contextmenu")||_e||o.display.input.onContextMenu(l)}function Bf(o,l){return dr(o,"gutterContextMenu")?mp(o,l,"gutterContextMenu",!1):!1}function Mv(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Mu(o)}var La={toString:function(){return"CodeMirror.Init"}},nc={},rc={};function vp(o){var l=o.optionHandlers;function h(f,g,_,x){o.defaults[f]=g,_&&(l[f]=x?function(k,I,L){L!=La&&_(k,I,L)}:_)}o.defineOption=h,o.Init=La,h("value","",function(f,g){return f.setValue(g)},!0),h("mode",null,function(f,g){f.doc.modeOption=g,Jd(f)},!0),h("indentUnit",2,Jd,!0),h("indentWithTabs",!1),h("smartIndent",!0),h("tabSize",4,function(f){Ta(f),Mu(f),Vr(f)},!0),h("lineSeparator",null,function(f,g){if(f.doc.lineSep=g,!!g){var _=[],x=f.doc.first;f.doc.iter(function(I){for(var L=0;;){var $=I.text.indexOf(g,L);if($==-1)break;L=$+g.length,_.push(Ae(x,$))}x++});for(var k=_.length-1;k>=0;k--)Aa(f.doc,g,_[k],Ae(_[k].line,_[k].ch+g.length))}}),h("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(f,g,_){f.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),_!=La&&f.refresh()}),h("specialCharPlaceholder",Es,function(f){return f.refresh()},!0),h("electricChars",!0),h("inputStyle",B?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),h("spellcheck",!1,function(f,g){return f.getInputField().spellcheck=g},!0),h("autocorrect",!1,function(f,g){return f.getInputField().autocorrect=g},!0),h("autocapitalize",!1,function(f,g){return f.getInputField().autocapitalize=g},!0),h("rtlMoveVisually",!W),h("wholeLineUpdateBefore",!0),h("theme","default",function(f){Mv(f),ju(f)},!0),h("keyMap","default",function(f,g,_){var x=Xu(g),k=_!=La&&Xu(_);k&&k.detach&&k.detach(f,x),x.attach&&x.attach(f,k||null)}),h("extraKeys",null),h("configureMouse",null),h("lineWrapping",!1,Bv,!0),h("gutters",[],function(f,g){f.display.gutterSpecs=Yi(g,f.options.lineNumbers),ju(f)},!0),h("fixedGutter",!0,function(f,g){f.display.gutters.style.left=g?Xt(f.display)+"px":"0",f.refresh()},!0),h("coverGutterNextToScrollbar",!1,function(f){return ko(f)},!0),h("scrollbarStyle","native",function(f){iv(f),ko(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),h("lineNumbers",!1,function(f,g){f.display.gutterSpecs=Yi(f.options.gutters,g),ju(f)},!0),h("firstLineNumber",1,ju,!0),h("lineNumberFormatter",function(f){return f},ju,!0),h("showCursorWhenSelecting",!1,Ts,!0),h("resetSelectionOnContextMenu",!0),h("lineWiseCopyCut",!0),h("pasteLinesPerSelection",!0),h("selectionsMayTouch",!1),h("readOnly",!1,function(f,g){g=="nocursor"&&(pl(f),f.display.input.blur()),f.display.input.readOnlyChanged(g)}),h("screenReaderLabel",null,function(f,g){g=g===""?null:g,f.display.input.screenReaderLabelChanged(g)}),h("disableInput",!1,function(f,g){g||f.display.input.reset()},!0),h("dragDrop",!0,Nw),h("allowDropFileTypes",null),h("cursorBlinkRate",530),h("cursorScrollMargin",0),h("cursorHeight",1,Ts,!0),h("singleCursorHeightPerLine",!0,Ts,!0),h("workTime",100),h("workDelay",100),h("flattenSpans",!0,Ta,!0),h("addModeClass",!1,Ta,!0),h("pollInterval",100),h("undoDepth",200,function(f,g){return f.doc.history.undoDepth=g}),h("historyEventDelay",1250),h("viewportMargin",10,function(f){return f.refresh()},!0),h("maxHighlightLength",1e4,Ta,!0),h("moveInputWithCursor",!0,function(f,g){g||f.display.input.resetPosition()}),h("tabindex",null,function(f,g){return f.display.input.getField().tabIndex=g||""}),h("autofocus",null),h("direction","ltr",function(f,g){return f.doc.setDirection(g)},!0),h("phrases",null)}function Nw(o,l,h){var f=h&&h!=La;if(!l!=!f){var g=o.display.dragFunctions,_=l?me:Ut;_(o.display.scroller,"dragstart",g.start),_(o.display.scroller,"dragenter",g.enter),_(o.display.scroller,"dragover",g.over),_(o.display.scroller,"dragleave",g.leave),_(o.display.scroller,"drop",g.drop)}}function Bv(o){o.options.lineWrapping?(q(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(ye(o.display.wrapper,"CodeMirror-wrap"),hf(o)),_f(o),Vr(o),Mu(o),setTimeout(function(){return ko(o)},100)}function Ht(o,l){var h=this;if(!(this instanceof Ht))return new Ht(o,l);this.options=l=l?Bt(l):{},Bt(nc,l,!1);var f=l.value;typeof f=="string"?f=new Dr(f,l.mode,null,l.lineSeparator,l.direction):l.mode&&(f.modeOption=l.mode),this.doc=f;var g=new Ht.inputStyles[l.inputStyle](this),_=this.display=new ww(o,f,g,l);_.wrapper.CodeMirror=this,Mv(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),iv(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new an,keySeq:null,specialChars:null},l.autofocus&&!B&&_.input.focus(),p&&m<11&&setTimeout(function(){return h.display.input.reset(!0)},20),Uv(this),bv(),Sa(this),this.curOp.forceUpdate=!0,ep(this,f),l.autofocus&&!B||this.hasFocus()?setTimeout(function(){h.hasFocus()&&!h.state.focused&&jd(h)},20):pl(this);for(var x in rc)rc.hasOwnProperty(x)&&rc[x](this,l[x],La);lv(this),l.finishInit&&l.finishInit(this);for(var k=0;k<Uf.length;++k)Uf[k](this);Ca(this),y&&l.lineWrapping&&getComputedStyle(_.lineDiv).textRendering=="optimizelegibility"&&(_.lineDiv.style.textRendering="auto")}Ht.defaults=nc,Ht.optionHandlers=rc;function Uv(o){var l=o.display;me(l.scroller,"mousedown",en(o,Nv)),p&&m<11?me(l.scroller,"dblclick",en(o,function(I){if(!yt(o,I)){var L=To(o,I);if(!(!L||Ll(o,I)||So(o.display,I))){mn(I);var $=o.findWordAt(L);_l(o.doc,$.anchor,$.head)}}})):me(l.scroller,"dblclick",function(I){return yt(o,I)||mn(I)}),me(l.scroller,"contextmenu",function(I){return Mf(o,I)}),me(l.input.getField(),"contextmenu",function(I){l.scroller.contains(I.target)||Mf(o,I)});var h,f={end:0};function g(){l.activeTouch&&(h=setTimeout(function(){return l.activeTouch=null},1e3),f=l.activeTouch,f.end=+new Date)}function _(I){if(I.touches.length!=1)return!1;var L=I.touches[0];return L.radiusX<=1&&L.radiusY<=1}function x(I,L){if(L.left==null)return!0;var $=L.left-I.left,X=L.top-I.top;return $*$+X*X>20*20}me(l.scroller,"touchstart",function(I){if(!yt(o,I)&&!_(I)&&!Ll(o,I)){l.input.ensurePolled(),clearTimeout(h);var L=+new Date;l.activeTouch={start:L,moved:!1,prev:L-f.end<=300?f:null},I.touches.length==1&&(l.activeTouch.left=I.touches[0].pageX,l.activeTouch.top=I.touches[0].pageY)}}),me(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),me(l.scroller,"touchend",function(I){var L=l.activeTouch;if(L&&!So(l,I)&&L.left!=null&&!L.moved&&new Date-L.start<300){var $=o.coordsChar(l.activeTouch,"page"),X;!L.prev||x(L,L.prev)?X=new Wt($,$):!L.prev.prev||x(L,L.prev.prev)?X=o.findWordAt($):X=new Wt(Ae($.line,0),pt(o.doc,Ae($.line+1,0))),o.setSelection(X.anchor,X.head),o.focus(),mn(I)}g()}),me(l.scroller,"touchcancel",g),me(l.scroller,"scroll",function(){l.scroller.clientHeight&&(Vu(o,l.scroller.scrollTop),Qi(o,l.scroller.scrollLeft,!0),Vt(o,"scroll",o))}),me(l.scroller,"mousewheel",function(I){return cv(o,I)}),me(l.scroller,"DOMMouseScroll",function(I){return cv(o,I)}),me(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(I){yt(o,I)||ji(I)},over:function(I){yt(o,I)||(Dt(o,I),ji(I))},start:function(I){return up(o,I)},drop:en(o,kw),leave:function(I){yt(o,I)||Av(o)}};var k=l.input.getField();me(k,"keyup",function(I){return to.call(o,I)}),me(k,"keydown",en(o,pp)),me(k,"keypress",en(o,Lv)),me(k,"focus",function(I){return jd(o,I)}),me(k,"blur",function(I){return pl(o,I)})}var Uf=[];Ht.defineInitHook=function(o){return Uf.push(o)};function ic(o,l,h,f){var g=o.doc,_;h==null&&(h="add"),h=="smart"&&(g.mode.indent?_=ha(o,l).state:h="prev");var x=o.options.tabSize,k=Je(g,l),I=Pt(k.text,null,x);k.stateAfter&&(k.stateAfter=null);var L=k.text.match(/^\s*/)[0],$;if(!f&&!/\S/.test(k.text))$=0,h="not";else if(h=="smart"&&($=g.mode.indent(_,k.text.slice(L.length),k.text),$==gn||$>150)){if(!f)return;h="prev"}h=="prev"?l>g.first?$=Pt(Je(g,l-1).text,null,x):$=0:h=="add"?$=I+o.options.indentUnit:h=="subtract"?$=I-o.options.indentUnit:typeof h=="number"&&($=I+h),$=Math.max(0,$);var X="",oe=0;if(o.options.indentWithTabs)for(var ne=Math.floor($/x);ne;--ne)oe+=x,X+="	";if(oe<$&&(X+=Si($-oe)),X!=L)return Aa(g,X,Ae(l,0),Ae(l,L.length),"+input"),k.stateAfter=null,!0;for(var ve=0;ve<g.sel.ranges.length;ve++){var Ee=g.sel.ranges[ve];if(Ee.head.line==l&&Ee.head.ch<L.length){var Re=Ae(l,L.length);Ii(g,ve,new Wt(Re,Re));break}}}var bi=null;function Vf(o){bi=o}function yp(o,l,h,f,g){var _=o.doc;o.display.shift=!1,f||(f=_.sel);var x=+new Date-200,k=g=="paste"||o.state.pasteIncoming>x,I=hd(l),L=null;if(k&&f.ranges.length>1)if(bi&&bi.text.join(`
`)==l){if(f.ranges.length%bi.text.length==0){L=[];for(var $=0;$<bi.text.length;$++)L.push(_.splitLines(bi.text[$]))}}else I.length==f.ranges.length&&o.options.pasteLinesPerSelection&&(L=dn(I,function(Me){return[Me]}));for(var X=o.curOp.updateInput,oe=f.ranges.length-1;oe>=0;oe--){var ne=f.ranges[oe],ve=ne.from(),Ee=ne.to();ne.empty()&&(h&&h>0?ve=Ae(ve.line,ve.ch-h):o.state.overwrite&&!k?Ee=Ae(Ee.line,Math.min(Je(_,Ee.line).text.length,Ee.ch+mt(I).length)):k&&bi&&bi.lineWise&&bi.text.join(`
`)==I.join(`
`)&&(ve=Ee=Ae(ve.line,0)));var Re={from:ve,to:Ee,text:L?L[oe%L.length]:I,origin:g||(k?"paste":o.state.cutIncoming>x?"cut":"+input")};Sl(o.doc,Re),_n(o,"inputRead",o,Re)}l&&!k&&zf(o,l),wn(o),o.curOp.updateInput<2&&(o.curOp.updateInput=X),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function Do(o,l){var h=o.clipboardData&&o.clipboardData.getData("Text");if(h)return o.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&l.hasFocus()&&Tr(l,function(){return yp(l,h,0,null,"paste")}),!0}function zf(o,l){if(!(!o.options.electricChars||!o.options.smartIndent))for(var h=o.doc.sel,f=h.ranges.length-1;f>=0;f--){var g=h.ranges[f];if(!(g.head.ch>100||f&&h.ranges[f-1].head.line==g.head.line)){var _=o.getModeAt(g.head),x=!1;if(_.electricChars){for(var k=0;k<_.electricChars.length;k++)if(l.indexOf(_.electricChars.charAt(k))>-1){x=ic(o,g.head.line,"smart");break}}else _.electricInput&&_.electricInput.test(Je(o.doc,g.head.line).text.slice(0,g.head.ch))&&(x=ic(o,g.head.line,"smart"));x&&_n(o,"electricInput",o,g.head.line)}}}function Hf(o){for(var l=[],h=[],f=0;f<o.doc.sel.ranges.length;f++){var g=o.doc.sel.ranges[f].head.line,_={anchor:Ae(g,0),head:Ae(g+1,0)};h.push(_),l.push(o.getRange(_.anchor,_.head))}return{text:l,ranges:h}}function oc(o,l,h,f){o.setAttribute("autocorrect",h?"on":"off"),o.setAttribute("autocapitalize",f?"on":"off"),o.setAttribute("spellcheck",!!l)}function sc(){var o=Z("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),l=Z("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return y?o.style.width="1000px":o.setAttribute("wrap","off"),b&&(o.style.border="1px solid black"),l}function Pl(o){var l=o.optionHandlers,h=o.helpers={};o.prototype={constructor:o,focus:function(){ze(this).focus(),this.display.input.focus()},setOption:function(f,g){var _=this.options,x=_[f];_[f]==g&&f!="mode"||(_[f]=g,l.hasOwnProperty(f)&&en(this,l[f])(this,g,x),Vt(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,g){this.state.keyMaps[g?"push":"unshift"](Xu(f))},removeKeyMap:function(f){for(var g=this.state.keyMaps,_=0;_<g.length;++_)if(g[_]==f||g[_].name==f)return g.splice(_,1),!0},addOverlay:ut(function(f,g){var _=f.token?f:o.getMode(this.options,f);if(_.startState)throw new Error("Overlays may not be stateful.");br(this.state.overlays,{mode:_,modeSpec:f,opaque:g&&g.opaque,priority:g&&g.priority||0},function(x){return x.priority}),this.state.modeGen++,Vr(this)}),removeOverlay:ut(function(f){for(var g=this.state.overlays,_=0;_<g.length;++_){var x=g[_].modeSpec;if(x==f||typeof f=="string"&&x.name==f){g.splice(_,1),this.state.modeGen++,Vr(this);return}}}),indentLine:ut(function(f,g,_){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),Ru(this.doc,f)&&ic(this,f,g,_)}),indentSelection:ut(function(f){for(var g=this.doc.sel.ranges,_=-1,x=0;x<g.length;x++){var k=g[x];if(k.empty())k.head.line>_&&(ic(this,k.head.line,f,!0),_=k.head.line,x==this.doc.sel.primIndex&&wn(this));else{var I=k.from(),L=k.to(),$=Math.max(_,I.line);_=Math.min(this.lastLine(),L.line-(L.ch?0:1))+1;for(var X=$;X<_;++X)ic(this,X,f);var oe=this.doc.sel.ranges;I.ch==0&&g.length==oe.length&&oe[x].from().ch>0&&Ii(this.doc,x,new Wt(I,oe[x].to()),Zt)}}}),getTokenAt:function(f,g){return Ed(this,f,g)},getLineTokens:function(f,g){return Ed(this,Ae(f),g,!0)},getTokenTypeAt:function(f){f=pt(this.doc,f);var g=nf(this,Je(this.doc,f.line)),_=0,x=(g.length-1)/2,k=f.ch,I;if(k==0)I=g[2];else for(;;){var L=_+x>>1;if((L?g[L*2-1]:0)>=k)x=L;else if(g[L*2+1]<k)_=L+1;else{I=g[L*2+2];break}}var $=I?I.indexOf("overlay "):-1;return $<0?I:$==0?null:I.slice(0,$-1)},getModeAt:function(f){var g=this.doc.mode;return g.innerMode?o.innerMode(g,this.getTokenAt(f).state).mode:g},getHelper:function(f,g){return this.getHelpers(f,g)[0]},getHelpers:function(f,g){var _=[];if(!h.hasOwnProperty(g))return _;var x=h[g],k=this.getModeAt(f);if(typeof k[g]=="string")x[k[g]]&&_.push(x[k[g]]);else if(k[g])for(var I=0;I<k[g].length;I++){var L=x[k[g][I]];L&&_.push(L)}else k.helperType&&x[k.helperType]?_.push(x[k.helperType]):x[k.name]&&_.push(x[k.name]);for(var $=0;$<x._global.length;$++){var X=x._global[$];X.pred(k,this)&&bt(_,X.val)==-1&&_.push(X.val)}return _},getStateAfter:function(f,g){var _=this.doc;return f=yd(_,f??_.first+_.size-1),ha(this,f+1,g).state},cursorCoords:function(f,g){var _,x=this.doc.sel.primary();return f==null?_=x.head:typeof f=="object"?_=pt(this.doc,f):_=f?x.from():x.to(),ge(this,_,g||"page")},charCoords:function(f,g){return xe(this,pt(this.doc,f),g||"page")},coordsChar:function(f,g){return f=se(this,f,g||"page"),zt(this,f.left,f.top)},lineAtHeight:function(f,g){return f=se(this,{top:f,left:0},g||"page").top,ca(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,g,_){var x=!1,k;if(typeof f=="number"){var I=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>I&&(f=I,x=!0),k=Je(this.doc,f)}else k=f;return Jo(this,k,{top:0,left:0},g||"page",_||x).top+(x?this.doc.height-Eo(k):0)},defaultTextHeight:function(){return qi(this.display)},defaultCharWidth:function(){return es(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,g,_,x,k){var I=this.display;f=ge(this,pt(this.doc,f));var L=f.bottom,$=f.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),I.sizer.appendChild(g),x=="over")L=f.top;else if(x=="above"||x=="near"){var X=Math.max(I.wrapper.clientHeight,this.doc.height),oe=Math.max(I.sizer.clientWidth,I.lineSpace.clientWidth);(x=="above"||f.bottom+g.offsetHeight>X)&&f.top>g.offsetHeight?L=f.top-g.offsetHeight:f.bottom+g.offsetHeight<=X&&(L=f.bottom),$+g.offsetWidth>oe&&($=oe-g.offsetWidth)}g.style.top=L+"px",g.style.left=g.style.right="",k=="right"?($=I.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(k=="left"?$=0:k=="middle"&&($=(I.sizer.clientWidth-g.offsetWidth)/2),g.style.left=$+"px"),_&&rv(this,{left:$,top:L,right:$+g.offsetWidth,bottom:L+g.offsetHeight})},triggerOnKeyDown:ut(pp),triggerOnKeyPress:ut(Lv),triggerOnKeyUp:to,triggerOnMouseDown:ut(Nv),execCommand:function(f){if(Ju.hasOwnProperty(f))return Ju[f].call(null,this)},triggerElectric:ut(function(f){zf(this,f)}),findPosH:function(f,g,_,x){var k=1;g<0&&(k=-1,g=-g);for(var I=pt(this.doc,f),L=0;L<g&&(I=at(this.doc,I,k,_,x),!I.hitSide);++L);return I},moveH:ut(function(f,g){var _=this;this.extendSelectionsBy(function(x){return _.display.shift||_.doc.extend||x.empty()?at(_.doc,x.head,f,g,_.options.rtlMoveVisually):f<0?x.from():x.to()},Ur)}),deleteH:ut(function(f,g){var _=this.doc.sel,x=this.doc;_.somethingSelected()?x.replaceSelection("",null,"+delete"):Ps(this,function(k){var I=at(x,k.head,f,g,!1);return f<0?{from:I,to:k.head}:{from:k.head,to:I}})}),findPosV:function(f,g,_,x){var k=1,I=x;g<0&&(k=-1,g=-g);for(var L=pt(this.doc,f),$=0;$<g;++$){var X=ge(this,L,"div");if(I==null?I=X.left:X.left=I,L=ac(this,X,k,_),L.hitSide)break}return L},moveV:ut(function(f,g){var _=this,x=this.doc,k=[],I=!this.display.shift&&!x.extend&&x.sel.somethingSelected();if(x.extendSelectionsBy(function($){if(I)return f<0?$.from():$.to();var X=ge(_,$.head,"div");$.goalColumn!=null&&(X.left=$.goalColumn),k.push(X.left);var oe=ac(_,X,f,g);return g=="page"&&$==x.sel.primary()&&Gd(_,xe(_,oe,"div").top-X.top),oe},Ur),k.length)for(var L=0;L<x.sel.ranges.length;L++)x.sel.ranges[L].goalColumn=k[L]}),findWordAt:function(f){var g=this.doc,_=Je(g,f.line).text,x=f.ch,k=f.ch;if(_){var I=this.getHelper(f,"wordChars");(f.sticky=="before"||k==_.length)&&x?--x:++k;for(var L=_.charAt(x),$=A(L,I)?function(X){return A(X,I)}:/\s/.test(L)?function(X){return/\s/.test(X)}:function(X){return!/\s/.test(X)&&!A(X)};x>0&&$(_.charAt(x-1));)--x;for(;k<_.length&&$(_.charAt(k));)++k}return new Wt(Ae(f.line,x),Ae(f.line,k))},toggleOverwrite:function(f){f!=null&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?q(this.display.cursorDiv,"CodeMirror-overwrite"):ye(this.display.cursorDiv,"CodeMirror-overwrite"),Vt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Le(fe(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ut(function(f,g){Jn(this,f,g)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-Co(this)-this.display.barHeight,width:f.scrollWidth-Co(this)-this.display.barWidth,clientHeight:Ud(this),clientWidth:ga(this)}},scrollIntoView:ut(function(f,g){f==null?(f={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof f=="number"?f={from:Ae(f,0),to:null}:f.from==null&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=g||0,f.from.line!=null?hw(this,f):Kd(this,f.from,f.to,f.margin)}),setSize:ut(function(f,g){var _=this,x=function(I){return typeof I=="number"||/^\d+$/.test(String(I))?I+"px":I};f!=null&&(this.display.wrapper.style.width=x(f)),g!=null&&(this.display.wrapper.style.height=x(g)),this.options.lineWrapping&&Zm(this);var k=this.display.viewFrom;this.doc.iter(k,this.display.viewTo,function(I){if(I.widgets){for(var L=0;L<I.widgets.length;L++)if(I.widgets[L].noHScroll){Cs(_,k,"widget");break}}++k}),this.curOp.forceUpdate=!0,Vt(this,"refresh",this)}),operation:function(f){return Tr(this,f)},startOperation:function(){return Sa(this)},endOperation:function(){return Ca(this)},refresh:ut(function(){var f=this.display.cachedTextHeight;Vr(this),this.curOp.forceUpdate=!0,Mu(this),Jn(this,this.doc.scrollLeft,this.doc.scrollTop),Xd(this.display),(f==null||Math.abs(f-qi(this.display))>.5||this.options.lineWrapping)&&_f(this),Vt(this,"refresh",this)}),swapDoc:ut(function(f){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),ep(this,f),Mu(this),this.display.input.reset(),Jn(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,_n(this,"swapDoc",this,g),g}),phrase:function(f){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,f)?g[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ci(o),o.registerHelper=function(f,g,_){h.hasOwnProperty(f)||(h[f]=o[f]={_global:[]}),h[f][g]=_},o.registerGlobalHelper=function(f,g,_,x){o.registerHelper(f,g,x),h[f]._global.push({pred:_,val:x})}}function at(o,l,h,f,g){var _=l,x=h,k=Je(o,l.line),I=g&&o.direction=="rtl"?-h:h;function L(){var He=l.line+I;return He<o.first||He>=o.first+o.size?!1:(l=new Ae(He,l.ch,l.sticky),k=Je(o,He))}function $(He){var Oe;if(f=="codepoint"){var je=k.text.charCodeAt(l.ch+(h>0?0:-1));if(isNaN(je))Oe=null;else{var rt=h>0?je>=55296&&je<56320:je>=56320&&je<57343;Oe=new Ae(l.line,Math.max(0,Math.min(k.text.length,l.ch+h*(rt?2:1))),-h)}}else g?Oe=Ns(o.cm,k,l,h):Oe=Yu(k,l,h);if(Oe==null)if(!He&&L())l=Zu(g,o.cm,k,l.line,I);else return!1;else l=Oe;return!0}if(f=="char"||f=="codepoint")$();else if(f=="column")$(!0);else if(f=="word"||f=="group")for(var X=null,oe=f=="group",ne=o.cm&&o.cm.getHelper(l,"wordChars"),ve=!0;!(h<0&&!$(!ve));ve=!1){var Ee=k.text.charAt(l.ch)||`
`,Re=A(Ee,ne)?"w":oe&&Ee==`
`?"n":!oe||/\s/.test(Ee)?null:"p";if(oe&&!ve&&!Re&&(Re="s"),X&&X!=Re){h<0&&(h=1,$(),l.sticky="after");break}if(Re&&(X=Re),h>0&&!$(!ve))break}var Me=xl(o,l,_,x,!0);return Lu(_,Me)&&(Me.hitSide=!0),Me}function ac(o,l,h,f){var g=o.doc,_=l.left,x;if(f=="page"){var k=Math.min(o.display.wrapper.clientHeight,ze(o).innerHeight||g(o).documentElement.clientHeight),I=Math.max(k-.5*qi(o.display),3);x=(h>0?l.bottom:l.top)+h*I}else f=="line"&&(x=h>0?l.bottom+3:l.top-3);for(var L;L=zt(o,_,x),!!L.outside;){if(h<0?x<=0:x>=g.height){L.hitSide=!0;break}x+=h*5}return L}var qt=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new an,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};qt.prototype.init=function(o){var l=this,h=this,f=h.cm,g=h.div=o.lineDiv;g.contentEditable=!0,oc(g,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize);function _(k){for(var I=k.target;I;I=I.parentNode){if(I==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(I.className))break}return!1}me(g,"paste",function(k){!_(k)||yt(f,k)||Do(k,f)||m<=11&&setTimeout(en(f,function(){return l.updateFromDOM()}),20)}),me(g,"compositionstart",function(k){l.composing={data:k.data,done:!1}}),me(g,"compositionupdate",function(k){l.composing||(l.composing={data:k.data,done:!1})}),me(g,"compositionend",function(k){l.composing&&(k.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),me(g,"touchstart",function(){return h.forceCompositionEnd()}),me(g,"input",function(){l.composing||l.readFromDOMSoon()});function x(k){if(!(!_(k)||yt(f,k))){if(f.somethingSelected())Vf({lineWise:!1,text:f.getSelections()}),k.type=="cut"&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var I=Hf(f);Vf({lineWise:!0,text:I.text}),k.type=="cut"&&f.operation(function(){f.setSelections(I.ranges,0,Zt),f.replaceSelection("",null,"cut")})}else return;if(k.clipboardData){k.clipboardData.clearData();var L=bi.text.join(`
`);if(k.clipboardData.setData("Text",L),k.clipboardData.getData("Text")==L){k.preventDefault();return}}var $=sc(),X=$.firstChild;oc(X),f.display.lineSpace.insertBefore($,f.display.lineSpace.firstChild),X.value=bi.text.join(`
`);var oe=Le(nt(g));Q(X),setTimeout(function(){f.display.lineSpace.removeChild($),oe.focus(),oe==g&&h.showPrimarySelection()},50)}}me(g,"copy",x),me(g,"cut",x)},qt.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},qt.prototype.prepareSelection=function(){var o=$d(this.cm,!1);return o.focus=Le(nt(this.div))==this.div,o},qt.prototype.showSelection=function(o,l){!o||!this.cm.display.view.length||((o.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(o))},qt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},qt.prototype.showPrimarySelection=function(){var o=this.getSelection(),l=this.cm,h=l.doc.sel.primary(),f=h.from(),g=h.to();if(l.display.viewTo==l.display.viewFrom||f.line>=l.display.viewTo||g.line<l.display.viewFrom){o.removeAllRanges();return}var _=lr(l,o.anchorNode,o.anchorOffset),x=lr(l,o.focusNode,o.focusOffset);if(!(_&&!_.bad&&x&&!x.bad&&ct(fa(_,x),f)==0&&ct(Pu(_,x),g)==0)){var k=l.display.view,I=f.line>=l.display.viewFrom&&Fs(l,f)||{node:k[0].measure.map[2],offset:0},L=g.line<l.display.viewTo&&Fs(l,g);if(!L){var $=k[k.length-1].measure,X=$.maps?$.maps[$.maps.length-1]:$.map;L={node:X[X.length-1],offset:X[X.length-2]-X[X.length-3]}}if(!I||!L){o.removeAllRanges();return}var oe=o.rangeCount&&o.getRangeAt(0),ne;try{ne=de(I.node,I.offset,L.offset,L.node)}catch{}ne&&(!i&&l.state.focused?(o.collapse(I.node,I.offset),ne.collapsed||(o.removeAllRanges(),o.addRange(ne))):(o.removeAllRanges(),o.addRange(ne)),oe&&o.anchorNode==null?o.addRange(oe):i&&this.startGracePeriod()),this.rememberSelection()}},qt.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},qt.prototype.showMultipleSelections=function(o){Pe(this.cm.display.cursorDiv,o.cursors),Pe(this.cm.display.selectionDiv,o.selection)},qt.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},qt.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var l=o.getRangeAt(0).commonAncestorContainer;return he(this.div,l)},qt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Le(nt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},qt.prototype.blur=function(){this.div.blur()},qt.prototype.getField=function(){return this.div},qt.prototype.supportsTouch=function(){return!0},qt.prototype.receivedFocus=function(){var o=this,l=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Tr(this.cm,function(){return l.cm.curOp.selectionChanged=!0});function h(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,h))}this.polling.set(this.cm.options.pollInterval,h)},qt.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},qt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var o=this.getSelection(),l=this.cm;if(D&&E&&this.cm.display.gutterSpecs.length&&Fw(o.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var h=lr(l,o.anchorNode,o.anchorOffset),f=lr(l,o.focusNode,o.focusOffset);h&&f&&Tr(l,function(){pr(l.doc,Is(h,f),Zt),(h.bad||f.bad)&&(l.curOp.selectionChanged=!0)})}}},qt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o=this.cm,l=o.display,h=o.doc.sel.primary(),f=h.from(),g=h.to();if(f.ch==0&&f.line>o.firstLine()&&(f=Ae(f.line-1,Je(o.doc,f.line-1).length)),g.ch==Je(o.doc,g.line).text.length&&g.line<o.lastLine()&&(g=Ae(g.line+1,0)),f.line<l.viewFrom||g.line>l.viewTo-1)return!1;var _,x,k;f.line==l.viewFrom||(_=va(o,f.line))==0?(x=Jt(l.view[0].line),k=l.view[0].node):(x=Jt(l.view[_].line),k=l.view[_-1].node.nextSibling);var I=va(o,g.line),L,$;if(I==l.view.length-1?(L=l.viewTo-1,$=l.lineDiv.lastChild):(L=Jt(l.view[I+1].line)-1,$=l.view[I+1].node.previousSibling),!k)return!1;for(var X=o.doc.splitLines(Vv(o,k,$,x,L)),oe=ws(o.doc,Ae(x,0),Ae(L,Je(o.doc,L).text.length));X.length>1&&oe.length>1;)if(mt(X)==mt(oe))X.pop(),oe.pop(),L--;else if(X[0]==oe[0])X.shift(),oe.shift(),x++;else break;for(var ne=0,ve=0,Ee=X[0],Re=oe[0],Me=Math.min(Ee.length,Re.length);ne<Me&&Ee.charCodeAt(ne)==Re.charCodeAt(ne);)++ne;for(var He=mt(X),Oe=mt(oe),je=Math.min(He.length-(X.length==1?ne:0),Oe.length-(oe.length==1?ne:0));ve<je&&He.charCodeAt(He.length-ve-1)==Oe.charCodeAt(Oe.length-ve-1);)++ve;if(X.length==1&&oe.length==1&&x==f.line)for(;ne&&ne>f.ch&&He.charCodeAt(He.length-ve-1)==Oe.charCodeAt(Oe.length-ve-1);)ne--,ve++;X[X.length-1]=He.slice(0,He.length-ve).replace(/^\u200b+/,""),X[0]=X[0].slice(ne).replace(/\u200b+$/,"");var rt=Ae(x,ne),et=Ae(L,oe.length?mt(oe).length-ve:0);if(X.length>1||X[0]||ct(rt,et))return Aa(o.doc,X,rt,et,"+input"),!0},qt.prototype.ensurePolled=function(){this.forceCompositionEnd()},qt.prototype.reset=function(){this.forceCompositionEnd()},qt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},qt.prototype.readFromDOMSoon=function(){var o=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing)if(o.composing.done)o.composing=null;else return;o.updateFromDOM()},80))},qt.prototype.updateFromDOM=function(){var o=this;(this.cm.isReadOnly()||!this.pollContent())&&Tr(this.cm,function(){return Vr(o.cm)})},qt.prototype.setUneditable=function(o){o.contentEditable="false"},qt.prototype.onKeyPress=function(o){o.charCode==0||this.composing||(o.preventDefault(),this.cm.isReadOnly()||en(this.cm,yp)(this.cm,String.fromCharCode(o.charCode==null?o.keyCode:o.charCode),0))},qt.prototype.readOnlyChanged=function(o){this.div.contentEditable=String(o!="nocursor")},qt.prototype.onContextMenu=function(){},qt.prototype.resetPosition=function(){},qt.prototype.needsContentAttribute=!0;function Fs(o,l){var h=vf(o,l.line);if(!h||h.hidden)return null;var f=Je(o.doc,l.line),g=Qm(h,f,l.line),_=ke(f,o.doc.direction),x="left";if(_){var k=$e(_,l.ch);x=k%2?"right":"left"}var I=Ym(g.map,l.ch,x);return I.offset=I.collapse=="right"?I.end:I.start,I}function Fw(o){for(var l=o;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}function Os(o,l){return l&&(o.bad=!0),o}function Vv(o,l,h,f,g){var _="",x=!1,k=o.doc.lineSeparator(),I=!1;function L(ne){return function(ve){return ve.id==ne}}function $(){x&&(_+=k,I&&(_+=k),x=I=!1)}function X(ne){ne&&($(),_+=ne)}function oe(ne){if(ne.nodeType==1){var ve=ne.getAttribute("cm-text");if(ve){X(ve);return}var Ee=ne.getAttribute("cm-marker"),Re;if(Ee){var Me=o.findMarks(Ae(f,0),Ae(g+1,0),L(+Ee));Me.length&&(Re=Me[0].find(0))&&X(ws(o.doc,Re.from,Re.to).join(k));return}if(ne.getAttribute("contenteditable")=="false")return;var He=/^(pre|div|p|li|table|br)$/i.test(ne.nodeName);if(!/^br$/i.test(ne.nodeName)&&ne.textContent.length==0)return;He&&$();for(var Oe=0;Oe<ne.childNodes.length;Oe++)oe(ne.childNodes[Oe]);/^(pre|p)$/i.test(ne.nodeName)&&(I=!0),He&&(x=!0)}else ne.nodeType==3&&X(ne.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;oe(l),l!=h;)l=l.nextSibling,I=!1;return _}function lr(o,l,h){var f;if(l==o.display.lineDiv){if(f=o.display.lineDiv.childNodes[h],!f)return Os(o.clipPos(Ae(o.display.viewTo-1)),!0);l=null,h=0}else for(f=l;;f=f.parentNode){if(!f||f==o.display.lineDiv)return null;if(f.parentNode&&f.parentNode==o.display.lineDiv)break}for(var g=0;g<o.display.view.length;g++){var _=o.display.view[g];if(_.node==f)return Ow(_,l,h)}}function Ow(o,l,h){var f=o.text.firstChild,g=!1;if(!l||!he(f,l))return Os(Ae(Jt(o.line),0),!0);if(l==f&&(g=!0,l=f.childNodes[h],h=0,!l)){var _=o.rest?mt(o.rest):o.line;return Os(Ae(Jt(_),_.text.length),g)}var x=l.nodeType==3?l:null,k=l;for(!x&&l.childNodes.length==1&&l.firstChild.nodeType==3&&(x=l.firstChild,h&&(h=x.nodeValue.length));k.parentNode!=f;)k=k.parentNode;var I=o.measure,L=I.maps;function $(Re,Me,He){for(var Oe=-1;Oe<(L?L.length:0);Oe++)for(var je=Oe<0?I.map:L[Oe],rt=0;rt<je.length;rt+=3){var et=je[rt+2];if(et==Re||et==Me){var xt=Jt(Oe<0?o.line:o.rest[Oe]),tn=je[rt]+He;return(He<0||et!=Re)&&(tn=je[rt+(He?1:0)]),Ae(xt,tn)}}}var X=$(x,k,h);if(X)return Os(X,g);for(var oe=k.nextSibling,ne=x?x.nodeValue.length-h:0;oe;oe=oe.nextSibling){if(X=$(oe,oe.firstChild,0),X)return Os(Ae(X.line,X.ch-ne),g);ne+=oe.textContent.length}for(var ve=k.previousSibling,Ee=h;ve;ve=ve.previousSibling){if(X=$(ve,ve.firstChild,-1),X)return Os(Ae(X.line,X.ch+Ee),g);Ee+=ve.textContent.length}}var On=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new an,this.hasSelection=!1,this.composing=null,this.resetting=!1};On.prototype.init=function(o){var l=this,h=this,f=this.cm;this.createField(o);var g=this.textarea;o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),b&&(g.style.width="0px"),me(g,"input",function(){p&&m>=9&&l.hasSelection&&(l.hasSelection=null),h.poll()}),me(g,"paste",function(x){yt(f,x)||Do(x,f)||(f.state.pasteIncoming=+new Date,h.fastPoll())});function _(x){if(!yt(f,x)){if(f.somethingSelected())Vf({lineWise:!1,text:f.getSelections()});else if(f.options.lineWiseCopyCut){var k=Hf(f);Vf({lineWise:!0,text:k.text}),x.type=="cut"?f.setSelections(k.ranges,null,Zt):(h.prevInput="",g.value=k.text.join(`
`),Q(g))}else return;x.type=="cut"&&(f.state.cutIncoming=+new Date)}}me(g,"cut",_),me(g,"copy",_),me(o.scroller,"paste",function(x){if(!(So(o,x)||yt(f,x))){if(!g.dispatchEvent){f.state.pasteIncoming=+new Date,h.focus();return}var k=new Event("paste");k.clipboardData=x.clipboardData,g.dispatchEvent(k)}}),me(o.lineSpace,"selectstart",function(x){So(o,x)||mn(x)}),me(g,"compositionstart",function(){var x=f.getCursor("from");h.composing&&h.composing.range.clear(),h.composing={start:x,range:f.markText(x,f.getCursor("to"),{className:"CodeMirror-composing"})}}),me(g,"compositionend",function(){h.composing&&(h.poll(),h.composing.range.clear(),h.composing=null)})},On.prototype.createField=function(o){this.wrapper=sc(),this.textarea=this.wrapper.firstChild;var l=this.cm.options;oc(this.textarea,l.spellcheck,l.autocorrect,l.autocapitalize)},On.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},On.prototype.prepareSelection=function(){var o=this.cm,l=o.display,h=o.doc,f=$d(o);if(o.options.moveInputWithCursor){var g=ge(o,h.sel.primary().head,"div"),_=l.wrapper.getBoundingClientRect(),x=l.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,g.top+x.top-_.top)),f.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,g.left+x.left-_.left))}return f},On.prototype.showSelection=function(o){var l=this.cm,h=l.display;Pe(h.cursorDiv,o.cursors),Pe(h.selectionDiv,o.selection),o.teTop!=null&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},On.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing&&o)){var l=this.cm;if(this.resetting=!0,l.somethingSelected()){this.prevInput="";var h=l.getSelection();this.textarea.value=h,l.state.focused&&Q(this.textarea),p&&m>=9&&(this.hasSelection=h)}else o||(this.prevInput=this.textarea.value="",p&&m>=9&&(this.hasSelection=null));this.resetting=!1}},On.prototype.getField=function(){return this.textarea},On.prototype.supportsTouch=function(){return!1},On.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!B||Le(nt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},On.prototype.blur=function(){this.textarea.blur()},On.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},On.prototype.receivedFocus=function(){this.slowPoll()},On.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},On.prototype.fastPoll=function(){var o=!1,l=this;l.pollingFast=!0;function h(){var f=l.poll();!f&&!o?(o=!0,l.polling.set(60,h)):(l.pollingFast=!1,l.slowPoll())}l.polling.set(20,h)},On.prototype.poll=function(){var o=this,l=this.cm,h=this.textarea,f=this.prevInput;if(this.contextMenuPending||this.resetting||!l.state.focused||q_(h)&&!f&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var g=h.value;if(g==f&&!l.somethingSelected())return!1;if(p&&m>=9&&this.hasSelection===g||j&&/[\uf700-\uf7ff]/.test(g))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var _=g.charCodeAt(0);if(_==8203&&!f&&(f="​"),_==8666)return this.reset(),this.cm.execCommand("undo")}for(var x=0,k=Math.min(f.length,g.length);x<k&&f.charCodeAt(x)==g.charCodeAt(x);)++x;return Tr(l,function(){yp(l,g.slice(x),f.length-x,null,o.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?h.value=o.prevInput="":o.prevInput=g,o.composing&&(o.composing.range.clear(),o.composing.range=l.markText(o.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},On.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},On.prototype.onKeyPress=function(){p&&m>=9&&(this.hasSelection=null),this.fastPoll()},On.prototype.onContextMenu=function(o){var l=this,h=l.cm,f=h.display,g=l.textarea;l.contextMenuPending&&l.contextMenuPending();var _=To(h,o),x=f.scroller.scrollTop;if(!_||P)return;var k=h.options.resetSelectionOnContextMenu;k&&h.doc.sel.contains(_)==-1&&en(h,pr)(h.doc,Is(_),Zt);var I=g.style.cssText,L=l.wrapper.style.cssText,$=l.wrapper.offsetParent.getBoundingClientRect();l.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(o.clientY-$.top-5)+"px; left: "+(o.clientX-$.left-5)+`px;
      z-index: 1000; background: `+(p?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var X;y&&(X=g.ownerDocument.defaultView.scrollY),f.input.focus(),y&&g.ownerDocument.defaultView.scrollTo(null,X),f.input.reset(),h.somethingSelected()||(g.value=l.prevInput=" "),l.contextMenuPending=ne,f.selForContextMenu=h.doc.sel,clearTimeout(f.detectingSelectAll);function oe(){if(g.selectionStart!=null){var Ee=h.somethingSelected(),Re="​"+(Ee?g.value:"");g.value="⇚",g.value=Re,l.prevInput=Ee?"":"​",g.selectionStart=1,g.selectionEnd=Re.length,f.selForContextMenu=h.doc.sel}}function ne(){if(l.contextMenuPending==ne&&(l.contextMenuPending=!1,l.wrapper.style.cssText=L,g.style.cssText=I,p&&m<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=x),g.selectionStart!=null)){(!p||p&&m<9)&&oe();var Ee=0,Re=function(){f.selForContextMenu==h.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&l.prevInput=="​"?en(h,El)(h):Ee++<10?f.detectingSelectAll=setTimeout(Re,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(Re,200)}}if(p&&m>=9&&oe(),_e){ji(o);var ve=function(){Ut(window,"mouseup",ve),setTimeout(ne,20)};me(window,"mouseup",ve)}else setTimeout(ne,50)},On.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled=o=="nocursor",this.textarea.readOnly=!!o},On.prototype.setUneditable=function(){},On.prototype.needsContentAttribute=!1;function zv(o,l){if(l=l?Bt(l):{},l.value=o.value,!l.tabindex&&o.tabIndex&&(l.tabindex=o.tabIndex),!l.placeholder&&o.placeholder&&(l.placeholder=o.placeholder),l.autofocus==null){var h=Le(nt(o));l.autofocus=h==o||o.getAttribute("autofocus")!=null&&h==document.body}function f(){o.value=k.getValue()}var g;if(o.form&&(me(o.form,"submit",f),!l.leaveSubmitMethodAlone)){var _=o.form;g=_.submit;try{var x=_.submit=function(){f(),_.submit=g,_.submit(),_.submit=x}}catch{}}l.finishInit=function(I){I.save=f,I.getTextArea=function(){return o},I.toTextArea=function(){I.toTextArea=isNaN,f(),o.parentNode.removeChild(I.getWrapperElement()),o.style.display="",o.form&&(Ut(o.form,"submit",f),!l.leaveSubmitMethodAlone&&typeof o.form.submit=="function"&&(o.form.submit=g))}},o.style.display="none";var k=Ht(function(I){return o.parentNode.insertBefore(I,o.nextSibling)},l);return k}function Mw(o){o.off=Ut,o.on=me,o.wheelEventPixels=xw,o.Doc=Dr,o.splitLines=hd,o.countColumn=Pt,o.findColumn=kn,o.isWordChar=re,o.Pass=gn,o.signal=Vt,o.Line=pa,o.changeEnd=bs,o.scrollbarModel=Ea,o.Pos=Ae,o.cmpPos=ct,o.modes=pd,o.mimeModes=ol,o.resolveMode=Jc,o.getMode=gd,o.modeExtensions=Qo,o.extendMode=X_,o.copyState=_o,o.startState=Lm,o.innerMode=md,o.commands=Ju,o.keyMap=Io,o.keyName=Qu,o.isModifierKey=Pf,o.lookupKey=di,o.normalizeKeyMap=hi,o.StringStream=Un,o.SharedTextMarker=kl,o.TextMarker=eo,o.LineWidget=ba,o.e_preventDefault=mn,o.e_stopPropagation=Go,o.e_stop=ji,o.addClass=q,o.contains=he,o.rmClass=ye,o.keyNames=ar}vp(Ht),Pl(Ht);var Hv="iter insert remove copy getEditor constructor".split(" ");for(var $f in Dr.prototype)Dr.prototype.hasOwnProperty($f)&&bt(Hv,$f)<0&&(Ht.prototype[$f]=function(o){return function(){return o.apply(this.doc,arguments)}}(Dr.prototype[$f]));return Ci(Dr),Ht.inputStyles={textarea:On,contenteditable:qt},Ht.defineMode=function(o){!Ht.defaults.mode&&o!="null"&&(Ht.defaults.mode=o),K_.apply(this,arguments)},Ht.defineMIME=Q_,Ht.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),Ht.defineMIME("text/plain","null"),Ht.defineExtension=function(o,l){Ht.prototype[o]=l},Ht.defineDocExtension=function(o,l){Dr.prototype[o]=l},Ht.fromTextArea=zv,Mw(Ht),Ht.version="5.65.16",Ht})})(tF);var yo=tF.exports;(function(t,e){(function(n){n(yo)})(function(n){var r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,s=/[*+-]\s/;n.commands.newlineAndIndentContinueMarkdownList=function(c){if(c.getOption("disableInput"))return n.Pass;for(var p=c.listSelections(),m=[],y=0;y<p.length;y++){var w=p[y].head,E=c.getStateAfter(w.line),C=n.innerMode(c.getMode(),E);if(C.mode.name!=="markdown"&&C.mode.helperType!=="markdown"){c.execCommand("newlineAndIndent");return}else E=C.state;var P=E.list!==!1,O=E.quote!==0,M=c.getLine(w.line),R=r.exec(M),b=/^\s*$/.test(M.slice(0,w.ch));if(!p[y].empty()||!P&&!O||!R||b){c.execCommand("newlineAndIndent");return}if(i.test(M)){var D=O&&/>\s*$/.test(M),B=!/>\s*$/.test(M);(D||B)&&c.replaceRange("",{line:w.line,ch:0},{line:w.line,ch:w.ch+1}),m[y]=`
`}else{var j=R[1],U=R[5],W=!(s.test(R[2])||R[2].indexOf(">")>=0),Y=W?parseInt(R[3],10)+1+R[4]:R[2].replace("x"," ");m[y]=`
`+j+Y+U,W&&a(c,w)}}c.replaceSelections(m)};function a(c,p){var m=p.line,y=0,w=0,E=r.exec(c.getLine(m)),C=E[1];do{y+=1;var P=m+y,O=c.getLine(P),M=r.exec(O);if(M){var R=M[1],b=parseInt(E[3],10)+y-w,D=parseInt(M[3],10),B=D;if(C===R&&!isNaN(D))b===D&&(B=D+1),b>D&&(B=b+1),c.replaceRange(O.replace(r,R+B+M[4]+M[5]),{line:P,ch:0},{line:P,ch:O.length});else{if(C.length>R.length||C.length<R.length&&y===1)return;w+=1}}}while(M)}})})();var nF=yo;nF.commands.tabAndIndentMarkdownList=function(t){var e=t.listSelections(),n=e[0].head,r=t.getStateAfter(n.line),i=r.list!==!1;if(i){t.execCommand("indentMore");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var s=Array(t.options.tabSize+1).join(" ");t.replaceSelection(s)}};nF.commands.shiftTabAndUnindentMarkdownList=function(t){var e=t.listSelections(),n=e[0].head,r=t.getStateAfter(n.line),i=r.list!==!1;if(i){t.execCommand("indentLess");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var s=Array(t.options.tabSize+1).join(" ");t.replaceSelection(s)}};(function(t,e){(function(n){n(yo)})(function(n){n.defineOption("fullScreen",!1,function(s,a,c){c==n.Init&&(c=!1),!c!=!a&&(a?r(s):i(s))});function r(s){var a=s.getWrapperElement();s.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:a.style.width,height:a.style.height},a.style.width="",a.style.height="auto",a.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",s.refresh()}function i(s){var a=s.getWrapperElement();a.className=a.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var c=s.state.fullScreenRestore;a.style.width=c.width,a.style.height=c.height,window.scrollTo(c.scrollLeft,c.scrollTop),s.refresh()}})})();var tZ={exports:{}},nZ={exports:{}};(function(t,e){(function(n){n(yo)})(function(n){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(s,a){var c=s.indentUnit,p={},m=a.htmlMode?r:i;for(var y in m)p[y]=m[y];for(var y in a)p[y]=a[y];var w,E;function C(Z,we){function de(q){return we.tokenize=q,q(Z,we)}var he=Z.next();if(he=="<")return Z.eat("!")?Z.eat("[")?Z.match("CDATA[")?de(M("atom","]]>")):null:Z.match("--")?de(M("comment","-->")):Z.match("DOCTYPE",!0,!0)?(Z.eatWhile(/[\w\._\-]/),de(R(1))):null:Z.eat("?")?(Z.eatWhile(/[\w\._\-]/),we.tokenize=M("meta","?>"),"meta"):(w=Z.eat("/")?"closeTag":"openTag",we.tokenize=P,"tag bracket");if(he=="&"){var Le;return Z.eat("#")?Z.eat("x")?Le=Z.eatWhile(/[a-fA-F\d]/)&&Z.eat(";"):Le=Z.eatWhile(/[\d]/)&&Z.eat(";"):Le=Z.eatWhile(/[\w\.\-:]/)&&Z.eat(";"),Le?"atom":"error"}else return Z.eatWhile(/[^&<]/),null}C.isInText=!0;function P(Z,we){var de=Z.next();if(de==">"||de=="/"&&Z.eat(">"))return we.tokenize=C,w=de==">"?"endTag":"selfcloseTag","tag bracket";if(de=="=")return w="equals",null;if(de=="<"){we.tokenize=C,we.state=U,we.tagName=we.tagStart=null;var he=we.tokenize(Z,we);return he?he+" tag error":"tag error"}else return/[\'\"]/.test(de)?(we.tokenize=O(de),we.stringStartCol=Z.column(),we.tokenize(Z,we)):(Z.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function O(Z){var we=function(de,he){for(;!de.eol();)if(de.next()==Z){he.tokenize=P;break}return"string"};return we.isInAttribute=!0,we}function M(Z,we){return function(de,he){for(;!de.eol();){if(de.match(we)){he.tokenize=C;break}de.next()}return Z}}function R(Z){return function(we,de){for(var he;(he=we.next())!=null;){if(he=="<")return de.tokenize=R(Z+1),de.tokenize(we,de);if(he==">")if(Z==1){de.tokenize=C;break}else return de.tokenize=R(Z-1),de.tokenize(we,de)}return"meta"}}function b(Z){return Z&&Z.toLowerCase()}function D(Z,we,de){this.prev=Z.context,this.tagName=we||"",this.indent=Z.indented,this.startOfLine=de,(p.doNotIndent.hasOwnProperty(we)||Z.context&&Z.context.noIndent)&&(this.noIndent=!0)}function B(Z){Z.context&&(Z.context=Z.context.prev)}function j(Z,we){for(var de;;){if(!Z.context||(de=Z.context.tagName,!p.contextGrabbers.hasOwnProperty(b(de))||!p.contextGrabbers[b(de)].hasOwnProperty(b(we))))return;B(Z)}}function U(Z,we,de){return Z=="openTag"?(de.tagStart=we.column(),W):Z=="closeTag"?Y:U}function W(Z,we,de){return Z=="word"?(de.tagName=we.current(),E="tag",ie):p.allowMissingTagName&&Z=="endTag"?(E="tag bracket",ie(Z,we,de)):(E="error",W)}function Y(Z,we,de){if(Z=="word"){var he=we.current();return de.context&&de.context.tagName!=he&&p.implicitlyClosed.hasOwnProperty(b(de.context.tagName))&&B(de),de.context&&de.context.tagName==he||p.matchClosing===!1?(E="tag",ae):(E="tag error",_e)}else return p.allowMissingTagName&&Z=="endTag"?(E="tag bracket",ae(Z,we,de)):(E="error",_e)}function ae(Z,we,de){return Z!="endTag"?(E="error",ae):(B(de),U)}function _e(Z,we,de){return E="error",ae(Z,we,de)}function ie(Z,we,de){if(Z=="word")return E="attribute",ye;if(Z=="endTag"||Z=="selfcloseTag"){var he=de.tagName,Le=de.tagStart;return de.tagName=de.tagStart=null,Z=="selfcloseTag"||p.autoSelfClosers.hasOwnProperty(b(he))?j(de,he):(j(de,he),de.context=new D(de,he,Le==de.indented)),U}return E="error",ie}function ye(Z,we,de){return Z=="equals"?Ue:(p.allowMissing||(E="error"),ie(Z,we,de))}function Ue(Z,we,de){return Z=="string"?Pe:Z=="word"&&p.allowUnquoted?(E="string",ie):(E="error",ie(Z,we,de))}function Pe(Z,we,de){return Z=="string"?Pe:ie(Z,we,de)}return{startState:function(Z){var we={tokenize:C,state:U,indented:Z||0,tagName:null,tagStart:null,context:null};return Z!=null&&(we.baseIndent=Z),we},token:function(Z,we){if(!we.tagName&&Z.sol()&&(we.indented=Z.indentation()),Z.eatSpace())return null;w=null;var de=we.tokenize(Z,we);return(de||w)&&de!="comment"&&(E=null,we.state=we.state(w||de,Z,we),E&&(de=E=="error"?de+" error":E)),de},indent:function(Z,we,de){var he=Z.context;if(Z.tokenize.isInAttribute)return Z.tagStart==Z.indented?Z.stringStartCol+1:Z.indented+c;if(he&&he.noIndent)return n.Pass;if(Z.tokenize!=P&&Z.tokenize!=C)return de?de.match(/^(\s*)/)[0].length:0;if(Z.tagName)return p.multilineTagIndentPastTag!==!1?Z.tagStart+Z.tagName.length+2:Z.tagStart+c*(p.multilineTagIndentFactor||1);if(p.alignCDATA&&/<!\[CDATA\[/.test(we))return 0;var Le=we&&/^<(\/)?([\w_:\.-]*)/.exec(we);if(Le&&Le[1])for(;he;)if(he.tagName==Le[2]){he=he.prev;break}else if(p.implicitlyClosed.hasOwnProperty(b(he.tagName)))he=he.prev;else break;else if(Le)for(;he;){var q=p.contextGrabbers[b(he.tagName)];if(q&&q.hasOwnProperty(b(Le[2])))he=he.prev;else break}for(;he&&he.prev&&!he.startOfLine;)he=he.prev;return he?he.indent+c:Z.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:p.htmlMode?"html":"xml",helperType:p.htmlMode?"html":"xml",skipAttribute:function(Z){Z.state==Ue&&(Z.state=ie)},xmlCurrentTag:function(Z){return Z.tagName?{name:Z.tagName,close:Z.type=="closeTag"}:null},xmlCurrentContext:function(Z){for(var we=[],de=Z.context;de;de=de.prev)we.push(de.tagName);return we.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var rZ=nZ.exports,sD={exports:{}},aD;function iZ(){return aD||(aD=1,function(t,e){(function(n){n(yo)})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var r=0;r<n.modeInfo.length;r++){var i=n.modeInfo[r];i.mimes&&(i.mime=i.mimes[0])}n.findModeByMIME=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var c=n.modeInfo[a];if(c.mime==s)return c;if(c.mimes){for(var p=0;p<c.mimes.length;p++)if(c.mimes[p]==s)return c}}if(/\+xml$/.test(s))return n.findModeByMIME("application/xml");if(/\+json$/.test(s))return n.findModeByMIME("application/json")},n.findModeByExtension=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var c=n.modeInfo[a];if(c.ext){for(var p=0;p<c.ext.length;p++)if(c.ext[p]==s)return c}}},n.findModeByFileName=function(s){for(var a=0;a<n.modeInfo.length;a++){var c=n.modeInfo[a];if(c.file&&c.file.test(s))return c}var p=s.lastIndexOf("."),m=p>-1&&s.substring(p+1,s.length);if(m)return n.findModeByExtension(m)},n.findModeByName=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var c=n.modeInfo[a];if(c.name.toLowerCase()==s)return c;if(c.alias){for(var p=0;p<c.alias.length;p++)if(c.alias[p].toLowerCase()==s)return c}}}})}()),sD.exports}(function(t,e){(function(n){n(yo,rZ,iZ())})(function(n){n.defineMode("markdown",function(r,i){var s=n.getMode(r,"text/html"),a=s.name=="null";function c(Q){if(n.findModeByName){var S=n.findModeByName(Q);S&&(Q=S.mime||S.mimes[0])}var fe=n.getMode(r,Q);return fe.name=="null"?null:fe}i.highlightFormatting===void 0&&(i.highlightFormatting=!1),i.maxBlockquoteDepth===void 0&&(i.maxBlockquoteDepth=0),i.taskLists===void 0&&(i.taskLists=!1),i.strikethrough===void 0&&(i.strikethrough=!1),i.emoji===void 0&&(i.emoji=!1),i.fencedCodeBlockHighlighting===void 0&&(i.fencedCodeBlockHighlighting=!0),i.fencedCodeBlockDefaultMode===void 0&&(i.fencedCodeBlockDefaultMode="text/plain"),i.xml===void 0&&(i.xml=!0),i.tokenTypeOverrides===void 0&&(i.tokenTypeOverrides={});var p={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var m in p)p.hasOwnProperty(m)&&i.tokenTypeOverrides[m]&&(p[m]=i.tokenTypeOverrides[m]);var y=/^([*\-_])(?:\s*\1){2,}\s*$/,w=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,E=/^\[(x| )\](?=\s)/i,C=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,P=/^ {0,3}(?:\={1,}|-{2,})\s*$/,O=/^[^#!\[\]*_\\<>` "'(~:]+/,M=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,R=/^\s*\[[^\]]+?\]:.*$/,b=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,D="    ";function B(Q,S,fe){return S.f=S.inline=fe,fe(Q,S)}function j(Q,S,fe){return S.f=S.block=fe,fe(Q,S)}function U(Q){return!Q||!/\S/.test(Q.string)}function W(Q){if(Q.linkTitle=!1,Q.linkHref=!1,Q.linkText=!1,Q.em=!1,Q.strong=!1,Q.strikethrough=!1,Q.quote=0,Q.indentedCode=!1,Q.f==ae){var S=a;if(!S){var fe=n.innerMode(s,Q.htmlState);S=fe.mode.name=="xml"&&fe.state.tagStart===null&&!fe.state.context&&fe.state.tokenize.isInText}S&&(Q.f=Ue,Q.block=Y,Q.htmlState=null)}return Q.trailingSpace=0,Q.trailingSpaceNewLine=!1,Q.prevLine=Q.thisLine,Q.thisLine={stream:null},null}function Y(Q,S){var fe=Q.column()===S.indentation,nt=U(S.prevLine.stream),ze=S.indentedCode,At=S.prevLine.hr,Bt=S.list!==!1,Pt=(S.listStack[S.listStack.length-1]||0)+3;S.indentedCode=!1;var an=S.indentation;if(S.indentationDiff===null&&(S.indentationDiff=S.indentation,Bt)){for(S.list=null;an<S.listStack[S.listStack.length-1];)S.listStack.pop(),S.listStack.length?S.indentation=S.listStack[S.listStack.length-1]:S.list=!1;S.list!==!1&&(S.indentationDiff=an-S.listStack[S.listStack.length-1])}var bt=!nt&&!At&&!S.prevLine.header&&(!Bt||!ze)&&!S.prevLine.fencedCodeEnd,Nt=(S.list===!1||At||nt)&&S.indentation<=Pt&&Q.match(y),gn=null;if(S.indentationDiff>=4&&(ze||S.prevLine.fencedCodeEnd||S.prevLine.header||nt))return Q.skipToEnd(),S.indentedCode=!0,p.code;if(Q.eatSpace())return null;if(fe&&S.indentation<=Pt&&(gn=Q.match(C))&&gn[1].length<=6)return S.quote=0,S.header=gn[1].length,S.thisLine.header=!0,i.highlightFormatting&&(S.formatting="header"),S.f=S.inline,ie(S);if(S.indentation<=Pt&&Q.eat(">"))return S.quote=fe?1:S.quote+1,i.highlightFormatting&&(S.formatting="quote"),Q.eatSpace(),ie(S);if(!Nt&&!S.setext&&fe&&S.indentation<=Pt&&(gn=Q.match(w))){var Zt=gn[1]?"ol":"ul";return S.indentation=an+Q.current().length,S.list=!0,S.quote=0,S.listStack.push(S.indentation),S.em=!1,S.strong=!1,S.code=!1,S.strikethrough=!1,i.taskLists&&Q.match(E,!1)&&(S.taskList=!0),S.f=S.inline,i.highlightFormatting&&(S.formatting=["list","list-"+Zt]),ie(S)}else{if(fe&&S.indentation<=Pt&&(gn=Q.match(M,!0)))return S.quote=0,S.fencedEndRE=new RegExp(gn[1]+"+ *$"),S.localMode=i.fencedCodeBlockHighlighting&&c(gn[2]||i.fencedCodeBlockDefaultMode),S.localMode&&(S.localState=n.startState(S.localMode)),S.f=S.block=_e,i.highlightFormatting&&(S.formatting="code-block"),S.code=-1,ie(S);if(S.setext||(!bt||!Bt)&&!S.quote&&S.list===!1&&!S.code&&!Nt&&!R.test(Q.string)&&(gn=Q.lookAhead(1))&&(gn=gn.match(P)))return S.setext?(S.header=S.setext,S.setext=0,Q.skipToEnd(),i.highlightFormatting&&(S.formatting="header")):(S.header=gn[0].charAt(0)=="="?1:2,S.setext=S.header),S.thisLine.header=!0,S.f=S.inline,ie(S);if(Nt)return Q.skipToEnd(),S.hr=!0,S.thisLine.hr=!0,p.hr;if(Q.peek()==="[")return B(Q,S,he)}return B(Q,S,S.inline)}function ae(Q,S){var fe=s.token(Q,S.htmlState);if(!a){var nt=n.innerMode(s,S.htmlState);(nt.mode.name=="xml"&&nt.state.tagStart===null&&!nt.state.context&&nt.state.tokenize.isInText||S.md_inside&&Q.current().indexOf(">")>-1)&&(S.f=Ue,S.block=Y,S.htmlState=null)}return fe}function _e(Q,S){var fe=S.listStack[S.listStack.length-1]||0,nt=S.indentation<fe,ze=fe+3;if(S.fencedEndRE&&S.indentation<=ze&&(nt||Q.match(S.fencedEndRE))){i.highlightFormatting&&(S.formatting="code-block");var At;return nt||(At=ie(S)),S.localMode=S.localState=null,S.block=Y,S.f=Ue,S.fencedEndRE=null,S.code=0,S.thisLine.fencedCodeEnd=!0,nt?j(Q,S,S.block):At}else return S.localMode?S.localMode.token(Q,S.localState):(Q.skipToEnd(),p.code)}function ie(Q){var S=[];if(Q.formatting){S.push(p.formatting),typeof Q.formatting=="string"&&(Q.formatting=[Q.formatting]);for(var fe=0;fe<Q.formatting.length;fe++)S.push(p.formatting+"-"+Q.formatting[fe]),Q.formatting[fe]==="header"&&S.push(p.formatting+"-"+Q.formatting[fe]+"-"+Q.header),Q.formatting[fe]==="quote"&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=Q.quote?S.push(p.formatting+"-"+Q.formatting[fe]+"-"+Q.quote):S.push("error"))}if(Q.taskOpen)return S.push("meta"),S.length?S.join(" "):null;if(Q.taskClosed)return S.push("property"),S.length?S.join(" "):null;if(Q.linkHref?S.push(p.linkHref,"url"):(Q.strong&&S.push(p.strong),Q.em&&S.push(p.em),Q.strikethrough&&S.push(p.strikethrough),Q.emoji&&S.push(p.emoji),Q.linkText&&S.push(p.linkText),Q.code&&S.push(p.code),Q.image&&S.push(p.image),Q.imageAltText&&S.push(p.imageAltText,"link"),Q.imageMarker&&S.push(p.imageMarker)),Q.header&&S.push(p.header,p.header+"-"+Q.header),Q.quote&&(S.push(p.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=Q.quote?S.push(p.quote+"-"+Q.quote):S.push(p.quote+"-"+i.maxBlockquoteDepth)),Q.list!==!1){var nt=(Q.listStack.length-1)%3;nt?nt===1?S.push(p.list2):S.push(p.list3):S.push(p.list1)}return Q.trailingSpaceNewLine?S.push("trailing-space-new-line"):Q.trailingSpace&&S.push("trailing-space-"+(Q.trailingSpace%2?"a":"b")),S.length?S.join(" "):null}function ye(Q,S){if(Q.match(O,!0))return ie(S)}function Ue(Q,S){var fe=S.text(Q,S);if(typeof fe<"u")return fe;if(S.list)return S.list=null,ie(S);if(S.taskList){var nt=Q.match(E,!0)[1]===" ";return nt?S.taskOpen=!0:S.taskClosed=!0,i.highlightFormatting&&(S.formatting="task"),S.taskList=!1,ie(S)}if(S.taskOpen=!1,S.taskClosed=!1,S.header&&Q.match(/^#+$/,!0))return i.highlightFormatting&&(S.formatting="header"),ie(S);var ze=Q.next();if(S.linkTitle){S.linkTitle=!1;var At=ze;ze==="("&&(At=")"),At=(At+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Bt="^\\s*(?:[^"+At+"\\\\]+|\\\\\\\\|\\\\.)"+At;if(Q.match(new RegExp(Bt),!0))return p.linkHref}if(ze==="`"){var Pt=S.formatting;i.highlightFormatting&&(S.formatting="code"),Q.eatWhile("`");var an=Q.current().length;if(S.code==0&&(!S.quote||an==1))return S.code=an,ie(S);if(an==S.code){var bt=ie(S);return S.code=0,bt}else return S.formatting=Pt,ie(S)}else if(S.code)return ie(S);if(ze==="\\"&&(Q.next(),i.highlightFormatting)){var Nt=ie(S),gn=p.formatting+"-escape";return Nt?Nt+" "+gn:gn}if(ze==="!"&&Q.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return S.imageMarker=!0,S.image=!0,i.highlightFormatting&&(S.formatting="image"),ie(S);if(ze==="["&&S.imageMarker&&Q.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return S.imageMarker=!1,S.imageAltText=!0,i.highlightFormatting&&(S.formatting="image"),ie(S);if(ze==="]"&&S.imageAltText){i.highlightFormatting&&(S.formatting="image");var Nt=ie(S);return S.imageAltText=!1,S.image=!1,S.inline=S.f=Z,Nt}if(ze==="["&&!S.image)return S.linkText&&Q.match(/^.*?\]/)||(S.linkText=!0,i.highlightFormatting&&(S.formatting="link")),ie(S);if(ze==="]"&&S.linkText){i.highlightFormatting&&(S.formatting="link");var Nt=ie(S);return S.linkText=!1,S.inline=S.f=Q.match(/\(.*?\)| ?\[.*?\]/,!1)?Z:Ue,Nt}if(ze==="<"&&Q.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){S.f=S.inline=Pe,i.highlightFormatting&&(S.formatting="link");var Nt=ie(S);return Nt?Nt+=" ":Nt="",Nt+p.linkInline}if(ze==="<"&&Q.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){S.f=S.inline=Pe,i.highlightFormatting&&(S.formatting="link");var Nt=ie(S);return Nt?Nt+=" ":Nt="",Nt+p.linkEmail}if(i.xml&&ze==="<"&&Q.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Zt=Q.string.indexOf(">",Q.pos);if(Zt!=-1){var Ye=Q.string.substring(Q.start,Zt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Ye)&&(S.md_inside=!0)}return Q.backUp(1),S.htmlState=n.startState(s),j(Q,S,ae)}if(i.xml&&ze==="<"&&Q.match(/^\/\w*?>/))return S.md_inside=!1,"tag";if(ze==="*"||ze==="_"){for(var Ur=1,kn=Q.pos==1?" ":Q.string.charAt(Q.pos-2);Ur<3&&Q.eat(ze);)Ur++;var Cr=Q.peek()||" ",Si=!/\s/.test(Cr)&&(!b.test(Cr)||/\s/.test(kn)||b.test(kn)),mt=!/\s/.test(kn)&&(!b.test(kn)||/\s/.test(Cr)||b.test(Cr)),dn=null,br=null;if(Ur%2&&(!S.em&&Si&&(ze==="*"||!mt||b.test(kn))?dn=!0:S.em==ze&&mt&&(ze==="*"||!Si||b.test(Cr))&&(dn=!1)),Ur>1&&(!S.strong&&Si&&(ze==="*"||!mt||b.test(kn))?br=!0:S.strong==ze&&mt&&(ze==="*"||!Si||b.test(Cr))&&(br=!1)),br!=null||dn!=null){i.highlightFormatting&&(S.formatting=dn==null?"strong":br==null?"em":"strong em"),dn===!0&&(S.em=ze),br===!0&&(S.strong=ze);var bt=ie(S);return dn===!1&&(S.em=!1),br===!1&&(S.strong=!1),bt}}else if(ze===" "&&(Q.eat("*")||Q.eat("_"))){if(Q.peek()===" ")return ie(S);Q.backUp(1)}if(i.strikethrough){if(ze==="~"&&Q.eatWhile(ze)){if(S.strikethrough){i.highlightFormatting&&(S.formatting="strikethrough");var bt=ie(S);return S.strikethrough=!1,bt}else if(Q.match(/^[^\s]/,!1))return S.strikethrough=!0,i.highlightFormatting&&(S.formatting="strikethrough"),ie(S)}else if(ze===" "&&Q.match("~~",!0)){if(Q.peek()===" ")return ie(S);Q.backUp(2)}}if(i.emoji&&ze===":"&&Q.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){S.emoji=!0,i.highlightFormatting&&(S.formatting="emoji");var $i=ie(S);return S.emoji=!1,$i}return ze===" "&&(Q.match(/^ +$/,!1)?S.trailingSpace++:S.trailingSpace&&(S.trailingSpaceNewLine=!0)),ie(S)}function Pe(Q,S){var fe=Q.next();if(fe===">"){S.f=S.inline=Ue,i.highlightFormatting&&(S.formatting="link");var nt=ie(S);return nt?nt+=" ":nt="",nt+p.linkInline}return Q.match(/^[^>]+/,!0),p.linkInline}function Z(Q,S){if(Q.eatSpace())return null;var fe=Q.next();return fe==="("||fe==="["?(S.f=S.inline=de(fe==="("?")":"]"),i.highlightFormatting&&(S.formatting="link-string"),S.linkHref=!0,ie(S)):"error"}var we={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function de(Q){return function(S,fe){var nt=S.next();if(nt===Q){fe.f=fe.inline=Ue,i.highlightFormatting&&(fe.formatting="link-string");var ze=ie(fe);return fe.linkHref=!1,ze}return S.match(we[Q]),fe.linkHref=!0,ie(fe)}}function he(Q,S){return Q.match(/^([^\]\\]|\\.)*\]:/,!1)?(S.f=Le,Q.next(),i.highlightFormatting&&(S.formatting="link"),S.linkText=!0,ie(S)):B(Q,S,Ue)}function Le(Q,S){if(Q.match("]:",!0)){S.f=S.inline=q,i.highlightFormatting&&(S.formatting="link");var fe=ie(S);return S.linkText=!1,fe}return Q.match(/^([^\]\\]|\\.)+/,!0),p.linkText}function q(Q,S){return Q.eatSpace()?null:(Q.match(/^[^\s]+/,!0),Q.peek()===void 0?S.linkTitle=!0:Q.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),S.f=S.inline=Ue,p.linkHref+" url")}var tt={startState:function(){return{f:Y,prevLine:{stream:null},thisLine:{stream:null},block:Y,htmlState:null,indentation:0,inline:Ue,text:ye,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(Q){return{f:Q.f,prevLine:Q.prevLine,thisLine:Q.thisLine,block:Q.block,htmlState:Q.htmlState&&n.copyState(s,Q.htmlState),indentation:Q.indentation,localMode:Q.localMode,localState:Q.localMode?n.copyState(Q.localMode,Q.localState):null,inline:Q.inline,text:Q.text,formatting:!1,linkText:Q.linkText,linkTitle:Q.linkTitle,linkHref:Q.linkHref,code:Q.code,em:Q.em,strong:Q.strong,strikethrough:Q.strikethrough,emoji:Q.emoji,header:Q.header,setext:Q.setext,hr:Q.hr,taskList:Q.taskList,list:Q.list,listStack:Q.listStack.slice(0),quote:Q.quote,indentedCode:Q.indentedCode,trailingSpace:Q.trailingSpace,trailingSpaceNewLine:Q.trailingSpaceNewLine,md_inside:Q.md_inside,fencedEndRE:Q.fencedEndRE}},token:function(Q,S){if(S.formatting=!1,Q!=S.thisLine.stream){if(S.header=0,S.hr=!1,Q.match(/^\s*$/,!0))return W(S),null;if(S.prevLine=S.thisLine,S.thisLine={stream:Q},S.taskList=!1,S.trailingSpace=0,S.trailingSpaceNewLine=!1,!S.localState&&(S.f=S.block,S.f!=ae)){var fe=Q.match(/^\s*/,!0)[0].replace(/\t/g,D).length;if(S.indentation=fe,S.indentationDiff=null,fe>0)return null}}return S.f(Q,S)},innerMode:function(Q){return Q.block==ae?{state:Q.htmlState,mode:s}:Q.localState?{state:Q.localState,mode:Q.localMode}:{state:Q,mode:tt}},indent:function(Q,S,fe){return Q.block==ae&&s.indent?s.indent(Q.htmlState,S,fe):Q.localState&&Q.localMode.indent?Q.localMode.indent(Q.localState,S,fe):n.Pass},blankLine:W,getType:ie,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return tt},"xml"),n.defineMIME("text/markdown","markdown"),n.defineMIME("text/x-markdown","markdown")})})();var oZ=tZ.exports,sZ={exports:{}};(function(t,e){(function(n){n(yo)})(function(n){n.overlayMode=function(r,i,s){return{startState:function(){return{base:n.startState(r),overlay:n.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(a){return{base:n.copyState(r,a.base),overlay:n.copyState(i,a.overlay),basePos:a.basePos,baseCur:null,overlayPos:a.overlayPos,overlayCur:null}},token:function(a,c){return(a!=c.streamSeen||Math.min(c.basePos,c.overlayPos)<a.start)&&(c.streamSeen=a,c.basePos=c.overlayPos=a.start),a.start==c.basePos&&(c.baseCur=r.token(a,c.base),c.basePos=a.pos),a.start==c.overlayPos&&(a.pos=a.start,c.overlayCur=i.token(a,c.overlay),c.overlayPos=a.pos),a.pos=Math.min(c.basePos,c.overlayPos),c.overlayCur==null?c.baseCur:c.baseCur!=null&&c.overlay.combineTokens||s&&c.overlay.combineTokens==null?c.baseCur+" "+c.overlayCur:c.overlayCur},indent:r.indent&&function(a,c,p){return r.indent(a.base,c,p)},electricChars:r.electricChars,innerMode:function(a){return{state:a.base,mode:r}},blankLine:function(a){var c,p;return r.blankLine&&(c=r.blankLine(a.base)),i.blankLine&&(p=i.blankLine(a.overlay)),p==null?c:s&&c!=null?c+" "+p:p}}}})})();var aZ=sZ.exports;(function(t,e){(function(n){n(yo)})(function(n){n.defineOption("placeholder","",function(m,y,w){var E=w&&w!=n.Init;if(y&&!E)m.on("blur",a),m.on("change",c),m.on("swapDoc",c),n.on(m.getInputField(),"compositionupdate",m.state.placeholderCompose=function(){s(m)}),c(m);else if(!y&&E){m.off("blur",a),m.off("change",c),m.off("swapDoc",c),n.off(m.getInputField(),"compositionupdate",m.state.placeholderCompose),r(m);var C=m.getWrapperElement();C.className=C.className.replace(" CodeMirror-empty","")}y&&!m.hasFocus()&&a(m)});function r(m){m.state.placeholder&&(m.state.placeholder.parentNode.removeChild(m.state.placeholder),m.state.placeholder=null)}function i(m){r(m);var y=m.state.placeholder=document.createElement("pre");y.style.cssText="height: 0; overflow: visible",y.style.direction=m.getOption("direction"),y.className="CodeMirror-placeholder CodeMirror-line-like";var w=m.getOption("placeholder");typeof w=="string"&&(w=document.createTextNode(w)),y.appendChild(w),m.display.lineSpace.insertBefore(y,m.display.lineSpace.firstChild)}function s(m){setTimeout(function(){var y=!1;if(m.lineCount()==1){var w=m.getInputField();y=w.nodeName=="TEXTAREA"?!m.getLine(0).length:!/[^\u200b]/.test(w.querySelector(".CodeMirror-line").textContent)}y?i(m):r(m)},20)}function a(m){p(m)&&i(m)}function c(m){var y=m.getWrapperElement(),w=p(m);y.className=y.className.replace(" CodeMirror-empty","")+(w?" CodeMirror-empty":""),w?i(m):r(m)}function p(m){return m.lineCount()===1&&m.getLine(0)===""}})})();(function(t,e){(function(n){n(yo)})(function(n){n.defineOption("autoRefresh",!1,function(s,a){s.state.autoRefresh&&(i(s,s.state.autoRefresh),s.state.autoRefresh=null),a&&s.display.wrapper.offsetHeight==0&&r(s,s.state.autoRefresh={delay:a.delay||250})});function r(s,a){function c(){s.display.wrapper.offsetHeight?(i(s,a),s.display.lastWrapHeight!=s.display.wrapper.clientHeight&&s.refresh()):a.timeout=setTimeout(c,a.delay)}a.timeout=setTimeout(c,a.delay),a.hurry=function(){clearTimeout(a.timeout),a.timeout=setTimeout(c,50)},n.on(window,"mouseup",a.hurry),n.on(window,"keyup",a.hurry)}function i(s,a){clearTimeout(a.timeout),n.off(window,"mouseup",a.hurry),n.off(window,"keyup",a.hurry)}})})();(function(t,e){(function(n){n(yo)})(function(n){n.defineOption("styleSelectedText",!1,function(E,C,P){var O=P&&P!=n.Init;C&&!O?(E.state.markedSelection=[],E.state.markedSelectionStyle=typeof C=="string"?C:"CodeMirror-selectedtext",y(E),E.on("cursorActivity",r),E.on("change",i)):!C&&O&&(E.off("cursorActivity",r),E.off("change",i),m(E),E.state.markedSelection=E.state.markedSelectionStyle=null)});function r(E){E.state.markedSelection&&E.operation(function(){w(E)})}function i(E){E.state.markedSelection&&E.state.markedSelection.length&&E.operation(function(){m(E)})}var s=8,a=n.Pos,c=n.cmpPos;function p(E,C,P,O){if(c(C,P)!=0)for(var M=E.state.markedSelection,R=E.state.markedSelectionStyle,b=C.line;;){var D=b==C.line?C:a(b,0),B=b+s,j=B>=P.line,U=j?P:a(B,0),W=E.markText(D,U,{className:R});if(O==null?M.push(W):M.splice(O++,0,W),j)break;b=B}}function m(E){for(var C=E.state.markedSelection,P=0;P<C.length;++P)C[P].clear();C.length=0}function y(E){m(E);for(var C=E.listSelections(),P=0;P<C.length;P++)p(E,C[P].from(),C[P].to())}function w(E){if(!E.somethingSelected())return m(E);if(E.listSelections().length>1)return y(E);var C=E.getCursor("start"),P=E.getCursor("end"),O=E.state.markedSelection;if(!O.length)return p(E,C,P);var M=O[0].find(),R=O[O.length-1].find();if(!M||!R||P.line-C.line<=s||c(C,R.to)>=0||c(P,M.from)<=0)return y(E);for(;c(C,M.from)>0;)O.shift().clear(),M=O[0].find();for(c(C,M.from)<0&&(M.to.line-C.line<s?(O.shift().clear(),p(E,C,M.to,0)):p(E,C,M.from,0));c(P,R.to)<0;)O.pop().clear(),R=O[O.length-1].find();c(P,R.to)>0&&(P.line-R.from.line<s?(O.pop().clear(),p(E,R.from,P)):p(E,R.to,P))}})})();(function(t,e){(function(n){n(yo)})(function(n){var r=n.Pos;function i(b){var D=b.flags;return D??(b.ignoreCase?"i":"")+(b.global?"g":"")+(b.multiline?"m":"")}function s(b,D){for(var B=i(b),j=B,U=0;U<D.length;U++)j.indexOf(D.charAt(U))==-1&&(j+=D.charAt(U));return B==j?b:new RegExp(b.source,j)}function a(b){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(b.source)}function c(b,D,B){D=s(D,"g");for(var j=B.line,U=B.ch,W=b.lastLine();j<=W;j++,U=0){D.lastIndex=U;var Y=b.getLine(j),ae=D.exec(Y);if(ae)return{from:r(j,ae.index),to:r(j,ae.index+ae[0].length),match:ae}}}function p(b,D,B){if(!a(D))return c(b,D,B);D=s(D,"gm");for(var j,U=1,W=B.line,Y=b.lastLine();W<=Y;){for(var ae=0;ae<U&&!(W>Y);ae++){var _e=b.getLine(W++);j=j==null?_e:j+`
`+_e}U=U*2,D.lastIndex=B.ch;var ie=D.exec(j);if(ie){var ye=j.slice(0,ie.index).split(`
`),Ue=ie[0].split(`
`),Pe=B.line+ye.length-1,Z=ye[ye.length-1].length;return{from:r(Pe,Z),to:r(Pe+Ue.length-1,Ue.length==1?Z+Ue[0].length:Ue[Ue.length-1].length),match:ie}}}}function m(b,D,B){for(var j,U=0;U<=b.length;){D.lastIndex=U;var W=D.exec(b);if(!W)break;var Y=W.index+W[0].length;if(Y>b.length-B)break;(!j||Y>j.index+j[0].length)&&(j=W),U=W.index+1}return j}function y(b,D,B){D=s(D,"g");for(var j=B.line,U=B.ch,W=b.firstLine();j>=W;j--,U=-1){var Y=b.getLine(j),ae=m(Y,D,U<0?0:Y.length-U);if(ae)return{from:r(j,ae.index),to:r(j,ae.index+ae[0].length),match:ae}}}function w(b,D,B){if(!a(D))return y(b,D,B);D=s(D,"gm");for(var j,U=1,W=b.getLine(B.line).length-B.ch,Y=B.line,ae=b.firstLine();Y>=ae;){for(var _e=0;_e<U&&Y>=ae;_e++){var ie=b.getLine(Y--);j=j==null?ie:ie+`
`+j}U*=2;var ye=m(j,D,W);if(ye){var Ue=j.slice(0,ye.index).split(`
`),Pe=ye[0].split(`
`),Z=Y+Ue.length,we=Ue[Ue.length-1].length;return{from:r(Z,we),to:r(Z+Pe.length-1,Pe.length==1?we+Pe[0].length:Pe[Pe.length-1].length),match:ye}}}}var E,C;String.prototype.normalize?(E=function(b){return b.normalize("NFD").toLowerCase()},C=function(b){return b.normalize("NFD")}):(E=function(b){return b.toLowerCase()},C=function(b){return b});function P(b,D,B,j){if(b.length==D.length)return B;for(var U=0,W=B+Math.max(0,b.length-D.length);;){if(U==W)return U;var Y=U+W>>1,ae=j(b.slice(0,Y)).length;if(ae==B)return Y;ae>B?W=Y:U=Y+1}}function O(b,D,B,j){if(!D.length)return null;var U=j?E:C,W=U(D).split(/\r|\n\r?/);e:for(var Y=B.line,ae=B.ch,_e=b.lastLine()+1-W.length;Y<=_e;Y++,ae=0){var ie=b.getLine(Y).slice(ae),ye=U(ie);if(W.length==1){var Ue=ye.indexOf(W[0]);if(Ue==-1)continue e;var B=P(ie,ye,Ue,U)+ae;return{from:r(Y,P(ie,ye,Ue,U)+ae),to:r(Y,P(ie,ye,Ue+W[0].length,U)+ae)}}else{var Pe=ye.length-W[0].length;if(ye.slice(Pe)!=W[0])continue e;for(var Z=1;Z<W.length-1;Z++)if(U(b.getLine(Y+Z))!=W[Z])continue e;var we=b.getLine(Y+W.length-1),de=U(we),he=W[W.length-1];if(de.slice(0,he.length)!=he)continue e;return{from:r(Y,P(ie,ye,Pe,U)+ae),to:r(Y+W.length-1,P(we,de,he.length,U))}}}}function M(b,D,B,j){if(!D.length)return null;var U=j?E:C,W=U(D).split(/\r|\n\r?/);e:for(var Y=B.line,ae=B.ch,_e=b.firstLine()-1+W.length;Y>=_e;Y--,ae=-1){var ie=b.getLine(Y);ae>-1&&(ie=ie.slice(0,ae));var ye=U(ie);if(W.length==1){var Ue=ye.lastIndexOf(W[0]);if(Ue==-1)continue e;return{from:r(Y,P(ie,ye,Ue,U)),to:r(Y,P(ie,ye,Ue+W[0].length,U))}}else{var Pe=W[W.length-1];if(ye.slice(0,Pe.length)!=Pe)continue e;for(var Z=1,B=Y-W.length+1;Z<W.length-1;Z++)if(U(b.getLine(B+Z))!=W[Z])continue e;var we=b.getLine(Y+1-W.length),de=U(we);if(de.slice(de.length-W[0].length)!=W[0])continue e;return{from:r(Y+1-W.length,P(we,de,we.length-W[0].length,U)),to:r(Y,P(ie,ye,Pe.length,U))}}}}function R(b,D,B,j){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=b,B=B?b.clipPos(B):r(0,0),this.pos={from:B,to:B};var U;typeof j=="object"?U=j.caseFold:(U=j,j=null),typeof D=="string"?(U==null&&(U=!1),this.matches=function(W,Y){return(W?M:O)(b,D,Y,U)}):(D=s(D,"gm"),!j||j.multiline!==!1?this.matches=function(W,Y){return(W?w:p)(b,D,Y)}:this.matches=function(W,Y){return(W?y:c)(b,D,Y)})}R.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(b){var D=this.doc.clipPos(b?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(D=r(D.line,D.ch),b?(D.ch--,D.ch<0&&(D.line--,D.ch=(this.doc.getLine(D.line)||"").length)):(D.ch++,D.ch>(this.doc.getLine(D.line)||"").length&&(D.ch=0,D.line++)),n.cmpPos(D,this.doc.clipPos(D))!=0))return this.atOccurrence=!1;var B=this.matches(b,D);if(this.afterEmptyMatch=B&&n.cmpPos(B.from,B.to)==0,B)return this.pos=B,this.atOccurrence=!0,this.pos.match||!0;var j=r(b?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:j,to:j},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(b,D){if(this.atOccurrence){var B=n.splitLines(b);this.doc.replaceRange(B,this.pos.from,this.pos.to,D),this.pos.to=r(this.pos.from.line+B.length-1,B[B.length-1].length+(B.length==1?this.pos.from.ch:0))}}},n.defineExtension("getSearchCursor",function(b,D,B){return new R(this.doc,b,D,B)}),n.defineDocExtension("getSearchCursor",function(b,D,B){return new R(this,b,D,B)}),n.defineExtension("selectMatches",function(b,D){for(var B=[],j=this.getSearchCursor(b,this.getCursor("from"),D);j.findNext()&&!(n.cmpPos(j.to(),this.getCursor("to"))>0);)B.push({anchor:j.from(),head:j.to()});B.length&&this.setSelections(B,0)})})})();(function(t,e){(function(n){n(yo,oZ,aZ)})(function(n){var r=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;n.defineMode("gfm",function(i,s){var a=0;function c(w){return w.code=!1,null}var p={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(w){return{code:w.code,codeBlock:w.codeBlock,ateSpace:w.ateSpace}},token:function(w,E){if(E.combineTokens=null,E.codeBlock)return w.match(/^```+/)?(E.codeBlock=!1,null):(w.skipToEnd(),null);if(w.sol()&&(E.code=!1),w.sol()&&w.match(/^```+/))return w.skipToEnd(),E.codeBlock=!0,null;if(w.peek()==="`"){w.next();var C=w.pos;w.eatWhile("`");var P=1+w.pos-C;return E.code?P===a&&(E.code=!1):(a=P,E.code=!0),null}else if(E.code)return w.next(),null;if(w.eatSpace())return E.ateSpace=!0,null;if((w.sol()||E.ateSpace)&&(E.ateSpace=!1,s.gitHubSpice!==!1)){if(w.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return E.combineTokens=!0,"link";if(w.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return E.combineTokens=!0,"link"}return w.match(r)&&w.string.slice(w.start-2,w.start)!="]("&&(w.start==0||/\W/.test(w.string.charAt(w.start-1)))?(E.combineTokens=!0,"link"):(w.next(),null)},blankLine:c},m={taskLists:!0,strikethrough:!0,emoji:!0};for(var y in s)m[y]=s[y];return m.name="markdown",n.overlayMode(n.getMode(i,m),p)},"markdown"),n.defineMIME("text/x-gfm","gfm")})})();function lZ(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rF={exports:{}};const uZ={},cZ=Object.freeze(Object.defineProperty({__proto__:null,default:uZ},Symbol.toStringTag,{value:"Module"})),fZ=h6(cZ);(function(t){var e;(function(){e=function(n,r,i,s){s=s||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=s.flags||{},this.memoized={},this.loaded=!1;var a=this,c,p,m,y,w;n&&(a.dictionary=n,r&&i?O():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(s.dictionaryPath?c=s.dictionaryPath:c="typo/dictionaries",r||E(chrome.extension.getURL(c+"/"+n+"/"+n+".aff"),C),i||E(chrome.extension.getURL(c+"/"+n+"/"+n+".dic"),P)):(s.dictionaryPath?c=s.dictionaryPath:typeof __dirname<"u"?c=__dirname+"/dictionaries":c="./dictionaries",r||E(c+"/"+n+"/"+n+".aff",C),i||E(c+"/"+n+"/"+n+".dic",P)));function E(M,R){var b=a._readFile(M,null,s.asyncLoad);s.asyncLoad?b.then(function(D){R(D)}):R(b)}function C(M){r=M,i&&O()}function P(M){i=M,r&&O()}function O(){for(a.rules=a._parseAFF(r),a.compoundRuleCodes={},p=0,y=a.compoundRules.length;p<y;p++){var M=a.compoundRules[p];for(m=0,w=M.length;m<w;m++)a.compoundRuleCodes[M[m]]=[]}"ONLYINCOMPOUND"in a.flags&&(a.compoundRuleCodes[a.flags.ONLYINCOMPOUND]=[]),a.dictionaryTable=a._parseDIC(i);for(p in a.compoundRuleCodes)a.compoundRuleCodes[p].length===0&&delete a.compoundRuleCodes[p];for(p=0,y=a.compoundRules.length;p<y;p++){var R=a.compoundRules[p],b="";for(m=0,w=R.length;m<w;m++){var D=R[m];D in a.compoundRuleCodes?b+="("+a.compoundRuleCodes[D].join("|")+")":b+=D}a.compoundRules[p]=new RegExp(b,"i")}a.loaded=!0,s.asyncLoad&&s.loadedCallback&&s.loadedCallback(a)}return this},e.prototype={load:function(n){for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);return this},_readFile:function(n,r,i){if(r=r||"utf8",typeof XMLHttpRequest<"u"){var s,a=new XMLHttpRequest;return a.open("GET",n,i),i&&(s=new Promise(function(p,m){a.onload=function(){a.status===200?p(a.responseText):m(a.statusText)},a.onerror=function(){m(a.statusText)}})),a.overrideMimeType&&a.overrideMimeType("text/plain; charset="+r),a.send(null),i?s:a.responseText}else if(typeof lZ<"u"){var c=fZ;try{if(c.existsSync(n))return c.readFileSync(n,r);console.log("Path "+n+" does not exist.")}catch(p){return console.log(p),""}}},_parseAFF:function(n){var r={},i,s,a,c,p,m,y,w,E=n.split(/\r?\n/);for(p=0,y=E.length;p<y;p++)if(i=this._removeAffixComments(E[p]),i=i.trim(),!!i){var C=i.split(/\s+/),P=C[0];if(P=="PFX"||P=="SFX"){var O=C[1],M=C[2];a=parseInt(C[3],10);var R=[];for(m=p+1,w=p+1+a;m<w;m++){s=E[m],c=s.split(/\s+/);var b=c[2],D=c[3].split("/"),B=D[0];B==="0"&&(B="");var j=this.parseRuleCodes(D[1]),U=c[4],W={};W.add=B,j.length>0&&(W.continuationClasses=j),U!=="."&&(P==="SFX"?W.match=new RegExp(U+"$"):W.match=new RegExp("^"+U)),b!="0"&&(P==="SFX"?W.remove=new RegExp(b+"$"):W.remove=b),R.push(W)}r[O]={type:P,combineable:M=="Y",entries:R},p+=a}else if(P==="COMPOUNDRULE"){for(a=parseInt(C[1],10),m=p+1,w=p+1+a;m<w;m++)i=E[m],c=i.split(/\s+/),this.compoundRules.push(c[1]);p+=a}else P==="REP"?(c=i.split(/\s+/),c.length===3&&this.replacementTable.push([c[1],c[2]])):this.flags[P]=C[1]}return r},_removeAffixComments:function(n){return n.match(/^\s*#/,"")?"":n},_parseDIC:function(n){n=this._removeDicComments(n);var r=n.split(/\r?\n/),i={};function s(ie,ye){i.hasOwnProperty(ie)||(i[ie]=null),ye.length>0&&(i[ie]===null&&(i[ie]=[]),i[ie].push(ye))}for(var a=1,c=r.length;a<c;a++){var p=r[a];if(p){var m=p.split("/",2),y=m[0];if(m.length>1){var w=this.parseRuleCodes(m[1]);(!("NEEDAFFIX"in this.flags)||w.indexOf(this.flags.NEEDAFFIX)==-1)&&s(y,w);for(var E=0,C=w.length;E<C;E++){var P=w[E],O=this.rules[P];if(O)for(var M=this._applyRule(y,O),R=0,b=M.length;R<b;R++){var D=M[R];if(s(D,[]),O.combineable)for(var B=E+1;B<C;B++){var j=w[B],U=this.rules[j];if(U&&U.combineable&&O.type!=U.type)for(var W=this._applyRule(D,U),Y=0,ae=W.length;Y<ae;Y++){var _e=W[Y];s(_e,[])}}}P in this.compoundRuleCodes&&this.compoundRuleCodes[P].push(y)}}else s(y.trim(),[])}}return i},_removeDicComments:function(n){return n=n.replace(/^\t.*$/mg,""),n},parseRuleCodes:function(n){if(n)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var r=[],i=0,s=n.length;i<s;i+=2)r.push(n.substr(i,2));return r}else return this.flags.FLAG==="num"?n.split(","):this.flags.FLAG==="UTF-8"?Array.from(n):n.split("");else return n.split("");else return[]},_applyRule:function(n,r){for(var i=r.entries,s=[],a=0,c=i.length;a<c;a++){var p=i[a];if(!p.match||n.match(p.match)){var m=n;if(p.remove&&(m=m.replace(p.remove,"")),r.type==="SFX"?m=m+p.add:m=p.add+m,s.push(m),"continuationClasses"in p)for(var y=0,w=p.continuationClasses.length;y<w;y++){var E=this.rules[p.continuationClasses[y]];E&&(s=s.concat(this._applyRule(m,E)))}}}return s},check:function(n){if(!this.loaded)throw"Dictionary not loaded.";if(!n)return!1;var r=n.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(r))return!0;if(r.toUpperCase()===r){var i=r[0]+r.substring(1).toLowerCase();if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i)||this.checkExact(r.toLowerCase()))return!0}var s=r[0].toLowerCase()+r.substring(1);if(s!==r){if(this.hasFlag(s,"KEEPCASE"))return!1;if(this.checkExact(s))return!0}return!1},checkExact:function(n){if(!this.loaded)throw"Dictionary not loaded.";var r=this.dictionaryTable[n],i,s;if(typeof r>"u"){if("COMPOUNDMIN"in this.flags&&n.length>=this.flags.COMPOUNDMIN){for(i=0,s=this.compoundRules.length;i<s;i++)if(n.match(this.compoundRules[i]))return!0}}else{if(r===null)return!0;if(typeof r=="object"){for(i=0,s=r.length;i<s;i++)if(!this.hasFlag(n,"ONLYINCOMPOUND",r[i]))return!0}}return!1},hasFlag:function(n,r,i){if(!this.loaded)throw"Dictionary not loaded.";return!!(r in this.flags&&(typeof i>"u"&&(i=Array.prototype.concat.apply([],this.dictionaryTable[n])),i&&i.indexOf(this.flags[r])!==-1))},alphabet:"",suggest:function(n,r){if(!this.loaded)throw"Dictionary not loaded.";if(r=r||5,this.memoized.hasOwnProperty(n)){var i=this.memoized[n].limit;if(r<=i||this.memoized[n].suggestions.length<i)return this.memoized[n].suggestions.slice(0,r)}if(this.check(n))return[];for(var s=0,a=this.replacementTable.length;s<a;s++){var c=this.replacementTable[s];if(n.indexOf(c[0])!==-1){var p=n.replace(c[0],c[1]);if(this.check(p))return[p]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var m=this.alphabet.split("");m.sort();for(var y={},s=0;s<m.length;s++)y[m[s]]=!0;this.alphabet="";for(var s in y)this.alphabet+=s}var w=this;function E(P,O){var M={},R,b,D,B,j=w.alphabet.length;if(typeof P=="string"){var U=P;P={},P[U]=!0}for(var U in P)for(R=0,D=U.length+1;R<D;R++){var W=[U.substring(0,R),U.substring(R)];if(W[1]&&(B=W[0]+W[1].substring(1),(!O||w.check(B))&&(B in M?M[B]+=1:M[B]=1)),W[1].length>1&&W[1][1]!==W[1][0]&&(B=W[0]+W[1][1]+W[1][0]+W[1].substring(2),(!O||w.check(B))&&(B in M?M[B]+=1:M[B]=1)),W[1]){var Y=W[1].substring(0,1).toUpperCase()===W[1].substring(0,1)?"uppercase":"lowercase";for(b=0;b<j;b++){var ae=w.alphabet[b];Y==="uppercase"&&(ae=ae.toUpperCase()),ae!=W[1].substring(0,1)&&(B=W[0]+ae+W[1].substring(1),(!O||w.check(B))&&(B in M?M[B]+=1:M[B]=1))}}if(W[1])for(b=0;b<j;b++){var Y=W[0].substring(-1).toUpperCase()===W[0].substring(-1)&&W[1].substring(0,1).toUpperCase()===W[1].substring(0,1)?"uppercase":"lowercase",ae=w.alphabet[b];Y==="uppercase"&&(ae=ae.toUpperCase()),B=W[0]+ae+W[1],(!O||w.check(B))&&(B in M?M[B]+=1:M[B]=1)}}return M}function C(P){var O=E(P),M=E(O,!0),R=M;for(var b in O)w.check(b)&&(b in R?R[b]+=O[b]:R[b]=O[b]);var D,B=[];for(D in R)R.hasOwnProperty(D)&&B.push([D,R[D]]);function j(ae,_e){var ie=ae[1],ye=_e[1];return ie<ye?-1:ie>ye?1:_e[0].localeCompare(ae[0])}B.sort(j).reverse();var U=[],W="lowercase";P.toUpperCase()===P?W="uppercase":P.substr(0,1).toUpperCase()+P.substr(1).toLowerCase()===P&&(W="capitalized");var Y=r;for(D=0;D<Math.min(Y,B.length);D++)W==="uppercase"?B[D][0]=B[D][0].toUpperCase():W==="capitalized"&&(B[D][0]=B[D][0].substr(0,1).toUpperCase()+B[D][0].substr(1)),!w.hasFlag(B[D][0],"NOSUGGEST")&&U.indexOf(B[D][0])==-1?U.push(B[D][0]):Y++;return U}return this.memoized[n]={suggestions:C(n),limit:r},this.memoized[n].suggestions}}})(),t.exports=e})(rF);var hZ=rF.exports,lD=hZ;function Rn(t){if(t=t||{},typeof t.codeMirrorInstance!="function"||typeof t.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),t.codeMirrorInstance.defineMode("spell-checker",function(e){if(!Rn.aff_loading){Rn.aff_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),n.onload=function(){n.readyState===4&&n.status===200&&(Rn.aff_data=n.responseText,Rn.num_loaded++,Rn.num_loaded==2&&(Rn.typo=new lD("en_US",Rn.aff_data,Rn.dic_data,{platform:"any"})))},n.send(null)}if(!Rn.dic_loading){Rn.dic_loading=!0;var r=new XMLHttpRequest;r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),r.onload=function(){r.readyState===4&&r.status===200&&(Rn.dic_data=r.responseText,Rn.num_loaded++,Rn.num_loaded==2&&(Rn.typo=new lD("en_US",Rn.aff_data,Rn.dic_data,{platform:"any"})))},r.send(null)}var i='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',s={token:function(c){var p=c.peek(),m="";if(i.includes(p))return c.next(),null;for(;(p=c.peek())!=null&&!i.includes(p);)m+=p,c.next();return Rn.typo&&!Rn.typo.check(m)?"spell-error":null}},a=t.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(a,s,!0)})}Rn.num_loaded=0;Rn.aff_loading=!1;Rn.dic_loading=!1;Rn.aff_data="";Rn.dic_data="";Rn.typo;var dZ=Rn,iF={};(function(t){function e(ce,ue){for(var re=0;re<ue.length;re++){var A=ue[re];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(ce,p(A.key),A)}}function n(ce,ue,re){return ue&&e(ce.prototype,ue),re&&e(ce,re),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function r(){return r=Object.assign?Object.assign.bind():function(ce){for(var ue=1;ue<arguments.length;ue++){var re=arguments[ue];for(var A in re)Object.prototype.hasOwnProperty.call(re,A)&&(ce[A]=re[A])}return ce},r.apply(this,arguments)}function i(ce,ue){if(ce){if(typeof ce=="string")return s(ce,ue);var re=Object.prototype.toString.call(ce).slice(8,-1);if(re==="Object"&&ce.constructor&&(re=ce.constructor.name),re==="Map"||re==="Set")return Array.from(ce);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return s(ce,ue)}}function s(ce,ue){(ue==null||ue>ce.length)&&(ue=ce.length);for(var re=0,A=new Array(ue);re<ue;re++)A[re]=ce[re];return A}function a(ce,ue){var re=typeof Symbol<"u"&&ce[Symbol.iterator]||ce["@@iterator"];if(re)return(re=re.call(ce)).next.bind(re);if(Array.isArray(ce)||(re=i(ce))||ue&&ce&&typeof ce.length=="number"){re&&(ce=re);var A=0;return function(){return A>=ce.length?{done:!0}:{done:!1,value:ce[A++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(ce,ue){if(typeof ce!="object"||ce===null)return ce;var re=ce[Symbol.toPrimitive];if(re!==void 0){var A=re.call(ce,ue||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ue==="string"?String:Number)(ce)}function p(ce){var ue=c(ce,"string");return typeof ue=="symbol"?ue:String(ue)}function m(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.defaults=m();function y(ce){t.defaults=ce}var w=/[&<>"']/,E=new RegExp(w.source,"g"),C=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,P=new RegExp(C.source,"g"),O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M=function(ue){return O[ue]};function R(ce,ue){if(ue){if(w.test(ce))return ce.replace(E,M)}else if(C.test(ce))return ce.replace(P,M);return ce}var b=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function D(ce){return ce.replace(b,function(ue,re){return re=re.toLowerCase(),re==="colon"?":":re.charAt(0)==="#"?re.charAt(1)==="x"?String.fromCharCode(parseInt(re.substring(2),16)):String.fromCharCode(+re.substring(1)):""})}var B=/(^|[^\[])\^/g;function j(ce,ue){ce=typeof ce=="string"?ce:ce.source,ue=ue||"";var re={replace:function(F,G){return G=G.source||G,G=G.replace(B,"$1"),ce=ce.replace(F,G),re},getRegex:function(){return new RegExp(ce,ue)}};return re}var U=/[^\w:]/g,W=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Y(ce,ue,re){if(ce){var A;try{A=decodeURIComponent(D(re)).replace(U,"").toLowerCase()}catch{return null}if(A.indexOf("javascript:")===0||A.indexOf("vbscript:")===0||A.indexOf("data:")===0)return null}ue&&!W.test(re)&&(re=Ue(ue,re));try{re=encodeURI(re).replace(/%25/g,"%")}catch{return null}return re}var ae={},_e=/^[^:]+:\/*[^/]*$/,ie=/^([^:]+:)[\s\S]*$/,ye=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Ue(ce,ue){ae[" "+ce]||(_e.test(ce)?ae[" "+ce]=ce+"/":ae[" "+ce]=we(ce,"/",!0)),ce=ae[" "+ce];var re=ce.indexOf(":")===-1;return ue.substring(0,2)==="//"?re?ue:ce.replace(ie,"$1")+ue:ue.charAt(0)==="/"?re?ue:ce.replace(ye,"$1")+ue:ce+ue}var Pe={exec:function(){}};function Z(ce,ue){var re=ce.replace(/\|/g,function(G,K,ee){for(var be=!1,Ve=K;--Ve>=0&&ee[Ve]==="\\";)be=!be;return be?"|":" |"}),A=re.split(/ \|/),F=0;if(A[0].trim()||A.shift(),A.length>0&&!A[A.length-1].trim()&&A.pop(),A.length>ue)A.splice(ue);else for(;A.length<ue;)A.push("");for(;F<A.length;F++)A[F]=A[F].trim().replace(/\\\|/g,"|");return A}function we(ce,ue,re){var A=ce.length;if(A===0)return"";for(var F=0;F<A;){var G=ce.charAt(A-F-1);if(G===ue&&!re)F++;else if(G!==ue&&re)F++;else break}return ce.slice(0,A-F)}function de(ce,ue){if(ce.indexOf(ue[1])===-1)return-1;for(var re=ce.length,A=0,F=0;F<re;F++)if(ce[F]==="\\")F++;else if(ce[F]===ue[0])A++;else if(ce[F]===ue[1]&&(A--,A<0))return F;return-1}function he(ce){ce&&ce.sanitize&&!ce.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Le(ce,ue){if(ue<1)return"";for(var re="";ue>1;)ue&1&&(re+=ce),ue>>=1,ce+=ce;return re+ce}function q(ce,ue,re,A){var F=ue.href,G=ue.title?R(ue.title):null,K=ce[1].replace(/\\([\[\]])/g,"$1");if(ce[0].charAt(0)!=="!"){A.state.inLink=!0;var ee={type:"link",raw:re,href:F,title:G,text:K,tokens:A.inlineTokens(K)};return A.state.inLink=!1,ee}return{type:"image",raw:re,href:F,title:G,text:R(K)}}function tt(ce,ue){var re=ce.match(/^(\s+)(?:```)/);if(re===null)return ue;var A=re[1];return ue.split(`
`).map(function(F){var G=F.match(/^\s+/);if(G===null)return F;var K=G[0];return K.length>=A.length?F.slice(A.length):F}).join(`
`)}var Q=function(){function ce(re){this.options=re||t.defaults}var ue=ce.prototype;return ue.space=function(A){var F=this.rules.block.newline.exec(A);if(F&&F[0].length>0)return{type:"space",raw:F[0]}},ue.code=function(A){var F=this.rules.block.code.exec(A);if(F){var G=F[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:F[0],codeBlockStyle:"indented",text:this.options.pedantic?G:we(G,`
`)}}},ue.fences=function(A){var F=this.rules.block.fences.exec(A);if(F){var G=F[0],K=tt(G,F[3]||"");return{type:"code",raw:G,lang:F[2]?F[2].trim().replace(this.rules.inline._escapes,"$1"):F[2],text:K}}},ue.heading=function(A){var F=this.rules.block.heading.exec(A);if(F){var G=F[2].trim();if(/#$/.test(G)){var K=we(G,"#");(this.options.pedantic||!K||/ $/.test(K))&&(G=K.trim())}return{type:"heading",raw:F[0],depth:F[1].length,text:G,tokens:this.lexer.inline(G)}}},ue.hr=function(A){var F=this.rules.block.hr.exec(A);if(F)return{type:"hr",raw:F[0]}},ue.blockquote=function(A){var F=this.rules.block.blockquote.exec(A);if(F){var G=F[0].replace(/^ *>[ \t]?/gm,""),K=this.lexer.state.top;this.lexer.state.top=!0;var ee=this.lexer.blockTokens(G);return this.lexer.state.top=K,{type:"blockquote",raw:F[0],tokens:ee,text:G}}},ue.list=function(A){var F=this.rules.block.list.exec(A);if(F){var G,K,ee,be,Ve,Be,$e,it,ke,ot,me,Qt,Ut=F[1].trim(),Vt=Ut.length>1,yt={type:"list",raw:"",ordered:Vt,start:Vt?+Ut.slice(0,-1):"",loose:!1,items:[]};Ut=Vt?"\\d{1,9}\\"+Ut.slice(-1):"\\"+Ut,this.options.pedantic&&(Ut=Vt?Ut:"[*+-]");for(var Yn=new RegExp("^( {0,3}"+Ut+")((?:[	 ][^\\n]*)?(?:\\n|$))");A&&(Qt=!1,!(!(F=Yn.exec(A))||this.rules.block.hr.test(A)));){if(G=F[0],A=A.substring(G.length),it=F[2].split(`
`,1)[0].replace(/^\t+/,function(_s){return" ".repeat(3*_s.length)}),ke=A.split(`
`,1)[0],this.options.pedantic?(be=2,me=it.trimLeft()):(be=F[2].search(/[^ ]/),be=be>4?1:be,me=it.slice(be),be+=F[1].length),Be=!1,!it&&/^ *$/.test(ke)&&(G+=ke+`
`,A=A.substring(ke.length+1),Qt=!0),!Qt)for(var dr=new RegExp("^ {0,"+Math.min(3,be-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),Ci=new RegExp("^ {0,"+Math.min(3,be-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),mn=new RegExp("^ {0,"+Math.min(3,be-1)+"}(?:```|~~~)"),Go=new RegExp("^ {0,"+Math.min(3,be-1)+"}#");A&&(ot=A.split(`
`,1)[0],ke=ot,this.options.pedantic&&(ke=ke.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(mn.test(ke)||Go.test(ke)||dr.test(ke)||Ci.test(A)));){if(ke.search(/[^ ]/)>=be||!ke.trim())me+=`
`+ke.slice(be);else{if(Be||it.search(/[^ ]/)>=4||mn.test(it)||Go.test(it)||Ci.test(it))break;me+=`
`+ke}!Be&&!ke.trim()&&(Be=!0),G+=ot+`
`,A=A.substring(ot.length+1),it=ke.slice(be)}yt.loose||($e?yt.loose=!0:/\n *\n *$/.test(G)&&($e=!0)),this.options.gfm&&(K=/^\[[ xX]\] /.exec(me),K&&(ee=K[0]!=="[ ] ",me=me.replace(/^\[[ xX]\] +/,""))),yt.items.push({type:"list_item",raw:G,task:!!K,checked:ee,loose:!1,text:me}),yt.raw+=G}yt.items[yt.items.length-1].raw=G.trimRight(),yt.items[yt.items.length-1].text=me.trimRight(),yt.raw=yt.raw.trimRight();var Ko=yt.items.length;for(Ve=0;Ve<Ko;Ve++)if(this.lexer.state.top=!1,yt.items[Ve].tokens=this.lexer.blockTokens(yt.items[Ve].text,[]),!yt.loose){var ji=yt.items[Ve].tokens.filter(function(_s){return _s.type==="space"}),ua=ji.length>0&&ji.some(function(_s){return/\n.*\n/.test(_s.raw)});yt.loose=ua}if(yt.loose)for(Ve=0;Ve<Ko;Ve++)yt.items[Ve].loose=!0;return yt}},ue.html=function(A){var F=this.rules.block.html.exec(A);if(F){var G={type:"html",raw:F[0],pre:!this.options.sanitizer&&(F[1]==="pre"||F[1]==="script"||F[1]==="style"),text:F[0]};if(this.options.sanitize){var K=this.options.sanitizer?this.options.sanitizer(F[0]):R(F[0]);G.type="paragraph",G.text=K,G.tokens=this.lexer.inline(K)}return G}},ue.def=function(A){var F=this.rules.block.def.exec(A);if(F){var G=F[1].toLowerCase().replace(/\s+/g," "),K=F[2]?F[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",ee=F[3]?F[3].substring(1,F[3].length-1).replace(this.rules.inline._escapes,"$1"):F[3];return{type:"def",tag:G,raw:F[0],href:K,title:ee}}},ue.table=function(A){var F=this.rules.block.table.exec(A);if(F){var G={type:"table",header:Z(F[1]).map(function($e){return{text:$e}}),align:F[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:F[3]&&F[3].trim()?F[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(G.header.length===G.align.length){G.raw=F[0];var K=G.align.length,ee,be,Ve,Be;for(ee=0;ee<K;ee++)/^ *-+: *$/.test(G.align[ee])?G.align[ee]="right":/^ *:-+: *$/.test(G.align[ee])?G.align[ee]="center":/^ *:-+ *$/.test(G.align[ee])?G.align[ee]="left":G.align[ee]=null;for(K=G.rows.length,ee=0;ee<K;ee++)G.rows[ee]=Z(G.rows[ee],G.header.length).map(function($e){return{text:$e}});for(K=G.header.length,be=0;be<K;be++)G.header[be].tokens=this.lexer.inline(G.header[be].text);for(K=G.rows.length,be=0;be<K;be++)for(Be=G.rows[be],Ve=0;Ve<Be.length;Ve++)Be[Ve].tokens=this.lexer.inline(Be[Ve].text);return G}}},ue.lheading=function(A){var F=this.rules.block.lheading.exec(A);if(F)return{type:"heading",raw:F[0],depth:F[2].charAt(0)==="="?1:2,text:F[1],tokens:this.lexer.inline(F[1])}},ue.paragraph=function(A){var F=this.rules.block.paragraph.exec(A);if(F){var G=F[1].charAt(F[1].length-1)===`
`?F[1].slice(0,-1):F[1];return{type:"paragraph",raw:F[0],text:G,tokens:this.lexer.inline(G)}}},ue.text=function(A){var F=this.rules.block.text.exec(A);if(F)return{type:"text",raw:F[0],text:F[0],tokens:this.lexer.inline(F[0])}},ue.escape=function(A){var F=this.rules.inline.escape.exec(A);if(F)return{type:"escape",raw:F[0],text:R(F[1])}},ue.tag=function(A){var F=this.rules.inline.tag.exec(A);if(F)return!this.lexer.state.inLink&&/^<a /i.test(F[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(F[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(F[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(F[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:F[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(F[0]):R(F[0]):F[0]}},ue.link=function(A){var F=this.rules.inline.link.exec(A);if(F){var G=F[2].trim();if(!this.options.pedantic&&/^</.test(G)){if(!/>$/.test(G))return;var K=we(G.slice(0,-1),"\\");if((G.length-K.length)%2===0)return}else{var ee=de(F[2],"()");if(ee>-1){var be=F[0].indexOf("!")===0?5:4,Ve=be+F[1].length+ee;F[2]=F[2].substring(0,ee),F[0]=F[0].substring(0,Ve).trim(),F[3]=""}}var Be=F[2],$e="";if(this.options.pedantic){var it=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Be);it&&(Be=it[1],$e=it[3])}else $e=F[3]?F[3].slice(1,-1):"";return Be=Be.trim(),/^</.test(Be)&&(this.options.pedantic&&!/>$/.test(G)?Be=Be.slice(1):Be=Be.slice(1,-1)),q(F,{href:Be&&Be.replace(this.rules.inline._escapes,"$1"),title:$e&&$e.replace(this.rules.inline._escapes,"$1")},F[0],this.lexer)}},ue.reflink=function(A,F){var G;if((G=this.rules.inline.reflink.exec(A))||(G=this.rules.inline.nolink.exec(A))){var K=(G[2]||G[1]).replace(/\s+/g," ");if(K=F[K.toLowerCase()],!K){var ee=G[0].charAt(0);return{type:"text",raw:ee,text:ee}}return q(G,K,G[0],this.lexer)}},ue.emStrong=function(A,F,G){G===void 0&&(G="");var K=this.rules.inline.emStrong.lDelim.exec(A);if(K&&!(K[3]&&G.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ee=K[1]||K[2]||"";if(!ee||ee&&(G===""||this.rules.inline.punctuation.exec(G))){var be=K[0].length-1,Ve,Be,$e=be,it=0,ke=K[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ke.lastIndex=0,F=F.slice(-1*A.length+be);(K=ke.exec(F))!=null;)if(Ve=K[1]||K[2]||K[3]||K[4]||K[5]||K[6],!!Ve){if(Be=Ve.length,K[3]||K[4]){$e+=Be;continue}else if((K[5]||K[6])&&be%3&&!((be+Be)%3)){it+=Be;continue}if($e-=Be,!($e>0)){Be=Math.min(Be,Be+$e+it);var ot=A.slice(0,be+K.index+(K[0].length-Ve.length)+Be);if(Math.min(be,Be)%2){var me=ot.slice(1,-1);return{type:"em",raw:ot,text:me,tokens:this.lexer.inlineTokens(me)}}var Qt=ot.slice(2,-2);return{type:"strong",raw:ot,text:Qt,tokens:this.lexer.inlineTokens(Qt)}}}}}},ue.codespan=function(A){var F=this.rules.inline.code.exec(A);if(F){var G=F[2].replace(/\n/g," "),K=/[^ ]/.test(G),ee=/^ /.test(G)&&/ $/.test(G);return K&&ee&&(G=G.substring(1,G.length-1)),G=R(G,!0),{type:"codespan",raw:F[0],text:G}}},ue.br=function(A){var F=this.rules.inline.br.exec(A);if(F)return{type:"br",raw:F[0]}},ue.del=function(A){var F=this.rules.inline.del.exec(A);if(F)return{type:"del",raw:F[0],text:F[2],tokens:this.lexer.inlineTokens(F[2])}},ue.autolink=function(A,F){var G=this.rules.inline.autolink.exec(A);if(G){var K,ee;return G[2]==="@"?(K=R(this.options.mangle?F(G[1]):G[1]),ee="mailto:"+K):(K=R(G[1]),ee=K),{type:"link",raw:G[0],text:K,href:ee,tokens:[{type:"text",raw:K,text:K}]}}},ue.url=function(A,F){var G;if(G=this.rules.inline.url.exec(A)){var K,ee;if(G[2]==="@")K=R(this.options.mangle?F(G[0]):G[0]),ee="mailto:"+K;else{var be;do be=G[0],G[0]=this.rules.inline._backpedal.exec(G[0])[0];while(be!==G[0]);K=R(G[0]),G[1]==="www."?ee="http://"+G[0]:ee=G[0]}return{type:"link",raw:G[0],text:K,href:ee,tokens:[{type:"text",raw:K,text:K}]}}},ue.inlineText=function(A,F){var G=this.rules.inline.text.exec(A);if(G){var K;return this.lexer.state.inRawBlock?K=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(G[0]):R(G[0]):G[0]:K=R(this.options.smartypants?F(G[0]):G[0]),{type:"text",raw:G[0],text:K}}},ce}(),S={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Pe,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};S._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,S._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,S.def=j(S.def).replace("label",S._label).replace("title",S._title).getRegex(),S.bullet=/(?:[*+-]|\d{1,9}[.)])/,S.listItemStart=j(/^( *)(bull) */).replace("bull",S.bullet).getRegex(),S.list=j(S.list).replace(/bull/g,S.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+S.def.source+")").getRegex(),S._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",S._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,S.html=j(S.html,"i").replace("comment",S._comment).replace("tag",S._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),S.paragraph=j(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.blockquote=j(S.blockquote).replace("paragraph",S.paragraph).getRegex(),S.normal=r({},S),S.gfm=r({},S.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),S.gfm.table=j(S.gfm.table).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.gfm.paragraph=j(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",S.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.pedantic=r({},S.normal,{html:j(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",S._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:j(S.normal._paragraph).replace("hr",S.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",S.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var fe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Pe,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Pe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};fe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",fe.punctuation=j(fe.punctuation).replace(/punctuation/g,fe._punctuation).getRegex(),fe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,fe.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,fe._comment=j(S._comment).replace("(?:-->|$)","-->").getRegex(),fe.emStrong.lDelim=j(fe.emStrong.lDelim).replace(/punct/g,fe._punctuation).getRegex(),fe.emStrong.rDelimAst=j(fe.emStrong.rDelimAst,"g").replace(/punct/g,fe._punctuation).getRegex(),fe.emStrong.rDelimUnd=j(fe.emStrong.rDelimUnd,"g").replace(/punct/g,fe._punctuation).getRegex(),fe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,fe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,fe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,fe.autolink=j(fe.autolink).replace("scheme",fe._scheme).replace("email",fe._email).getRegex(),fe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,fe.tag=j(fe.tag).replace("comment",fe._comment).replace("attribute",fe._attribute).getRegex(),fe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,fe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,fe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,fe.link=j(fe.link).replace("label",fe._label).replace("href",fe._href).replace("title",fe._title).getRegex(),fe.reflink=j(fe.reflink).replace("label",fe._label).replace("ref",S._label).getRegex(),fe.nolink=j(fe.nolink).replace("ref",S._label).getRegex(),fe.reflinkSearch=j(fe.reflinkSearch,"g").replace("reflink",fe.reflink).replace("nolink",fe.nolink).getRegex(),fe.normal=r({},fe),fe.pedantic=r({},fe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:j(/^!?\[(label)\]\((.*?)\)/).replace("label",fe._label).getRegex(),reflink:j(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",fe._label).getRegex()}),fe.gfm=r({},fe.normal,{escape:j(fe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),fe.gfm.url=j(fe.gfm.url,"i").replace("email",fe.gfm._extended_email).getRegex(),fe.breaks=r({},fe.gfm,{br:j(fe.br).replace("{2,}","*").getRegex(),text:j(fe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function nt(ce){return ce.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ze(ce){var ue="",re,A,F=ce.length;for(re=0;re<F;re++)A=ce.charCodeAt(re),Math.random()>.5&&(A="x"+A.toString(16)),ue+="&#"+A+";";return ue}var At=function(){function ce(re){this.tokens=[],this.tokens.links=Object.create(null),this.options=re||t.defaults,this.options.tokenizer=this.options.tokenizer||new Q,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var A={block:S.normal,inline:fe.normal};this.options.pedantic?(A.block=S.pedantic,A.inline=fe.pedantic):this.options.gfm&&(A.block=S.gfm,this.options.breaks?A.inline=fe.breaks:A.inline=fe.gfm),this.tokenizer.rules=A}ce.lex=function(A,F){var G=new ce(F);return G.lex(A)},ce.lexInline=function(A,F){var G=new ce(F);return G.inlineTokens(A)};var ue=ce.prototype;return ue.lex=function(A){A=A.replace(/\r\n|\r/g,`
`),this.blockTokens(A,this.tokens);for(var F;F=this.inlineQueue.shift();)this.inlineTokens(F.src,F.tokens);return this.tokens},ue.blockTokens=function(A,F){var G=this;F===void 0&&(F=[]),this.options.pedantic?A=A.replace(/\t/g,"    ").replace(/^ +$/gm,""):A=A.replace(/^( *)(\t+)/gm,function($e,it,ke){return it+"    ".repeat(ke.length)});for(var K,ee,be,Ve;A;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function($e){return(K=$e.call({lexer:G},A,F))?(A=A.substring(K.raw.length),F.push(K),!0):!1}))){if(K=this.tokenizer.space(A)){A=A.substring(K.raw.length),K.raw.length===1&&F.length>0?F[F.length-1].raw+=`
`:F.push(K);continue}if(K=this.tokenizer.code(A)){A=A.substring(K.raw.length),ee=F[F.length-1],ee&&(ee.type==="paragraph"||ee.type==="text")?(ee.raw+=`
`+K.raw,ee.text+=`
`+K.text,this.inlineQueue[this.inlineQueue.length-1].src=ee.text):F.push(K);continue}if(K=this.tokenizer.fences(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.heading(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.hr(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.blockquote(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.list(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.html(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.def(A)){A=A.substring(K.raw.length),ee=F[F.length-1],ee&&(ee.type==="paragraph"||ee.type==="text")?(ee.raw+=`
`+K.raw,ee.text+=`
`+K.raw,this.inlineQueue[this.inlineQueue.length-1].src=ee.text):this.tokens.links[K.tag]||(this.tokens.links[K.tag]={href:K.href,title:K.title});continue}if(K=this.tokenizer.table(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.lheading(A)){A=A.substring(K.raw.length),F.push(K);continue}if(be=A,this.options.extensions&&this.options.extensions.startBlock&&function(){var $e=1/0,it=A.slice(1),ke=void 0;G.options.extensions.startBlock.forEach(function(ot){ke=ot.call({lexer:this},it),typeof ke=="number"&&ke>=0&&($e=Math.min($e,ke))}),$e<1/0&&$e>=0&&(be=A.substring(0,$e+1))}(),this.state.top&&(K=this.tokenizer.paragraph(be))){ee=F[F.length-1],Ve&&ee.type==="paragraph"?(ee.raw+=`
`+K.raw,ee.text+=`
`+K.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ee.text):F.push(K),Ve=be.length!==A.length,A=A.substring(K.raw.length);continue}if(K=this.tokenizer.text(A)){A=A.substring(K.raw.length),ee=F[F.length-1],ee&&ee.type==="text"?(ee.raw+=`
`+K.raw,ee.text+=`
`+K.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ee.text):F.push(K);continue}if(A){var Be="Infinite loop on byte: "+A.charCodeAt(0);if(this.options.silent){console.error(Be);break}else throw new Error(Be)}}return this.state.top=!0,F},ue.inline=function(A,F){return F===void 0&&(F=[]),this.inlineQueue.push({src:A,tokens:F}),F},ue.inlineTokens=function(A,F){var G=this;F===void 0&&(F=[]);var K,ee,be,Ve=A,Be,$e,it;if(this.tokens.links){var ke=Object.keys(this.tokens.links);if(ke.length>0)for(;(Be=this.tokenizer.rules.inline.reflinkSearch.exec(Ve))!=null;)ke.includes(Be[0].slice(Be[0].lastIndexOf("[")+1,-1))&&(Ve=Ve.slice(0,Be.index)+"["+Le("a",Be[0].length-2)+"]"+Ve.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Be=this.tokenizer.rules.inline.blockSkip.exec(Ve))!=null;)Ve=Ve.slice(0,Be.index)+"["+Le("a",Be[0].length-2)+"]"+Ve.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Be=this.tokenizer.rules.inline.escapedEmSt.exec(Ve))!=null;)Ve=Ve.slice(0,Be.index+Be[0].length-2)+"++"+Ve.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;A;)if($e||(it=""),$e=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(me){return(K=me.call({lexer:G},A,F))?(A=A.substring(K.raw.length),F.push(K),!0):!1}))){if(K=this.tokenizer.escape(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.tag(A)){A=A.substring(K.raw.length),ee=F[F.length-1],ee&&K.type==="text"&&ee.type==="text"?(ee.raw+=K.raw,ee.text+=K.text):F.push(K);continue}if(K=this.tokenizer.link(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.reflink(A,this.tokens.links)){A=A.substring(K.raw.length),ee=F[F.length-1],ee&&K.type==="text"&&ee.type==="text"?(ee.raw+=K.raw,ee.text+=K.text):F.push(K);continue}if(K=this.tokenizer.emStrong(A,Ve,it)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.codespan(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.br(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.del(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.autolink(A,ze)){A=A.substring(K.raw.length),F.push(K);continue}if(!this.state.inLink&&(K=this.tokenizer.url(A,ze))){A=A.substring(K.raw.length),F.push(K);continue}if(be=A,this.options.extensions&&this.options.extensions.startInline&&function(){var me=1/0,Qt=A.slice(1),Ut=void 0;G.options.extensions.startInline.forEach(function(Vt){Ut=Vt.call({lexer:this},Qt),typeof Ut=="number"&&Ut>=0&&(me=Math.min(me,Ut))}),me<1/0&&me>=0&&(be=A.substring(0,me+1))}(),K=this.tokenizer.inlineText(be,nt)){A=A.substring(K.raw.length),K.raw.slice(-1)!=="_"&&(it=K.raw.slice(-1)),$e=!0,ee=F[F.length-1],ee&&ee.type==="text"?(ee.raw+=K.raw,ee.text+=K.text):F.push(K);continue}if(A){var ot="Infinite loop on byte: "+A.charCodeAt(0);if(this.options.silent){console.error(ot);break}else throw new Error(ot)}}return F},n(ce,null,[{key:"rules",get:function(){return{block:S,inline:fe}}}]),ce}(),Bt=function(){function ce(re){this.options=re||t.defaults}var ue=ce.prototype;return ue.code=function(A,F,G){var K=(F||"").match(/\S*/)[0];if(this.options.highlight){var ee=this.options.highlight(A,K);ee!=null&&ee!==A&&(G=!0,A=ee)}return A=A.replace(/\n$/,"")+`
`,K?'<pre><code class="'+this.options.langPrefix+R(K)+'">'+(G?A:R(A,!0))+`</code></pre>
`:"<pre><code>"+(G?A:R(A,!0))+`</code></pre>
`},ue.blockquote=function(A){return`<blockquote>
`+A+`</blockquote>
`},ue.html=function(A){return A},ue.heading=function(A,F,G,K){if(this.options.headerIds){var ee=this.options.headerPrefix+K.slug(G);return"<h"+F+' id="'+ee+'">'+A+"</h"+F+`>
`}return"<h"+F+">"+A+"</h"+F+`>
`},ue.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ue.list=function(A,F,G){var K=F?"ol":"ul",ee=F&&G!==1?' start="'+G+'"':"";return"<"+K+ee+`>
`+A+"</"+K+`>
`},ue.listitem=function(A){return"<li>"+A+`</li>
`},ue.checkbox=function(A){return"<input "+(A?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ue.paragraph=function(A){return"<p>"+A+`</p>
`},ue.table=function(A,F){return F&&(F="<tbody>"+F+"</tbody>"),`<table>
<thead>
`+A+`</thead>
`+F+`</table>
`},ue.tablerow=function(A){return`<tr>
`+A+`</tr>
`},ue.tablecell=function(A,F){var G=F.header?"th":"td",K=F.align?"<"+G+' align="'+F.align+'">':"<"+G+">";return K+A+("</"+G+`>
`)},ue.strong=function(A){return"<strong>"+A+"</strong>"},ue.em=function(A){return"<em>"+A+"</em>"},ue.codespan=function(A){return"<code>"+A+"</code>"},ue.br=function(){return this.options.xhtml?"<br/>":"<br>"},ue.del=function(A){return"<del>"+A+"</del>"},ue.link=function(A,F,G){if(A=Y(this.options.sanitize,this.options.baseUrl,A),A===null)return G;var K='<a href="'+A+'"';return F&&(K+=' title="'+F+'"'),K+=">"+G+"</a>",K},ue.image=function(A,F,G){if(A=Y(this.options.sanitize,this.options.baseUrl,A),A===null)return G;var K='<img src="'+A+'" alt="'+G+'"';return F&&(K+=' title="'+F+'"'),K+=this.options.xhtml?"/>":">",K},ue.text=function(A){return A},ce}(),Pt=function(){function ce(){}var ue=ce.prototype;return ue.strong=function(A){return A},ue.em=function(A){return A},ue.codespan=function(A){return A},ue.del=function(A){return A},ue.html=function(A){return A},ue.text=function(A){return A},ue.link=function(A,F,G){return""+G},ue.image=function(A,F,G){return""+G},ue.br=function(){return""},ce}(),an=function(){function ce(){this.seen={}}var ue=ce.prototype;return ue.serialize=function(A){return A.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ue.getNextSafeSlug=function(A,F){var G=A,K=0;if(this.seen.hasOwnProperty(G)){K=this.seen[A];do K++,G=A+"-"+K;while(this.seen.hasOwnProperty(G))}return F||(this.seen[A]=K,this.seen[G]=0),G},ue.slug=function(A,F){F===void 0&&(F={});var G=this.serialize(A);return this.getNextSafeSlug(G,F.dryrun)},ce}(),bt=function(){function ce(re){this.options=re||t.defaults,this.options.renderer=this.options.renderer||new Bt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Pt,this.slugger=new an}ce.parse=function(A,F){var G=new ce(F);return G.parse(A)},ce.parseInline=function(A,F){var G=new ce(F);return G.parseInline(A)};var ue=ce.prototype;return ue.parse=function(A,F){F===void 0&&(F=!0);var G="",K,ee,be,Ve,Be,$e,it,ke,ot,me,Qt,Ut,Vt,yt,Yn,dr,Ci,mn,Go,Ko=A.length;for(K=0;K<Ko;K++){if(me=A[K],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[me.type]&&(Go=this.options.extensions.renderers[me.type].call({parser:this},me),Go!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(me.type))){G+=Go||"";continue}switch(me.type){case"space":continue;case"hr":{G+=this.renderer.hr();continue}case"heading":{G+=this.renderer.heading(this.parseInline(me.tokens),me.depth,D(this.parseInline(me.tokens,this.textRenderer)),this.slugger);continue}case"code":{G+=this.renderer.code(me.text,me.lang,me.escaped);continue}case"table":{for(ke="",it="",Ve=me.header.length,ee=0;ee<Ve;ee++)it+=this.renderer.tablecell(this.parseInline(me.header[ee].tokens),{header:!0,align:me.align[ee]});for(ke+=this.renderer.tablerow(it),ot="",Ve=me.rows.length,ee=0;ee<Ve;ee++){for($e=me.rows[ee],it="",Be=$e.length,be=0;be<Be;be++)it+=this.renderer.tablecell(this.parseInline($e[be].tokens),{header:!1,align:me.align[be]});ot+=this.renderer.tablerow(it)}G+=this.renderer.table(ke,ot);continue}case"blockquote":{ot=this.parse(me.tokens),G+=this.renderer.blockquote(ot);continue}case"list":{for(Qt=me.ordered,Ut=me.start,Vt=me.loose,Ve=me.items.length,ot="",ee=0;ee<Ve;ee++)Yn=me.items[ee],dr=Yn.checked,Ci=Yn.task,yt="",Yn.task&&(mn=this.renderer.checkbox(dr),Vt?Yn.tokens.length>0&&Yn.tokens[0].type==="paragraph"?(Yn.tokens[0].text=mn+" "+Yn.tokens[0].text,Yn.tokens[0].tokens&&Yn.tokens[0].tokens.length>0&&Yn.tokens[0].tokens[0].type==="text"&&(Yn.tokens[0].tokens[0].text=mn+" "+Yn.tokens[0].tokens[0].text)):Yn.tokens.unshift({type:"text",text:mn}):yt+=mn),yt+=this.parse(Yn.tokens,Vt),ot+=this.renderer.listitem(yt,Ci,dr);G+=this.renderer.list(ot,Qt,Ut);continue}case"html":{G+=this.renderer.html(me.text);continue}case"paragraph":{G+=this.renderer.paragraph(this.parseInline(me.tokens));continue}case"text":{for(ot=me.tokens?this.parseInline(me.tokens):me.text;K+1<Ko&&A[K+1].type==="text";)me=A[++K],ot+=`
`+(me.tokens?this.parseInline(me.tokens):me.text);G+=F?this.renderer.paragraph(ot):ot;continue}default:{var ji='Token with "'+me.type+'" type was not found.';if(this.options.silent){console.error(ji);return}else throw new Error(ji)}}}return G},ue.parseInline=function(A,F){F=F||this.renderer;var G="",K,ee,be,Ve=A.length;for(K=0;K<Ve;K++){if(ee=A[K],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ee.type]&&(be=this.options.extensions.renderers[ee.type].call({parser:this},ee),be!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ee.type))){G+=be||"";continue}switch(ee.type){case"escape":{G+=F.text(ee.text);break}case"html":{G+=F.html(ee.text);break}case"link":{G+=F.link(ee.href,ee.title,this.parseInline(ee.tokens,F));break}case"image":{G+=F.image(ee.href,ee.title,ee.text);break}case"strong":{G+=F.strong(this.parseInline(ee.tokens,F));break}case"em":{G+=F.em(this.parseInline(ee.tokens,F));break}case"codespan":{G+=F.codespan(ee.text);break}case"br":{G+=F.br();break}case"del":{G+=F.del(this.parseInline(ee.tokens,F));break}case"text":{G+=F.text(ee.text);break}default:{var Be='Token with "'+ee.type+'" type was not found.';if(this.options.silent){console.error(Be);return}else throw new Error(Be)}}}return G},ce}(),Nt=function(){function ce(re){this.options=re||t.defaults}var ue=ce.prototype;return ue.preprocess=function(A){return A},ue.postprocess=function(A){return A},ce}();Nt.passThroughHooks=new Set(["preprocess","postprocess"]);function gn(ce,ue,re){return function(A){if(A.message+=`
Please report this to https://github.com/markedjs/marked.`,ce){var F="<p>An error occurred:</p><pre>"+R(A.message+"",!0)+"</pre>";if(ue)return Promise.resolve(F);if(re){re(null,F);return}return F}if(ue)return Promise.reject(A);if(re){re(A);return}throw A}}function Zt(ce,ue){return function(re,A,F){typeof A=="function"&&(F=A,A=null);var G=r({},A);A=r({},Ye.defaults,G);var K=gn(A.silent,A.async,F);if(typeof re>"u"||re===null)return K(new Error("marked(): input parameter is undefined or null"));if(typeof re!="string")return K(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(re)+", string expected"));if(he(A),A.hooks&&(A.hooks.options=A),F){var ee=A.highlight,be;try{A.hooks&&(re=A.hooks.preprocess(re)),be=ce(re,A)}catch(ke){return K(ke)}var Ve=function(ot){var me;if(!ot)try{A.walkTokens&&Ye.walkTokens(be,A.walkTokens),me=ue(be,A),A.hooks&&(me=A.hooks.postprocess(me))}catch(Qt){ot=Qt}return A.highlight=ee,ot?K(ot):F(null,me)};if(!ee||ee.length<3||(delete A.highlight,!be.length))return Ve();var Be=0;Ye.walkTokens(be,function(ke){ke.type==="code"&&(Be++,setTimeout(function(){ee(ke.text,ke.lang,function(ot,me){if(ot)return Ve(ot);me!=null&&me!==ke.text&&(ke.text=me,ke.escaped=!0),Be--,Be===0&&Ve()})},0))}),Be===0&&Ve();return}if(A.async)return Promise.resolve(A.hooks?A.hooks.preprocess(re):re).then(function(ke){return ce(ke,A)}).then(function(ke){return A.walkTokens?Promise.all(Ye.walkTokens(ke,A.walkTokens)).then(function(){return ke}):ke}).then(function(ke){return ue(ke,A)}).then(function(ke){return A.hooks?A.hooks.postprocess(ke):ke}).catch(K);try{A.hooks&&(re=A.hooks.preprocess(re));var $e=ce(re,A);A.walkTokens&&Ye.walkTokens($e,A.walkTokens);var it=ue($e,A);return A.hooks&&(it=A.hooks.postprocess(it)),it}catch(ke){return K(ke)}}}function Ye(ce,ue,re){return Zt(At.lex,bt.parse)(ce,ue,re)}Ye.options=Ye.setOptions=function(ce){return Ye.defaults=r({},Ye.defaults,ce),y(Ye.defaults),Ye},Ye.getDefaults=m,Ye.defaults=t.defaults,Ye.use=function(){for(var ce=Ye.defaults.extensions||{renderers:{},childTokens:{}},ue=arguments.length,re=new Array(ue),A=0;A<ue;A++)re[A]=arguments[A];re.forEach(function(F){var G=r({},F);if(G.async=Ye.defaults.async||G.async||!1,F.extensions&&(F.extensions.forEach(function(ee){if(!ee.name)throw new Error("extension name required");if(ee.renderer){var be=ce.renderers[ee.name];be?ce.renderers[ee.name]=function(){for(var Ve=arguments.length,Be=new Array(Ve),$e=0;$e<Ve;$e++)Be[$e]=arguments[$e];var it=ee.renderer.apply(this,Be);return it===!1&&(it=be.apply(this,Be)),it}:ce.renderers[ee.name]=ee.renderer}if(ee.tokenizer){if(!ee.level||ee.level!=="block"&&ee.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");ce[ee.level]?ce[ee.level].unshift(ee.tokenizer):ce[ee.level]=[ee.tokenizer],ee.start&&(ee.level==="block"?ce.startBlock?ce.startBlock.push(ee.start):ce.startBlock=[ee.start]:ee.level==="inline"&&(ce.startInline?ce.startInline.push(ee.start):ce.startInline=[ee.start]))}ee.childTokens&&(ce.childTokens[ee.name]=ee.childTokens)}),G.extensions=ce),F.renderer&&function(){var ee=Ye.defaults.renderer||new Bt,be=function($e){var it=ee[$e];ee[$e]=function(){for(var ke=arguments.length,ot=new Array(ke),me=0;me<ke;me++)ot[me]=arguments[me];var Qt=F.renderer[$e].apply(ee,ot);return Qt===!1&&(Qt=it.apply(ee,ot)),Qt}};for(var Ve in F.renderer)be(Ve);G.renderer=ee}(),F.tokenizer&&function(){var ee=Ye.defaults.tokenizer||new Q,be=function($e){var it=ee[$e];ee[$e]=function(){for(var ke=arguments.length,ot=new Array(ke),me=0;me<ke;me++)ot[me]=arguments[me];var Qt=F.tokenizer[$e].apply(ee,ot);return Qt===!1&&(Qt=it.apply(ee,ot)),Qt}};for(var Ve in F.tokenizer)be(Ve);G.tokenizer=ee}(),F.hooks&&function(){var ee=Ye.defaults.hooks||new Nt,be=function($e){var it=ee[$e];Nt.passThroughHooks.has($e)?ee[$e]=function(ke){if(Ye.defaults.async)return Promise.resolve(F.hooks[$e].call(ee,ke)).then(function(me){return it.call(ee,me)});var ot=F.hooks[$e].call(ee,ke);return it.call(ee,ot)}:ee[$e]=function(){for(var ke=arguments.length,ot=new Array(ke),me=0;me<ke;me++)ot[me]=arguments[me];var Qt=F.hooks[$e].apply(ee,ot);return Qt===!1&&(Qt=it.apply(ee,ot)),Qt}};for(var Ve in F.hooks)be(Ve);G.hooks=ee}(),F.walkTokens){var K=Ye.defaults.walkTokens;G.walkTokens=function(ee){var be=[];return be.push(F.walkTokens.call(this,ee)),K&&(be=be.concat(K.call(this,ee))),be}}Ye.setOptions(G)})},Ye.walkTokens=function(ce,ue){for(var re=[],A=function(){var ee=G.value;switch(re=re.concat(ue.call(Ye,ee)),ee.type){case"table":{for(var be=a(ee.header),Ve;!(Ve=be()).done;){var Be=Ve.value;re=re.concat(Ye.walkTokens(Be.tokens,ue))}for(var $e=a(ee.rows),it;!(it=$e()).done;)for(var ke=it.value,ot=a(ke),me;!(me=ot()).done;){var Qt=me.value;re=re.concat(Ye.walkTokens(Qt.tokens,ue))}break}case"list":{re=re.concat(Ye.walkTokens(ee.items,ue));break}default:Ye.defaults.extensions&&Ye.defaults.extensions.childTokens&&Ye.defaults.extensions.childTokens[ee.type]?Ye.defaults.extensions.childTokens[ee.type].forEach(function(Ut){re=re.concat(Ye.walkTokens(ee[Ut],ue))}):ee.tokens&&(re=re.concat(Ye.walkTokens(ee.tokens,ue)))}},F=a(ce),G;!(G=F()).done;)A();return re},Ye.parseInline=Zt(At.lexInline,bt.parseInline),Ye.Parser=bt,Ye.parser=bt.parse,Ye.Renderer=Bt,Ye.TextRenderer=Pt,Ye.Lexer=At,Ye.lexer=At.lex,Ye.Tokenizer=Q,Ye.Slugger=an,Ye.Hooks=Nt,Ye.parse=Ye;var Ur=Ye.options,kn=Ye.setOptions,Cr=Ye.use,Si=Ye.walkTokens,mt=Ye.parseInline,dn=Ye,br=bt.parse,$i=At.lex;t.Hooks=Nt,t.Lexer=At,t.Parser=bt,t.Renderer=Bt,t.Slugger=an,t.TextRenderer=Pt,t.Tokenizer=Q,t.getDefaults=m,t.lexer=$i,t.marked=Ye,t.options=Ur,t.parse=dn,t.parseInline=mt,t.parser=br,t.setOptions=kn,t.use=Cr,t.walkTokens=Si})(iF);var Qf=yo,pZ=dZ,oE=iF.marked,oF=/Mac/.test(navigator.platform),gZ=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),Jg={toggleBold:T_,toggleItalic:k_,drawLink:M_,toggleHeadingSmaller:em,toggleHeadingBigger:D_,drawImage:B_,toggleBlockquote:b_,toggleOrderedList:F_,toggleUnorderedList:N_,toggleCodeBlock:I_,togglePreview:$_,toggleStrikethrough:A_,toggleHeading1:R_,toggleHeading2:L_,toggleHeading3:P_,toggleHeading4:NT,toggleHeading5:FT,toggleHeading6:OT,cleanBlock:O_,drawTable:U_,drawHorizontalRule:V_,undo:z_,redo:H_,toggleSideBySide:ld,toggleFullScreen:Hc},mZ={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},vZ=function(t){for(var e in Jg)if(Jg[e]===t)return e;return null},XS=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t};function yZ(t){for(var e;(e=gZ.exec(t))!==null;){var n=e[0];if(n.indexOf("target=")===-1){var r=n.replace(/>$/,' target="_blank">');t=t.replace(n,r)}}return t}function _Z(t){for(var e=new DOMParser,n=e.parseFromString(t,"text/html"),r=n.getElementsByTagName("li"),i=0;i<r.length;i++)for(var s=r[i],a=0;a<s.children.length;a++){var c=s.children[a];c instanceof HTMLInputElement&&c.type==="checkbox"&&(s.style.marginLeft="-1.5em",s.style.listStyleType="none")}return n.documentElement.innerHTML}function sF(t){return oF?t=t.replace("Ctrl","Cmd"):t=t.replace("Cmd","Ctrl"),t}function wZ(t,e,n,r){var i=ey(t,!1,e,n,"button",r);i.classList.add("easymde-dropdown"),i.onclick=function(){i.focus()};var s=document.createElement("div");s.className="easymde-dropdown-content";for(var a=0;a<t.children.length;a++){var c=t.children[a],p;typeof c=="string"&&c in Ic?p=ey(Ic[c],!0,e,n,"button",r):p=ey(c,!0,e,n,"button",r),p.addEventListener("click",function(m){m.stopPropagation()},!1),s.appendChild(p)}return i.appendChild(s),i}function ey(t,e,n,r,i,s){t=t||{};var a=document.createElement(i);if(t.attributes)for(var c in t.attributes)Object.prototype.hasOwnProperty.call(t.attributes,c)&&a.setAttribute(c,t.attributes[c]);var p=s.options.toolbarButtonClassPrefix?s.options.toolbarButtonClassPrefix+"-":"";a.className=p+t.name,a.setAttribute("type",i),n=n??!0,t.text&&(a.innerText=t.text),t.name&&t.name in r&&(Jg[t.name]=t.action),t.title&&n&&(a.title=EZ(t.title,t.action,r),oF&&(a.title=a.title.replace("Ctrl","⌘"),a.title=a.title.replace("Alt","⌥"))),t.title&&a.setAttribute("aria-label",t.title),t.noDisable&&a.classList.add("no-disable"),t.noMobile&&a.classList.add("no-mobile");var m=[];typeof t.className<"u"&&(m=t.className.split(" "));for(var y=[],w=0;w<m.length;w++){var E=m[w];E.match(/^fa([srlb]|(-[\w-]*)|$)/)?y.push(E):a.classList.add(E)}if(a.tabIndex=-1,y.length>0){for(var C=document.createElement("i"),P=0;P<y.length;P++){var O=y[P];C.classList.add(O)}a.appendChild(C)}return typeof t.icon<"u"&&(a.innerHTML=t.icon),t.action&&e&&(typeof t.action=="function"?a.onclick=function(M){M.preventDefault(),t.action(s)}:typeof t.action=="string"&&(a.onclick=function(M){M.preventDefault(),window.open(t.action,"_blank")})),a}function xZ(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function EZ(t,e,n){var r,i=t;return e&&(r=vZ(e),n[r]&&(i+=" ("+sF(n[r])+")")),i}function bu(t,e){e=e||t.getCursor("start");var n=t.getTokenAt(e);if(!n.type)return{};for(var r=n.type.split(" "),i={},s,a,c=0;c<r.length;c++)s=r[c],s==="strong"?i.bold=!0:s==="variable-2"?(a=t.getLine(e.line),/^\s*\d+\.\s/.test(a)?i["ordered-list"]=!0:i["unordered-list"]=!0):s==="atom"?i.quote=!0:s==="em"?i.italic=!0:s==="quote"?i.quote=!0:s==="strikethrough"?i.strikethrough=!0:s==="comment"?i.code=!0:s==="link"&&!i.image?i.link=!0:s==="image"?i.image=!0:s.match(/^header(-[1-6])?$/)&&(i[s.replace("header","heading")]=!0);return i}var uD="";function Hc(t){var e=t.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(uD=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=uD;var n=e.getWrapperElement(),r=n.nextSibling;if(r.classList.contains("editor-preview-active-side"))if(t.options.sideBySideFullscreen===!1){var i=n.parentNode;e.getOption("fullScreen")?i.classList.remove("sided--no-fullscreen"):i.classList.add("sided--no-fullscreen")}else ld(t);if(t.options.onToggleFullScreen&&t.options.onToggleFullScreen(e.getOption("fullScreen")||!1),typeof t.options.maxHeight<"u"&&(e.getOption("fullScreen")?(e.getScrollerElement().style.removeProperty("height"),r.style.removeProperty("height")):(e.getScrollerElement().style.height=t.options.maxHeight,t.setPreviewMaxHeight())),t.toolbar_div.classList.toggle("fullscreen"),t.toolbarElements&&t.toolbarElements.fullscreen){var s=t.toolbarElements.fullscreen;s.classList.toggle("active")}}function T_(t){UT(t,"bold",t.options.blockStyles.bold)}function k_(t){UT(t,"italic",t.options.blockStyles.italic)}function A_(t){UT(t,"strikethrough","~~")}function I_(t){var e=t.options.blockStyles.code;function n(Pe){if(typeof Pe!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof Pe+": "+Pe;return Pe.styles&&Pe.styles[2]&&Pe.styles[2].indexOf("formatting-code-block")!==-1}function r(Pe){return Pe.state.base.base||Pe.state.base}function i(Pe,Z,we,de,he){we=we||Pe.getLineHandle(Z),de=de||Pe.getTokenAt({line:Z,ch:1}),he=he||!!we.text&&Pe.getTokenAt({line:Z,ch:we.text.length-1});var Le=de.type?de.type.split(" "):[];return he&&r(he).indentedCode?"indented":Le.indexOf("comment")===-1?!1:r(de).fencedChars||r(he).fencedChars||n(we)?"fenced":"single"}function s(Pe,Z,we,de){var he=Z.line+1,Le=we.line+1,q=Z.line!==we.line,tt=de+`
`,Q=`
`+de;q&&Le++,q&&we.ch===0&&(Q=de+`
`,Le--),$c(Pe,!1,[tt,Q]),Pe.setSelection({line:he,ch:0},{line:Le,ch:0})}var a=t.codemirror,c=a.getCursor("start"),p=a.getCursor("end"),m=a.getTokenAt({line:c.line,ch:c.ch||1}),y=a.getLineHandle(c.line),w=i(a,c.line,y,m),E,C,P;if(w==="single"){var O=y.text.slice(0,c.ch).replace("`",""),M=y.text.slice(c.ch).replace("`","");a.replaceRange(O+M,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),c.ch--,c!==p&&p.ch--,a.setSelection(c,p),a.focus()}else if(w==="fenced")if(c.line!==p.line||c.ch!==p.ch){for(E=c.line;E>=0&&(y=a.getLineHandle(E),!n(y));E--);var R=a.getTokenAt({line:E,ch:1}),b=r(R).fencedChars,D,B,j,U;n(a.getLineHandle(c.line))?(D="",B=c.line):n(a.getLineHandle(c.line-1))?(D="",B=c.line-1):(D=b+`
`,B=c.line),n(a.getLineHandle(p.line))?(j="",U=p.line,p.ch===0&&(U+=1)):p.ch!==0&&n(a.getLineHandle(p.line+1))?(j="",U=p.line+1):(j=b+`
`,U=p.line+1),p.ch===0&&(U-=1),a.operation(function(){a.replaceRange(j,{line:U,ch:0},{line:U+(j?0:1),ch:0}),a.replaceRange(D,{line:B,ch:0},{line:B+(D?0:1),ch:0})}),a.setSelection({line:B+(D?1:0),ch:0},{line:U+(D?1:-1),ch:0}),a.focus()}else{var W=c.line;if(n(a.getLineHandle(c.line))&&(i(a,c.line+1)==="fenced"?(E=c.line,W=c.line+1):(C=c.line,W=c.line-1)),E===void 0)for(E=W;E>=0&&(y=a.getLineHandle(E),!n(y));E--);if(C===void 0)for(P=a.lineCount(),C=W;C<P&&(y=a.getLineHandle(C),!n(y));C++);a.operation(function(){a.replaceRange("",{line:E,ch:0},{line:E+1,ch:0}),a.replaceRange("",{line:C-1,ch:0},{line:C,ch:0})}),a.focus()}else if(w==="indented"){if(c.line!==p.line||c.ch!==p.ch)E=c.line,C=p.line,p.ch===0&&C--;else{for(E=c.line;E>=0;E--)if(y=a.getLineHandle(E),!y.text.match(/^\s*$/)&&i(a,E,y)!=="indented"){E+=1;break}for(P=a.lineCount(),C=c.line;C<P;C++)if(y=a.getLineHandle(C),!y.text.match(/^\s*$/)&&i(a,C,y)!=="indented"){C-=1;break}}var Y=a.getLineHandle(C+1),ae=Y&&a.getTokenAt({line:C+1,ch:Y.text.length-1}),_e=ae&&r(ae).indentedCode;_e&&a.replaceRange(`
`,{line:C+1,ch:0});for(var ie=E;ie<=C;ie++)a.indentLine(ie,"subtract");a.focus()}else{var ye=c.line===p.line&&c.ch===p.ch&&c.ch===0,Ue=c.line!==p.line;ye||Ue?s(a,c,p,e):$c(a,!1,["`","`"])}}function b_(t){BT(t.codemirror,"quote")}function em(t){Du(t.codemirror,"smaller")}function D_(t){Du(t.codemirror,"bigger")}function R_(t){Du(t.codemirror,void 0,1)}function L_(t){Du(t.codemirror,void 0,2)}function P_(t){Du(t.codemirror,void 0,3)}function NT(t){Du(t.codemirror,void 0,4)}function FT(t){Du(t.codemirror,void 0,5)}function OT(t){Du(t.codemirror,void 0,6)}function N_(t){var e=t.codemirror,n="*";["-","+","*"].includes(t.options.unorderedListStyle)&&(n=t.options.unorderedListStyle),BT(e,"unordered-list",n)}function F_(t){BT(t.codemirror,"ordered-list")}function O_(t){SZ(t.codemirror)}function M_(t){var e=t.options,n="https://";if(e.promptURLs){var r=prompt(e.promptTexts.link,n);if(!r)return!1;n=aF(r)}uF(t,"link",e.insertTexts.link,n)}function B_(t){var e=t.options,n="https://";if(e.promptURLs){var r=prompt(e.promptTexts.image,n);if(!r)return!1;n=aF(r)}uF(t,"image",e.insertTexts.image,n)}function aF(t){return encodeURI(t).replace(/([\\()])/g,"\\$1")}function MT(t){t.openBrowseFileWindow()}function lF(t,e){var n=t.codemirror,r=bu(n),i=t.options,s=e.substr(e.lastIndexOf("/")+1),a=s.substring(s.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(a))$c(n,r.image,i.insertTexts.uploadedImage,e);else{var c=i.insertTexts.link;c[0]="["+s,$c(n,r.link,c,e)}t.updateStatusBar("upload-image",t.options.imageTexts.sbOnUploaded.replace("#image_name#",s)),setTimeout(function(){t.updateStatusBar("upload-image",t.options.imageTexts.sbInit)},1e3)}function U_(t){var e=t.codemirror,n=bu(e),r=t.options;$c(e,n.table,r.insertTexts.table)}function V_(t){var e=t.codemirror,n=bu(e),r=t.options;$c(e,n.image,r.insertTexts.horizontalRule)}function z_(t){var e=t.codemirror;e.undo(),e.focus()}function H_(t){var e=t.codemirror;e.redo(),e.focus()}function ld(t){var e=t.codemirror,n=e.getWrapperElement(),r=n.nextSibling,i=t.toolbarElements&&t.toolbarElements["side-by-side"],s=!1,a=n.parentNode;r.classList.contains("editor-preview-active-side")?(t.options.sideBySideFullscreen===!1&&a.classList.remove("sided--no-fullscreen"),r.classList.remove("editor-preview-active-side"),i&&i.classList.remove("active"),n.classList.remove("CodeMirror-sided")):(setTimeout(function(){e.getOption("fullScreen")||(t.options.sideBySideFullscreen===!1?a.classList.add("sided--no-fullscreen"):Hc(t)),r.classList.add("editor-preview-active-side")},1),i&&i.classList.add("active"),n.classList.add("CodeMirror-sided"),s=!0);var c=n.lastChild;if(c.classList.contains("editor-preview-active")){c.classList.remove("editor-preview-active");var p=t.toolbarElements.preview,m=t.toolbar_div;p.classList.remove("active"),m.classList.remove("disabled-for-preview")}var y=function(){var E=t.options.previewRender(t.value(),r);E!=null&&(r.innerHTML=E)};if(e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=y),s){var w=t.options.previewRender(t.value(),r);w!=null&&(r.innerHTML=w),e.on("update",e.sideBySideRenderingFunction)}else e.off("update",e.sideBySideRenderingFunction);e.refresh()}function $_(t){var e=t.codemirror,n=e.getWrapperElement(),r=t.toolbar_div,i=t.options.toolbar?t.toolbarElements.preview:!1,s=n.lastChild,a=e.getWrapperElement().nextSibling;if(a.classList.contains("editor-preview-active-side")&&ld(t),!s||!s.classList.contains("editor-preview-full")){if(s=document.createElement("div"),s.className="editor-preview-full",t.options.previewClass)if(Array.isArray(t.options.previewClass))for(var c=0;c<t.options.previewClass.length;c++)s.classList.add(t.options.previewClass[c]);else typeof t.options.previewClass=="string"&&s.classList.add(t.options.previewClass);n.appendChild(s)}s.classList.contains("editor-preview-active")?(s.classList.remove("editor-preview-active"),i&&(i.classList.remove("active"),r.classList.remove("disabled-for-preview"))):(setTimeout(function(){s.classList.add("editor-preview-active")},1),i&&(i.classList.add("active"),r.classList.add("disabled-for-preview")));var p=t.options.previewRender(t.value(),s);p!==null&&(s.innerHTML=p)}function $c(t,e,n,r){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var i,s=n[0],a=n[1],c={},p={};Object.assign(c,t.getCursor("start")),Object.assign(p,t.getCursor("end")),r&&(s=s.replace("#url#",r),a=a.replace("#url#",r)),e?(i=t.getLine(c.line),s=i.slice(0,c.ch),a=i.slice(c.ch),t.replaceRange(s+a,{line:c.line,ch:0})):(i=t.getSelection(),t.replaceSelection(s+i+a),c.ch+=s.length,c!==p&&(p.ch+=s.length)),t.setSelection(c,p),t.focus()}}function Du(t,e,n){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var r=t.getCursor("start"),i=t.getCursor("end"),s=r.line;s<=i.line;s++)(function(a){var c=t.getLine(a),p=c.search(/[^#]/);e!==void 0?p<=0?e=="bigger"?c="###### "+c:c="# "+c:p==6&&e=="smaller"?c=c.substr(7):p==1&&e=="bigger"?c=c.substr(2):e=="bigger"?c=c.substr(1):c="#"+c:p<=0?c="#".repeat(n)+" "+c:p==n?c=c.substr(p+1):c="#".repeat(n)+" "+c.substr(p+1),t.replaceRange(c,{line:a,ch:0},{line:a,ch:99999999999999})})(s);t.focus()}}function BT(t,e,n){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var r=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,i=/^\s*/,s=bu(t),a=t.getCursor("start"),c=t.getCursor("end"),p={quote:/^(\s*)>\s+/,"unordered-list":r,"ordered-list":r},m=function(P,O){var M={quote:">","unordered-list":n,"ordered-list":"%%i."};return M[P].replace("%%i",O)},y=function(P,O){var M={quote:">","unordered-list":"\\"+n,"ordered-list":"\\d+."},R=new RegExp(M[P]);return O&&R.test(O)},w=function(P,O,M){var R=r.exec(O),b=m(P,E);return R!==null?(y(P,R[2])&&(b=""),O=R[1]+b+R[3]+O.replace(i,"").replace(p[P],"$1")):M==!1&&(O=b+" "+O),O},E=1,C=a.line;C<=c.line;C++)(function(P){var O=t.getLine(P);s[e]?O=O.replace(p[e],"$1"):(e=="unordered-list"&&(O=w("ordered-list",O,!0)),O=w(e,O,!1),E+=1),t.replaceRange(O,{line:P,ch:0},{line:P,ch:99999999999999})})(C);t.focus()}}function uF(t,e,n,r){if(!(!t.codemirror||t.isPreviewActive())){var i=t.codemirror,s=bu(i),a=s[e];if(!a){$c(i,a,n,r);return}var c=i.getCursor("start"),p=i.getCursor("end"),m=i.getLine(c.line),y=m.slice(0,c.ch),w=m.slice(c.ch);e=="link"?y=y.replace(/(.*)[^!]\[/,"$1"):e=="image"&&(y=y.replace(/(.*)!\[$/,"$1")),w=w.replace(/]\(.*?\)/,""),i.replaceRange(y+w,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),c.ch-=n[0].length,c!==p&&(p.ch-=n[0].length),i.setSelection(c,p),i.focus()}}function UT(t,e,n,r){if(!(!t.codemirror||t.isPreviewActive())){r=typeof r>"u"?n:r;var i=t.codemirror,s=bu(i),a,c=n,p=r,m=i.getCursor("start"),y=i.getCursor("end");s[e]?(a=i.getLine(m.line),c=a.slice(0,m.ch),p=a.slice(m.ch),e=="bold"?(c=c.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),p=p.replace(/(\*\*|__)/,"")):e=="italic"?(c=c.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),p=p.replace(/(\*|_)/,"")):e=="strikethrough"&&(c=c.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),p=p.replace(/(\*\*|~~)/,"")),i.replaceRange(c+p,{line:m.line,ch:0},{line:m.line,ch:99999999999999}),e=="bold"||e=="strikethrough"?(m.ch-=2,m!==y&&(y.ch-=2)):e=="italic"&&(m.ch-=1,m!==y&&(y.ch-=1))):(a=i.getSelection(),e=="bold"?(a=a.split("**").join(""),a=a.split("__").join("")):e=="italic"?(a=a.split("*").join(""),a=a.split("_").join("")):e=="strikethrough"&&(a=a.split("~~").join("")),i.replaceSelection(c+a+p),m.ch+=n.length,y.ch=m.ch+a.length),i.setSelection(m,y),i.focus()}}function SZ(t){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var e=t.getCursor("start"),n=t.getCursor("end"),r,i=e.line;i<=n.line;i++)r=t.getLine(i),r=r.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}function n1(t,e){if(Math.abs(t)<1024)return""+t+e[0];var n=0;do t/=1024,++n;while(Math.abs(t)>=1024&&n<e.length);return""+t.toFixed(1)+e[n]}function cF(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]instanceof Array?t[n]=e[n].concat(t[n]instanceof Array?t[n]:[]):e[n]!==null&&typeof e[n]=="object"&&e[n].constructor===Object?t[n]=cF(t[n]||{},e[n]):t[n]=e[n]);return t}function Oa(t){for(var e=1;e<arguments.length;e++)t=cF(t,arguments[e]);return t}function cD(t){var e=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=t.match(e),r=0;if(n===null)return r;for(var i=0;i<n.length;i++)n[i].charCodeAt(0)>=19968?r+=n[i].length:r+=1;return r}var xn={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},Ic={bold:{name:"bold",action:T_,className:xn.bold,title:"Bold",default:!0},italic:{name:"italic",action:k_,className:xn.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:A_,className:xn.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:em,className:xn.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:em,className:xn["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:D_,className:xn["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:R_,className:xn["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:L_,className:xn["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:P_,className:xn["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:I_,className:xn.code,title:"Code"},quote:{name:"quote",action:b_,className:xn.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:N_,className:xn["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:F_,className:xn["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:O_,className:xn["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:M_,className:xn.link,title:"Create Link",default:!0},image:{name:"image",action:B_,className:xn.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:MT,className:xn["upload-image"],title:"Import an image"},table:{name:"table",action:U_,className:xn.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:V_,className:xn["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:$_,className:xn.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:ld,className:xn["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:Hc,className:xn.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:xn.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:z_,className:xn.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:H_,className:xn.redo,noDisable:!0,title:"Redo"}},CZ={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},TZ={link:"URL for the link:",image:"URL of the image:"},kZ={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},AZ={bold:"**",code:"```",italic:"*"},IZ={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},bZ={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function Ke(t){t=t||{},t.parent=this;var e=!0;if(t.autoDownloadFontAwesome===!1&&(e=!1),t.autoDownloadFontAwesome!==!0)for(var n=document.styleSheets,r=0;r<n.length;r++)n[r].href&&n[r].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(e=!1);if(e){var i=document.createElement("link");i.rel="stylesheet",i.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(i)}if(t.element)this.element=t.element;else if(t.element===null){console.log("EasyMDE: Error. No element was found.");return}if(t.toolbar===void 0){t.toolbar=[];for(var s in Ic)Object.prototype.hasOwnProperty.call(Ic,s)&&(s.indexOf("separator-")!=-1&&t.toolbar.push("|"),(Ic[s].default===!0||t.showIcons&&t.showIcons.constructor===Array&&t.showIcons.indexOf(s)!=-1)&&t.toolbar.push(s))}if(Object.prototype.hasOwnProperty.call(t,"previewClass")||(t.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(t,"status")||(t.status=["autosave","lines","words","cursor"],t.uploadImage&&t.status.unshift("upload-image")),t.previewRender||(t.previewRender=function(c){return this.parent.markdown(c)}),t.parsingConfig=Oa({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=Oa({},CZ,t.insertTexts||{}),t.promptTexts=Oa({},TZ,t.promptTexts||{}),t.blockStyles=Oa({},AZ,t.blockStyles||{}),t.autosave!=null&&(t.autosave.timeFormat=Oa({},kZ,t.autosave.timeFormat||{})),t.iconClassMap=Oa({},xn,t.iconClassMap||{}),t.shortcuts=Oa({},mZ,t.shortcuts||{}),t.maxHeight=t.maxHeight||void 0,t.direction=t.direction||"ltr",typeof t.maxHeight<"u"?t.minHeight=t.maxHeight:t.minHeight=t.minHeight||"300px",t.errorCallback=t.errorCallback||function(c){alert(c)},t.uploadImage=t.uploadImage||!1,t.imageMaxSize=t.imageMaxSize||2097152,t.imageAccept=t.imageAccept||"image/png, image/jpeg, image/gif, image/avif",t.imageTexts=Oa({},IZ,t.imageTexts||{}),t.errorMessages=Oa({},bZ,t.errorMessages||{}),t.imagePathAbsolute=t.imagePathAbsolute||!1,t.imageCSRFName=t.imageCSRFName||"csrfmiddlewaretoken",t.imageCSRFHeader=t.imageCSRFHeader||!1,t.autosave!=null&&t.autosave.unique_id!=null&&t.autosave.unique_id!=""&&(t.autosave.uniqueId=t.autosave.unique_id),t.overlayMode&&t.overlayMode.combine===void 0&&(t.overlayMode.combine=!0),this.options=t,this.render(),t.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(t.initialValue),t.uploadImage){var a=this;this.codemirror.on("dragenter",function(c,p){a.updateStatusBar("upload-image",a.options.imageTexts.sbOnDragEnter),p.stopPropagation(),p.preventDefault()}),this.codemirror.on("dragend",function(c,p){a.updateStatusBar("upload-image",a.options.imageTexts.sbInit),p.stopPropagation(),p.preventDefault()}),this.codemirror.on("dragleave",function(c,p){a.updateStatusBar("upload-image",a.options.imageTexts.sbInit),p.stopPropagation(),p.preventDefault()}),this.codemirror.on("dragover",function(c,p){a.updateStatusBar("upload-image",a.options.imageTexts.sbOnDragEnter),p.stopPropagation(),p.preventDefault()}),this.codemirror.on("drop",function(c,p){p.stopPropagation(),p.preventDefault(),t.imageUploadFunction?a.uploadImagesUsingCustomFunction(t.imageUploadFunction,p.dataTransfer.files):a.uploadImages(p.dataTransfer.files)}),this.codemirror.on("paste",function(c,p){t.imageUploadFunction?a.uploadImagesUsingCustomFunction(t.imageUploadFunction,p.clipboardData.files):a.uploadImages(p.clipboardData.files)})}}Ke.prototype.uploadImages=function(t,e,n){if(t.length!==0){for(var r=[],i=0;i<t.length;i++)r.push(t[i].name),this.uploadImage(t[i],e,n);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",r.join(", ")))}};Ke.prototype.uploadImagesUsingCustomFunction=function(t,e){if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(e[r].name),this.uploadImageUsingCustomFunction(t,e[r]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",n.join(", ")))}};Ke.prototype.updateStatusBar=function(t,e){if(this.gui.statusbar){var n=this.gui.statusbar.getElementsByClassName(t);n.length===1?this.gui.statusbar.getElementsByClassName(t)[0].textContent=e:n.length===0?console.log("EasyMDE: status bar item "+t+" was not found."):console.log("EasyMDE: Several status bar items named "+t+" was found.")}};Ke.prototype.markdown=function(t){if(oE){var e;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?e=this.options.renderingConfig.markedOptions:e={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var n=this.options.renderingConfig.hljs||window.hljs;n&&(e.highlight=function(i,s){return s&&n.getLanguage(s)?n.highlight(s,i).value:n.highlightAuto(i).value})}oE.setOptions(e);var r=oE.parse(t);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(r=this.options.renderingConfig.sanitizerFunction.call(this,r)),r=yZ(r),r=_Z(r),r}};Ke.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===t)return;this.element=t;var e=this.options,n=this,r={};for(var i in e.shortcuts)e.shortcuts[i]!==null&&Jg[i]!==null&&function(M){r[sF(e.shortcuts[M])]=function(){var R=Jg[M];typeof R=="function"?R(n):typeof R=="string"&&window.open(R,"_blank")}}(i);r.Enter="newlineAndIndentContinueMarkdownList",r.Tab="tabAndIndentMarkdownList",r["Shift-Tab"]="shiftTabAndUnindentMarkdownList",r.Esc=function(M){M.getOption("fullScreen")&&Hc(n)},this.documentOnKeyDown=function(M){M=M||window.event,M.keyCode==27&&n.codemirror.getOption("fullScreen")&&Hc(n)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var s,a;e.overlayMode?(Qf.defineMode("overlay-mode",function(M){return Qf.overlayMode(Qf.getMode(M,e.spellChecker!==!1?"spell-checker":"gfm"),e.overlayMode.mode,e.overlayMode.combine)}),s="overlay-mode",a=e.parsingConfig,a.gitHubSpice=!1):(s=e.parsingConfig,s.name="gfm",s.gitHubSpice=!1),e.spellChecker!==!1&&(s="spell-checker",a=e.parsingConfig,a.name="gfm",a.gitHubSpice=!1,typeof e.spellChecker=="function"?e.spellChecker({codeMirrorInstance:Qf}):pZ({codeMirrorInstance:Qf}));function c(M,R,b){return{addNew:!1}}if(this.codemirror=Qf.fromTextArea(t,{mode:s,backdrop:a,theme:e.theme!=null?e.theme:"easymde",tabSize:e.tabSize!=null?e.tabSize:2,indentUnit:e.tabSize!=null?e.tabSize:2,indentWithTabs:e.indentWithTabs!==!1,lineNumbers:e.lineNumbers===!0,autofocus:e.autofocus===!0,extraKeys:r,direction:e.direction,lineWrapping:e.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:e.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:e.styleSelectedText!=null?e.styleSelectedText:!XS(),scrollbarStyle:e.scrollbarStyle!=null?e.scrollbarStyle:"native",configureMouse:c,inputStyle:e.inputStyle!=null?e.inputStyle:XS()?"contenteditable":"textarea",spellcheck:e.nativeSpellcheck!=null?e.nativeSpellcheck:!0,autoRefresh:e.autoRefresh!=null?e.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=e.minHeight,typeof e.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=e.maxHeight),e.forceSync===!0){var p=this.codemirror;p.on("change",function(){p.save()})}this.gui={};var m=document.createElement("div");m.classList.add("EasyMDEContainer"),m.setAttribute("role","application");var y=this.codemirror.getWrapperElement();y.parentNode.insertBefore(m,y),m.appendChild(y),e.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),e.status!==!1&&(this.gui.statusbar=this.createStatusbar()),e.autosave!=null&&e.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(n._autosave_timeout),n._autosave_timeout=setTimeout(function(){n.autosave()},n.options.autosave.submit_delay||n.options.autosave.delay||1e3)}));function w(M,R){var b,D=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return M<D?b=R+"px":b=R/M*100+"%",b}var E=this;function C(M,R){M.setAttribute("data-img-src",R.url),M.setAttribute("style","--bg-image:url("+R.url+");--width:"+R.naturalWidth+"px;--height:"+w(R.naturalWidth,R.naturalHeight)),E.codemirror.setSize()}function P(){e.previewImagesInEditor&&m.querySelectorAll(".cm-image-marker").forEach(function(M){var R=M.parentElement;if(R.innerText.match(/^!\[.*?\]\(.*\)/g)&&!R.hasAttribute("data-img-src")){var b=R.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),b&&b.length>=2){var D=b[1];if(e.imagesPreviewHandler){var B=e.imagesPreviewHandler(b[1]);typeof B=="string"&&(D=B)}if(window.EMDEimagesCache[D])C(R,window.EMDEimagesCache[D]);else{var j=document.createElement("img");j.onload=function(){window.EMDEimagesCache[D]={naturalWidth:j.naturalWidth,naturalHeight:j.naturalHeight,url:D},C(R,window.EMDEimagesCache[D])},j.src=D}}}})}this.codemirror.on("update",function(){P()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(e.autofocus===!0||t.autofocus)&&this.codemirror.focus();var O=this.codemirror;setTimeout((function(){O.refresh()}).bind(O),0)};Ke.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function fF(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}Ke.prototype.autosave=function(){if(fF()){var t=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(t.element.form!=null&&t.element.form!=null&&t.element.form.addEventListener("submit",function(){clearTimeout(t.autosaveTimeoutId),t.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+t.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var e=t.value();e!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,e):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var n=document.getElementById("autosaved");if(n!=null&&n!=null&&n!=""){var r=new Date,i=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(r),s=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;n.innerHTML=s+i}}else console.log("EasyMDE: localStorage not available, cannot autosave")};Ke.prototype.clearAutosavedValue=function(){if(fF()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};Ke.prototype.openBrowseFileWindow=function(t,e){var n=this,r=this.gui.toolbar.getElementsByClassName("imageInput")[0];r.click();function i(s){n.options.imageUploadFunction?n.uploadImagesUsingCustomFunction(n.options.imageUploadFunction,s.target.files):n.uploadImages(s.target.files,t,e),r.removeEventListener("change",i)}r.addEventListener("change",i)};Ke.prototype.uploadImage=function(t,e,n){var r=this;e=e||function(m){lF(r,m)};function i(p){r.updateStatusBar("upload-image",p),setTimeout(function(){r.updateStatusBar("upload-image",r.options.imageTexts.sbInit)},1e4),n&&typeof n=="function"&&n(p),r.options.errorCallback(p)}function s(p){var m=r.options.imageTexts.sizeUnits.split(",");return p.replace("#image_name#",t.name).replace("#image_size#",n1(t.size,m)).replace("#image_max_size#",n1(r.options.imageMaxSize,m))}if(t.size>this.options.imageMaxSize){i(s(this.options.errorMessages.fileTooLarge));return}var a=new FormData;a.append("image",t),r.options.imageCSRFToken&&!r.options.imageCSRFHeader&&a.append(r.options.imageCSRFName,r.options.imageCSRFToken);var c=new XMLHttpRequest;c.upload.onprogress=function(p){if(p.lengthComputable){var m=""+Math.round(p.loaded*100/p.total);r.updateStatusBar("upload-image",r.options.imageTexts.sbProgress.replace("#file_name#",t.name).replace("#progress#",m))}},c.open("POST",this.options.imageUploadEndpoint),r.options.imageCSRFToken&&r.options.imageCSRFHeader&&c.setRequestHeader(r.options.imageCSRFName,r.options.imageCSRFToken),c.onload=function(){try{var p=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),i(s(r.options.errorMessages.importError));return}this.status===200&&p&&!p.error&&p.data&&p.data.filePath?e((r.options.imagePathAbsolute?"":window.location.origin+"/")+p.data.filePath):p.error&&p.error in r.options.errorMessages?i(s(r.options.errorMessages[p.error])):p.error?i(s(p.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),i(s(r.options.errorMessages.importError)))},c.onerror=function(p){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+p.target.status+" ("+p.target.statusText+")"),i(r.options.errorMessages.importError)},c.send(a)};Ke.prototype.uploadImageUsingCustomFunction=function(t,e){var n=this;function r(a){lF(n,a)}function i(a){var c=s(a);n.updateStatusBar("upload-image",c),setTimeout(function(){n.updateStatusBar("upload-image",n.options.imageTexts.sbInit)},1e4),n.options.errorCallback(c)}function s(a){var c=n.options.imageTexts.sizeUnits.split(",");return a.replace("#image_name#",e.name).replace("#image_size#",n1(e.size,c)).replace("#image_max_size#",n1(n.options.imageMaxSize,c))}t.apply(this,[e,r,i])};Ke.prototype.setPreviewMaxHeight=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.nextSibling,r=parseInt(window.getComputedStyle(e).paddingTop),i=parseInt(window.getComputedStyle(e).borderTopWidth),s=parseInt(this.options.maxHeight),a=s+r*2+i*2,c=a.toString()+"px";n.style.height=c};Ke.prototype.createSideBySide=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.nextSibling;if(!n||!n.classList.contains("editor-preview-side")){if(n=document.createElement("div"),n.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var r=0;r<this.options.previewClass.length;r++)n.classList.add(this.options.previewClass[r]);else typeof this.options.previewClass=="string"&&n.classList.add(this.options.previewClass);e.parentNode.insertBefore(n,e.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return n;var i=!1,s=!1;return t.on("scroll",function(a){if(i){i=!1;return}s=!0;var c=a.getScrollInfo().height-a.getScrollInfo().clientHeight,p=parseFloat(a.getScrollInfo().top)/c,m=(n.scrollHeight-n.clientHeight)*p;n.scrollTop=m}),n.onscroll=function(){if(s){s=!1;return}i=!0;var a=n.scrollHeight-n.clientHeight,c=parseFloat(n.scrollTop)/a,p=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*c;t.scrollTo(0,p)},n};Ke.prototype.createToolbar=function(t){if(t=t||this.options.toolbar,!(!t||t.length===0)){var e;for(e=0;e<t.length;e++)Ic[t[e]]!=null&&(t[e]=Ic[t[e]]);var n=document.createElement("div");n.className="editor-toolbar",n.setAttribute("role","toolbar");var r=this,i={};for(r.toolbar=t,e=0;e<t.length;e++)if(!(t[e].name=="guide"&&r.options.toolbarGuideIcon===!1)&&!(r.options.hideIcons&&r.options.hideIcons.indexOf(t[e].name)!=-1)&&!((t[e].name=="fullscreen"||t[e].name=="side-by-side")&&XS())){if(t[e]==="|"){for(var s=!1,a=e+1;a<t.length;a++)t[a]!=="|"&&(!r.options.hideIcons||r.options.hideIcons.indexOf(t[a].name)==-1)&&(s=!0);if(!s)continue}(function(m){var y;if(m==="|"?y=xZ():m.children?y=wZ(m,r.options.toolbarTips,r.options.shortcuts,r):y=ey(m,!0,r.options.toolbarTips,r.options.shortcuts,"button",r),i[m.name||m]=y,n.appendChild(y),m.name==="upload-image"){var w=document.createElement("input");w.className="imageInput",w.type="file",w.multiple=!0,w.name="image",w.accept=r.options.imageAccept,w.style.display="none",w.style.opacity=0,n.appendChild(w)}})(t[e])}r.toolbar_div=n,r.toolbarElements=i;var c=this.codemirror;c.on("cursorActivity",function(){var m=bu(c);for(var y in i)(function(w){var E=i[w];m[w]?E.classList.add("active"):w!="fullscreen"&&w!="side-by-side"&&E.classList.remove("active")})(y)});var p=c.getWrapperElement();return p.parentNode.insertBefore(n,p),n}};Ke.prototype.createStatusbar=function(t){t=t||this.options.status;var e=this.options,n=this.codemirror;if(!(!t||t.length===0)){var r=[],i,s,a,c;for(i=0;i<t.length;i++)if(s=void 0,a=void 0,c=void 0,typeof t[i]=="object")r.push({className:t[i].className,defaultValue:t[i].defaultValue,onUpdate:t[i].onUpdate,onActivity:t[i].onActivity});else{var p=t[i];p==="words"?(c=function(C){C.innerHTML=cD(n.getValue())},s=function(C){C.innerHTML=cD(n.getValue())}):p==="lines"?(c=function(C){C.innerHTML=n.lineCount()},s=function(C){C.innerHTML=n.lineCount()}):p==="cursor"?(c=function(C){C.innerHTML="1:1"},a=function(C){var P=n.getCursor(),O=P.line+1,M=P.ch+1;C.innerHTML=O+":"+M}):p==="autosave"?c=function(C){e.autosave!=null&&e.autosave.enabled===!0&&C.setAttribute("id","autosaved")}:p==="upload-image"&&(c=function(C){C.innerHTML=e.imageTexts.sbInit}),r.push({className:p,defaultValue:c,onUpdate:s,onActivity:a})}var m=document.createElement("div");for(m.className="editor-statusbar",i=0;i<r.length;i++){var y=r[i],w=document.createElement("span");w.className=y.className,typeof y.defaultValue=="function"&&y.defaultValue(w),typeof y.onUpdate=="function"&&this.codemirror.on("update",function(C,P){return function(){P.onUpdate(C)}}(w,y)),typeof y.onActivity=="function"&&this.codemirror.on("cursorActivity",function(C,P){return function(){P.onActivity(C)}}(w,y)),m.appendChild(w)}var E=this.codemirror.getWrapperElement();return E.parentNode.insertBefore(m,E.nextSibling),m}};Ke.prototype.value=function(t){var e=this.codemirror;if(t===void 0)return e.getValue();if(e.getDoc().setValue(t),this.isPreviewActive()){var n=e.getWrapperElement(),r=n.lastChild,i=this.options.previewRender(t,r);i!==null&&(r.innerHTML=i)}return this};Ke.toggleBold=T_;Ke.toggleItalic=k_;Ke.toggleStrikethrough=A_;Ke.toggleBlockquote=b_;Ke.toggleHeadingSmaller=em;Ke.toggleHeadingBigger=D_;Ke.toggleHeading1=R_;Ke.toggleHeading2=L_;Ke.toggleHeading3=P_;Ke.toggleHeading4=NT;Ke.toggleHeading5=FT;Ke.toggleHeading6=OT;Ke.toggleCodeBlock=I_;Ke.toggleUnorderedList=N_;Ke.toggleOrderedList=F_;Ke.cleanBlock=O_;Ke.drawLink=M_;Ke.drawImage=B_;Ke.drawUploadedImage=MT;Ke.drawTable=U_;Ke.drawHorizontalRule=V_;Ke.undo=z_;Ke.redo=H_;Ke.togglePreview=$_;Ke.toggleSideBySide=ld;Ke.toggleFullScreen=Hc;Ke.prototype.toggleBold=function(){T_(this)};Ke.prototype.toggleItalic=function(){k_(this)};Ke.prototype.toggleStrikethrough=function(){A_(this)};Ke.prototype.toggleBlockquote=function(){b_(this)};Ke.prototype.toggleHeadingSmaller=function(){em(this)};Ke.prototype.toggleHeadingBigger=function(){D_(this)};Ke.prototype.toggleHeading1=function(){R_(this)};Ke.prototype.toggleHeading2=function(){L_(this)};Ke.prototype.toggleHeading3=function(){P_(this)};Ke.prototype.toggleHeading4=function(){NT(this)};Ke.prototype.toggleHeading5=function(){FT(this)};Ke.prototype.toggleHeading6=function(){OT(this)};Ke.prototype.toggleCodeBlock=function(){I_(this)};Ke.prototype.toggleUnorderedList=function(){N_(this)};Ke.prototype.toggleOrderedList=function(){F_(this)};Ke.prototype.cleanBlock=function(){O_(this)};Ke.prototype.drawLink=function(){M_(this)};Ke.prototype.drawImage=function(){B_(this)};Ke.prototype.drawUploadedImage=function(){MT(this)};Ke.prototype.drawTable=function(){U_(this)};Ke.prototype.drawHorizontalRule=function(){V_(this)};Ke.prototype.undo=function(){z_(this)};Ke.prototype.redo=function(){H_(this)};Ke.prototype.togglePreview=function(){$_(this)};Ke.prototype.toggleSideBySide=function(){ld(this)};Ke.prototype.toggleFullScreen=function(){Hc(this)};Ke.prototype.isPreviewActive=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.lastChild;return n.classList.contains("editor-preview-active")};Ke.prototype.isSideBySideActive=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.nextSibling;return n.classList.contains("editor-preview-active-side")};Ke.prototype.isFullscreenActive=function(){var t=this.codemirror;return t.getOption("fullScreen")};Ke.prototype.getState=function(){var t=this.codemirror;return bu(t)};Ke.prototype.toTextArea=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.parentNode;n&&(this.gui.toolbar&&n.removeChild(this.gui.toolbar),this.gui.statusbar&&n.removeChild(this.gui.statusbar),this.gui.sideBySide&&n.removeChild(this.gui.sideBySide)),n.parentNode.insertBefore(e,n),n.remove(),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var DZ=Ke;const RZ=jc(DZ);var LZ=0,PZ=()=>`simplemde-editor-${++LZ}`,NZ=({options:t,id:e,currentValueRef:n,textRef:r})=>{const[i,s]=pe.useState(null),a=pe.useCallback((m,y,w)=>{const E=t==null?void 0:t.imageUploadFunction;E&&E(m,P=>{y(P)},w)},[t==null?void 0:t.imageUploadFunction]),c=pe.useRef(i);c.current=i,pe.useEffect(()=>{let m;if(r){const y={element:r,initialValue:n.current},w=t!=null&&t.imageUploadFunction?a:void 0;m=new RZ(Object.assign({},y,t,{imageUploadFunction:w})),s(m)}return()=>{m==null||m.toTextArea(),m==null||m.cleanup()}},[r,n,e,a,t]);const p=pe.useMemo(()=>i==null?void 0:i.codemirror,[i==null?void 0:i.codemirror]);return{editor:i,codemirror:p}},hF=dt.forwardRef((t,e)=>{const{events:n,value:r,options:i,children:s,extraKeys:a,getLineAndCursor:c,getMdeInstance:p,getCodemirrorInstance:m,onChange:y,id:w,placeholder:E,textareaProps:C,...P}=t,O=pe.useMemo(()=>w??PZ(),[w]),M=pe.useRef(null),R=pe.useRef(!0),b=pe.useRef(r);b.current=r;const[D,B]=pe.useState(null),{editor:j,codemirror:U}=NZ({options:i,id:O,currentValueRef:b,textRef:D});pe.useEffect(()=>{R.current&&(j==null||j.value(r??"")),R.current=!0},[j,r]);const W=pe.useCallback((_e,ie)=>{(j==null?void 0:j.value())!==b.current&&(R.current=!1,y==null||y((j==null?void 0:j.value())??"",ie))},[j,y]);pe.useEffect(()=>{i!=null&&i.autofocus&&(U==null||U.focus(),U==null||U.setCursor(U==null?void 0:U.lineCount(),0))},[U,i==null?void 0:i.autofocus]);const Y=pe.useCallback(()=>{U&&(c==null||c(U.getDoc().getCursor()))},[U,c]);pe.useEffect(()=>{Y()},[Y]),pe.useEffect(()=>{j&&(p==null||p(j))},[j,p]),pe.useEffect(()=>{U&&(m==null||m(U))},[U,m,p]),pe.useEffect(()=>{a&&U&&U.setOption("extraKeys",Object.assign({},U.getOption("extraKeys"),a))},[U,a]),pe.useEffect(()=>{var _e;const ie=(_e=M.current)==null?void 0:_e.getElementsByClassName("editor-toolbarNode")[0],ye=U&&W;return ye?(ie==null||ie.addEventListener("click",ye),()=>{ie==null||ie.removeEventListener("click",ye)}):()=>{}},[U,W]),pe.useEffect(()=>(U==null||U.on("change",W),U==null||U.on("cursorActivity",Y),()=>{U==null||U.off("change",W),U==null||U.off("cursorActivity",Y)}),[U,Y,W]);const ae=pe.useRef(n);return pe.useEffect(()=>(n!==ae.current&&ae.current&&Object.entries(ae.current).forEach(([ie,ye])=>{ye&&(U==null||U.off(ie,ye))}),n&&Object.entries(n).forEach(([ie,ye])=>{ye&&(U==null||U.on(ie,ye))}),ae.current=n,()=>{n&&Object.entries(n).forEach(([ie,ye])=>{ye&&(U==null||U.off(ie,ye))})}),[U,n]),dt.createElement("div",{id:`${O}-wrapper`,...P,ref:_e=>{typeof e=="function"?e(_e):e&&(e.current=_e),M.current=_e}},dt.createElement("textarea",{...C,id:O,placeholder:E,ref:B,style:{display:"none"}}))});hF.displayName="SimpleMdeReact";var FZ=hF;function fD({user:t,setActive:e}){const n={title:"",tags:[],category:"",description:"",comments:[],likes:[],view:0},r=["Технологии","Путешевствия","Новости","Бизнес","Другое"],i=pe.useMemo(()=>({spellChecker:!1,maxHeight:"400px",autofocus:!0,placeholder:"Введите текст...",status:!1,autosave:{enabled:!0,delay:1e3}}),[]),[s,a]=pe.useState(n),[c,p]=pe.useState(null),[m,y]=pe.useState(null),{id:w}=x1(),E=Su(),{title:C,tags:P,category:O,description:M}=s,R=async W=>{if(W.preventDefault(),O&&P&&C&&M)if(w)try{await q0(Ua(Fi,"blogs",w),{...s,timestamp:$I(),author:t.displayName,userId:t.uid}),Kt.success("Блог опубликован",Ac)}catch(Y){console.log(Y)}else try{await x$($h(Fi,"blogs"),{...s,timestamp:$I(),author:t.displayName,userId:t.uid}),Kt.success("Блог опубликован",Ac)}catch(Y){console.log(Y)}else return Kt.error("Не заполнены поля",Ac);E("/")},b=W=>{a({...s,[W.target.name]:W.target.value})},D=W=>{a({...s,description:W})},B=W=>{a({...s,category:W.target.value})},j=W=>{a({...s,tags:W})};pe.useEffect(()=>{c&&(()=>{const Y=eQ(kY,c.name),ae=ZK(Y,c);ae.on("state_changed",_e=>{const ie=_e.bytesTransferred/_e.totalBytes*100;y(ie)},_e=>{console.log(_e)},()=>{JK(ae.snapshot.ref).then(_e=>{a(ie=>({...ie,imgUrl:_e})),Kt.success("Изображение загружено",{autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"})})})})()},[c]),pe.useEffect(()=>{w&&U()},[w]);const U=async()=>{const W=Ua(Fi,"blogs",w),Y=await PS(W);Y.exists()&&a({...Y.data()}),e(null)};return H.jsx("div",{className:"container-fluid mb-4",children:H.jsxs("div",{className:"container",children:[H.jsx("div",{className:"col-12",children:H.jsx("div",{className:"text-center heading py-2",children:w?"Обновить блог":"Создать блог"})}),H.jsx("div",{className:"row h-100 justify-content-center align-items-center",children:H.jsx("div",{className:"col-10 col-md-8 col-lg-6",children:H.jsxs("form",{className:"row blog-form",onSubmit:R,children:[H.jsx("div",{className:"col-12 py-3",children:H.jsx("input",{type:"text",className:"form-control input-text-box",placeholder:"Название",name:"title",value:C,onChange:b})}),H.jsx("div",{className:"col-12 py-3",children:H.jsx(eZ,{tags:P,placeholder:"Теги",onChange:j})}),H.jsx("div",{className:"col-12 py-3",children:H.jsxs("select",{value:O,onChange:B,className:"catg-dropdown",children:[H.jsx("option",{children:"Выберите категорию"}),r.map((W,Y)=>H.jsx("option",{value:W||"",children:W},Y))]})}),H.jsx("div",{className:"col-12 py-3"}),H.jsx(FZ,{className:"editor",value:M,onChange:D,options:i}),H.jsx("div",{className:"mb-3",children:H.jsx("input",{type:"file",className:"form-control",onChange:W=>p(W.target.files[0])})}),H.jsx("div",{className:"col-12 py-3 text-center",children:H.jsx("button",{className:"btn btn-add",type:"submit",disabled:m!==null&&m<100,children:w?"Обновить":"Отправить"})})]})})})]})})}const OZ=({setActive:t})=>{const[e,n]=pe.useState([]),[r,i]=pe.useState(!1),{category:s}=x1(),a=async()=>{i(!0);const c=$h(Fi,"blogs"),p=Wy(c,eT("category","==",s)),m=await ag(p);let y=[];m.forEach(w=>{y.push({id:w.id,...w.data()})}),n(y),i(!1)};return pe.useEffect(()=>{a(),t(null)},[]),r?H.jsx(yT,{}):H.jsx("div",{children:H.jsx("div",{className:"container",children:H.jsxs("div",{className:"row",children:[H.jsxs("div",{className:"blog-heading text-center py-2 mb-4",children:["Категории: ",H.jsx("strong",{children:s.toLocaleUpperCase()})]}),e==null?void 0:e.map(c=>H.jsx("div",{className:"col-md-6",children:H.jsx(vT,{...c},c.id)}))]})})})};function MZ(){return H.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:H.jsx("div",{className:"container padding",children:H.jsx("div",{className:"row mx-0",children:H.jsx("div",{className:"col-md-8",children:H.jsx("div",{className:"blog-heading text-start py-2 mb-4",style:{borderBottom:0},children:"Страница не найдена"})})})})})}function BZ(){return H.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:H.jsx("div",{className:"container padding",children:H.jsx("div",{className:"row mx-0",children:H.jsx("div",{className:"col-md-8",children:H.jsx("div",{className:"blog-heading text-start py-2 mb-4",style:{borderBottom:0},children:"Блог в разработке v 1.4.3"})})})})})}function UZ({active:t,setActive:e,user:n,handleLogout:r}){const i=n==null?void 0:n.uid;return H.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:H.jsx("div",{className:"container-fluid bg-faded padding-media",children:H.jsx("div",{className:"container padding-media",children:H.jsx("nav",{className:"navbar navbar-toggleable-md navbar-light",children:H.jsxs("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[H.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",style:{display:"flex"},children:[H.jsx(Gs,{to:"/",style:{textDecoration:"none"},children:H.jsx("li",{className:`nav-item nav-link ${t==="home"?"active":""}`,onClick:()=>e("home"),children:"Главная"})}),i&&H.jsx(Gs,{to:"/create",style:{textDecoration:"none"},children:H.jsx("li",{className:`nav-item nav-link ${t==="create"?"active":""}`,onClick:()=>e("create"),children:"Создать блог"})}),H.jsx(Gs,{to:"/about",style:{textDecoration:"none"},children:H.jsx("li",{className:`nav-item nav-link ${t==="about"?"active":""}`,onClick:()=>e("about"),children:"О блоге"})})]}),H.jsx("div",{className:"row g-3",children:H.jsx("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:i?H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"profile-logo",children:H.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"logo",style:{width:"30px",height:"30px",borderRadius:"50%",marginTop:"12px"}})}),H.jsx("p",{style:{marginTop:"12px",marginLeft:"5px"},children:n==null?void 0:n.displayName}),H.jsx("li",{className:"nav-item nav-link",onClick:r,children:"Выход"})]}):H.jsx(Gs,{to:"/auth",style:{textDecoration:"none"},children:H.jsx("li",{className:`nav-item nav-link ${t==="login"?"active":""}`,onClick:()=>e("login"),children:"Вход"})})})})]})})})})})}const VZ={firstName:"",lastName:"",email:"",password:"",confirmPassword:""};function zZ({setActive:t,setUser:e}){const[n,r]=pe.useState(VZ),[i,s]=pe.useState(!1),{email:a,password:c,firstName:p,lastName:m,confirmPassword:y}=n,w=Su(),E=P=>{r({...n,[P.target.name]:P.target.value})},C=async P=>{if(P.preventDefault(),i){if(c!==y)return Kt.error("Пароли не совпадают",Ac);if(p&&m&&a&&c){const{user:O}=await oX(Jy,a,c);await lX(O,{displayName:`${p} ${m}`}),t("home")}else return Kt.error("Не все поля заполены",Ac)}else if(a&&c){const{user:O}=await sX(Jy,a,c);e(O),t("home")}else return Kt.error("Не все поля заполены",Ac);w("/")};return H.jsx("div",{className:"container-fluid mb-4",children:H.jsxs("div",{className:"container",children:[H.jsx("div",{className:"col-12 text-center",children:H.jsx("div",{className:"text-center heading py-2",children:i?"Регистрация":"Вход"})}),H.jsx("div",{className:"row h-100 justify-content-center align-items-center",children:H.jsxs("div",{className:"col-10 col-md-8 col-lg-6",children:[H.jsxs("form",{className:"row",onSubmit:C,children:[i&&H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"col-6 py-3",children:H.jsx("input",{type:"text",className:"form-control input-text-box",placeholder:"Имя",name:"firstName",minLength:3,value:p,onChange:E})}),H.jsx("div",{className:"col-6 py-3",children:H.jsx("input",{type:"text",className:"form-control input-text-box",placeholder:"Фамилия",name:"lastName",minLength:2,value:m,onChange:E})})]}),H.jsx("div",{className:"col-12 py-3",children:H.jsx("input",{type:"email",className:"form-control input-text-box",placeholder:"Email",pattern:"^\\S+@\\S+\\.\\S+$",name:"email",value:a,onChange:E})}),H.jsx("div",{className:"col-12 py-3",children:H.jsx("input",{type:"password",className:"form-control input-text-box",placeholder:"Пароль",name:"password",value:c,pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,16}$",onChange:E})}),i&&H.jsx("div",{className:"col-12 py-3",children:H.jsx("input",{type:"password",className:"form-control input-text-box",placeholder:"Повторить пароль",name:"confirmPassword",value:y,minLength:6,onChange:E})}),H.jsx("div",{className:"col-12 py-3 text-center",children:H.jsx("button",{className:`btn ${i?"btn-sign-up":"btn-sign-in"}`,type:"submit",children:i?"Зарегистрироваться":"Войти"})})]}),H.jsx("div",{children:i?H.jsx(H.Fragment,{children:H.jsx("div",{className:"text-center justify-content-center mt-2 pt-2",children:H.jsxs("p",{className:"small fw-bold mt-2 pt-1 mb-0",children:["Есть аккаунт? ",H.jsx("span",{style:{textDecoration:"none",cursor:"pointer",color:"#298af2"},onClick:()=>s(!1),children:"Войти"})]})})}):H.jsx(H.Fragment,{children:H.jsx("div",{className:"text-center justify-content-center mt-2 pt-2",children:H.jsxs("p",{className:"small fw-bold mt-2 pt-1 mb-0",children:["Нет аккаунта? ",H.jsx("span",{className:"link-danger",style:{textDecoration:"none",cursor:"pointer"},onClick:()=>s(!0),children:"Зарегистрироваться"})]})})})}),H.jsxs("div",{children:[H.jsx("div",{children:" логин: e@2.ru"}),H.jsx("div",{children:"пароль: qwerty"})]})]})})]})})}const HZ=({setActive:t})=>{const[e,n]=pe.useState([]),[r,i]=pe.useState(!1),{tag:s}=x1(),a=async()=>{i(!0);const c=$h(Fi,"blogs"),p=Wy(c,eT("tags","array-contains",s)),m=await ag(p);let y=[];m.forEach(w=>{y.push({id:w.id,...w.data()})}),n(y),i(!1)};return pe.useEffect(()=>{a(),t(null)},[]),r?H.jsx(yT,{}):H.jsx("div",{children:H.jsx("div",{className:"container",children:H.jsxs("div",{className:"row",children:[H.jsxs("div",{className:"blog-heading text-center py-2 mb-4",children:["Тэг: ",H.jsx("strong",{children:s.toLocaleUpperCase()})]}),e==null?void 0:e.map(c=>H.jsx("div",{className:"col-md-6",children:H.jsx(vT,{...c},c.id)}))]})})})};function $Z(){const[t,e]=pe.useState("home"),[n,r]=pe.useState(null),i=Su();pe.useEffect(()=>{Jy.onAuthStateChanged(a=>{r(a||null)})},[]);const s=()=>{fX(Jy).then(()=>{r(null),e("login"),i("/auth")})};return H.jsxs("div",{className:"App",children:[H.jsx(UZ,{setActive:e,active:t,user:n,handleLogout:s}),H.jsx($Y,{position:"top-center",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),H.jsxs(T7,{children:[H.jsx(zs,{path:"/",element:H.jsx(bY,{setActive:e,active:t,user:n})}),H.jsx(zs,{path:"/detail/:id",element:H.jsx(jY,{setActive:e,user:n})}),H.jsx(zs,{path:"/create",element:n!=null&&n.uid?H.jsx(fD,{user:n}):H.jsx(RA,{to:"/"})}),H.jsx(zs,{path:"/update/:id",element:n!=null&&n.uid?H.jsx(fD,{user:n,setActive:e}):H.jsx(RA,{to:"/"})}),H.jsx(zs,{path:"/about",element:H.jsx(BZ,{})}),H.jsx(zs,{path:"/auth",element:H.jsx(zZ,{setActive:e,setUser:r})}),H.jsx(zs,{path:"/tag/:tag",element:H.jsx(HZ,{setActive:e})}),H.jsx(zs,{path:"/category/:category",element:H.jsx(OZ,{setActive:e})}),H.jsx(zs,{path:"*",element:H.jsx(MZ,{})})]})]})}sE.createRoot(document.getElementById("root")).render(H.jsx(P7,{children:H.jsx($Z,{})}));
