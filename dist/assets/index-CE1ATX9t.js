function dF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var pF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ps(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gF(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var tD={exports:{}},Pp={},nD={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=Symbol.for("react.element"),mF=Symbol.for("react.portal"),vF=Symbol.for("react.fragment"),yF=Symbol.for("react.strict_mode"),_F=Symbol.for("react.profiler"),wF=Symbol.for("react.provider"),EF=Symbol.for("react.context"),xF=Symbol.for("react.forward_ref"),kF=Symbol.for("react.suspense"),SF=Symbol.for("react.memo"),TF=Symbol.for("react.lazy"),sk=Symbol.iterator;function CF(t){return t===null||typeof t!="object"?null:(t=sk&&t[sk]||t["@@iterator"],typeof t=="function"?t:null)}var rD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iD=Object.assign,oD={};function Gl(t,e,n){this.props=t,this.context=e,this.refs=oD,this.updater=n||rD}Gl.prototype.isReactComponent={};Gl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sD(){}sD.prototype=Gl.prototype;function y1(t,e,n){this.props=t,this.context=e,this.refs=oD,this.updater=n||rD}var _1=y1.prototype=new sD;_1.constructor=y1;iD(_1,Gl.prototype);_1.isPureReactComponent=!0;var ak=Array.isArray,aD=Object.prototype.hasOwnProperty,w1={current:null},lD={key:!0,ref:!0,__self:!0,__source:!0};function uD(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)aD.call(e,r)&&!lD.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var h=Array(u),p=0;p<u;p++)h[p]=arguments[p+2];i.children=h}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:wf,type:t,key:s,ref:a,props:i,_owner:w1.current}}function DF(t,e){return{$$typeof:wf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function E1(t){return typeof t=="object"&&t!==null&&t.$$typeof===wf}function AF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lk=/\/+/g;function wv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AF(""+t.key):e.toString(36)}function ld(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case wf:case mF:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+wv(a,0):r,ak(i)?(n="",t!=null&&(n=t.replace(lk,"$&/")+"/"),ld(i,e,n,"",function(p){return p})):i!=null&&(E1(i)&&(i=DF(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(lk,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",ak(t))for(var u=0;u<t.length;u++){s=t[u];var h=r+wv(s,u);a+=ld(s,e,n,h,i)}else if(h=CF(t),typeof h=="function")for(t=h.call(t),u=0;!(s=t.next()).done;)s=s.value,h=r+wv(s,u++),a+=ld(s,e,n,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ih(t,e,n){if(t==null)return t;var r=[],i=0;return ld(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hr={current:null},ud={transition:null},IF={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:ud,ReactCurrentOwner:w1};st.Children={map:Ih,forEach:function(t,e,n){Ih(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ih(t,function(){e++}),e},toArray:function(t){return Ih(t,function(e){return e})||[]},only:function(t){if(!E1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=Gl;st.Fragment=vF;st.Profiler=_F;st.PureComponent=y1;st.StrictMode=yF;st.Suspense=kF;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IF;st.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iD({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=w1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)aD.call(e,h)&&!lD.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){u=Array(h);for(var p=0;p<h;p++)u[p]=arguments[p+2];r.children=u}return{$$typeof:wf,type:t.type,key:i,ref:s,props:r,_owner:a}};st.createContext=function(t){return t={$$typeof:EF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wF,_context:t},t.Consumer=t};st.createElement=uD;st.createFactory=function(t){var e=uD.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:xF,render:t}};st.isValidElement=E1;st.lazy=function(t){return{$$typeof:TF,_payload:{_status:-1,_result:t},_init:bF}};st.memo=function(t,e){return{$$typeof:SF,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=ud.transition;ud.transition={};try{t()}finally{ud.transition=e}};st.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};st.useCallback=function(t,e){return hr.current.useCallback(t,e)};st.useContext=function(t){return hr.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return hr.current.useDeferredValue(t)};st.useEffect=function(t,e){return hr.current.useEffect(t,e)};st.useId=function(){return hr.current.useId()};st.useImperativeHandle=function(t,e,n){return hr.current.useImperativeHandle(t,e,n)};st.useInsertionEffect=function(t,e){return hr.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return hr.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return hr.current.useMemo(t,e)};st.useReducer=function(t,e,n){return hr.current.useReducer(t,e,n)};st.useRef=function(t){return hr.current.useRef(t)};st.useState=function(t){return hr.current.useState(t)};st.useSyncExternalStore=function(t,e,n){return hr.current.useSyncExternalStore(t,e,n)};st.useTransition=function(){return hr.current.useTransition()};st.version="18.2.0";nD.exports=st;var oe=nD.exports;const $e=ps(oe),RF=dF({__proto__:null,default:$e},[oe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PF=oe,LF=Symbol.for("react.element"),NF=Symbol.for("react.fragment"),FF=Object.prototype.hasOwnProperty,OF=PF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MF={key:!0,ref:!0,__self:!0,__source:!0};function cD(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)FF.call(e,r)&&!MF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:LF,type:t,key:s,ref:a,props:i,_owner:OF.current}}Pp.Fragment=NF;Pp.jsx=cD;Pp.jsxs=cD;tD.exports=Pp;var Q=tD.exports,Dy={},fD={exports:{}},Or={},hD={exports:{}},dD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,ue){var B=te.length;te.push(ue);e:for(;0<B;){var je=B-1>>>1,z=te[je];if(0<i(z,ue))te[je]=ue,te[B]=z,B=je;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ue=te[0],B=te.pop();if(B!==ue){te[0]=B;e:for(var je=0,z=te.length,w=z>>>1;je<w;){var ee=2*(je+1)-1,Ve=te[ee],Te=ee+1,rt=te[Te];if(0>i(Ve,B))Te<z&&0>i(rt,Ve)?(te[je]=rt,te[Te]=B,je=Te):(te[je]=Ve,te[ee]=B,je=ee);else if(Te<z&&0>i(rt,B))te[je]=rt,te[Te]=B,je=Te;else break e}}return ue}function i(te,ue){var B=te.sortIndex-ue.sortIndex;return B!==0?B:te.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],p=[],m=1,v=null,_=3,E=!1,b=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(te){for(var ue=n(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=te)r(p),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=n(p)}}function N(te){if(I=!1,D(te),!b)if(n(h)!==null)b=!0,ae(O);else{var ue=n(p);ue!==null&&re(N,ue.startTime-te)}}function O(te,ue){b=!1,I&&(I=!1,T(H),H=-1),E=!0;var B=_;try{for(D(ue),v=n(h);v!==null&&(!(v.expirationTime>ue)||te&&!K());){var je=v.callback;if(typeof je=="function"){v.callback=null,_=v.priorityLevel;var z=je(v.expirationTime<=ue);ue=t.unstable_now(),typeof z=="function"?v.callback=z:v===n(h)&&r(h),D(ue)}else r(h);v=n(h)}if(v!==null)var w=!0;else{var ee=n(p);ee!==null&&re(N,ee.startTime-ue),w=!1}return w}finally{v=null,_=B,E=!1}}var L=!1,M=null,H=-1,J=5,le=-1;function K(){return!(t.unstable_now()-le<J)}function se(){if(M!==null){var te=t.unstable_now();le=te;var ue=!0;try{ue=M(!0,te)}finally{ue?we():(L=!1,M=null)}}else L=!1}var we;if(typeof C=="function")we=function(){C(se)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,$=ve.port2;ve.port1.onmessage=se,we=function(){$.postMessage(null)}}else we=function(){P(se,0)};function ae(te){M=te,L||(L=!0,we())}function re(te,ue){H=P(function(){te(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){b||E||(b=!0,ae(O))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(te){switch(_){case 1:case 2:case 3:var ue=3;break;default:ue=_}var B=_;_=ue;try{return te()}finally{_=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var B=_;_=te;try{return ue()}finally{_=B}},t.unstable_scheduleCallback=function(te,ue,B){var je=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?je+B:je):B=je,te){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=B+z,te={id:m++,callback:ue,priorityLevel:te,startTime:B,expirationTime:z,sortIndex:-1},B>je?(te.sortIndex=B,e(p,te),n(h)===null&&te===n(p)&&(I?(T(H),H=-1):I=!0,re(N,B-je))):(te.sortIndex=z,e(h,te),b||E||(b=!0,ae(O))),te},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(te){var ue=_;return function(){var B=_;_=ue;try{return te.apply(this,arguments)}finally{_=B}}}})(dD);hD.exports=dD;var BF=hD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pD=oe,Nr=BF;function ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gD=new Set,bc={};function Ea(t,e){Rl(t,e),Rl(t+"Capture",e)}function Rl(t,e){for(bc[t]=e,t=0;t<e.length;t++)gD.add(e[t])}var lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ay=Object.prototype.hasOwnProperty,UF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uk={},ck={};function VF(t){return Ay.call(ck,t)?!0:Ay.call(uk,t)?!1:UF.test(t)?ck[t]=!0:(uk[t]=!0,!1)}function zF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jF(t,e,n,r){if(e===null||typeof e>"u"||zF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bn[t]=new dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bn[e]=new dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bn[t]=new dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bn[t]=new dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bn[t]=new dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bn[t]=new dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bn[t]=new dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bn[t]=new dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bn[t]=new dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var x1=/[\-:]([a-z])/g;function k1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(x1,k1);Bn[e]=new dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(x1,k1);Bn[e]=new dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(x1,k1);Bn[e]=new dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bn[t]=new dr(t,1,!1,t.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bn[t]=new dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function S1(t,e,n,r){var i=Bn.hasOwnProperty(e)?Bn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jF(e,n,i,r)&&(n=null),r||i===null?VF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mo=pD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rh=Symbol.for("react.element"),il=Symbol.for("react.portal"),ol=Symbol.for("react.fragment"),T1=Symbol.for("react.strict_mode"),by=Symbol.for("react.profiler"),mD=Symbol.for("react.provider"),vD=Symbol.for("react.context"),C1=Symbol.for("react.forward_ref"),Iy=Symbol.for("react.suspense"),Ry=Symbol.for("react.suspense_list"),D1=Symbol.for("react.memo"),No=Symbol.for("react.lazy"),yD=Symbol.for("react.offscreen"),fk=Symbol.iterator;function Uu(t){return t===null||typeof t!="object"?null:(t=fk&&t[fk]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,Ev;function Ju(t){if(Ev===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ev=e&&e[1]||""}return`
`+Ev+t}var xv=!1;function kv(t,e){if(!t||xv)return"";xv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var h=`
`+i[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=u);break}}}finally{xv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ju(t):""}function $F(t){switch(t.tag){case 5:return Ju(t.type);case 16:return Ju("Lazy");case 13:return Ju("Suspense");case 19:return Ju("SuspenseList");case 0:case 2:case 15:return t=kv(t.type,!1),t;case 11:return t=kv(t.type.render,!1),t;case 1:return t=kv(t.type,!0),t;default:return""}}function Py(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ol:return"Fragment";case il:return"Portal";case by:return"Profiler";case T1:return"StrictMode";case Iy:return"Suspense";case Ry:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vD:return(t.displayName||"Context")+".Consumer";case mD:return(t._context.displayName||"Context")+".Provider";case C1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D1:return e=t.displayName||null,e!==null?e:Py(t.type)||"Memo";case No:e=t._payload,t=t._init;try{return Py(t(e))}catch{}}return null}function HF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Py(e);case 8:return e===T1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function as(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _D(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WF(t){var e=_D(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ph(t){t._valueTracker||(t._valueTracker=WF(t))}function wD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_D(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ld(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ly(t,e){var n=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=as(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ED(t,e){e=e.checked,e!=null&&S1(t,"checked",e,!1)}function Ny(t,e){ED(t,e);var n=as(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fy(t,e.type,as(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fy(t,e,n){(e!=="number"||Ld(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zu=Array.isArray;function yl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+as(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Oy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ye(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ye(92));if(Zu(n)){if(1<n.length)throw Error(ye(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:as(n)}}function xD(t,e){var n=as(e.value),r=as(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function My(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lh,SD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lh=Lh||document.createElement("div"),Lh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ic(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qF=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(t){qF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uc[e]=uc[t]})});function TD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uc.hasOwnProperty(t)&&uc[t]?(""+e).trim():e+"px"}function CD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=TD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var GF=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function By(t,e){if(e){if(GF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ye(62))}}function Uy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vy=null;function A1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zy=null,_l=null,wl=null;function mk(t){if(t=kf(t)){if(typeof zy!="function")throw Error(ye(280));var e=t.stateNode;e&&(e=Mp(e),zy(t.stateNode,t.type,e))}}function DD(t){_l?wl?wl.push(t):wl=[t]:_l=t}function AD(){if(_l){var t=_l,e=wl;if(wl=_l=null,mk(t),e)for(t=0;t<e.length;t++)mk(e[t])}}function bD(t,e){return t(e)}function ID(){}var Sv=!1;function RD(t,e,n){if(Sv)return t(e,n);Sv=!0;try{return bD(t,e,n)}finally{Sv=!1,(_l!==null||wl!==null)&&(ID(),AD())}}function Rc(t,e){var n=t.stateNode;if(n===null)return null;var r=Mp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ye(231,e,typeof n));return n}var jy=!1;if(lo)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){jy=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{jy=!1}function KF(t,e,n,r,i,s,a,u,h){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(m){this.onError(m)}}var cc=!1,Nd=null,Fd=!1,$y=null,QF={onError:function(t){cc=!0,Nd=t}};function XF(t,e,n,r,i,s,a,u,h){cc=!1,Nd=null,KF.apply(QF,arguments)}function YF(t,e,n,r,i,s,a,u,h){if(XF.apply(this,arguments),cc){if(cc){var p=Nd;cc=!1,Nd=null}else throw Error(ye(198));Fd||(Fd=!0,$y=p)}}function xa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vk(t){if(xa(t)!==t)throw Error(ye(188))}function JF(t){var e=t.alternate;if(!e){if(e=xa(t),e===null)throw Error(ye(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return vk(i),t;if(s===r)return vk(i),e;s=s.sibling}throw Error(ye(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(ye(189))}}if(n.alternate!==r)throw Error(ye(190))}if(n.tag!==3)throw Error(ye(188));return n.stateNode.current===n?t:e}function LD(t){return t=JF(t),t!==null?ND(t):null}function ND(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ND(t);if(e!==null)return e;t=t.sibling}return null}var FD=Nr.unstable_scheduleCallback,yk=Nr.unstable_cancelCallback,ZF=Nr.unstable_shouldYield,eO=Nr.unstable_requestPaint,nn=Nr.unstable_now,tO=Nr.unstable_getCurrentPriorityLevel,b1=Nr.unstable_ImmediatePriority,OD=Nr.unstable_UserBlockingPriority,Od=Nr.unstable_NormalPriority,nO=Nr.unstable_LowPriority,MD=Nr.unstable_IdlePriority,Lp=null,Ii=null;function rO(t){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Lp,t,void 0,(t.current.flags&128)===128)}catch{}}var ui=Math.clz32?Math.clz32:sO,iO=Math.log,oO=Math.LN2;function sO(t){return t>>>=0,t===0?32:31-(iO(t)/oO|0)|0}var Nh=64,Fh=4194304;function ec(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Md(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=ec(u):(s&=a,s!==0&&(r=ec(s)))}else a=n&~i,a!==0?r=ec(a):s!==0&&(r=ec(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ui(e),i=1<<n,r|=t[n],e&=~i;return r}function aO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ui(s),u=1<<a,h=i[a];h===-1?(!(u&n)||u&r)&&(i[a]=aO(u,e)):h<=e&&(t.expiredLanes|=u),s&=~u}}function Hy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BD(){var t=Nh;return Nh<<=1,!(Nh&4194240)&&(Nh=64),t}function Tv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ef(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ui(e),t[e]=n}function uO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ui(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function I1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ui(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xt=0;function UD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VD,R1,zD,jD,$D,Wy=!1,Oh=[],Qo=null,Xo=null,Yo=null,Pc=new Map,Lc=new Map,Mo=[],cO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _k(t,e){switch(t){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":Yo=null;break;case"pointerover":case"pointerout":Pc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(e.pointerId)}}function zu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=kf(e),e!==null&&R1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fO(t,e,n,r,i){switch(e){case"focusin":return Qo=zu(Qo,t,e,n,r,i),!0;case"dragenter":return Xo=zu(Xo,t,e,n,r,i),!0;case"mouseover":return Yo=zu(Yo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pc.set(s,zu(Pc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lc.set(s,zu(Lc.get(s)||null,t,e,n,r,i)),!0}return!1}function HD(t){var e=Hs(t.target);if(e!==null){var n=xa(e);if(n!==null){if(e=n.tag,e===13){if(e=PD(n),e!==null){t.blockedOn=e,$D(t.priority,function(){zD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vy=r,n.target.dispatchEvent(r),Vy=null}else return e=kf(n),e!==null&&R1(e),t.blockedOn=n,!1;e.shift()}return!0}function wk(t,e,n){cd(t)&&n.delete(e)}function hO(){Wy=!1,Qo!==null&&cd(Qo)&&(Qo=null),Xo!==null&&cd(Xo)&&(Xo=null),Yo!==null&&cd(Yo)&&(Yo=null),Pc.forEach(wk),Lc.forEach(wk)}function ju(t,e){t.blockedOn===e&&(t.blockedOn=null,Wy||(Wy=!0,Nr.unstable_scheduleCallback(Nr.unstable_NormalPriority,hO)))}function Nc(t){function e(i){return ju(i,t)}if(0<Oh.length){ju(Oh[0],t);for(var n=1;n<Oh.length;n++){var r=Oh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qo!==null&&ju(Qo,t),Xo!==null&&ju(Xo,t),Yo!==null&&ju(Yo,t),Pc.forEach(e),Lc.forEach(e),n=0;n<Mo.length;n++)r=Mo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mo.length&&(n=Mo[0],n.blockedOn===null);)HD(n),n.blockedOn===null&&Mo.shift()}var El=mo.ReactCurrentBatchConfig,Bd=!0;function dO(t,e,n,r){var i=xt,s=El.transition;El.transition=null;try{xt=1,P1(t,e,n,r)}finally{xt=i,El.transition=s}}function pO(t,e,n,r){var i=xt,s=El.transition;El.transition=null;try{xt=4,P1(t,e,n,r)}finally{xt=i,El.transition=s}}function P1(t,e,n,r){if(Bd){var i=qy(t,e,n,r);if(i===null)Fv(t,e,r,Ud,n),_k(t,r);else if(fO(i,t,e,n,r))r.stopPropagation();else if(_k(t,r),e&4&&-1<cO.indexOf(t)){for(;i!==null;){var s=kf(i);if(s!==null&&VD(s),s=qy(t,e,n,r),s===null&&Fv(t,e,r,Ud,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Fv(t,e,r,null,n)}}var Ud=null;function qy(t,e,n,r){if(Ud=null,t=A1(r),t=Hs(t),t!==null)if(e=xa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ud=t,null}function WD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tO()){case b1:return 1;case OD:return 4;case Od:case nO:return 16;case MD:return 536870912;default:return 16}default:return 16}}var Ho=null,L1=null,fd=null;function qD(){if(fd)return fd;var t,e=L1,n=e.length,r,i="value"in Ho?Ho.value:Ho.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return fd=i.slice(t,1<r?1-r:void 0)}function hd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mh(){return!0}function Ek(){return!1}function Mr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Mh:Ek,this.isPropagationStopped=Ek,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mh)},persist:function(){},isPersistent:Mh}),e}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N1=Mr(Kl),xf=qt({},Kl,{view:0,detail:0}),gO=Mr(xf),Cv,Dv,$u,Np=qt({},xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$u&&($u&&t.type==="mousemove"?(Cv=t.screenX-$u.screenX,Dv=t.screenY-$u.screenY):Dv=Cv=0,$u=t),Cv)},movementY:function(t){return"movementY"in t?t.movementY:Dv}}),xk=Mr(Np),mO=qt({},Np,{dataTransfer:0}),vO=Mr(mO),yO=qt({},xf,{relatedTarget:0}),Av=Mr(yO),_O=qt({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),wO=Mr(_O),EO=qt({},Kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xO=Mr(EO),kO=qt({},Kl,{data:0}),kk=Mr(kO),SO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CO[t])?!!e[t]:!1}function F1(){return DO}var AO=qt({},xf,{key:function(t){if(t.key){var e=SO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F1,charCode:function(t){return t.type==="keypress"?hd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bO=Mr(AO),IO=qt({},Np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sk=Mr(IO),RO=qt({},xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F1}),PO=Mr(RO),LO=qt({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),NO=Mr(LO),FO=qt({},Np,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OO=Mr(FO),MO=[9,13,27,32],O1=lo&&"CompositionEvent"in window,fc=null;lo&&"documentMode"in document&&(fc=document.documentMode);var BO=lo&&"TextEvent"in window&&!fc,GD=lo&&(!O1||fc&&8<fc&&11>=fc),Tk=" ",Ck=!1;function KD(t,e){switch(t){case"keyup":return MO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sl=!1;function UO(t,e){switch(t){case"compositionend":return QD(e);case"keypress":return e.which!==32?null:(Ck=!0,Tk);case"textInput":return t=e.data,t===Tk&&Ck?null:t;default:return null}}function VO(t,e){if(sl)return t==="compositionend"||!O1&&KD(t,e)?(t=qD(),fd=L1=Ho=null,sl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GD&&e.locale!=="ko"?null:e.data;default:return null}}var zO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zO[t.type]:e==="textarea"}function XD(t,e,n,r){DD(r),e=Vd(e,"onChange"),0<e.length&&(n=new N1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hc=null,Fc=null;function jO(t){aA(t,0)}function Fp(t){var e=ul(t);if(wD(e))return t}function $O(t,e){if(t==="change")return e}var YD=!1;if(lo){var bv;if(lo){var Iv="oninput"in document;if(!Iv){var Ak=document.createElement("div");Ak.setAttribute("oninput","return;"),Iv=typeof Ak.oninput=="function"}bv=Iv}else bv=!1;YD=bv&&(!document.documentMode||9<document.documentMode)}function bk(){hc&&(hc.detachEvent("onpropertychange",JD),Fc=hc=null)}function JD(t){if(t.propertyName==="value"&&Fp(Fc)){var e=[];XD(e,Fc,t,A1(t)),RD(jO,e)}}function HO(t,e,n){t==="focusin"?(bk(),hc=e,Fc=n,hc.attachEvent("onpropertychange",JD)):t==="focusout"&&bk()}function WO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fp(Fc)}function qO(t,e){if(t==="click")return Fp(e)}function GO(t,e){if(t==="input"||t==="change")return Fp(e)}function KO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hi=typeof Object.is=="function"?Object.is:KO;function Oc(t,e){if(hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ay.call(e,i)||!hi(t[i],e[i]))return!1}return!0}function Ik(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rk(t,e){var n=Ik(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ik(n)}}function ZD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eA(){for(var t=window,e=Ld();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ld(t.document)}return e}function M1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QO(t){var e=eA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ZD(n.ownerDocument.documentElement,n)){if(r!==null&&M1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Rk(n,s);var a=Rk(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XO=lo&&"documentMode"in document&&11>=document.documentMode,al=null,Gy=null,dc=null,Ky=!1;function Pk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ky||al==null||al!==Ld(r)||(r=al,"selectionStart"in r&&M1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dc&&Oc(dc,r)||(dc=r,r=Vd(Gy,"onSelect"),0<r.length&&(e=new N1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=al)))}function Bh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ll={animationend:Bh("Animation","AnimationEnd"),animationiteration:Bh("Animation","AnimationIteration"),animationstart:Bh("Animation","AnimationStart"),transitionend:Bh("Transition","TransitionEnd")},Rv={},tA={};lo&&(tA=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Op(t){if(Rv[t])return Rv[t];if(!ll[t])return t;var e=ll[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tA)return Rv[t]=e[n];return t}var nA=Op("animationend"),rA=Op("animationiteration"),iA=Op("animationstart"),oA=Op("transitionend"),sA=new Map,Lk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(t,e){sA.set(t,e),Ea(e,[t])}for(var Pv=0;Pv<Lk.length;Pv++){var Lv=Lk[Pv],YO=Lv.toLowerCase(),JO=Lv[0].toUpperCase()+Lv.slice(1);gs(YO,"on"+JO)}gs(nA,"onAnimationEnd");gs(rA,"onAnimationIteration");gs(iA,"onAnimationStart");gs("dblclick","onDoubleClick");gs("focusin","onFocus");gs("focusout","onBlur");gs(oA,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZO=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function Nk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,YF(r,e,void 0,t),t.currentTarget=null}function aA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],h=u.instance,p=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;Nk(i,u,p),s=h}else for(a=0;a<r.length;a++){if(u=r[a],h=u.instance,p=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;Nk(i,u,p),s=h}}}if(Fd)throw t=$y,Fd=!1,$y=null,t}function Lt(t,e){var n=e[Zy];n===void 0&&(n=e[Zy]=new Set);var r=t+"__bubble";n.has(r)||(lA(e,t,2,!1),n.add(r))}function Nv(t,e,n){var r=0;e&&(r|=4),lA(n,t,r,e)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function Mc(t){if(!t[Uh]){t[Uh]=!0,gD.forEach(function(n){n!=="selectionchange"&&(ZO.has(n)||Nv(n,!1,t),Nv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uh]||(e[Uh]=!0,Nv("selectionchange",!1,e))}}function lA(t,e,n,r){switch(WD(e)){case 1:var i=dO;break;case 4:i=pO;break;default:i=P1}n=i.bind(null,e,n,t),i=void 0,!jy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Hs(u),a===null)return;if(h=a.tag,h===5||h===6){r=s=a;continue e}u=u.parentNode}}r=r.return}RD(function(){var p=s,m=A1(n),v=[];e:{var _=sA.get(t);if(_!==void 0){var E=N1,b=t;switch(t){case"keypress":if(hd(n)===0)break e;case"keydown":case"keyup":E=bO;break;case"focusin":b="focus",E=Av;break;case"focusout":b="blur",E=Av;break;case"beforeblur":case"afterblur":E=Av;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=xk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=vO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=PO;break;case nA:case rA:case iA:E=wO;break;case oA:E=NO;break;case"scroll":E=gO;break;case"wheel":E=OO;break;case"copy":case"cut":case"paste":E=xO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Sk}var I=(e&4)!==0,P=!I&&t==="scroll",T=I?_!==null?_+"Capture":null:_;I=[];for(var C=p,D;C!==null;){D=C;var N=D.stateNode;if(D.tag===5&&N!==null&&(D=N,T!==null&&(N=Rc(C,T),N!=null&&I.push(Bc(C,N,D)))),P)break;C=C.return}0<I.length&&(_=new E(_,b,null,n,m),v.push({event:_,listeners:I}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",_&&n!==Vy&&(b=n.relatedTarget||n.fromElement)&&(Hs(b)||b[uo]))break e;if((E||_)&&(_=m.window===m?m:(_=m.ownerDocument)?_.defaultView||_.parentWindow:window,E?(b=n.relatedTarget||n.toElement,E=p,b=b?Hs(b):null,b!==null&&(P=xa(b),b!==P||b.tag!==5&&b.tag!==6)&&(b=null)):(E=null,b=p),E!==b)){if(I=xk,N="onMouseLeave",T="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(I=Sk,N="onPointerLeave",T="onPointerEnter",C="pointer"),P=E==null?_:ul(E),D=b==null?_:ul(b),_=new I(N,C+"leave",E,n,m),_.target=P,_.relatedTarget=D,N=null,Hs(m)===p&&(I=new I(T,C+"enter",b,n,m),I.target=D,I.relatedTarget=P,N=I),P=N,E&&b)t:{for(I=E,T=b,C=0,D=I;D;D=Xa(D))C++;for(D=0,N=T;N;N=Xa(N))D++;for(;0<C-D;)I=Xa(I),C--;for(;0<D-C;)T=Xa(T),D--;for(;C--;){if(I===T||T!==null&&I===T.alternate)break t;I=Xa(I),T=Xa(T)}I=null}else I=null;E!==null&&Fk(v,_,E,I,!1),b!==null&&P!==null&&Fk(v,P,b,I,!0)}}e:{if(_=p?ul(p):window,E=_.nodeName&&_.nodeName.toLowerCase(),E==="select"||E==="input"&&_.type==="file")var O=$O;else if(Dk(_))if(YD)O=GO;else{O=WO;var L=HO}else(E=_.nodeName)&&E.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(O=qO);if(O&&(O=O(t,p))){XD(v,O,n,m);break e}L&&L(t,_,p),t==="focusout"&&(L=_._wrapperState)&&L.controlled&&_.type==="number"&&Fy(_,"number",_.value)}switch(L=p?ul(p):window,t){case"focusin":(Dk(L)||L.contentEditable==="true")&&(al=L,Gy=p,dc=null);break;case"focusout":dc=Gy=al=null;break;case"mousedown":Ky=!0;break;case"contextmenu":case"mouseup":case"dragend":Ky=!1,Pk(v,n,m);break;case"selectionchange":if(XO)break;case"keydown":case"keyup":Pk(v,n,m)}var M;if(O1)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else sl?KD(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(GD&&n.locale!=="ko"&&(sl||H!=="onCompositionStart"?H==="onCompositionEnd"&&sl&&(M=qD()):(Ho=m,L1="value"in Ho?Ho.value:Ho.textContent,sl=!0)),L=Vd(p,H),0<L.length&&(H=new kk(H,t,null,n,m),v.push({event:H,listeners:L}),M?H.data=M:(M=QD(n),M!==null&&(H.data=M)))),(M=BO?UO(t,n):VO(t,n))&&(p=Vd(p,"onBeforeInput"),0<p.length&&(m=new kk("onBeforeInput","beforeinput",null,n,m),v.push({event:m,listeners:p}),m.data=M))}aA(v,e)})}function Bc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rc(t,n),s!=null&&r.unshift(Bc(t,s,i)),s=Rc(t,e),s!=null&&r.push(Bc(t,s,i))),t=t.return}return r}function Xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fk(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var u=n,h=u.alternate,p=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&p!==null&&(u=p,i?(h=Rc(n,s),h!=null&&a.unshift(Bc(n,h,u))):i||(h=Rc(n,s),h!=null&&a.push(Bc(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var eM=/\r\n?/g,tM=/\u0000|\uFFFD/g;function Ok(t){return(typeof t=="string"?t:""+t).replace(eM,`
`).replace(tM,"")}function Vh(t,e,n){if(e=Ok(e),Ok(t)!==e&&n)throw Error(ye(425))}function zd(){}var Qy=null,Xy=null;function Yy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jy=typeof setTimeout=="function"?setTimeout:void 0,nM=typeof clearTimeout=="function"?clearTimeout:void 0,Mk=typeof Promise=="function"?Promise:void 0,rM=typeof queueMicrotask=="function"?queueMicrotask:typeof Mk<"u"?function(t){return Mk.resolve(null).then(t).catch(iM)}:Jy;function iM(t){setTimeout(function(){throw t})}function Ov(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Nc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nc(e)}function Jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ql=Math.random().toString(36).slice(2),Si="__reactFiber$"+Ql,Uc="__reactProps$"+Ql,uo="__reactContainer$"+Ql,Zy="__reactEvents$"+Ql,oM="__reactListeners$"+Ql,sM="__reactHandles$"+Ql;function Hs(t){var e=t[Si];if(e)return e;for(var n=t.parentNode;n;){if(e=n[uo]||n[Si]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bk(t);t!==null;){if(n=t[Si])return n;t=Bk(t)}return e}t=n,n=t.parentNode}return null}function kf(t){return t=t[Si]||t[uo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ul(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ye(33))}function Mp(t){return t[Uc]||null}var e0=[],cl=-1;function ms(t){return{current:t}}function Mt(t){0>cl||(t.current=e0[cl],e0[cl]=null,cl--)}function bt(t,e){cl++,e0[cl]=t.current,t.current=e}var ls={},Yn=ms(ls),Er=ms(!1),sa=ls;function Pl(t,e){var n=t.type.contextTypes;if(!n)return ls;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xr(t){return t=t.childContextTypes,t!=null}function jd(){Mt(Er),Mt(Yn)}function Uk(t,e,n){if(Yn.current!==ls)throw Error(ye(168));bt(Yn,e),bt(Er,n)}function uA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ye(108,HF(t)||"Unknown",i));return qt({},n,r)}function $d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ls,sa=Yn.current,bt(Yn,t),bt(Er,Er.current),!0}function Vk(t,e,n){var r=t.stateNode;if(!r)throw Error(ye(169));n?(t=uA(t,e,sa),r.__reactInternalMemoizedMergedChildContext=t,Mt(Er),Mt(Yn),bt(Yn,t)):Mt(Er),bt(Er,n)}var Zi=null,Bp=!1,Mv=!1;function cA(t){Zi===null?Zi=[t]:Zi.push(t)}function aM(t){Bp=!0,cA(t)}function vs(){if(!Mv&&Zi!==null){Mv=!0;var t=0,e=xt;try{var n=Zi;for(xt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zi=null,Bp=!1}catch(i){throw Zi!==null&&(Zi=Zi.slice(t+1)),FD(b1,vs),i}finally{xt=e,Mv=!1}}return null}var fl=[],hl=0,Hd=null,Wd=0,jr=[],$r=0,aa=null,eo=1,to="";function Us(t,e){fl[hl++]=Wd,fl[hl++]=Hd,Hd=t,Wd=e}function fA(t,e,n){jr[$r++]=eo,jr[$r++]=to,jr[$r++]=aa,aa=t;var r=eo;t=to;var i=32-ui(r)-1;r&=~(1<<i),n+=1;var s=32-ui(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,eo=1<<32-ui(e)+i|n<<i|r,to=s+t}else eo=1<<s|n<<i|r,to=t}function B1(t){t.return!==null&&(Us(t,1),fA(t,1,0))}function U1(t){for(;t===Hd;)Hd=fl[--hl],fl[hl]=null,Wd=fl[--hl],fl[hl]=null;for(;t===aa;)aa=jr[--$r],jr[$r]=null,to=jr[--$r],jr[$r]=null,eo=jr[--$r],jr[$r]=null}var Lr=null,Ar=null,jt=!1,li=null;function hA(t,e){var n=qr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lr=t,Ar=Jo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lr=t,Ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=aa!==null?{id:eo,overflow:to}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Lr=t,Ar=null,!0):!1;default:return!1}}function t0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function n0(t){if(jt){var e=Ar;if(e){var n=e;if(!zk(t,e)){if(t0(t))throw Error(ye(418));e=Jo(n.nextSibling);var r=Lr;e&&zk(t,e)?hA(r,n):(t.flags=t.flags&-4097|2,jt=!1,Lr=t)}}else{if(t0(t))throw Error(ye(418));t.flags=t.flags&-4097|2,jt=!1,Lr=t}}}function jk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lr=t}function zh(t){if(t!==Lr)return!1;if(!jt)return jk(t),jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yy(t.type,t.memoizedProps)),e&&(e=Ar)){if(t0(t))throw dA(),Error(ye(418));for(;e;)hA(t,e),e=Jo(e.nextSibling)}if(jk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ar=Jo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ar=null}}else Ar=Lr?Jo(t.stateNode.nextSibling):null;return!0}function dA(){for(var t=Ar;t;)t=Jo(t.nextSibling)}function Ll(){Ar=Lr=null,jt=!1}function V1(t){li===null?li=[t]:li.push(t)}var lM=mo.ReactCurrentBatchConfig;function si(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var qd=ms(null),Gd=null,dl=null,z1=null;function j1(){z1=dl=Gd=null}function $1(t){var e=qd.current;Mt(qd),t._currentValue=e}function r0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xl(t,e){Gd=t,z1=dl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wr=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(z1!==t)if(t={context:t,memoizedValue:e,next:null},dl===null){if(Gd===null)throw Error(ye(308));dl=t,Gd.dependencies={lanes:0,firstContext:t}}else dl=dl.next=t;return e}var Ws=null;function H1(t){Ws===null?Ws=[t]:Ws.push(t)}function pA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,H1(e)):(n.next=i.next,i.next=n),e.interleaved=n,co(t,r)}function co(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fo=!1;function W1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,co(t,n)}return i=r.interleaved,i===null?(e.next=e,H1(r)):(e.next=i.next,i.next=e),r.interleaved=e,co(t,n)}function dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,I1(t,n)}}function $k(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kd(t,e,n,r){var i=t.updateQueue;Fo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,p=h.next;h.next=null,a===null?s=p:a.next=p,a=h;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==a&&(u===null?m.firstBaseUpdate=p:u.next=p,m.lastBaseUpdate=h))}if(s!==null){var v=i.baseState;a=0,m=p=h=null,u=s;do{var _=u.lane,E=u.eventTime;if((r&_)===_){m!==null&&(m=m.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var b=t,I=u;switch(_=e,E=n,I.tag){case 1:if(b=I.payload,typeof b=="function"){v=b.call(E,v,_);break e}v=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=I.payload,_=typeof b=="function"?b.call(E,v,_):b,_==null)break e;v=qt({},v,_);break e;case 2:Fo=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[u]:_.push(u))}else E={eventTime:E,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(p=m=E,h=v):m=m.next=E,a|=_;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;_=u,u=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(m===null&&(h=v),i.baseState=h,i.firstBaseUpdate=p,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ua|=a,t.lanes=a,t.memoizedState=v}}function Hk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ye(191,i));i.call(r)}}}var mA=new pD.Component().refs;function i0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Up={isMounted:function(t){return(t=t._reactInternals)?xa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cr(),i=ts(t),s=oo(r,i);s.payload=e,n!=null&&(s.callback=n),e=Zo(t,s,i),e!==null&&(ci(e,t,i,r),dd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cr(),i=ts(t),s=oo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zo(t,s,i),e!==null&&(ci(e,t,i,r),dd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cr(),r=ts(t),i=oo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zo(t,i,r),e!==null&&(ci(e,t,r,n),dd(e,t,r))}};function Wk(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Oc(n,r)||!Oc(i,s):!0}function vA(t,e,n){var r=!1,i=ls,s=e.contextType;return typeof s=="object"&&s!==null?s=Qr(s):(i=xr(e)?sa:Yn.current,r=e.contextTypes,s=(r=r!=null)?Pl(t,i):ls),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Up,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Up.enqueueReplaceState(e,e.state,null)}function o0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=mA,W1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qr(s):(s=xr(e)?sa:Yn.current,i.context=Pl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(i0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Up.enqueueReplaceState(i,i.state,null),Kd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ye(309));var r=n.stateNode}if(!r)throw Error(ye(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;u===mA&&(u=i.refs={}),a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ye(284));if(!n._owner)throw Error(ye(290,t))}return t}function jh(t,e){throw t=Object.prototype.toString.call(e),Error(ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gk(t){var e=t._init;return e(t._payload)}function yA(t){function e(T,C){if(t){var D=T.deletions;D===null?(T.deletions=[C],T.flags|=16):D.push(C)}}function n(T,C){if(!t)return null;for(;C!==null;)e(T,C),C=C.sibling;return null}function r(T,C){for(T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function i(T,C){return T=ns(T,C),T.index=0,T.sibling=null,T}function s(T,C,D){return T.index=D,t?(D=T.alternate,D!==null?(D=D.index,D<C?(T.flags|=2,C):D):(T.flags|=2,C)):(T.flags|=1048576,C)}function a(T){return t&&T.alternate===null&&(T.flags|=2),T}function u(T,C,D,N){return C===null||C.tag!==6?(C=Hv(D,T.mode,N),C.return=T,C):(C=i(C,D),C.return=T,C)}function h(T,C,D,N){var O=D.type;return O===ol?m(T,C,D.props.children,N,D.key):C!==null&&(C.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===No&&Gk(O)===C.type)?(N=i(C,D.props),N.ref=Hu(T,C,D),N.return=T,N):(N=_d(D.type,D.key,D.props,null,T.mode,N),N.ref=Hu(T,C,D),N.return=T,N)}function p(T,C,D,N){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=Wv(D,T.mode,N),C.return=T,C):(C=i(C,D.children||[]),C.return=T,C)}function m(T,C,D,N,O){return C===null||C.tag!==7?(C=Zs(D,T.mode,N,O),C.return=T,C):(C=i(C,D),C.return=T,C)}function v(T,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Hv(""+C,T.mode,D),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Rh:return D=_d(C.type,C.key,C.props,null,T.mode,D),D.ref=Hu(T,null,C),D.return=T,D;case il:return C=Wv(C,T.mode,D),C.return=T,C;case No:var N=C._init;return v(T,N(C._payload),D)}if(Zu(C)||Uu(C))return C=Zs(C,T.mode,D,null),C.return=T,C;jh(T,C)}return null}function _(T,C,D,N){var O=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return O!==null?null:u(T,C,""+D,N);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Rh:return D.key===O?h(T,C,D,N):null;case il:return D.key===O?p(T,C,D,N):null;case No:return O=D._init,_(T,C,O(D._payload),N)}if(Zu(D)||Uu(D))return O!==null?null:m(T,C,D,N,null);jh(T,D)}return null}function E(T,C,D,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return T=T.get(D)||null,u(C,T,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Rh:return T=T.get(N.key===null?D:N.key)||null,h(C,T,N,O);case il:return T=T.get(N.key===null?D:N.key)||null,p(C,T,N,O);case No:var L=N._init;return E(T,C,D,L(N._payload),O)}if(Zu(N)||Uu(N))return T=T.get(D)||null,m(C,T,N,O,null);jh(C,N)}return null}function b(T,C,D,N){for(var O=null,L=null,M=C,H=C=0,J=null;M!==null&&H<D.length;H++){M.index>H?(J=M,M=null):J=M.sibling;var le=_(T,M,D[H],N);if(le===null){M===null&&(M=J);break}t&&M&&le.alternate===null&&e(T,M),C=s(le,C,H),L===null?O=le:L.sibling=le,L=le,M=J}if(H===D.length)return n(T,M),jt&&Us(T,H),O;if(M===null){for(;H<D.length;H++)M=v(T,D[H],N),M!==null&&(C=s(M,C,H),L===null?O=M:L.sibling=M,L=M);return jt&&Us(T,H),O}for(M=r(T,M);H<D.length;H++)J=E(M,T,H,D[H],N),J!==null&&(t&&J.alternate!==null&&M.delete(J.key===null?H:J.key),C=s(J,C,H),L===null?O=J:L.sibling=J,L=J);return t&&M.forEach(function(K){return e(T,K)}),jt&&Us(T,H),O}function I(T,C,D,N){var O=Uu(D);if(typeof O!="function")throw Error(ye(150));if(D=O.call(D),D==null)throw Error(ye(151));for(var L=O=null,M=C,H=C=0,J=null,le=D.next();M!==null&&!le.done;H++,le=D.next()){M.index>H?(J=M,M=null):J=M.sibling;var K=_(T,M,le.value,N);if(K===null){M===null&&(M=J);break}t&&M&&K.alternate===null&&e(T,M),C=s(K,C,H),L===null?O=K:L.sibling=K,L=K,M=J}if(le.done)return n(T,M),jt&&Us(T,H),O;if(M===null){for(;!le.done;H++,le=D.next())le=v(T,le.value,N),le!==null&&(C=s(le,C,H),L===null?O=le:L.sibling=le,L=le);return jt&&Us(T,H),O}for(M=r(T,M);!le.done;H++,le=D.next())le=E(M,T,H,le.value,N),le!==null&&(t&&le.alternate!==null&&M.delete(le.key===null?H:le.key),C=s(le,C,H),L===null?O=le:L.sibling=le,L=le);return t&&M.forEach(function(se){return e(T,se)}),jt&&Us(T,H),O}function P(T,C,D,N){if(typeof D=="object"&&D!==null&&D.type===ol&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Rh:e:{for(var O=D.key,L=C;L!==null;){if(L.key===O){if(O=D.type,O===ol){if(L.tag===7){n(T,L.sibling),C=i(L,D.props.children),C.return=T,T=C;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===No&&Gk(O)===L.type){n(T,L.sibling),C=i(L,D.props),C.ref=Hu(T,L,D),C.return=T,T=C;break e}n(T,L);break}else e(T,L);L=L.sibling}D.type===ol?(C=Zs(D.props.children,T.mode,N,D.key),C.return=T,T=C):(N=_d(D.type,D.key,D.props,null,T.mode,N),N.ref=Hu(T,C,D),N.return=T,T=N)}return a(T);case il:e:{for(L=D.key;C!==null;){if(C.key===L)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){n(T,C.sibling),C=i(C,D.children||[]),C.return=T,T=C;break e}else{n(T,C);break}else e(T,C);C=C.sibling}C=Wv(D,T.mode,N),C.return=T,T=C}return a(T);case No:return L=D._init,P(T,C,L(D._payload),N)}if(Zu(D))return b(T,C,D,N);if(Uu(D))return I(T,C,D,N);jh(T,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,C!==null&&C.tag===6?(n(T,C.sibling),C=i(C,D),C.return=T,T=C):(n(T,C),C=Hv(D,T.mode,N),C.return=T,T=C),a(T)):n(T,C)}return P}var Nl=yA(!0),_A=yA(!1),Sf={},Ri=ms(Sf),Vc=ms(Sf),zc=ms(Sf);function qs(t){if(t===Sf)throw Error(ye(174));return t}function q1(t,e){switch(bt(zc,e),bt(Vc,t),bt(Ri,Sf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:My(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=My(e,t)}Mt(Ri),bt(Ri,e)}function Fl(){Mt(Ri),Mt(Vc),Mt(zc)}function wA(t){qs(zc.current);var e=qs(Ri.current),n=My(e,t.type);e!==n&&(bt(Vc,t),bt(Ri,n))}function G1(t){Vc.current===t&&(Mt(Ri),Mt(Vc))}var Ht=ms(0);function Qd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bv=[];function K1(){for(var t=0;t<Bv.length;t++)Bv[t]._workInProgressVersionPrimary=null;Bv.length=0}var pd=mo.ReactCurrentDispatcher,Uv=mo.ReactCurrentBatchConfig,la=0,Wt=null,_n=null,Tn=null,Xd=!1,pc=!1,jc=0,uM=0;function $n(){throw Error(ye(321))}function Q1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hi(t[n],e[n]))return!1;return!0}function X1(t,e,n,r,i,s){if(la=s,Wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pd.current=t===null||t.memoizedState===null?dM:pM,t=n(r,i),pc){s=0;do{if(pc=!1,jc=0,25<=s)throw Error(ye(301));s+=1,Tn=_n=null,e.updateQueue=null,pd.current=gM,t=n(r,i)}while(pc)}if(pd.current=Yd,e=_n!==null&&_n.next!==null,la=0,Tn=_n=Wt=null,Xd=!1,e)throw Error(ye(300));return t}function Y1(){var t=jc!==0;return jc=0,t}function xi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Wt.memoizedState=Tn=t:Tn=Tn.next=t,Tn}function Xr(){if(_n===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=_n.next;var e=Tn===null?Wt.memoizedState:Tn.next;if(e!==null)Tn=e,_n=t;else{if(t===null)throw Error(ye(310));_n=t,t={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Tn===null?Wt.memoizedState=Tn=t:Tn=Tn.next=t}return Tn}function $c(t,e){return typeof e=="function"?e(t):e}function Vv(t){var e=Xr(),n=e.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=t;var r=_n,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=a=null,h=null,p=s;do{var m=p.lane;if((la&m)===m)h!==null&&(h=h.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var v={lane:m,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};h===null?(u=h=v,a=r):h=h.next=v,Wt.lanes|=m,ua|=m}p=p.next}while(p!==null&&p!==s);h===null?a=r:h.next=u,hi(r,e.memoizedState)||(wr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Wt.lanes|=s,ua|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zv(t){var e=Xr(),n=e.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);hi(s,e.memoizedState)||(wr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function EA(){}function xA(t,e){var n=Wt,r=Xr(),i=e(),s=!hi(r.memoizedState,i);if(s&&(r.memoizedState=i,wr=!0),r=r.queue,J1(TA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,Hc(9,SA.bind(null,n,r,i,e),void 0,null),Cn===null)throw Error(ye(349));la&30||kA(n,e,i)}return i}function kA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function SA(t,e,n,r){e.value=n,e.getSnapshot=r,CA(e)&&DA(t)}function TA(t,e,n){return n(function(){CA(e)&&DA(t)})}function CA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hi(t,n)}catch{return!0}}function DA(t){var e=co(t,1);e!==null&&ci(e,t,1,-1)}function Kk(t){var e=xi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:t},e.queue=t,t=t.dispatch=hM.bind(null,Wt,t),[e.memoizedState,t]}function Hc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AA(){return Xr().memoizedState}function gd(t,e,n,r){var i=xi();Wt.flags|=t,i.memoizedState=Hc(1|e,n,void 0,r===void 0?null:r)}function Vp(t,e,n,r){var i=Xr();r=r===void 0?null:r;var s=void 0;if(_n!==null){var a=_n.memoizedState;if(s=a.destroy,r!==null&&Q1(r,a.deps)){i.memoizedState=Hc(e,n,s,r);return}}Wt.flags|=t,i.memoizedState=Hc(1|e,n,s,r)}function Qk(t,e){return gd(8390656,8,t,e)}function J1(t,e){return Vp(2048,8,t,e)}function bA(t,e){return Vp(4,2,t,e)}function IA(t,e){return Vp(4,4,t,e)}function RA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PA(t,e,n){return n=n!=null?n.concat([t]):null,Vp(4,4,RA.bind(null,e,t),n)}function Z1(){}function LA(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NA(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Q1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FA(t,e,n){return la&21?(hi(n,e)||(n=BD(),Wt.lanes|=n,ua|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wr=!0),t.memoizedState=n)}function cM(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var r=Uv.transition;Uv.transition={};try{t(!1),e()}finally{xt=n,Uv.transition=r}}function OA(){return Xr().memoizedState}function fM(t,e,n){var r=ts(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MA(t))BA(e,n);else if(n=pA(t,e,n,r),n!==null){var i=cr();ci(n,t,r,i),UA(n,e,r)}}function hM(t,e,n){var r=ts(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MA(t))BA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(i.hasEagerState=!0,i.eagerState=u,hi(u,a)){var h=e.interleaved;h===null?(i.next=i,H1(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}n=pA(t,e,i,r),n!==null&&(i=cr(),ci(n,t,r,i),UA(n,e,r))}}function MA(t){var e=t.alternate;return t===Wt||e!==null&&e===Wt}function BA(t,e){pc=Xd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,I1(t,n)}}var Yd={readContext:Qr,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},dM={readContext:Qr,useCallback:function(t,e){return xi().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:Qk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gd(4194308,4,RA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return gd(4,2,t,e)},useMemo:function(t,e){var n=xi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fM.bind(null,Wt,t),[r.memoizedState,t]},useRef:function(t){var e=xi();return t={current:t},e.memoizedState=t},useState:Kk,useDebugValue:Z1,useDeferredValue:function(t){return xi().memoizedState=t},useTransition:function(){var t=Kk(!1),e=t[0];return t=cM.bind(null,t[1]),xi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Wt,i=xi();if(jt){if(n===void 0)throw Error(ye(407));n=n()}else{if(n=e(),Cn===null)throw Error(ye(349));la&30||kA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Qk(TA.bind(null,r,s,t),[t]),r.flags|=2048,Hc(9,SA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=xi(),e=Cn.identifierPrefix;if(jt){var n=to,r=eo;n=(r&~(1<<32-ui(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pM={readContext:Qr,useCallback:LA,useContext:Qr,useEffect:J1,useImperativeHandle:PA,useInsertionEffect:bA,useLayoutEffect:IA,useMemo:NA,useReducer:Vv,useRef:AA,useState:function(){return Vv($c)},useDebugValue:Z1,useDeferredValue:function(t){var e=Xr();return FA(e,_n.memoizedState,t)},useTransition:function(){var t=Vv($c)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:EA,useSyncExternalStore:xA,useId:OA,unstable_isNewReconciler:!1},gM={readContext:Qr,useCallback:LA,useContext:Qr,useEffect:J1,useImperativeHandle:PA,useInsertionEffect:bA,useLayoutEffect:IA,useMemo:NA,useReducer:zv,useRef:AA,useState:function(){return zv($c)},useDebugValue:Z1,useDeferredValue:function(t){var e=Xr();return _n===null?e.memoizedState=t:FA(e,_n.memoizedState,t)},useTransition:function(){var t=zv($c)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:EA,useSyncExternalStore:xA,useId:OA,unstable_isNewReconciler:!1};function Ol(t,e){try{var n="",r=e;do n+=$F(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function s0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mM=typeof WeakMap=="function"?WeakMap:Map;function VA(t,e,n){n=oo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zd||(Zd=!0,m0=r),s0(t,e)},n}function zA(t,e,n){n=oo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){s0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){s0(t,e),typeof r!="function"&&(es===null?es=new Set([this]):es.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Xk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IM.bind(null,t,e,n),e.then(t,t))}function Yk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oo(-1,1),e.tag=2,Zo(n,e,1))),n.lanes|=1),t)}var vM=mo.ReactCurrentOwner,wr=!1;function ar(t,e,n,r){e.child=t===null?_A(e,null,n,r):Nl(e,t.child,n,r)}function Zk(t,e,n,r,i){n=n.render;var s=e.ref;return xl(e,i),r=X1(t,e,n,r,s,i),n=Y1(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fo(t,e,i)):(jt&&n&&B1(e),e.flags|=1,ar(t,e,r,i),e.child)}function eS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!a_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,jA(t,e,s,r,i)):(t=_d(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Oc,n(a,r)&&t.ref===e.ref)return fo(t,e,i)}return e.flags|=1,t=ns(s,r),t.ref=e.ref,t.return=e,e.child=t}function jA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Oc(s,r)&&t.ref===e.ref)if(wr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wr=!0);else return e.lanes=t.lanes,fo(t,e,i)}return a0(t,e,n,r,i)}function $A(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(gl,Dr),Dr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bt(gl,Dr),Dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,bt(gl,Dr),Dr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,bt(gl,Dr),Dr|=r;return ar(t,e,i,n),e.child}function HA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function a0(t,e,n,r,i){var s=xr(n)?sa:Yn.current;return s=Pl(e,s),xl(e,i),n=X1(t,e,n,r,s,i),r=Y1(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fo(t,e,i)):(jt&&r&&B1(e),e.flags|=1,ar(t,e,n,i),e.child)}function tS(t,e,n,r,i){if(xr(n)){var s=!0;$d(e)}else s=!1;if(xl(e,i),e.stateNode===null)md(t,e),vA(e,n,r),o0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var h=a.context,p=n.contextType;typeof p=="object"&&p!==null?p=Qr(p):(p=xr(n)?sa:Yn.current,p=Pl(e,p));var m=n.getDerivedStateFromProps,v=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||h!==p)&&qk(e,a,r,p),Fo=!1;var _=e.memoizedState;a.state=_,Kd(e,r,a,i),h=e.memoizedState,u!==r||_!==h||Er.current||Fo?(typeof m=="function"&&(i0(e,n,m,r),h=e.memoizedState),(u=Fo||Wk(e,n,u,r,_,h,p))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=p,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,gA(t,e),u=e.memoizedProps,p=e.type===e.elementType?u:si(e.type,u),a.props=p,v=e.pendingProps,_=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=Qr(h):(h=xr(n)?sa:Yn.current,h=Pl(e,h));var E=n.getDerivedStateFromProps;(m=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==v||_!==h)&&qk(e,a,r,h),Fo=!1,_=e.memoizedState,a.state=_,Kd(e,r,a,i);var b=e.memoizedState;u!==v||_!==b||Er.current||Fo?(typeof E=="function"&&(i0(e,n,E,r),b=e.memoizedState),(p=Fo||Wk(e,n,p,r,_,b,h)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=h,r=p):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return l0(t,e,n,r,s,i)}function l0(t,e,n,r,i,s){HA(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Vk(e,n,!1),fo(t,e,s);r=e.stateNode,vM.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Nl(e,t.child,null,s),e.child=Nl(e,null,u,s)):ar(t,e,u,s),e.memoizedState=r.state,i&&Vk(e,n,!0),e.child}function WA(t){var e=t.stateNode;e.pendingContext?Uk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uk(t,e.context,!1),q1(t,e.containerInfo)}function nS(t,e,n,r,i){return Ll(),V1(i),e.flags|=256,ar(t,e,n,r),e.child}var u0={dehydrated:null,treeContext:null,retryLane:0};function c0(t){return{baseLanes:t,cachePool:null,transitions:null}}function qA(t,e,n){var r=e.pendingProps,i=Ht.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bt(Ht,i&1),t===null)return n0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=$p(a,r,0,null),t=Zs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=c0(n),e.memoizedState=u0,t):e_(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return yM(t,e,a,r,u,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,u=i.sibling;var h={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=ns(i,h),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=ns(u,s):(s=Zs(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?c0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=u0,r}return s=t.child,t=s.sibling,r=ns(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function e_(t,e){return e=$p({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $h(t,e,n,r){return r!==null&&V1(r),Nl(e,t.child,null,n),t=e_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yM(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=jv(Error(ye(422))),$h(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=$p({mode:"visible",children:r.children},i,0,null),s=Zs(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Nl(e,t.child,null,a),e.child.memoizedState=c0(a),e.memoizedState=u0,s);if(!(e.mode&1))return $h(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(ye(419)),r=jv(s,r,void 0),$h(t,e,a,r)}if(u=(a&t.childLanes)!==0,wr||u){if(r=Cn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,co(t,i),ci(r,t,i,-1))}return s_(),r=jv(Error(ye(421))),$h(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ar=Jo(i.nextSibling),Lr=e,jt=!0,li=null,t!==null&&(jr[$r++]=eo,jr[$r++]=to,jr[$r++]=aa,eo=t.id,to=t.overflow,aa=e),e=e_(e,r.children),e.flags|=4096,e)}function rS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),r0(t.return,e,n)}function $v(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function GA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ar(t,e,r.children,n),r=Ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rS(t,n,e);else if(t.tag===19)rS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bt(Ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$v(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$v(e,!0,n,null,s);break;case"together":$v(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ua|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ye(153));if(e.child!==null){for(t=e.child,n=ns(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ns(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _M(t,e,n){switch(e.tag){case 3:WA(e),Ll();break;case 5:wA(e);break;case 1:xr(e.type)&&$d(e);break;case 4:q1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;bt(qd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bt(Ht,Ht.current&1),e.flags|=128,null):n&e.child.childLanes?qA(t,e,n):(bt(Ht,Ht.current&1),t=fo(t,e,n),t!==null?t.sibling:null);bt(Ht,Ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return GA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt(Ht,Ht.current),r)break;return null;case 22:case 23:return e.lanes=0,$A(t,e,n)}return fo(t,e,n)}var KA,f0,QA,XA;KA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};f0=function(){};QA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qs(Ri.current);var s=null;switch(n){case"input":i=Ly(t,i),r=Ly(t,r),s=[];break;case"select":i=qt({},i,{value:void 0}),r=qt({},r,{value:void 0}),s=[];break;case"textarea":i=Oy(t,i),r=Oy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zd)}By(n,r);var a;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var u=i[p];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(bc.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in r){var h=r[p];if(u=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&h!==u&&(h!=null||u!=null))if(p==="style")if(u){for(a in u)!u.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&u[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(s||(s=[]),s.push(p,n)),n=h;else p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(p,h)):p==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(p,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(bc.hasOwnProperty(p)?(h!=null&&p==="onScroll"&&Lt("scroll",t),s||u===h||(s=[])):(s=s||[]).push(p,h))}n&&(s=s||[]).push("style",n);var p=s;(e.updateQueue=p)&&(e.flags|=4)}};XA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wu(t,e){if(!jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wM(t,e,n){var r=e.pendingProps;switch(U1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(e),null;case 1:return xr(e.type)&&jd(),Hn(e),null;case 3:return r=e.stateNode,Fl(),Mt(Er),Mt(Yn),K1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,li!==null&&(_0(li),li=null))),f0(t,e),Hn(e),null;case 5:G1(e);var i=qs(zc.current);if(n=e.type,t!==null&&e.stateNode!=null)QA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ye(166));return Hn(e),null}if(t=qs(Ri.current),zh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Si]=e,r[Uc]=s,t=(e.mode&1)!==0,n){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(i=0;i<tc.length;i++)Lt(tc[i],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":hk(r,s),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lt("invalid",r);break;case"textarea":pk(r,s),Lt("invalid",r)}By(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Vh(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Vh(r.textContent,u,t),i=["children",""+u]):bc.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Lt("scroll",r)}switch(n){case"input":Ph(r),dk(r,s,!0);break;case"textarea":Ph(r),gk(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Si]=e,t[Uc]=r,KA(t,e,!1,!1),e.stateNode=t;e:{switch(a=Uy(n,r),n){case"dialog":Lt("cancel",t),Lt("close",t),i=r;break;case"iframe":case"object":case"embed":Lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<tc.length;i++)Lt(tc[i],t);i=r;break;case"source":Lt("error",t),i=r;break;case"img":case"image":case"link":Lt("error",t),Lt("load",t),i=r;break;case"details":Lt("toggle",t),i=r;break;case"input":hk(t,r),i=Ly(t,r),Lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qt({},r,{value:void 0}),Lt("invalid",t);break;case"textarea":pk(t,r),i=Oy(t,r),Lt("invalid",t);break;default:i=r}By(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?CD(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&SD(t,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Ic(t,h):typeof h=="number"&&Ic(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bc.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Lt("scroll",t):h!=null&&S1(t,s,h,a))}switch(n){case"input":Ph(t),dk(t,r,!1);break;case"textarea":Ph(t),gk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+as(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?yl(t,!!r.multiple,s,!1):r.defaultValue!=null&&yl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hn(e),null;case 6:if(t&&e.stateNode!=null)XA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ye(166));if(n=qs(zc.current),qs(Ri.current),zh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Si]=e,(s=r.nodeValue!==n)&&(t=Lr,t!==null))switch(t.tag){case 3:Vh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Si]=e,e.stateNode=r}return Hn(e),null;case 13:if(Mt(Ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jt&&Ar!==null&&e.mode&1&&!(e.flags&128))dA(),Ll(),e.flags|=98560,s=!1;else if(s=zh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ye(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ye(317));s[Si]=e}else Ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hn(e),s=!1}else li!==null&&(_0(li),li=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ht.current&1?wn===0&&(wn=3):s_())),e.updateQueue!==null&&(e.flags|=4),Hn(e),null);case 4:return Fl(),f0(t,e),t===null&&Mc(e.stateNode.containerInfo),Hn(e),null;case 10:return $1(e.type._context),Hn(e),null;case 17:return xr(e.type)&&jd(),Hn(e),null;case 19:if(Mt(Ht),s=e.memoizedState,s===null)return Hn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Wu(s,!1);else{if(wn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Qd(t),a!==null){for(e.flags|=128,Wu(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bt(Ht,Ht.current&1|2),e.child}t=t.sibling}s.tail!==null&&nn()>Ml&&(e.flags|=128,r=!0,Wu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Qd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!jt)return Hn(e),null}else 2*nn()-s.renderingStartTime>Ml&&n!==1073741824&&(e.flags|=128,r=!0,Wu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nn(),e.sibling=null,n=Ht.current,bt(Ht,r?n&1|2:n&1),e):(Hn(e),null);case 22:case 23:return o_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dr&1073741824&&(Hn(e),e.subtreeFlags&6&&(e.flags|=8192)):Hn(e),null;case 24:return null;case 25:return null}throw Error(ye(156,e.tag))}function EM(t,e){switch(U1(e),e.tag){case 1:return xr(e.type)&&jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fl(),Mt(Er),Mt(Yn),K1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return G1(e),null;case 13:if(Mt(Ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ye(340));Ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mt(Ht),null;case 4:return Fl(),null;case 10:return $1(e.type._context),null;case 22:case 23:return o_(),null;case 24:return null;default:return null}}var Hh=!1,Gn=!1,xM=typeof WeakSet=="function"?WeakSet:Set,Le=null;function pl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yt(t,e,r)}else n.current=null}function h0(t,e,n){try{n()}catch(r){Yt(t,e,r)}}var iS=!1;function kM(t,e){if(Qy=Bd,t=eA(),M1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,h=-1,p=0,m=0,v=t,_=null;t:for(;;){for(var E;v!==n||i!==0&&v.nodeType!==3||(u=a+i),v!==s||r!==0&&v.nodeType!==3||(h=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(E=v.firstChild)!==null;)_=v,v=E;for(;;){if(v===t)break t;if(_===n&&++p===i&&(u=a),_===s&&++m===r&&(h=a),(E=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=E}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xy={focusedElem:t,selectionRange:n},Bd=!1,Le=e;Le!==null;)if(e=Le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Le=t;else for(;Le!==null;){e=Le;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var I=b.memoizedProps,P=b.memoizedState,T=e.stateNode,C=T.getSnapshotBeforeUpdate(e.elementType===e.type?I:si(e.type,I),P);T.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var D=e.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(N){Yt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Le=t;break}Le=e.return}return b=iS,iS=!1,b}function gc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&h0(e,n,s)}i=i.next}while(i!==r)}}function zp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function d0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function YA(t){var e=t.alternate;e!==null&&(t.alternate=null,YA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Si],delete e[Uc],delete e[Zy],delete e[oM],delete e[sM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JA(t){return t.tag===5||t.tag===3||t.tag===4}function oS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function p0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zd));else if(r!==4&&(t=t.child,t!==null))for(p0(t,e,n),t=t.sibling;t!==null;)p0(t,e,n),t=t.sibling}function g0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(g0(t,e,n),t=t.sibling;t!==null;)g0(t,e,n),t=t.sibling}var Rn=null,ai=!1;function Ro(t,e,n){for(n=n.child;n!==null;)ZA(t,e,n),n=n.sibling}function ZA(t,e,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Lp,n)}catch{}switch(n.tag){case 5:Gn||pl(n,e);case 6:var r=Rn,i=ai;Rn=null,Ro(t,e,n),Rn=r,ai=i,Rn!==null&&(ai?(t=Rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rn.removeChild(n.stateNode));break;case 18:Rn!==null&&(ai?(t=Rn,n=n.stateNode,t.nodeType===8?Ov(t.parentNode,n):t.nodeType===1&&Ov(t,n),Nc(t)):Ov(Rn,n.stateNode));break;case 4:r=Rn,i=ai,Rn=n.stateNode.containerInfo,ai=!0,Ro(t,e,n),Rn=r,ai=i;break;case 0:case 11:case 14:case 15:if(!Gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&h0(n,e,a),i=i.next}while(i!==r)}Ro(t,e,n);break;case 1:if(!Gn&&(pl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Yt(n,e,u)}Ro(t,e,n);break;case 21:Ro(t,e,n);break;case 22:n.mode&1?(Gn=(r=Gn)||n.memoizedState!==null,Ro(t,e,n),Gn=r):Ro(t,e,n);break;default:Ro(t,e,n)}}function sS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xM),e.forEach(function(r){var i=PM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function oi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Rn=u.stateNode,ai=!1;break e;case 3:Rn=u.stateNode.containerInfo,ai=!0;break e;case 4:Rn=u.stateNode.containerInfo,ai=!0;break e}u=u.return}if(Rn===null)throw Error(ye(160));ZA(s,a,i),Rn=null,ai=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(p){Yt(i,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eb(e,t),e=e.sibling}function eb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oi(e,t),Ei(t),r&4){try{gc(3,t,t.return),zp(3,t)}catch(I){Yt(t,t.return,I)}try{gc(5,t,t.return)}catch(I){Yt(t,t.return,I)}}break;case 1:oi(e,t),Ei(t),r&512&&n!==null&&pl(n,n.return);break;case 5:if(oi(e,t),Ei(t),r&512&&n!==null&&pl(n,n.return),t.flags&32){var i=t.stateNode;try{Ic(i,"")}catch(I){Yt(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&ED(i,s),Uy(u,a);var p=Uy(u,s);for(a=0;a<h.length;a+=2){var m=h[a],v=h[a+1];m==="style"?CD(i,v):m==="dangerouslySetInnerHTML"?SD(i,v):m==="children"?Ic(i,v):S1(i,m,v,p)}switch(u){case"input":Ny(i,s);break;case"textarea":xD(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?yl(i,!!s.multiple,E,!1):_!==!!s.multiple&&(s.defaultValue!=null?yl(i,!!s.multiple,s.defaultValue,!0):yl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Uc]=s}catch(I){Yt(t,t.return,I)}}break;case 6:if(oi(e,t),Ei(t),r&4){if(t.stateNode===null)throw Error(ye(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Yt(t,t.return,I)}}break;case 3:if(oi(e,t),Ei(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nc(e.containerInfo)}catch(I){Yt(t,t.return,I)}break;case 4:oi(e,t),Ei(t);break;case 13:oi(e,t),Ei(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(r_=nn())),r&4&&sS(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Gn=(p=Gn)||m,oi(e,t),Gn=p):oi(e,t),Ei(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!m&&t.mode&1)for(Le=t,m=t.child;m!==null;){for(v=Le=m;Le!==null;){switch(_=Le,E=_.child,_.tag){case 0:case 11:case 14:case 15:gc(4,_,_.return);break;case 1:pl(_,_.return);var b=_.stateNode;if(typeof b.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(I){Yt(r,n,I)}}break;case 5:pl(_,_.return);break;case 22:if(_.memoizedState!==null){lS(v);continue}}E!==null?(E.return=_,Le=E):lS(v)}m=m.sibling}e:for(m=null,v=t;;){if(v.tag===5){if(m===null){m=v;try{i=v.stateNode,p?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=v.stateNode,h=v.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=TD("display",a))}catch(I){Yt(t,t.return,I)}}}else if(v.tag===6){if(m===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(I){Yt(t,t.return,I)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:oi(e,t),Ei(t),r&4&&sS(t);break;case 21:break;default:oi(e,t),Ei(t)}}function Ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(JA(n)){var r=n;break e}n=n.return}throw Error(ye(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ic(i,""),r.flags&=-33);var s=oS(t);g0(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=oS(t);p0(t,u,a);break;default:throw Error(ye(161))}}catch(h){Yt(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SM(t,e,n){Le=t,tb(t)}function tb(t,e,n){for(var r=(t.mode&1)!==0;Le!==null;){var i=Le,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Hh;if(!a){var u=i.alternate,h=u!==null&&u.memoizedState!==null||Gn;u=Hh;var p=Gn;if(Hh=a,(Gn=h)&&!p)for(Le=i;Le!==null;)a=Le,h=a.child,a.tag===22&&a.memoizedState!==null?uS(i):h!==null?(h.return=a,Le=h):uS(i);for(;s!==null;)Le=s,tb(s),s=s.sibling;Le=i,Hh=u,Gn=p}aS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Le=s):aS(t)}}function aS(t){for(;Le!==null;){var e=Le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gn||zp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:si(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hk(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hk(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var m=p.memoizedState;if(m!==null){var v=m.dehydrated;v!==null&&Nc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Gn||e.flags&512&&d0(e)}catch(_){Yt(e,e.return,_)}}if(e===t){Le=null;break}if(n=e.sibling,n!==null){n.return=e.return,Le=n;break}Le=e.return}}function lS(t){for(;Le!==null;){var e=Le;if(e===t){Le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Le=n;break}Le=e.return}}function uS(t){for(;Le!==null;){var e=Le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zp(4,e)}catch(h){Yt(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){Yt(e,i,h)}}var s=e.return;try{d0(e)}catch(h){Yt(e,s,h)}break;case 5:var a=e.return;try{d0(e)}catch(h){Yt(e,a,h)}}}catch(h){Yt(e,e.return,h)}if(e===t){Le=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Le=u;break}Le=e.return}}var TM=Math.ceil,Jd=mo.ReactCurrentDispatcher,t_=mo.ReactCurrentOwner,Gr=mo.ReactCurrentBatchConfig,ct=0,Cn=null,fn=null,Fn=0,Dr=0,gl=ms(0),wn=0,Wc=null,ua=0,jp=0,n_=0,mc=null,yr=null,r_=0,Ml=1/0,Ji=null,Zd=!1,m0=null,es=null,Wh=!1,Wo=null,ep=0,vc=0,v0=null,vd=-1,yd=0;function cr(){return ct&6?nn():vd!==-1?vd:vd=nn()}function ts(t){return t.mode&1?ct&2&&Fn!==0?Fn&-Fn:lM.transition!==null?(yd===0&&(yd=BD()),yd):(t=xt,t!==0||(t=window.event,t=t===void 0?16:WD(t.type)),t):1}function ci(t,e,n,r){if(50<vc)throw vc=0,v0=null,Error(ye(185));Ef(t,n,r),(!(ct&2)||t!==Cn)&&(t===Cn&&(!(ct&2)&&(jp|=n),wn===4&&Bo(t,Fn)),kr(t,r),n===1&&ct===0&&!(e.mode&1)&&(Ml=nn()+500,Bp&&vs()))}function kr(t,e){var n=t.callbackNode;lO(t,e);var r=Md(t,t===Cn?Fn:0);if(r===0)n!==null&&yk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yk(n),e===1)t.tag===0?aM(cS.bind(null,t)):cA(cS.bind(null,t)),rM(function(){!(ct&6)&&vs()}),n=null;else{switch(UD(r)){case 1:n=b1;break;case 4:n=OD;break;case 16:n=Od;break;case 536870912:n=MD;break;default:n=Od}n=ub(n,nb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nb(t,e){if(vd=-1,yd=0,ct&6)throw Error(ye(327));var n=t.callbackNode;if(kl()&&t.callbackNode!==n)return null;var r=Md(t,t===Cn?Fn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tp(t,r);else{e=r;var i=ct;ct|=2;var s=ib();(Cn!==t||Fn!==e)&&(Ji=null,Ml=nn()+500,Js(t,e));do try{AM();break}catch(u){rb(t,u)}while(!0);j1(),Jd.current=s,ct=i,fn!==null?e=0:(Cn=null,Fn=0,e=wn)}if(e!==0){if(e===2&&(i=Hy(t),i!==0&&(r=i,e=y0(t,i))),e===1)throw n=Wc,Js(t,0),Bo(t,r),kr(t,nn()),n;if(e===6)Bo(t,r);else{if(i=t.current.alternate,!(r&30)&&!CM(i)&&(e=tp(t,r),e===2&&(s=Hy(t),s!==0&&(r=s,e=y0(t,s))),e===1))throw n=Wc,Js(t,0),Bo(t,r),kr(t,nn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ye(345));case 2:Vs(t,yr,Ji);break;case 3:if(Bo(t,r),(r&130023424)===r&&(e=r_+500-nn(),10<e)){if(Md(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jy(Vs.bind(null,t,yr,Ji),e);break}Vs(t,yr,Ji);break;case 4:if(Bo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ui(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TM(r/1960))-r,10<r){t.timeoutHandle=Jy(Vs.bind(null,t,yr,Ji),r);break}Vs(t,yr,Ji);break;case 5:Vs(t,yr,Ji);break;default:throw Error(ye(329))}}}return kr(t,nn()),t.callbackNode===n?nb.bind(null,t):null}function y0(t,e){var n=mc;return t.current.memoizedState.isDehydrated&&(Js(t,e).flags|=256),t=tp(t,e),t!==2&&(e=yr,yr=n,e!==null&&_0(e)),t}function _0(t){yr===null?yr=t:yr.push.apply(yr,t)}function CM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bo(t,e){for(e&=~n_,e&=~jp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ui(e),r=1<<n;t[n]=-1,e&=~r}}function cS(t){if(ct&6)throw Error(ye(327));kl();var e=Md(t,0);if(!(e&1))return kr(t,nn()),null;var n=tp(t,e);if(t.tag!==0&&n===2){var r=Hy(t);r!==0&&(e=r,n=y0(t,r))}if(n===1)throw n=Wc,Js(t,0),Bo(t,e),kr(t,nn()),n;if(n===6)throw Error(ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vs(t,yr,Ji),kr(t,nn()),null}function i_(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(Ml=nn()+500,Bp&&vs())}}function ca(t){Wo!==null&&Wo.tag===0&&!(ct&6)&&kl();var e=ct;ct|=1;var n=Gr.transition,r=xt;try{if(Gr.transition=null,xt=1,t)return t()}finally{xt=r,Gr.transition=n,ct=e,!(ct&6)&&vs()}}function o_(){Dr=gl.current,Mt(gl)}function Js(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nM(n)),fn!==null)for(n=fn.return;n!==null;){var r=n;switch(U1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:Fl(),Mt(Er),Mt(Yn),K1();break;case 5:G1(r);break;case 4:Fl();break;case 13:Mt(Ht);break;case 19:Mt(Ht);break;case 10:$1(r.type._context);break;case 22:case 23:o_()}n=n.return}if(Cn=t,fn=t=ns(t.current,null),Fn=Dr=e,wn=0,Wc=null,n_=jp=ua=0,yr=mc=null,Ws!==null){for(e=0;e<Ws.length;e++)if(n=Ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ws=null}return t}function rb(t,e){do{var n=fn;try{if(j1(),pd.current=Yd,Xd){for(var r=Wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xd=!1}if(la=0,Tn=_n=Wt=null,pc=!1,jc=0,t_.current=null,n===null||n.return===null){wn=1,Wc=e,fn=null;break}e:{var s=t,a=n.return,u=n,h=e;if(e=Fn,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var p=h,m=u,v=m.tag;if(!(m.mode&1)&&(v===0||v===11||v===15)){var _=m.alternate;_?(m.updateQueue=_.updateQueue,m.memoizedState=_.memoizedState,m.lanes=_.lanes):(m.updateQueue=null,m.memoizedState=null)}var E=Yk(a);if(E!==null){E.flags&=-257,Jk(E,a,u,s,e),E.mode&1&&Xk(s,p,e),e=E,h=p;var b=e.updateQueue;if(b===null){var I=new Set;I.add(h),e.updateQueue=I}else b.add(h);break e}else{if(!(e&1)){Xk(s,p,e),s_();break e}h=Error(ye(426))}}else if(jt&&u.mode&1){var P=Yk(a);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Jk(P,a,u,s,e),V1(Ol(h,u));break e}}s=h=Ol(h,u),wn!==4&&(wn=2),mc===null?mc=[s]:mc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=VA(s,h,e);$k(s,T);break e;case 1:u=h;var C=s.type,D=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(es===null||!es.has(D)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=zA(s,u,e);$k(s,N);break e}}s=s.return}while(s!==null)}sb(n)}catch(O){e=O,fn===n&&n!==null&&(fn=n=n.return);continue}break}while(!0)}function ib(){var t=Jd.current;return Jd.current=Yd,t===null?Yd:t}function s_(){(wn===0||wn===3||wn===2)&&(wn=4),Cn===null||!(ua&268435455)&&!(jp&268435455)||Bo(Cn,Fn)}function tp(t,e){var n=ct;ct|=2;var r=ib();(Cn!==t||Fn!==e)&&(Ji=null,Js(t,e));do try{DM();break}catch(i){rb(t,i)}while(!0);if(j1(),ct=n,Jd.current=r,fn!==null)throw Error(ye(261));return Cn=null,Fn=0,wn}function DM(){for(;fn!==null;)ob(fn)}function AM(){for(;fn!==null&&!ZF();)ob(fn)}function ob(t){var e=lb(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,e===null?sb(t):fn=e,t_.current=null}function sb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EM(n,e),n!==null){n.flags&=32767,fn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wn=6,fn=null;return}}else if(n=wM(n,e,Dr),n!==null){fn=n;return}if(e=e.sibling,e!==null){fn=e;return}fn=e=t}while(e!==null);wn===0&&(wn=5)}function Vs(t,e,n){var r=xt,i=Gr.transition;try{Gr.transition=null,xt=1,bM(t,e,n,r)}finally{Gr.transition=i,xt=r}return null}function bM(t,e,n,r){do kl();while(Wo!==null);if(ct&6)throw Error(ye(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ye(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uO(t,s),t===Cn&&(fn=Cn=null,Fn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wh||(Wh=!0,ub(Od,function(){return kl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gr.transition,Gr.transition=null;var a=xt;xt=1;var u=ct;ct|=4,t_.current=null,kM(t,n),eb(n,t),QO(Xy),Bd=!!Qy,Xy=Qy=null,t.current=n,SM(n),eO(),ct=u,xt=a,Gr.transition=s}else t.current=n;if(Wh&&(Wh=!1,Wo=t,ep=i),s=t.pendingLanes,s===0&&(es=null),rO(n.stateNode),kr(t,nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zd)throw Zd=!1,t=m0,m0=null,t;return ep&1&&t.tag!==0&&kl(),s=t.pendingLanes,s&1?t===v0?vc++:(vc=0,v0=t):vc=0,vs(),null}function kl(){if(Wo!==null){var t=UD(ep),e=Gr.transition,n=xt;try{if(Gr.transition=null,xt=16>t?16:t,Wo===null)var r=!1;else{if(t=Wo,Wo=null,ep=0,ct&6)throw Error(ye(331));var i=ct;for(ct|=4,Le=t.current;Le!==null;){var s=Le,a=s.child;if(Le.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var p=u[h];for(Le=p;Le!==null;){var m=Le;switch(m.tag){case 0:case 11:case 15:gc(8,m,s)}var v=m.child;if(v!==null)v.return=m,Le=v;else for(;Le!==null;){m=Le;var _=m.sibling,E=m.return;if(YA(m),m===p){Le=null;break}if(_!==null){_.return=E,Le=_;break}Le=E}}}var b=s.alternate;if(b!==null){var I=b.child;if(I!==null){b.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}Le=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Le=a;else e:for(;Le!==null;){if(s=Le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:gc(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Le=T;break e}Le=s.return}}var C=t.current;for(Le=C;Le!==null;){a=Le;var D=a.child;if(a.subtreeFlags&2064&&D!==null)D.return=a,Le=D;else e:for(a=C;Le!==null;){if(u=Le,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:zp(9,u)}}catch(O){Yt(u,u.return,O)}if(u===a){Le=null;break e}var N=u.sibling;if(N!==null){N.return=u.return,Le=N;break e}Le=u.return}}if(ct=i,vs(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Lp,t)}catch{}r=!0}return r}finally{xt=n,Gr.transition=e}}return!1}function fS(t,e,n){e=Ol(n,e),e=VA(t,e,1),t=Zo(t,e,1),e=cr(),t!==null&&(Ef(t,1,e),kr(t,e))}function Yt(t,e,n){if(t.tag===3)fS(t,t,n);else for(;e!==null;){if(e.tag===3){fS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(es===null||!es.has(r))){t=Ol(n,t),t=zA(e,t,1),e=Zo(e,t,1),t=cr(),e!==null&&(Ef(e,1,t),kr(e,t));break}}e=e.return}}function IM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&n,Cn===t&&(Fn&n)===n&&(wn===4||wn===3&&(Fn&130023424)===Fn&&500>nn()-r_?Js(t,0):n_|=n),kr(t,e)}function ab(t,e){e===0&&(t.mode&1?(e=Fh,Fh<<=1,!(Fh&130023424)&&(Fh=4194304)):e=1);var n=cr();t=co(t,e),t!==null&&(Ef(t,e,n),kr(t,n))}function RM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ab(t,n)}function PM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ye(314))}r!==null&&r.delete(e),ab(t,n)}var lb;lb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Er.current)wr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wr=!1,_M(t,e,n);wr=!!(t.flags&131072)}else wr=!1,jt&&e.flags&1048576&&fA(e,Wd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;md(t,e),t=e.pendingProps;var i=Pl(e,Yn.current);xl(e,n),i=X1(null,e,r,t,i,n);var s=Y1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xr(r)?(s=!0,$d(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,W1(e),i.updater=Up,e.stateNode=i,i._reactInternals=e,o0(e,r,t,n),e=l0(null,e,r,!0,s,n)):(e.tag=0,jt&&s&&B1(e),ar(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(md(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NM(r),t=si(r,t),i){case 0:e=a0(null,e,r,t,n);break e;case 1:e=tS(null,e,r,t,n);break e;case 11:e=Zk(null,e,r,t,n);break e;case 14:e=eS(null,e,r,si(r.type,t),n);break e}throw Error(ye(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:si(r,i),a0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:si(r,i),tS(t,e,r,i,n);case 3:e:{if(WA(e),t===null)throw Error(ye(387));r=e.pendingProps,s=e.memoizedState,i=s.element,gA(t,e),Kd(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ol(Error(ye(423)),e),e=nS(t,e,r,n,i);break e}else if(r!==i){i=Ol(Error(ye(424)),e),e=nS(t,e,r,n,i);break e}else for(Ar=Jo(e.stateNode.containerInfo.firstChild),Lr=e,jt=!0,li=null,n=_A(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ll(),r===i){e=fo(t,e,n);break e}ar(t,e,r,n)}e=e.child}return e;case 5:return wA(e),t===null&&n0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Yy(r,i)?a=null:s!==null&&Yy(r,s)&&(e.flags|=32),HA(t,e),ar(t,e,a,n),e.child;case 6:return t===null&&n0(e),null;case 13:return qA(t,e,n);case 4:return q1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Nl(e,null,r,n):ar(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:si(r,i),Zk(t,e,r,i,n);case 7:return ar(t,e,e.pendingProps,n),e.child;case 8:return ar(t,e,e.pendingProps.children,n),e.child;case 12:return ar(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,bt(qd,r._currentValue),r._currentValue=a,s!==null)if(hi(s.value,a)){if(s.children===i.children&&!Er.current){e=fo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=oo(-1,n&-n),h.tag=2;var p=s.updateQueue;if(p!==null){p=p.shared;var m=p.pending;m===null?h.next=h:(h.next=m.next,m.next=h),p.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),r0(s.return,n,e),u.lanes|=n;break}h=h.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ye(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),r0(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ar(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xl(e,n),i=Qr(i),r=r(i),e.flags|=1,ar(t,e,r,n),e.child;case 14:return r=e.type,i=si(r,e.pendingProps),i=si(r.type,i),eS(t,e,r,i,n);case 15:return jA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:si(r,i),md(t,e),e.tag=1,xr(r)?(t=!0,$d(e)):t=!1,xl(e,n),vA(e,r,i),o0(e,r,i,n),l0(null,e,r,!0,t,n);case 19:return GA(t,e,n);case 22:return $A(t,e,n)}throw Error(ye(156,e.tag))};function ub(t,e){return FD(t,e)}function LM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(t,e,n,r){return new LM(t,e,n,r)}function a_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NM(t){if(typeof t=="function")return a_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===C1)return 11;if(t===D1)return 14}return 2}function ns(t,e){var n=t.alternate;return n===null?(n=qr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _d(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")a_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ol:return Zs(n.children,i,s,e);case T1:a=8,i|=8;break;case by:return t=qr(12,n,e,i|2),t.elementType=by,t.lanes=s,t;case Iy:return t=qr(13,n,e,i),t.elementType=Iy,t.lanes=s,t;case Ry:return t=qr(19,n,e,i),t.elementType=Ry,t.lanes=s,t;case yD:return $p(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mD:a=10;break e;case vD:a=9;break e;case C1:a=11;break e;case D1:a=14;break e;case No:a=16,r=null;break e}throw Error(ye(130,t==null?t:typeof t,""))}return e=qr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zs(t,e,n,r){return t=qr(7,t,r,e),t.lanes=n,t}function $p(t,e,n,r){return t=qr(22,t,r,e),t.elementType=yD,t.lanes=n,t.stateNode={isHidden:!1},t}function Hv(t,e,n){return t=qr(6,t,null,e),t.lanes=n,t}function Wv(t,e,n){return e=qr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tv(0),this.expirationTimes=Tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l_(t,e,n,r,i,s,a,u,h){return t=new FM(t,e,n,u,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},W1(s),t}function OM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cb(t){if(!t)return ls;t=t._reactInternals;e:{if(xa(t)!==t||t.tag!==1)throw Error(ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ye(171))}if(t.tag===1){var n=t.type;if(xr(n))return uA(t,n,e)}return e}function fb(t,e,n,r,i,s,a,u,h){return t=l_(n,r,!0,t,i,s,a,u,h),t.context=cb(null),n=t.current,r=cr(),i=ts(n),s=oo(r,i),s.callback=e??null,Zo(n,s,i),t.current.lanes=i,Ef(t,i,r),kr(t,r),t}function Hp(t,e,n,r){var i=e.current,s=cr(),a=ts(i);return n=cb(n),e.context===null?e.context=n:e.pendingContext=n,e=oo(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zo(i,e,a),t!==null&&(ci(t,i,a,s),dd(t,i,a)),a}function np(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function u_(t,e){hS(t,e),(t=t.alternate)&&hS(t,e)}function MM(){return null}var hb=typeof reportError=="function"?reportError:function(t){console.error(t)};function c_(t){this._internalRoot=t}Wp.prototype.render=c_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ye(409));Hp(t,e,null,null)};Wp.prototype.unmount=c_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ca(function(){Hp(null,t,null,null)}),e[uo]=null}};function Wp(t){this._internalRoot=t}Wp.prototype.unstable_scheduleHydration=function(t){if(t){var e=jD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mo.length&&e!==0&&e<Mo[n].priority;n++);Mo.splice(n,0,t),n===0&&HD(t)}};function f_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dS(){}function BM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var p=np(a);s.call(p)}}var a=fb(e,r,t,0,null,!1,!1,"",dS);return t._reactRootContainer=a,t[uo]=a.current,Mc(t.nodeType===8?t.parentNode:t),ca(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var p=np(h);u.call(p)}}var h=l_(t,0,!1,null,null,!1,!1,"",dS);return t._reactRootContainer=h,t[uo]=h.current,Mc(t.nodeType===8?t.parentNode:t),ca(function(){Hp(e,h,n,r)}),h}function Gp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var h=np(a);u.call(h)}}Hp(e,a,t,i)}else a=BM(n,e,t,i,r);return np(a)}VD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ec(e.pendingLanes);n!==0&&(I1(e,n|1),kr(e,nn()),!(ct&6)&&(Ml=nn()+500,vs()))}break;case 13:ca(function(){var r=co(t,1);if(r!==null){var i=cr();ci(r,t,1,i)}}),u_(t,1)}};R1=function(t){if(t.tag===13){var e=co(t,134217728);if(e!==null){var n=cr();ci(e,t,134217728,n)}u_(t,134217728)}};zD=function(t){if(t.tag===13){var e=ts(t),n=co(t,e);if(n!==null){var r=cr();ci(n,t,e,r)}u_(t,e)}};jD=function(){return xt};$D=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};zy=function(t,e,n){switch(e){case"input":if(Ny(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mp(r);if(!i)throw Error(ye(90));wD(r),Ny(r,i)}}}break;case"textarea":xD(t,n);break;case"select":e=n.value,e!=null&&yl(t,!!n.multiple,e,!1)}};bD=i_;ID=ca;var UM={usingClientEntryPoint:!1,Events:[kf,ul,Mp,DD,AD,i_]},qu={findFiberByHostInstance:Hs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},VM={bundleType:qu.bundleType,version:qu.version,rendererPackageName:qu.rendererPackageName,rendererConfig:qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LD(t),t===null?null:t.stateNode},findFiberByHostInstance:qu.findFiberByHostInstance||MM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{Lp=qh.inject(VM),Ii=qh}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UM;Or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f_(e))throw Error(ye(200));return OM(t,e,null,n)};Or.createRoot=function(t,e){if(!f_(t))throw Error(ye(299));var n=!1,r="",i=hb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=l_(t,1,!1,null,null,n,!1,r,i),t[uo]=e.current,Mc(t.nodeType===8?t.parentNode:t),new c_(e)};Or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ye(188)):(t=Object.keys(t).join(","),Error(ye(268,t)));return t=LD(e),t=t===null?null:t.stateNode,t};Or.flushSync=function(t){return ca(t)};Or.hydrate=function(t,e,n){if(!qp(e))throw Error(ye(200));return Gp(null,t,e,!0,n)};Or.hydrateRoot=function(t,e,n){if(!f_(t))throw Error(ye(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=hb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=fb(e,null,t,1,n??null,i,!1,s,a),t[uo]=e.current,Mc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wp(e)};Or.render=function(t,e,n){if(!qp(e))throw Error(ye(200));return Gp(null,t,e,!1,n)};Or.unmountComponentAtNode=function(t){if(!qp(t))throw Error(ye(40));return t._reactRootContainer?(ca(function(){Gp(null,null,t,!1,function(){t._reactRootContainer=null,t[uo]=null})}),!0):!1};Or.unstable_batchedUpdates=i_;Or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qp(n))throw Error(ye(200));if(t==null||t._reactInternals===void 0)throw Error(ye(38));return Gp(t,e,n,!1,r)};Or.version="18.2.0-next-9e3b772b8-20220608";function db(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(db)}catch(t){console.error(t)}}db(),fD.exports=Or;var zM=fD.exports,pS=zM;Dy.createRoot=pS.createRoot,Dy.hydrateRoot=pS.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}var qo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qo||(qo={}));const gS="popstate";function jM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:u}=r.location;return w0("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rp(i)}return HM(e,n,null,t)}function rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $M(){return Math.random().toString(36).substr(2,8)}function mS(t,e){return{usr:t.state,key:t.key,idx:e}}function w0(t,e,n,r){return n===void 0&&(n=null),qc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xl(e):e,{state:n,key:e&&e.key||r||$M()})}function rp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u=qo.Pop,h=null,p=m();p==null&&(p=0,a.replaceState(qc({},a.state,{idx:p}),""));function m(){return(a.state||{idx:null}).idx}function v(){u=qo.Pop;let P=m(),T=P==null?null:P-p;p=P,h&&h({action:u,location:I.location,delta:T})}function _(P,T){u=qo.Push;let C=w0(I.location,P,T);n&&n(C,P),p=m()+1;let D=mS(C,p),N=I.createHref(C);try{a.pushState(D,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(N)}s&&h&&h({action:u,location:I.location,delta:1})}function E(P,T){u=qo.Replace;let C=w0(I.location,P,T);n&&n(C,P),p=m();let D=mS(C,p),N=I.createHref(C);a.replaceState(D,"",N),s&&h&&h({action:u,location:I.location,delta:0})}function b(P){let T=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof P=="string"?P:rp(P);return C=C.replace(/ $/,"%20"),rn(T,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,T)}let I={get action(){return u},get location(){return t(i,a)},listen(P){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(gS,v),h=P,()=>{i.removeEventListener(gS,v),h=null}},createHref(P){return e(i,P)},createURL:b,encodeLocation(P){let T=b(P);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:_,replace:E,go(P){return a.go(P)}};return I}var vS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vS||(vS={}));function WM(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Xl(e):e,i=h_(r.pathname||"/",n);if(i==null)return null;let s=gb(t);qM(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let h=i3(i);a=t3(s[u],h)}return a}function gb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,u)=>{let h={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};h.relativePath.startsWith("/")&&(rn(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=rs([r,h.relativePath]),m=n.concat(h);s.children&&s.children.length>0&&(rn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),gb(s.children,e,m,p)),!(s.path==null&&!s.index)&&e.push({path:p,score:ZM(p,s.index),routesMeta:m})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let h of mb(s.path))i(s,a,h)}),e}function mb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=mb(r.join("/")),u=[];return u.push(...a.map(h=>h===""?s:[s,h].join("/"))),i&&u.push(...a),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function qM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:e3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GM=/^:[\w-]+$/,KM=3,QM=2,XM=1,YM=10,JM=-2,yS=t=>t==="*";function ZM(t,e){let n=t.split("/"),r=n.length;return n.some(yS)&&(r+=JM),e&&(r+=QM),n.filter(i=>!yS(i)).reduce((i,s)=>i+(GM.test(s)?KM:s===""?XM:YM),r)}function e3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function t3(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let u=n[a],h=a===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=n3({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p);if(!m)return null;Object.assign(r,m.params);let v=u.route;s.push({params:r,pathname:rs([i,m.pathname]),pathnameBase:l3(rs([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=rs([i,m.pathnameBase]))}return s}function n3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=r3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,m,v)=>{let{paramName:_,isOptional:E}=m;if(_==="*"){let I=u[v]||"";a=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const b=u[v];return E&&!b?p[_]=void 0:p[_]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:a,pattern:t}}function r3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function i3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function h_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function o3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xl(t):t;return{pathname:n?n.startsWith("/")?n:s3(n,e):e,search:u3(r),hash:c3(i)}}function s3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function d_(t,e){let n=a3(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function p_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xl(t):(i=qc({},t),rn(!i.pathname||!i.pathname.includes("?"),qv("?","pathname","search",i)),rn(!i.pathname||!i.pathname.includes("#"),qv("#","pathname","hash",i)),rn(!i.search||!i.search.includes("#"),qv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=n;else{let v=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}u=v>=0?e[v]:"/"}let h=o3(i,u),p=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}const rs=t=>t.join("/").replace(/\/\/+/g,"/"),l3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function f3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vb=["post","put","patch","delete"];new Set(vb);const h3=["get",...vb];new Set(h3);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gc.apply(this,arguments)}const g_=oe.createContext(null),d3=oe.createContext(null),ys=oe.createContext(null),Kp=oe.createContext(null),vo=oe.createContext({outlet:null,matches:[],isDataRoute:!1}),yb=oe.createContext(null);function p3(t,e){let{relative:n}=e===void 0?{}:e;Yl()||rn(!1);let{basename:r,navigator:i}=oe.useContext(ys),{hash:s,pathname:a,search:u}=wb(t,{relative:n}),h=a;return r!=="/"&&(h=a==="/"?r:rs([r,a])),i.createHref({pathname:h,search:u,hash:s})}function Yl(){return oe.useContext(Kp)!=null}function Tf(){return Yl()||rn(!1),oe.useContext(Kp).location}function _b(t){oe.useContext(ys).static||oe.useLayoutEffect(t)}function Jl(){let{isDataRoute:t}=oe.useContext(vo);return t?D3():g3()}function g3(){Yl()||rn(!1);let t=oe.useContext(g_),{basename:e,future:n,navigator:r}=oe.useContext(ys),{matches:i}=oe.useContext(vo),{pathname:s}=Tf(),a=JSON.stringify(d_(i,n.v7_relativeSplatPath)),u=oe.useRef(!1);return _b(()=>{u.current=!0}),oe.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let v=p_(p,JSON.parse(a),s,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:rs([e,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[e,r,a,s,t])}function m_(){let{matches:t}=oe.useContext(vo),e=t[t.length-1];return e?e.params:{}}function wb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=oe.useContext(ys),{matches:i}=oe.useContext(vo),{pathname:s}=Tf(),a=JSON.stringify(d_(i,r.v7_relativeSplatPath));return oe.useMemo(()=>p_(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function m3(t,e){return v3(t,e)}function v3(t,e,n,r){Yl()||rn(!1);let{navigator:i}=oe.useContext(ys),{matches:s}=oe.useContext(vo),a=s[s.length-1],u=a?a.params:{};a&&a.pathname;let h=a?a.pathnameBase:"/";a&&a.route;let p=Tf(),m;if(e){var v;let P=typeof e=="string"?Xl(e):e;h==="/"||(v=P.pathname)!=null&&v.startsWith(h)||rn(!1),m=P}else m=p;let _=m.pathname||"/",E=_;if(h!=="/"){let P=h.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let b=WM(t,{pathname:E}),I=x3(b&&b.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:rs([h,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:rs([h,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return e&&I?oe.createElement(Kp.Provider,{value:{location:Gc({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:qo.Pop}},I):I}function y3(){let t=C3(),e=f3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),n?oe.createElement("pre",{style:i},n):null,null)}const _3=oe.createElement(y3,null);class w3 extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?oe.createElement(vo.Provider,{value:this.props.routeContext},oe.createElement(yb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E3(t){let{routeContext:e,match:n,children:r}=t,i=oe.useContext(g_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),oe.createElement(vo.Provider,{value:e},r)}function x3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let m=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id]));m>=0||rn(!1),a=a.slice(0,Math.min(a.length,m+1))}let h=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let v=a[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:_,errors:E}=n,b=v.route.loader&&_[v.route.id]===void 0&&(!E||E[v.route.id]===void 0);if(v.route.lazy||b){h=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((m,v,_)=>{let E,b=!1,I=null,P=null;n&&(E=u&&v.route.id?u[v.route.id]:void 0,I=v.route.errorElement||_3,h&&(p<0&&_===0?(A3("route-fallback",!1),b=!0,P=null):p===_&&(b=!0,P=v.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,_+1)),C=()=>{let D;return E?D=I:b?D=P:v.route.Component?D=oe.createElement(v.route.Component,null):v.route.element?D=v.route.element:D=m,oe.createElement(E3,{match:v,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:D})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?oe.createElement(w3,{location:n.location,revalidation:n.revalidation,component:I,error:E,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):C()},null)}var Eb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Eb||{}),ip=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ip||{});function k3(t){let e=oe.useContext(g_);return e||rn(!1),e}function S3(t){let e=oe.useContext(d3);return e||rn(!1),e}function T3(t){let e=oe.useContext(vo);return e||rn(!1),e}function xb(t){let e=T3(),n=e.matches[e.matches.length-1];return n.route.id||rn(!1),n.route.id}function C3(){var t;let e=oe.useContext(yb),n=S3(ip.UseRouteError),r=xb(ip.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function D3(){let{router:t}=k3(Eb.UseNavigateStable),e=xb(ip.UseNavigateStable),n=oe.useRef(!1);return _b(()=>{n.current=!0}),oe.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gc({fromRouteId:e},s)))},[t,e])}const _S={};function A3(t,e,n){!e&&!_S[t]&&(_S[t]=!0)}function wS(t){let{to:e,replace:n,state:r,relative:i}=t;Yl()||rn(!1);let{future:s,static:a}=oe.useContext(ys),{matches:u}=oe.useContext(vo),{pathname:h}=Tf(),p=Jl(),m=p_(e,d_(u,s.v7_relativeSplatPath),h,i==="path"),v=JSON.stringify(m);return oe.useEffect(()=>p(JSON.parse(v),{replace:n,state:r,relative:i}),[p,v,i,n,r]),null}function Yi(t){rn(!1)}function b3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qo.Pop,navigator:s,static:a=!1,future:u}=t;Yl()&&rn(!1);let h=e.replace(/^\/*/,"/"),p=oe.useMemo(()=>({basename:h,navigator:s,static:a,future:Gc({v7_relativeSplatPath:!1},u)}),[h,u,s,a]);typeof r=="string"&&(r=Xl(r));let{pathname:m="/",search:v="",hash:_="",state:E=null,key:b="default"}=r,I=oe.useMemo(()=>{let P=h_(m,h);return P==null?null:{location:{pathname:P,search:v,hash:_,state:E,key:b},navigationType:i}},[h,m,v,_,E,b,i]);return I==null?null:oe.createElement(ys.Provider,{value:p},oe.createElement(Kp.Provider,{children:n,value:I}))}function I3(t){let{children:e,location:n}=t;return m3(E0(e),n)}new Promise(()=>{});function E0(t,e){e===void 0&&(e=[]);let n=[];return oe.Children.forEach(t,(r,i)=>{if(!oe.isValidElement(r))return;let s=[...e,i];if(r.type===oe.Fragment){n.push.apply(n,E0(r.props.children,s));return}r.type!==Yi&&rn(!1),!r.props.index||!r.props.children||rn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=E0(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x0.apply(this,arguments)}function R3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function P3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L3(t,e){return t.button===0&&(!e||e==="_self")&&!P3(t)}const N3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],F3="6";try{window.__reactRouterVersion=F3}catch{}const O3="startTransition",ES=RF[O3];function M3(t){let{basename:e,children:n,future:r,window:i}=t,s=oe.useRef();s.current==null&&(s.current=jM({window:i,v5Compat:!0}));let a=s.current,[u,h]=oe.useState({action:a.action,location:a.location}),{v7_startTransition:p}=r||{},m=oe.useCallback(v=>{p&&ES?ES(()=>h(v)):h(v)},[h,p]);return oe.useLayoutEffect(()=>a.listen(m),[a,m]),oe.createElement(b3,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}const B3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gs=oe.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:u,target:h,to:p,preventScrollReset:m,unstable_viewTransition:v}=e,_=R3(e,N3),{basename:E}=oe.useContext(ys),b,I=!1;if(typeof p=="string"&&U3.test(p)&&(b=p,B3))try{let D=new URL(window.location.href),N=p.startsWith("//")?new URL(D.protocol+p):new URL(p),O=h_(N.pathname,E);N.origin===D.origin&&O!=null?p=O+N.search+N.hash:I=!0}catch{}let P=p3(p,{relative:i}),T=V3(p,{replace:a,state:u,target:h,preventScrollReset:m,relative:i,unstable_viewTransition:v});function C(D){r&&r(D),D.defaultPrevented||T(D)}return oe.createElement("a",x0({},_,{href:b||P,onClick:I||s?r:C,ref:n,target:h}))});var xS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xS||(xS={}));var kS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kS||(kS={}));function V3(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:u}=e===void 0?{}:e,h=Jl(),p=Tf(),m=wb(t,{relative:a});return oe.useCallback(v=>{if(L3(v,n)){v.preventDefault();let _=r!==void 0?r:rp(p)===rp(m);h(t,{replace:_,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:u})}},[p,h,m,r,i,n,t,s,a,u])}var SS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},z3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],u=t[n++],h=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,u=a?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,m=s>>2,v=(s&3)<<4|u>>4;let _=(u&15)<<2|p>>6,E=p&63;h||(E=64,a||(_=64)),r.push(n[m],n[v],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||p==null||v==null)throw new j3;const _=s<<2|u>>4;if(r.push(_),p!==64){const E=u<<4&240|p>>2;if(r.push(E),v!==64){const b=p<<6&192|v;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $3=function(t){const e=kb(t);return Sb.encodeByteArray(e,!0)},op=function(t){return $3(t).replace(/\./g,"")},Tb=function(t){try{return Sb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=()=>H3().__FIREBASE_DEFAULTS__,q3=()=>{if(typeof process>"u"||typeof SS>"u")return;const t=SS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tb(t[1]);return e&&JSON.parse(e)},Qp=()=>{try{return W3()||q3()||G3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cb=t=>{var e,n;return(n=(e=Qp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Db=t=>{const e=Cb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ab=()=>{var t;return(t=Qp())===null||t===void 0?void 0:t.config},bb=t=>{var e;return(e=Qp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[op(JSON.stringify(n)),op(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function X3(){var t;const e=(t=Qp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z3(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function e4(){return!X3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rb(){try{return typeof indexedDB=="object"}catch{return!1}}function t4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=n4,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cf.prototype.create)}}class Cf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?r4(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new zi(i,u,r)}}function r4(t,e){return t.replace(i4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const i4=/\{\$([^}]+)}/g;function o4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(TS(s)&&TS(a)){if(!sp(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function s4(t,e){const n=new a4(t,e);return n.subscribe.bind(n)}class a4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gv),i.error===void 0&&(i.error=Gv),i.complete===void 0&&(i.complete=Gv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f4(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c4(t){return t===zs?void 0:t}function f4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const d4={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},p4=at.INFO,g4={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},m4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=g4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v_{constructor(e){this.name=e,this._logLevel=p4,this._logHandler=m4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const v4=(t,e)=>e.some(n=>t instanceof n);let CS,DS;function y4(){return CS||(CS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _4(){return DS||(DS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,k0=new WeakMap,Lb=new WeakMap,Kv=new WeakMap,y_=new WeakMap;function w4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(is(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Pb.set(n,t)}).catch(()=>{}),y_.set(e,t),e}function E4(t){if(k0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});k0.set(t,e)}let S0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return k0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Lb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function x4(t){S0=t(S0)}function k4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qv(this),e,...n);return Lb.set(r,e.sort?e.sort():[e]),is(r)}:_4().includes(t)?function(...e){return t.apply(Qv(this),e),is(Pb.get(this))}:function(...e){return is(t.apply(Qv(this),e))}}function S4(t){return typeof t=="function"?k4(t):(t instanceof IDBTransaction&&E4(t),v4(t,y4())?new Proxy(t,S0):t)}function is(t){if(t instanceof IDBRequest)return w4(t);if(Kv.has(t))return Kv.get(t);const e=S4(t);return e!==t&&(Kv.set(t,e),y_.set(e,t)),e}const Qv=t=>y_.get(t);function T4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),u=is(a);return r&&a.addEventListener("upgradeneeded",h=>{r(is(a.result),h.oldVersion,h.newVersion,is(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const C4=["get","getKey","getAll","getAllKeys","count"],D4=["put","add","delete","clear"],Xv=new Map;function AS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xv.get(e))return Xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=D4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C4.includes(n)))return;const s=async function(a,...u){const h=this.transaction(a,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),i&&h.done]))[0]};return Xv.set(e,s),s}x4(t=>({...t,get:(e,n,r)=>AS(e,n)||t.get(e,n,r),has:(e,n)=>!!AS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function b4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const T0="@firebase/app",bS="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new v_("@firebase/app"),I4="@firebase/app-compat",R4="@firebase/analytics-compat",P4="@firebase/analytics",L4="@firebase/app-check-compat",N4="@firebase/app-check",F4="@firebase/auth",O4="@firebase/auth-compat",M4="@firebase/database",B4="@firebase/database-compat",U4="@firebase/functions",V4="@firebase/functions-compat",z4="@firebase/installations",j4="@firebase/installations-compat",$4="@firebase/messaging",H4="@firebase/messaging-compat",W4="@firebase/performance",q4="@firebase/performance-compat",G4="@firebase/remote-config",K4="@firebase/remote-config-compat",Q4="@firebase/storage",X4="@firebase/storage-compat",Y4="@firebase/firestore",J4="@firebase/firestore-compat",Z4="firebase",eB="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="[DEFAULT]",tB={[T0]:"fire-core",[I4]:"fire-core-compat",[P4]:"fire-analytics",[R4]:"fire-analytics-compat",[N4]:"fire-app-check",[L4]:"fire-app-check-compat",[F4]:"fire-auth",[O4]:"fire-auth-compat",[M4]:"fire-rtdb",[B4]:"fire-rtdb-compat",[U4]:"fire-fn",[V4]:"fire-fn-compat",[z4]:"fire-iid",[j4]:"fire-iid-compat",[$4]:"fire-fcm",[H4]:"fire-fcm-compat",[W4]:"fire-perf",[q4]:"fire-perf-compat",[G4]:"fire-rc",[K4]:"fire-rc-compat",[Q4]:"fire-gcs",[X4]:"fire-gcs-compat",[Y4]:"fire-fst",[J4]:"fire-fst-compat","fire-js":"fire-js",[Z4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Map,D0=new Map;function nB(t,e){try{t.container.addComponent(e)}catch(n){fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ha(t){const e=t.name;if(D0.has(e))return fa.debug(`There were multiple attempts to register component ${e}.`),!1;D0.set(e,t);for(const n of ap.values())nB(n,t);return!0}function Xp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},os=new Cf("app","Firebase",rB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=eB;function Nb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:C0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw os.create("bad-app-name",{appName:String(i)});if(n||(n=Ab()),!n)throw os.create("no-options");const s=ap.get(i);if(s){if(sp(n,s.options)&&sp(r,s.config))return s;throw os.create("duplicate-app",{appName:i})}const a=new h4(i);for(const h of D0.values())a.addComponent(h);const u=new iB(n,r,a);return ap.set(i,u),u}function __(t=C0){const e=ap.get(t);if(!e&&t===C0&&Ab())return Nb();if(!e)throw os.create("no-app",{appName:t});return e}function Pi(t,e,n){var r;let i=(r=tB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fa.warn(u.join(" "));return}ha(new us(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="firebase-heartbeat-database",sB=1,Kc="firebase-heartbeat-store";let Yv=null;function Fb(){return Yv||(Yv=T4(oB,sB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),Yv}async function aB(t){try{const n=(await Fb()).transaction(Kc),r=await n.objectStore(Kc).get(Ob(t));return await n.done,r}catch(e){if(e instanceof zi)fa.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fa.warn(n.message)}}}async function IS(t,e){try{const r=(await Fb()).transaction(Kc,"readwrite");await r.objectStore(Kc).put(e,Ob(t)),await r.done}catch(n){if(n instanceof zi)fa.warn(n.message);else{const r=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fa.warn(r.message)}}}function Ob(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=1024,uB=30*24*60*60*1e3;class cB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=RS();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=uB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RS(),{heartbeatsToSend:r,unsentEntries:i}=fB(this._heartbeatsCache.heartbeats),s=op(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function RS(){return new Date().toISOString().substring(0,10)}function fB(t,e=lB){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),PS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rb()?t4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PS(t){return op(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t){ha(new us("platform-logger",e=>new A4(e),"PRIVATE")),ha(new us("heartbeat",e=>new cB(e),"PRIVATE")),Pi(T0,bS,t),Pi(T0,bS,"esm2017"),Pi("fire-js","")}dB("");var pB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae,w_=w_||{},Qe=pB||self;function Yp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Af(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function gB(t){return Object.prototype.hasOwnProperty.call(t,Jv)&&t[Jv]||(t[Jv]=++mB)}var Jv="closure_uid_"+(1e9*Math.random()>>>0),mB=0;function vB(t,e,n){return t.call.apply(t.bind,arguments)}function yB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Qn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qn=vB:Qn=yB,Qn.apply(null,arguments)}function Gh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function An(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[i].apply(r,a)}}function _s(){this.s=this.s,this.o=this.o}var _B=0;_s.prototype.s=!1;_s.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),_B!=0)&&gB(this)};_s.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function E_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function LS(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Yp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function Xn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xn.prototype.h=function(){this.defaultPrevented=!0};var wB=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Qe.addEventListener("test",n,e),Qe.removeEventListener("test",n,e)}catch{}return t}();function Qc(t){return/^[\s\xa0]*$/.test(t)}function Jp(){var t=Qe.navigator;return t&&(t=t.userAgent)?t:""}function Ti(t){return Jp().indexOf(t)!=-1}function x_(t){return x_[" "](t),t}x_[" "]=function(){};function EB(t,e){var n=d9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var xB=Ti("Opera"),Bl=Ti("Trident")||Ti("MSIE"),Bb=Ti("Edge"),A0=Bb||Bl,Ub=Ti("Gecko")&&!(Jp().toLowerCase().indexOf("webkit")!=-1&&!Ti("Edge"))&&!(Ti("Trident")||Ti("MSIE"))&&!Ti("Edge"),kB=Jp().toLowerCase().indexOf("webkit")!=-1&&!Ti("Edge");function Vb(){var t=Qe.document;return t?t.documentMode:void 0}var b0;e:{var Zv="",ey=function(){var t=Jp();if(Ub)return/rv:([^\);]+)(\)|;)/.exec(t);if(Bb)return/Edge\/([\d\.]+)/.exec(t);if(Bl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(kB)return/WebKit\/(\S+)/.exec(t);if(xB)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ey&&(Zv=ey?ey[1]:""),Bl){var ty=Vb();if(ty!=null&&ty>parseFloat(Zv)){b0=String(ty);break e}}b0=Zv}var I0;if(Qe.document&&Bl){var NS=Vb();I0=NS||parseInt(b0,10)||void 0}else I0=void 0;var SB=I0;function Xc(t,e){if(Xn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ub){e:{try{x_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:TB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xc.$.h.call(this)}}An(Xc,Xn);var TB={2:"touch",3:"pen",4:"mouse"};Xc.prototype.h=function(){Xc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var bf="closure_listenable_"+(1e6*Math.random()|0),CB=0;function DB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++CB,this.fa=this.ia=!1}function Zp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function k_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function AB(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function zb(t){const e={};for(const n in t)e[n]=t[n];return e}const FS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jb(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<FS.length;s++)n=FS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function eg(t){this.src=t,this.g={},this.h=0}eg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=P0(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new DB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function R0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Mb(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Zp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function P0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var S_="closure_lm_"+(1e6*Math.random()|0),ny={};function $b(t,e,n,r,i){if(r&&r.once)return Wb(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)$b(t,e[s],n,r,i);return null}return n=D_(n),t&&t[bf]?t.O(e,n,Af(r)?!!r.capture:!!r,i):Hb(t,e,n,!1,r,i)}function Hb(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=Af(i)?!!i.capture:!!i,u=C_(t);if(u||(t[S_]=u=new eg(t)),n=u.add(e,n,r,a,s),n.proxy)return n;if(r=bB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wB||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Gb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function bB(){function t(n){return e.call(t.src,t.listener,n)}const e=IB;return t}function Wb(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Wb(t,e[s],n,r,i);return null}return n=D_(n),t&&t[bf]?t.P(e,n,Af(r)?!!r.capture:!!r,i):Hb(t,e,n,!0,r,i)}function qb(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)qb(t,e[s],n,r,i);else r=Af(r)?!!r.capture:!!r,n=D_(n),t&&t[bf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=P0(s,n,r,i),-1<n&&(Zp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=C_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=P0(e,n,r,i)),(n=-1<t?e[t]:null)&&T_(n))}function T_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[bf])R0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Gb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=C_(e))?(R0(n,t),n.h==0&&(n.src=null,e[S_]=null)):Zp(t)}}}function Gb(t){return t in ny?ny[t]:ny[t]="on"+t}function IB(t,e){if(t.fa)t=!0;else{e=new Xc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&T_(t),t=n.call(r,e)}return t}function C_(t){return t=t[S_],t instanceof eg?t:null}var ry="__closure_events_fn_"+(1e9*Math.random()>>>0);function D_(t){return typeof t=="function"?t:(t[ry]||(t[ry]=function(e){return t.handleEvent(e)}),t[ry])}function Dn(){_s.call(this),this.i=new eg(this),this.S=this,this.J=null}An(Dn,_s);Dn.prototype[bf]=!0;Dn.prototype.removeEventListener=function(t,e,n,r){qb(this,t,e,n,r)};function On(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Xn(e,t);else if(e instanceof Xn)e.target=e.target||t;else{var i=e;e=new Xn(r,t),jb(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=Kh(a,r,!0,e)&&i}if(a=e.g=t,i=Kh(a,r,!0,e)&&i,i=Kh(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.g=n[s],i=Kh(a,r,!1,e)&&i}Dn.prototype.N=function(){if(Dn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zp(n[r]);delete t.g[e],t.h--}}this.J=null};Dn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Dn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Kh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var u=a.listener,h=a.la||a.src;a.ia&&R0(t.i,a),i=u.call(h,r)!==!1&&i}}return i&&!r.defaultPrevented}var A_=Qe.JSON.stringify;class RB{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function PB(){var t=b_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class LB{constructor(){this.h=this.g=null}add(e,n){const r=Kb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Kb=new RB(()=>new NB,t=>t.reset());class NB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function FB(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function OB(t){Qe.setTimeout(()=>{throw t},0)}let Yc,Jc=!1,b_=new LB,Qb=()=>{const t=Qe.Promise.resolve(void 0);Yc=()=>{t.then(MB)}};var MB=()=>{for(var t;t=PB();){try{t.h.call(t.g)}catch(n){OB(n)}var e=Kb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jc=!1};function tg(t,e){Dn.call(this),this.h=t||1,this.g=e||Qe,this.j=Qn(this.qb,this),this.l=Date.now()}An(tg,Dn);Ae=tg.prototype;Ae.ga=!1;Ae.T=null;Ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),On(this,"tick"),this.ga&&(I_(this),this.start()))}};Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function I_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ae.N=function(){tg.$.N.call(this),I_(this),delete this.g};function R_(t,e,n){if(typeof t=="function")n&&(t=Qn(t,n));else if(t&&typeof t.handleEvent=="function")t=Qn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Qe.setTimeout(t,e||0)}function Xb(t){t.g=R_(()=>{t.g=null,t.i&&(t.i=!1,Xb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class BB extends _s{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xb(this)}N(){super.N(),this.g&&(Qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zc(t){_s.call(this),this.h=t,this.g={}}An(Zc,_s);var OS=[];function Yb(t,e,n,r){Array.isArray(n)||(n&&(OS[0]=n.toString()),n=OS);for(var i=0;i<n.length;i++){var s=$b(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Jb(t){k_(t.g,function(e,n){this.g.hasOwnProperty(n)&&T_(e)},t),t.g={}}Zc.prototype.N=function(){Zc.$.N.call(this),Jb(this)};Zc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ng(){this.g=!0}ng.prototype.Ea=function(){this.g=!1};function UB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",u=s.split("&"),h=0;h<u.length;h++){var p=u[h].split("=");if(1<p.length){var m=p[0];p=p[1];var v=m.split("_");a=2<=v.length&&v[1]=="type"?a+(m+"="+p+"&"):a+(m+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function VB(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function ml(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+jB(t,n)+(r?" "+r:"")})}function zB(t,e){t.info(function(){return"TIMEOUT: "+e})}ng.prototype.info=function(){};function jB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return A_(n)}catch{return e}}var Sa={},MS=null;function rg(){return MS=MS||new Dn}Sa.Ta="serverreachability";function Zb(t){Xn.call(this,Sa.Ta,t)}An(Zb,Xn);function ef(t){const e=rg();On(e,new Zb(e))}Sa.STAT_EVENT="statevent";function eI(t,e){Xn.call(this,Sa.STAT_EVENT,t),this.stat=e}An(eI,Xn);function ur(t){const e=rg();On(e,new eI(e,t))}Sa.Ua="timingevent";function tI(t,e){Xn.call(this,Sa.Ua,t),this.size=e}An(tI,Xn);function If(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){t()},e)}var ig={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function P_(){}P_.prototype.h=null;function BS(t){return t.h||(t.h=t.i())}function rI(){}var Rf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function L_(){Xn.call(this,"d")}An(L_,Xn);function N_(){Xn.call(this,"c")}An(N_,Xn);var L0;function og(){}An(og,P_);og.prototype.g=function(){return new XMLHttpRequest};og.prototype.i=function(){return{}};L0=new og;function Pf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Zc(this),this.P=$B,t=A0?125:void 0,this.V=new tg(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new iI}function iI(){this.i=null,this.g="",this.h=!1}var $B=45e3,oI={},N0={};Ae=Pf.prototype;Ae.setTimeout=function(t){this.P=t};function F0(t,e,n){t.L=1,t.A=ag(ho(e)),t.u=n,t.S=!0,sI(t,null)}function sI(t,e){t.G=Date.now(),Lf(t),t.B=ho(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),pI(n.i,"t",r),t.o=0,n=t.l.J,t.h=new iI,t.g=FI(t.l,n?e:null,!t.u),0<t.O&&(t.M=new BB(Qn(t.Pa,t,t.g),t.O)),Yb(t.U,t.g,"readystatechange",t.nb),e=t.I?zb(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ef(),UB(t.j,t.v,t.B,t.m,t.W,t.u)}Ae.nb=function(t){t=t.target;const e=this.M;e&&Di(t)==3?e.l():this.Pa(t)};Ae.Pa=function(t){try{if(t==this.g)e:{const m=Di(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>m)&&(m!=3||A0||this.g&&(this.h.h||this.g.ja()||jS(this.g)))){this.J||m!=4||e==7||(e==8||0>=v?ef(3):ef(2)),sg(this);var n=this.g.da();this.ca=n;t:if(aI(this)){var r=jS(this.g);t="";var i=r.length,s=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ks(this),yc(this);var a="";break t}this.h.i=new Qe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,VB(this.j,this.v,this.B,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qc(u)){var p=u;break t}}p=null}if(n=p)ml(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,O0(this,n);else{this.i=!1,this.s=3,ur(12),Ks(this),yc(this);break e}}this.S?(lI(this,m,a),A0&&this.i&&m==3&&(Yb(this.U,this.V,"tick",this.mb),this.V.start())):(ml(this.j,this.m,a,null),O0(this,a)),m==4&&Ks(this),this.i&&!this.J&&(m==4?RI(this.l,this):(this.i=!1,Lf(this)))}else c9(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,ur(12)):(this.s=0,ur(13)),Ks(this),yc(this)}}}catch{}finally{}};function aI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function lI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=HB(t,n),i==N0){e==4&&(t.s=4,ur(14),r=!1),ml(t.j,t.m,null,"[Incomplete Response]");break}else if(i==oI){t.s=4,ur(15),ml(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ml(t.j,t.m,i,null),O0(t,i);aI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,ur(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),V_(e),e.M=!0,ur(11))):(ml(t.j,t.m,n,"[Invalid Chunked Response]"),Ks(t),yc(t))}Ae.mb=function(){if(this.g){var t=Di(this.g),e=this.g.ja();this.o<e.length&&(sg(this),lI(this,t,e),this.i&&t!=4&&Lf(this))}};function HB(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?N0:(n=Number(e.substring(n,r)),isNaN(n)?oI:(r+=1,r+n>e.length?N0:(e=e.slice(r,r+n),t.o=r+n,e)))}Ae.cancel=function(){this.J=!0,Ks(this)};function Lf(t){t.Y=Date.now()+t.P,uI(t,t.P)}function uI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=If(Qn(t.lb,t),e)}function sg(t){t.C&&(Qe.clearTimeout(t.C),t.C=null)}Ae.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(zB(this.j,this.B),this.L!=2&&(ef(),ur(17)),Ks(this),this.s=2,yc(this)):uI(this,this.Y-t)};function yc(t){t.l.H==0||t.J||RI(t.l,t)}function Ks(t){sg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,I_(t.V),Jb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function O0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||M0(n.i,t))){if(!t.K&&M0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)cp(n),fg(n);else break e;U_(n),ur(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=If(Qn(n.ib,n),6e3));if(1>=vI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qs(n,11)}else if((t.K||n.g==t)&&cp(n),!Qc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let p=i[e];if(n.V=p[0],p=p[1],n.H==2)if(p[0]=="c"){n.K=p[1],n.pa=p[2];const m=p[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));const v=p[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const _=p[5];_!=null&&typeof _=="number"&&0<_&&(r=1.5*_,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const E=t.g;if(E){const b=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=r.i;s.g||b.indexOf("spdy")==-1&&b.indexOf("quic")==-1&&b.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(F_(s,s.h),s.h=null))}if(r.F){const I=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,Ft(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=NI(r,r.J?r.pa:null,r.Y),a.K){yI(r.i,a);var u=a,h=r.L;h&&u.setTimeout(h),u.C&&(sg(u),Lf(u)),r.g=a}else bI(r);0<n.j.length&&hg(n)}else p[0]!="stop"&&p[0]!="close"||Qs(n,7);else n.H==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?Qs(n,7):B_(n):p[0]!="noop"&&n.h&&n.h.Aa(p),n.A=0)}}ef(4)}catch{}}function WB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Yp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function qB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Yp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function cI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Yp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=qB(t),r=WB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var fI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ea(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ea){this.h=t.h,lp(this,t.j),this.s=t.s,this.g=t.g,up(this,t.m),this.l=t.l;var e=t.i,n=new tf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),US(this,n),this.o=t.o}else t&&(e=String(t).match(fI))?(this.h=!1,lp(this,e[1]||"",!0),this.s=ic(e[2]||""),this.g=ic(e[3]||"",!0),up(this,e[4]),this.l=ic(e[5]||"",!0),US(this,e[6]||"",!0),this.o=ic(e[7]||"")):(this.h=!1,this.i=new tf(null,this.h))}ea.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oc(e,VS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(oc(e,VS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(oc(n,n.charAt(0)=="/"?XB:QB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oc(n,JB)),t.join("")};function ho(t){return new ea(t)}function lp(t,e,n){t.j=n?ic(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function up(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function US(t,e,n){e instanceof tf?(t.i=e,ZB(t.i,t.h)):(n||(e=oc(e,YB)),t.i=new tf(e,t.h))}function Ft(t,e,n){t.i.set(e,n)}function ag(t){return Ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ic(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,KB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function KB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var VS=/[#\/\?@]/g,QB=/[#\?:]/g,XB=/[#\?]/g,YB=/[#\?@]/g,JB=/#/g;function tf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ws(t){t.g||(t.g=new Map,t.h=0,t.i&&GB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ae=tf.prototype;Ae.add=function(t,e){ws(this),this.i=null,t=Zl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function hI(t,e){ws(t),e=Zl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dI(t,e){return ws(t),e=Zl(t,e),t.g.has(e)}Ae.forEach=function(t,e){ws(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ae.ta=function(){ws(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ae.Z=function(t){ws(this);let e=[];if(typeof t=="string")dI(this,t)&&(e=e.concat(this.g.get(Zl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ae.set=function(t,e){return ws(this),this.i=null,t=Zl(this,t),dI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ae.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function pI(t,e,n){hI(t,e),0<n.length&&(t.i=null,t.g.set(Zl(t,e),E_(n)),t.h+=n.length)}Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};function Zl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ZB(t,e){e&&!t.j&&(ws(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(hI(this,r),pI(this,i,n))},t)),t.j=e}var e9=class{constructor(t,e){this.g=t,this.map=e}};function gI(t){this.l=t||t9,Qe.PerformanceNavigationTiming?(t=Qe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Qe.g&&Qe.g.Ka&&Qe.g.Ka()&&Qe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var t9=10;function mI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function vI(t){return t.h?1:t.g?t.g.size:0}function M0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function F_(t,e){t.g?t.g.add(e):t.h=e}function yI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}gI.prototype.cancel=function(){if(this.i=_I(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function _I(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return E_(t.i)}var n9=class{stringify(t){return Qe.JSON.stringify(t,void 0)}parse(t){return Qe.JSON.parse(t,void 0)}};function r9(){this.g=new n9}function i9(t,e,n){const r=n||"";try{cI(t,function(i,s){let a=i;Af(i)&&(a=A_(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function o9(t,e){const n=new ng;if(Qe.Image){const r=new Image;r.onload=Gh(Qh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gh(Qh,n,r,"TestLoadImage: error",!1,e),r.onabort=Gh(Qh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gh(Qh,n,r,"TestLoadImage: timeout",!1,e),Qe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Qh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lg(t){this.l=t.ec||null,this.j=t.ob||!1}An(lg,P_);lg.prototype.g=function(){return new ug(this.l,this.j)};lg.prototype.i=function(t){return function(){return t}}({});function ug(t,e){Dn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=O_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}An(ug,Dn);var O_=0;Ae=ug.prototype;Ae.open=function(t,e){if(this.readyState!=O_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nf(this)};Ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Qe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nf(this)),this.readyState=O_};Ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nf(this)),this.g&&(this.readyState=3,nf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function wI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nf(this):nf(this),this.readyState==3&&wI(this)}};Ae.Za=function(t){this.g&&(this.response=this.responseText=t,Nf(this))};Ae.Ya=function(t){this.g&&(this.response=t,Nf(this))};Ae.ka=function(){this.g&&Nf(this)};function Nf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nf(t)}Ae.setRequestHeader=function(t,e){this.v.append(t,e)};Ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ug.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var s9=Qe.JSON.parse;function Jt(t){Dn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=EI,this.L=this.M=!1}An(Jt,Dn);var EI="",a9=/^https?$/i,l9=["POST","PUT"];Ae=Jt.prototype;Ae.Oa=function(t){this.M=t};Ae.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():L0.g(),this.C=this.u?BS(this.u):BS(L0),this.g.onreadystatechange=Qn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){zS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Qe.FormData&&t instanceof Qe.FormData,!(0<=Mb(l9,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{SI(this),0<this.B&&((this.L=u9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qn(this.ua,this)):this.A=R_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zS(this,s)}};function u9(t){return Bl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ae.ua=function(){typeof w_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,On(this,"timeout"),this.abort(8))};function zS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,xI(t),cg(t)}function xI(t){t.F||(t.F=!0,On(t,"complete"),On(t,"error"))}Ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,On(this,"complete"),On(this,"abort"),cg(this))};Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cg(this,!0)),Jt.$.N.call(this)};Ae.La=function(){this.s||(this.G||this.v||this.l?kI(this):this.kb())};Ae.kb=function(){kI(this)};function kI(t){if(t.h&&typeof w_<"u"&&(!t.C[1]||Di(t)!=4||t.da()!=2)){if(t.v&&Di(t)==4)R_(t.La,0,t);else if(On(t,"readystatechange"),Di(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(fI)[1]||null;!i&&Qe.self&&Qe.self.location&&(i=Qe.self.location.protocol.slice(0,-1)),r=!a9.test(i?i.toLowerCase():"")}n=r}if(n)On(t,"complete"),On(t,"success");else{t.m=6;try{var s=2<Di(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",xI(t)}}finally{cg(t)}}}}function cg(t,e){if(t.g){SI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||On(t,"ready");try{n.onreadystatechange=r}catch{}}}function SI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Qe.clearTimeout(t.A),t.A=null)}Ae.isActive=function(){return!!this.g};function Di(t){return t.g?t.g.readyState:0}Ae.da=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}};Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),s9(e)}};function jS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case EI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function c9(t){const e={};t=(t.g&&2<=Di(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Qc(t[r]))continue;var n=FB(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}AB(e,function(r){return r.join(", ")})}Ae.Ia=function(){return this.m};Ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function TI(t){let e="";return k_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function M_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ft(t,e,n))}function Gu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function CI(t){this.Ga=0,this.j=[],this.l=new ng,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gu("baseRetryDelayMs",5e3,t),this.hb=Gu("retryDelaySeedMs",1e4,t),this.eb=Gu("forwardChannelMaxRetries",2,t),this.xa=Gu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new gI(t&&t.concurrentRequestLimit),this.Ja=new r9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ae=CI.prototype;Ae.ra=8;Ae.H=1;function B_(t){if(DI(t),t.H==3){var e=t.W++,n=ho(t.I);if(Ft(n,"SID",t.K),Ft(n,"RID",e),Ft(n,"TYPE","terminate"),Ff(t,n),e=new Pf(t,t.l,e),e.L=2,e.A=ag(ho(n)),n=!1,Qe.navigator&&Qe.navigator.sendBeacon)try{n=Qe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Qe.Image&&(new Image().src=e.A,n=!0),n||(e.g=FI(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Lf(e)}LI(t)}function fg(t){t.g&&(V_(t),t.g.cancel(),t.g=null)}function DI(t){fg(t),t.u&&(Qe.clearTimeout(t.u),t.u=null),cp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Qe.clearTimeout(t.m),t.m=null)}function hg(t){if(!mI(t.i)&&!t.m){t.m=!0;var e=t.Na;Yc||Qb(),Jc||(Yc(),Jc=!0),b_.add(e,t),t.C=0}}function f9(t,e){return vI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=If(Qn(t.Na,t,e),PI(t,t.C)),t.C++,!0)}Ae.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Pf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=zb(s),jb(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=AI(this,i,e),n=ho(this.I),Ft(n,"RID",t),Ft(n,"CVER",22),this.F&&Ft(n,"X-HTTP-Session-Id",this.F),Ff(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(TI(s)))+"&"+e:this.o&&M_(n,this.o,s)),F_(this.i,i),this.bb&&Ft(n,"TYPE","init"),this.P?(Ft(n,"$req",e),Ft(n,"SID","null"),i.aa=!0,F0(i,n,null)):F0(i,n,e),this.H=2}}else this.H==3&&(t?$S(this,t):this.j.length==0||mI(this.i)||$S(this))};function $S(t,e){var n;e?n=e.m:n=t.W++;const r=ho(t.I);Ft(r,"SID",t.K),Ft(r,"RID",n),Ft(r,"AID",t.V),Ff(t,r),t.o&&t.s&&M_(r,t.o,t.s),n=new Pf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=AI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),F_(t.i,n),F0(n,r,e)}function Ff(t,e){t.na&&k_(t.na,function(n,r){Ft(e,r,n)}),t.h&&cI({},function(n,r){Ft(e,r,n)})}function AI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Qn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let u=!0;for(let h=0;h<n;h++){let p=i[h].g;const m=i[h].map;if(p-=s,0>p)s=Math.max(0,i[h].g-100),u=!1;else try{i9(m,a,"req"+p+"_")}catch{r&&r(m)}}if(u){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function bI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Yc||Qb(),Jc||(Yc(),Jc=!0),b_.add(e,t),t.A=0}}function U_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=If(Qn(t.Ma,t),PI(t,t.A)),t.A++,!0)}Ae.Ma=function(){if(this.u=null,II(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=If(Qn(this.jb,this),t)}};Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ur(10),fg(this),II(this))};function V_(t){t.B!=null&&(Qe.clearTimeout(t.B),t.B=null)}function II(t){t.g=new Pf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ho(t.wa);Ft(e,"RID","rpc"),Ft(e,"SID",t.K),Ft(e,"AID",t.V),Ft(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ft(e,"TO",t.qa),Ft(e,"TYPE","xmlhttp"),Ff(t,e),t.o&&t.s&&M_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ag(ho(e)),n.u=null,n.S=!0,sI(n,t)}Ae.ib=function(){this.v!=null&&(this.v=null,fg(this),U_(this),ur(19))};function cp(t){t.v!=null&&(Qe.clearTimeout(t.v),t.v=null)}function RI(t,e){var n=null;if(t.g==e){cp(t),V_(t),t.g=null;var r=2}else if(M0(t.i,e))n=e.F,yI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=rg(),On(r,new tI(r,n)),hg(t)}else bI(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&f9(t,e)||r==2&&U_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qs(t,5);break;case 4:Qs(t,10);break;case 3:Qs(t,6);break;default:Qs(t,2)}}}function PI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Qn(t.pb,t);n||(n=new ea("//www.google.com/images/cleardot.gif"),Qe.location&&Qe.location.protocol=="http"||lp(n,"https"),ag(n)),o9(n.toString(),r)}else ur(2);t.H=0,t.h&&t.h.za(e),LI(t),DI(t)}Ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ur(2)):(this.l.info("Failed to ping google.com"),ur(1))};function LI(t){if(t.H=0,t.ma=[],t.h){const e=_I(t.i);(e.length!=0||t.j.length!=0)&&(LS(t.ma,e),LS(t.ma,t.j),t.i.i.length=0,E_(t.j),t.j.length=0),t.h.ya()}}function NI(t,e,n){var r=n instanceof ea?ho(n):new ea(n);if(r.g!="")e&&(r.g=e+"."+r.g),up(r,r.m);else{var i=Qe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ea(null);r&&lp(s,r),e&&(s.g=e),i&&up(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ft(r,n,e),Ft(r,"VER",t.ra),Ff(t,r),r}function FI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Jt(new lg({ob:n})):new Jt(t.va),e.Oa(t.J),e}Ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function OI(){}Ae=OI.prototype;Ae.Ba=function(){};Ae.Aa=function(){};Ae.za=function(){};Ae.ya=function(){};Ae.isActive=function(){return!0};Ae.Va=function(){};function fp(){if(Bl&&!(10<=Number(SB)))throw Error("Environmental error: no available transport.")}fp.prototype.g=function(t,e){return new Fr(t,e)};function Fr(t,e){Dn.call(this),this.g=new CI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new eu(this)}An(Fr,Dn);Fr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ur(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=NI(t,null,t.Y),hg(t)};Fr.prototype.close=function(){B_(this.g)};Fr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=A_(t),t=n);e.j.push(new e9(e.fb++,t)),e.H==3&&hg(e)};Fr.prototype.N=function(){this.g.h=null,delete this.j,B_(this.g),delete this.g,Fr.$.N.call(this)};function MI(t){L_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}An(MI,L_);function BI(){N_.call(this),this.status=1}An(BI,N_);function eu(t){this.g=t}An(eu,OI);eu.prototype.Ba=function(){On(this.g,"a")};eu.prototype.Aa=function(t){On(this.g,new MI(t))};eu.prototype.za=function(t){On(this.g,new BI)};eu.prototype.ya=function(){On(this.g,"b")};function h9(){this.blockSize=-1}function di(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}An(di,h9);di.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function iy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],a=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}di.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)iy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){iy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){iy(this,r),i=0;break}}this.h=i,this.i+=e};di.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function kt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var d9={};function z_(t){return-128<=t&&128>t?EB(t,function(e){return new kt([e|0],0>e?-1:0)}):new kt([t|0],0>t?-1:0)}function Ai(t){if(isNaN(t)||!isFinite(t))return Sl;if(0>t)return Ln(Ai(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=B0;return new kt(e,0)}function UI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ln(UI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ai(Math.pow(e,8)),r=Sl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=Ai(Math.pow(e,s)),r=r.R(s).add(Ai(a))):(r=r.R(n),r=r.add(Ai(a)))}return r}var B0=4294967296,Sl=z_(0),U0=z_(1),HS=z_(16777216);Ae=kt.prototype;Ae.ea=function(){if(Wr(this))return-Ln(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:B0+r)*e,e*=B0}return t};Ae.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(no(this))return"0";if(Wr(this))return"-"+Ln(this).toString(t);for(var e=Ai(Math.pow(t,6)),n=this,r="";;){var i=dp(n,e).g;n=hp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,no(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function no(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Wr(t){return t.h==-1}Ae.X=function(t){return t=hp(this,t),Wr(t)?-1:no(t)?0:1};function Ln(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new kt(n,~t.h).add(U0)}Ae.abs=function(){return Wr(this)?Ln(this):this};Ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new kt(n,n[n.length-1]&-2147483648?-1:0)};function hp(t,e){return t.add(Ln(e))}Ae.R=function(t){if(no(this)||no(t))return Sl;if(Wr(this))return Wr(t)?Ln(this).R(Ln(t)):Ln(Ln(this).R(t));if(Wr(t))return Ln(this.R(Ln(t)));if(0>this.X(HS)&&0>t.X(HS))return Ai(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=this.D(r)&65535,u=t.D(i)>>>16,h=t.D(i)&65535;n[2*r+2*i]+=a*h,Xh(n,2*r+2*i),n[2*r+2*i+1]+=s*h,Xh(n,2*r+2*i+1),n[2*r+2*i+1]+=a*u,Xh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,Xh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new kt(n,0)};function Xh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ku(t,e){this.g=t,this.h=e}function dp(t,e){if(no(e))throw Error("division by zero");if(no(t))return new Ku(Sl,Sl);if(Wr(t))return e=dp(Ln(t),e),new Ku(Ln(e.g),Ln(e.h));if(Wr(e))return e=dp(t,Ln(e)),new Ku(Ln(e.g),e.h);if(30<t.g.length){if(Wr(t)||Wr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=U0,r=e;0>=r.X(t);)n=WS(n),r=WS(r);var i=Ya(n,1),s=Ya(r,1);for(r=Ya(r,2),n=Ya(n,2);!no(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=Ya(r,1),n=Ya(n,1)}return e=hp(t,i.R(e)),new Ku(i,e)}for(i=Sl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ai(n),a=s.R(e);Wr(a)||0<a.X(t);)n-=r,s=Ai(n),a=s.R(e);no(s)&&(s=U0),i=i.add(s),t=hp(t,a)}return new Ku(i,t)}Ae.gb=function(t){return dp(this,t).h};Ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new kt(n,this.h&t.h)};Ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new kt(n,this.h|t.h)};Ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new kt(n,this.h^t.h)};function WS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new kt(n,t.h)}function Ya(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new kt(i,t.h)}fp.prototype.createWebChannel=fp.prototype.g;Fr.prototype.send=Fr.prototype.u;Fr.prototype.open=Fr.prototype.m;Fr.prototype.close=Fr.prototype.close;ig.NO_ERROR=0;ig.TIMEOUT=8;ig.HTTP_ERROR=6;nI.COMPLETE="complete";rI.EventType=Rf;Rf.OPEN="a";Rf.CLOSE="b";Rf.ERROR="c";Rf.MESSAGE="d";Dn.prototype.listen=Dn.prototype.O;Jt.prototype.listenOnce=Jt.prototype.P;Jt.prototype.getLastError=Jt.prototype.Sa;Jt.prototype.getLastErrorCode=Jt.prototype.Ia;Jt.prototype.getStatus=Jt.prototype.da;Jt.prototype.getResponseJson=Jt.prototype.Wa;Jt.prototype.getResponseText=Jt.prototype.ja;Jt.prototype.send=Jt.prototype.ha;Jt.prototype.setWithCredentials=Jt.prototype.Oa;di.prototype.digest=di.prototype.l;di.prototype.reset=di.prototype.reset;di.prototype.update=di.prototype.j;kt.prototype.add=kt.prototype.add;kt.prototype.multiply=kt.prototype.R;kt.prototype.modulo=kt.prototype.gb;kt.prototype.compare=kt.prototype.X;kt.prototype.toNumber=kt.prototype.ea;kt.prototype.toString=kt.prototype.toString;kt.prototype.getBits=kt.prototype.D;kt.fromNumber=Ai;kt.fromString=UI;var p9=function(){return new fp},g9=function(){return rg()},oy=ig,m9=nI,v9=Sa,qS={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Yh=rI,y9=Jt,_9=di,Tl=kt;const GS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new v_("@firebase/firestore");function Qu(){return da.logLevel}function De(t,...e){if(da.logLevel<=at.DEBUG){const n=e.map(j_);da.debug(`Firestore (${tu}): ${t}`,...n)}}function Bi(t,...e){if(da.logLevel<=at.ERROR){const n=e.map(j_);da.error(`Firestore (${tu}): ${t}`,...n)}}function Ul(t,...e){if(da.logLevel<=at.WARN){const n=e.map(j_);da.warn(`Firestore (${tu}): ${t}`,...n)}}function j_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: `+t;throw Bi(e),new Error(e)}function Rt(t,e){t||Ke()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qn.UNAUTHENTICATED))}shutdown(){}}class E9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x9{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Li,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Li)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string"),new VI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new qn(e)}}class k9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class S9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new k9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,De("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rt(typeof n.token=="string"),this.R=n.token,new T9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=D9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function Vl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return En.fromMillis(Date.now())}static fromDate(e){return En.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new En(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Je(e)}static min(){return new Je(new En(0,0))}static max(){return new Je(new En(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(),r===void 0?r=e.length-n:r>e.length-n&&Ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ot extends rf{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const A9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends rf{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return A9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Pe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Pe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new Pe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Ot.fromString(e))}static fromName(e){return new ze(Ot.fromString(e).popFirst(5))}static empty(){return new ze(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Ot(e.slice()))}}function b9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new En(n+1,0):new En(n,r));return new cs(i,ze.empty(),e)}function I9(t){return new cs(t.readTime,t.key,-1)}class cs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cs(Je.min(),ze.empty(),-1)}static max(){return new cs(Je.max(),ze.empty(),-1)}}function R9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==P9)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,r)=>{n(e)})}static reject(e){return new he((n,r)=>{r(e)})}static waitFor(e){return new he((n,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&n()},h=>r(h))}),a=!0,s===i&&n()})}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next(i=>i?he.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new he((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let h=0;h<s;h++){const p=h;n(e[p]).next(m=>{a[p]=m,++u,u===s&&r(a)},m=>i(m))}})}static doWhile(e,n){return new he((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Li,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new _c(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=H_(r.target.error);this.V.reject(new _c(e,i))}}static open(e,n,r,i){try{return new $_(n,e.transaction(i,r))}catch(s){throw new _c(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(De("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new F9(n)}}class Xs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Xs.S(dn())===12.2&&Bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return De("SimpleDb","Removing database:",e),js(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Rb())return!1;if(Xs.C())return!0;const e=dn(),n=Xs.S(e),r=0<n&&n<10,i=Xs.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(De("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new _c(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new Pe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Pe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new _c(e,a))},i.onupgradeneeded=s=>{De("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.N(a,i.transaction,s.oldVersion,this.version).next(()=>{De("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const u=$_.open(this.db,e,s?"readonly":"readwrite",r),h=i(u).next(p=>(u.g(),p)).catch(p=>(u.abort(p),he.reject(p))).toPromise();return h.catch(()=>{}),await u.m,h}catch(u){const h=u,p=h.name!=="FirebaseError"&&a<3;if(De("SimpleDb","Transaction failed with error:",h.message,"Retrying:",p),this.close(),!p)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}class N9{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return js(this.k.delete())}}class _c extends Pe{constructor(e,n){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Mf(t){return t.name==="IndexedDbTransactionError"}class F9{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(De("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),js(r)}add(e){return De("SimpleDb","ADD",this.store.name,e,e),js(this.store.add(e))}get(e){return js(this.store.get(e)).next(n=>(n===void 0&&(n=null),De("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return De("SimpleDb","DELETE",this.store.name,e),js(this.store.delete(e))}count(){return De("SimpleDb","COUNT",this.store.name),js(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new he((a,u)=>{s.onerror=h=>{u(h.target.error)},s.onsuccess=h=>{a(h.target.result)}})}{const s=this.cursor(r),a=[];return this.G(s,(u,h)=>{a.push(h)}).next(()=>a)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new he((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}H(e,n){De("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,a,u)=>u.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new he((r,i)=>{n.onerror=s=>{const a=H_(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(u=>{u?a.continue():r()}):r()}})}G(e,n){const r=[];return new he((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const u=a.target.result;if(!u)return void i();const h=new N9(u),p=n(u.primaryKey,u.value,h);if(p instanceof he){const m=p.catch(v=>(h.done(),he.reject(v)));r.push(m)}h.isDone?i():h.$===null?u.continue():u.continue(h.$)}}).next(()=>he.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function js(t){return new he((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=H_(r.target.error);n(i)}})}let KS=!1;function H_(t){const e=Xs.S(dn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return KS||(KS=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}W_._e=-1;function dg(t){return t==null}function pp(t){return t===0&&1/t==-1/0}function O9(t){return typeof t=="number"&&Number.isInteger(t)&&!pp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pn.RED,this.left=i??Pn.EMPTY,this.right=s??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XS(this.data.getIterator())}getIteratorFrom(e){return new XS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class XS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new br([])}unionWith(e){let n=new Mn(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $I("Invalid base64 string: "+s):s}}(e);return new Jn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const M9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(t){if(Rt(!!t),typeof t=="string"){let e=0;const n=M9.exec(t);if(Rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cn(t.seconds),nanos:cn(t.nanos)}}function cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pa(t){return typeof t=="string"?Jn.fromBase64String(t):Jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function G_(t){const e=t.mapValue.fields.__previous_value__;return q_(e)?G_(e):e}function of(t){const e=fs(t.mapValue.fields.__local_write_time__.timestampValue);return new En(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n,r,i,s,a,u,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p}}class sf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ga(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q_(t)?4:U9(t)?9007199254740991:10:Ke()}function Ui(t,e){if(t===e)return!0;const n=ga(t);if(n!==ga(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return of(t).isEqual(of(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=fs(i.timestampValue),u=fs(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return pa(i.bytesValue).isEqual(pa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return cn(i.geoPointValue.latitude)===cn(s.geoPointValue.latitude)&&cn(i.geoPointValue.longitude)===cn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return cn(i.integerValue)===cn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=cn(i.doubleValue),u=cn(s.doubleValue);return a===u?pp(a)===pp(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(QS(a)!==QS(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(u[h]===void 0||!Ui(a[h],u[h])))return!1;return!0}(t,e);default:return Ke()}}function af(t,e){return(t.values||[]).find(n=>Ui(n,e))!==void 0}function zl(t,e){if(t===e)return 0;const n=ga(t),r=ga(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(s,a){const u=cn(s.integerValue||s.doubleValue),h=cn(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return YS(t.timestampValue,e.timestampValue);case 4:return YS(of(t),of(e));case 5:return vt(t.stringValue,e.stringValue);case 6:return function(s,a){const u=pa(s),h=pa(a);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),h=a.split("/");for(let p=0;p<u.length&&p<h.length;p++){const m=vt(u[p],h[p]);if(m!==0)return m}return vt(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const u=vt(cn(s.latitude),cn(a.latitude));return u!==0?u:vt(cn(s.longitude),cn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const u=s.values||[],h=a.values||[];for(let p=0;p<u.length&&p<h.length;++p){const m=zl(u[p],h[p]);if(m)return m}return vt(u.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===Zh.mapValue&&a===Zh.mapValue)return 0;if(s===Zh.mapValue)return 1;if(a===Zh.mapValue)return-1;const u=s.fields||{},h=Object.keys(u),p=a.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const _=vt(h[v],m[v]);if(_!==0)return _;const E=zl(u[h[v]],p[m[v]]);if(E!==0)return E}return vt(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function YS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=fs(t),r=fs(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function jl(t){return V0(t)}function V0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ze.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=V0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${V0(n.fields[a])}`;return i+"}"}(t.mapValue):Ke()}function JS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function z0(t){return!!t&&"integerValue"in t}function K_(t){return!!t&&"arrayValue"in t}function ZS(t){return!!t&&"nullValue"in t}function eT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wd(t){return!!t&&"mapValue"in t}function wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function U9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(n)}setAll(e){let n=Nn.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=wc(a):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ta(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _r(wc(this.value))}}function HI(t){const e=[];return Ta(t.fields,(n,r)=>{const i=new Nn([n]);if(wd(r)){const s=HI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,r,i,s,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Kn(e,0,Je.min(),Je.min(),Je.min(),_r.empty(),0)}static newFoundDocument(e,n,r,i){return new Kn(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new Kn(e,2,n,Je.min(),Je.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,Je.min(),Je.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.position=e,this.inclusive=n}}function tT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ze.comparator(ze.fromName(a.referenceValue),n.key):r=zl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n="asc"){this.field=e,this.dir=n}}function V9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{}class hn extends WI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j9(e,n,r):n==="array-contains"?new W9(e,r):n==="in"?new q9(e,r):n==="not-in"?new G9(e,r):n==="array-contains-any"?new K9(e,r):new hn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $9(e,r):new H9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zl(n,this.value)):n!==null&&ga(this.value)===ga(n)&&this.matchesComparison(zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends WI{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new pi(e,n)}matches(e){return qI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function qI(t){return t.op==="and"}function GI(t){return z9(t)&&qI(t)}function z9(t){for(const e of t.filters)if(e instanceof pi)return!1;return!0}function j0(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(GI(t))return t.filters.map(e=>j0(e)).join(",");{const e=t.filters.map(n=>j0(n)).join(",");return`${t.op}(${e})`}}function KI(t,e){return t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.field.isEqual(i.field)&&Ui(r.value,i.value)}(t,e):t instanceof pi?function(r,i){return i instanceof pi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&KI(a,i.filters[u]),!0):!1}(t,e):void Ke()}function QI(t){return t instanceof hn?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(QI).join(" ,")+"}"}(t):"Filter"}class j9 extends hn{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class $9 extends hn{constructor(e,n){super(e,"in",n),this.keys=XI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H9 extends hn{constructor(e,n){super(e,"not-in",n),this.keys=XI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ze.fromName(r.referenceValue))}class W9 extends hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return K_(n)&&af(n.arrayValue,this.value)}}class q9 extends hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&af(this.value.arrayValue,n)}}class G9 extends hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!af(this.value.arrayValue,n)}}class K9 extends hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!K_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>af(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ce=null}}function rT(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Q9(t,e,n,r,i,s,a)}function Q_(t){const e=Ze(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>j0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),dg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.ce=n}return e.ce}function X_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nT(t.startAt,e.startAt)&&nT(t.endAt,e.endAt)}function $0(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n=null,r=[],i=[],s=null,a="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=h,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function X9(t,e,n,r,i,s,a,u){return new nu(t,e,n,r,i,s,a,u)}function pg(t){return new nu(t)}function iT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YI(t){return t.collectionGroup!==null}function Ec(t){const e=Ze(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Mn(Nn.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new lf(s,r))}),n.has(Nn.keyField().canonicalString())||e.le.push(new lf(Nn.keyField(),r))}return e.le}function Ni(t){const e=Ze(t);return e.he||(e.he=Y9(e,Ec(t))),e.he}function Y9(t,e){if(t.limitType==="F")return rT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lf(i.field,s)});const n=t.endAt?new gp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gp(t.startAt.position,t.startAt.inclusive):null;return rT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function H0(t,e){const n=t.filters.concat([e]);return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mp(t,e,n){return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gg(t,e){return X_(Ni(t),Ni(e))&&t.limitType===e.limitType}function JI(t){return`${Q_(Ni(t))}|lt:${t.limitType}`}function el(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>QI(i)).join(", ")}]`),dg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jl(i)).join(",")),`Target(${r})`}(Ni(t))}; limitType=${t.limitType})`}function mg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ec(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,u,h){const p=tT(a,u,h);return a.inclusive?p<=0:p<0}(r.startAt,Ec(r),i)||r.endAt&&!function(a,u,h){const p=tT(a,u,h);return a.inclusive?p>=0:p>0}(r.endAt,Ec(r),i))}(t,e)}function J9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZI(t){return(e,n)=>{let r=!1;for(const i of Ec(t)){const s=Z9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Z9(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):function(s,a,u){const h=a.data.field(s),p=u.data.field(s);return h!==null&&p!==null?zl(h,p):Ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=new Kt(ze.comparator);function po(){return eU}const eR=new Kt(ze.comparator);function sc(...t){let e=eR;for(const n of t)e=e.insert(n.key,n);return e}function tR(t){let e=eR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ys(){return xc()}function nR(){return xc()}function xc(){return new ru(t=>t.toString(),(t,e)=>t.isEqual(e))}const tU=new Kt(ze.comparator),nU=new Mn(ze.comparator);function ot(...t){let e=nU;for(const n of t)e=e.add(n);return e}const rU=new Mn(vt);function iU(){return rU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pp(e)?"-0":e}}function iR(t){return{integerValue:""+t}}function oU(t,e){return O9(e)?iR(e):rR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this._=void 0}}function sU(t,e,n){return t instanceof uf?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&q_(s)&&(s=G_(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof cf?sR(t,e):t instanceof ff?aR(t,e):function(i,s){const a=oR(i,s),u=oT(a)+oT(i.Ie);return z0(a)&&z0(i.Ie)?iR(u):rR(i.serializer,u)}(t,e)}function aU(t,e,n){return t instanceof cf?sR(t,e):t instanceof ff?aR(t,e):n}function oR(t,e){return t instanceof vp?function(r){return z0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class uf extends vg{}class cf extends vg{constructor(e){super(),this.elements=e}}function sR(t,e){const n=lR(e);for(const r of t.elements)n.some(i=>Ui(i,r))||n.push(r);return{arrayValue:{values:n}}}class ff extends vg{constructor(e){super(),this.elements=e}}function aR(t,e){let n=lR(e);for(const r of t.elements)n=n.filter(i=>!Ui(i,r));return{arrayValue:{values:n}}}class vp extends vg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function oT(t){return cn(t.integerValue||t.doubleValue)}function lR(t){return K_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,n){this.field=e,this.transform=n}}function uU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cf&&i instanceof cf||r instanceof ff&&i instanceof ff?Vl(r.elements,i.elements,Ui):r instanceof vp&&i instanceof vp?Ui(r.Ie,i.Ie):r instanceof uf&&i instanceof uf}(t.transform,e.transform)}class cU{constructor(e,n){this.version=e,this.transformResults=n}}class fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yg{}function uR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Y_(t.key,fi.none()):new Bf(t.key,t.data,fi.none());{const n=t.data,r=_r.empty();let i=new Mn(Nn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Es(t.key,r,new br(i.toArray()),fi.none())}}function fU(t,e,n){t instanceof Bf?function(i,s,a){const u=i.value.clone(),h=aT(i.fieldTransforms,s,a.transformResults);u.setAll(h),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Es?function(i,s,a){if(!Ed(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=aT(i.fieldTransforms,s,a.transformResults),h=s.data;h.setAll(cR(i)),h.setAll(u),s.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function kc(t,e,n,r){return t instanceof Bf?function(s,a,u,h){if(!Ed(s.precondition,a))return u;const p=s.value.clone(),m=lT(s.fieldTransforms,h,a);return p.setAll(m),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Es?function(s,a,u,h){if(!Ed(s.precondition,a))return u;const p=lT(s.fieldTransforms,h,a),m=a.data;return m.setAll(cR(s)),m.setAll(p),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(s,a,u){return Ed(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function hU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=oR(r.transform,i||null);s!=null&&(n===null&&(n=_r.empty()),n.set(r.field,s))}return n||null}function sT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vl(r,i,(s,a)=>uU(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bf extends yg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Es extends yg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aT(t,e,n){const r=new Map;Rt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,aU(a,u,n[i]))}return r}function lT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,sU(s,a,e))}return r}class Y_ extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dU extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nR();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=n.has(i.key)?null:u;const h=uR(a,u);h!==null&&r.set(i.key,h),a.isValidDocument()||a.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(n,r)=>sT(n,r))&&Vl(this.baseMutations,e.baseMutations,(n,r)=>sT(n,r))}}class J_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Rt(e.mutations.length===r.length);let i=function(){return tU}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new J_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,lt;function vU(t){switch(t){default:return Ke();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function fR(t){if(t===void 0)return Bi("GRPC error has no .code"),fe.UNKNOWN;switch(t){case ln.OK:return fe.OK;case ln.CANCELLED:return fe.CANCELLED;case ln.UNKNOWN:return fe.UNKNOWN;case ln.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case ln.INTERNAL:return fe.INTERNAL;case ln.UNAVAILABLE:return fe.UNAVAILABLE;case ln.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case ln.NOT_FOUND:return fe.NOT_FOUND;case ln.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case ln.ABORTED:return fe.ABORTED;case ln.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case ln.DATA_LOSS:return fe.DATA_LOSS;default:return Ke()}}(lt=ln||(ln={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new Tl([4294967295,4294967295],0);function uT(t){const e=yU().encode(t),n=new _9;return n.update(e),new Uint8Array(n.digest())}function cT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Tl([n,r],0),new Tl([i,s],0)]}class Z_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ac(`Invalid padding: ${n}`);if(r<0)throw new ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ac(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Tl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Tl.fromNumber(r)));return i.compare(_U)===1&&(i=new Tl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=uT(e),[r,i]=cT(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);if(!this.Ae(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Z_(s,i,n);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Te===0)return;const n=uT(e),[r,i]=cT(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);this.Re(a)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _g(Je.min(),i,new Kt(vt),po(),ot())}}class Uf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uf(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class hR{constructor(e,n){this.targetId=e,this.fe=n}}class dR{constructor(e,n,r=Jn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fT{constructor(){this.ge=0,this.pe=dT(),this.ye=Jn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ot(),n=ot(),r=ot();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke()}}),new Uf(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=dT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Rt(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class wU{constructor(e){this.Be=e,this.ke=new Map,this.qe=po(),this.Qe=hT(),this.Ke=new Kt(vt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if($0(s))if(r===0){const a=new ze(s.path);this.We(n,a,Kn.newNoDocument(a,Je.min()))}else Rt(r===1);else{const a=this.Ze(n);if(a!==r){const u=this.Xe(e),h=u?this.et(u,e,a):1;if(h!==0){this.He(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,u;try{a=pa(r).toUint8Array()}catch(h){if(h instanceof $I)return Ul("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Z_(a,i,s)}catch(h){return Ul(h instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Te===0?null:u}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Be.nt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,a)=>{const u=this.Ye(a);if(u){if(s.current&&$0(u.target)){const h=new ze(u.target.path);this.qe.get(h)!==null||this.st(a,h)||this.We(a,h,Kn.newNoDocument(h,e))}s.De&&(n.set(a,s.ve()),s.Fe())}});let r=ot();this.Qe.forEach((s,a)=>{let u=!0;a.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.qe.forEach((s,a)=>a.setReadTime(e));const i=new _g(e,n,this.Ke,this.qe,r);return this.qe=po(),this.Qe=hT(),this.Ke=new Kt(vt),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new fT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Mn(vt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new fT),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function hT(){return new Kt(ze.comparator)}function dT(){return new Kt(ze.comparator)}const EU={asc:"ASCENDING",desc:"DESCENDING"},xU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kU={and:"AND",or:"OR"};class SU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function W0(t,e){return t.useProto3Json||dg(e)?e:{value:e}}function yp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TU(t,e){return yp(t,e.toTimestamp())}function Fi(t){return Rt(!!t),Je.fromTimestamp(function(n){const r=fs(n);return new En(r.seconds,r.nanos)}(t))}function ew(t,e){return q0(t,e).canonicalString()}function q0(t,e){const n=function(i){return new Ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gR(t){const e=Ot.fromString(t);return Rt(wR(e)),e}function G0(t,e){return ew(t.databaseId,e.path)}function sy(t,e){const n=gR(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(vR(n))}function mR(t,e){return ew(t.databaseId,e)}function CU(t){const e=gR(t);return e.length===4?Ot.emptyPath():vR(e)}function K0(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vR(t){return Rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pT(t,e,n){return{name:G0(t,e),fields:n.value.mapValue.fields}}function DU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(p,m){return p.useProto3Json?(Rt(m===void 0||typeof m=="string"),Jn.fromBase64String(m||"")):(Rt(m===void 0||m instanceof Uint8Array),Jn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(p){const m=p.code===void 0?fe.UNKNOWN:fR(p.code);return new Pe(m,p.message||"")}(a);n=new dR(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sy(t,r.document.name),s=Fi(r.document.updateTime),a=r.document.createTime?Fi(r.document.createTime):Je.min(),u=new _r({mapValue:{fields:r.document.fields}}),h=Kn.newFoundDocument(i,s,a,u),p=r.targetIds||[],m=r.removedTargetIds||[];n=new xd(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sy(t,r.document),s=r.readTime?Fi(r.readTime):Je.min(),a=Kn.newNoDocument(i,s),u=r.removedTargetIds||[];n=new xd([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sy(t,r.document),s=r.removedTargetIds||[];n=new xd([],s,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new mU(i,s),u=r.targetId;n=new hR(u,a)}}return n}function AU(t,e){let n;if(e instanceof Bf)n={update:pT(t,e.key,e.value)};else if(e instanceof Y_)n={delete:G0(t,e.key)};else if(e instanceof Es)n={update:pT(t,e.key,e.data),updateMask:MU(e.fieldMask)};else{if(!(e instanceof dU))return Ke();n={verify:G0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof uf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof cf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ff)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof vp)return{fieldPath:a.field.canonicalString(),increment:u.Ie};throw Ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:TU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ke()}(t,e.precondition)),n}function bU(t,e){return t&&t.length>0?(Rt(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?Fi(i.updateTime):Fi(s);return a.isEqual(Je.min())&&(a=Fi(s)),new cU(a,i.transformResults||[])}(n,e))):[]}function IU(t,e){return{documents:[mR(t,e.path)]}}function RU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mR(t,i);const s=function(p){if(p.length!==0)return _R(pi.create(p,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(p){if(p.length!==0)return p.map(m=>function(_){return{field:tl(_.field),direction:NU(_.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=W0(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ut:n,parent:i}}function PU(t){let e=CU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rt(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(v){const _=yR(v);return _ instanceof pi&&GI(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(v){return v.map(_=>function(b){return new lf(nl(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(_))}(n.orderBy));let u=null;n.limit&&(u=function(v){let _;return _=typeof v=="object"?v.value:v,dg(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(v){const _=!!v.before,E=v.values||[];return new gp(E,_)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const _=!v.before,E=v.values||[];return new gp(E,_)}(n.endAt)),X9(e,i,a,s,u,"F",h,p)}function LU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nl(n.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nl(n.unaryFilter.field);return hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nl(n.unaryFilter.field);return hn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=nl(n.unaryFilter.field);return hn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(n){return hn.create(nl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(r=>yR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke()}}(n.compositeFilter.op))}(t):Ke()}function NU(t){return EU[t]}function FU(t){return xU[t]}function OU(t){return kU[t]}function tl(t){return{fieldPath:t.canonicalString()}}function nl(t){return Nn.fromServerFormat(t.fieldPath)}function _R(t){return t instanceof hn?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NAN"}};if(ZS(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NAN"}};if(ZS(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(n.field),op:FU(n.op),value:n.value}}}(t):t instanceof pi?function(n){const r=n.getFilters().map(i=>_R(i));return r.length===1?r[0]:{compositeFilter:{op:OU(n.op),filters:r}}}(t):Ke()}function MU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,r,i,s=Je.min(),a=Je.min(),u=Jn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.ct=e}}function UU(t){const e=PU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(){this._n=new zU}addToCollectionParentIndex(e,n){return this._n.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(cs.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class zU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mn(Ot.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new $l(0)}static Ln(){return new $l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.changes=new ru(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&kc(r.mutation,i,br.empty(),En.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=Ys();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=sc();return s.forEach((u,h)=>{a=a.insert(u,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,r,i){let s=po();const a=xc(),u=function(){return xc()}();return n.forEach((h,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Es)?s=s.insert(p.key,p):m!==void 0?(a.set(p.key,m.mutation.getFieldMask()),kc(m.mutation,p,m.mutation.getFieldMask(),En.now())):a.set(p.key,br.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((p,m)=>a.set(p,m)),n.forEach((p,m)=>{var v;return u.set(p,new $U(m,(v=a.get(p))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,n){const r=xc();let i=new Kt((a,u)=>a-u),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let m=r.get(h)||br.empty();m=u.applyToLocalView(p,m),r.set(h,m);const v=(i.get(u.batchId)||ot()).add(h);i=i.insert(u.batchId,v)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,m=h.value,v=nR();m.forEach(_=>{if(!s.has(_)){const E=uR(n.get(_),r.get(_));E!==null&&v.set(_,E),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,p,v))}return he.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ze.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):he.resolve(Ys());let u=-1,h=s;return a.next(p=>he.forEach(p,(m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),s.get(m)?he.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{h=h.insert(m,_)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,h,p,ot())).next(m=>({batchId:u,changes:tR(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next(r=>{let i=sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=sc();return this.indexManager.getCollectionParents(e,s).next(u=>he.forEach(u,h=>{const p=function(v,_){return new nu(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((v,_)=>{a=a.insert(v,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((h,p)=>{const m=p.getKey();a.get(m)===null&&(a=a.insert(m,Kn.newInvalidDocument(m)))});let u=sc();return a.forEach((h,p)=>{const m=s.get(h);m!==void 0&&kc(m.mutation,p,br.empty(),En.now()),mg(n,p)&&(u=u.insert(h,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return he.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fi(i.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:UU(i.bundledQuery),readTime:Fi(i.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.overlays=new Kt(ze.comparator),this.hr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ys();return he.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=Ys(),s=n.length+1,a=new ze(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Kt((p,m)=>p-m);const a=this.overlays.getIterator();for(;a.hasNext();){const p=a.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=s.get(p.largestBatchId);m===null&&(m=Ys(),s=s.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=Ys(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,m)=>u.set(p,m)),!(u.size()>=i)););return he.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new gU(n,r));let s=this.hr.get(n);s===void 0&&(s=ot(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.Pr=new Mn(Sn.Ir),this.Tr=new Mn(Sn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Sn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Sn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ze(new Ot([])),r=new Sn(n,e),i=new Sn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ze(new Ot([])),r=new Sn(n,e),i=new Sn(n,e+1);let s=ot();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Sn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ze.comparator(e.key,n.key)||vt(e.pr,n.pr)}static Er(e,n){return vt(e.pr,n.pr)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Mn(Sn.Ir)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new pU(s,n,r,i);this.mutationQueue.push(a);for(const u of i)this.wr=this.wr.add(new Sn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(a)}lookupMutationBatch(e,n){return he.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sn(n,0),i=new Sn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const u=this.Sr(a.pr);s.push(u)}),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mn(vt);return n.forEach(i=>{const s=new Sn(i,0),a=new Sn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],u=>{r=r.add(u.pr)})}),he.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ze.isDocumentKey(s)||(s=s.child(""));const a=new Sn(new ze(s),0);let u=new Mn(vt);return this.wr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(h.pr)),!0)},a),he.resolve(this.Dr(u))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Rt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return he.forEach(n.mutations,i=>{const s=new Sn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Sn(n,0),i=this.wr.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.vr=e,this.docs=function(){return new Kt(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=po();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kn.newInvalidDocument(i))}),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=po();const a=n.path,u=new ze(a.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!a.isPrefixOf(p.path))break;p.path.length>a.length+1||R9(I9(m),r)<=0||(i.has(m.key)||mg(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ke()}Fr(e,n){return he.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QU(this)}getSize(e){return he.resolve(this.size)}}class QU extends jU{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),he.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.persistence=e,this.Mr=new ru(n=>Q_(n),X_),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.Or=0,this.Nr=new tw,this.targetCount=0,this.Lr=$l.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),he.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new $l(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.qn(n),he.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),he.waitFor(s).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),he.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n){this.Br={},this.overlays={},this.kr=new W_(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new XU(this),this.indexManager=new VU,this.remoteDocumentCache=function(i){return new KU(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new BU(n),this.$r=new WU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new GU(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const i=new JU(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return he.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class JU extends L9{constructor(e){super(),this.currentSequenceNumber=e}}class nw{constructor(e){this.persistence=e,this.zr=new tw,this.jr=null}static Hr(e){return new nw(e)}get Jr(){if(this.jr)return this.jr;throw Ke()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),he.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Jr,r=>{const i=ze.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Je.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return he.or([()=>he.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ot(),i=ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new rw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return e4()?8:Xs.v(dn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new ZU;return this.Ji(e,n,a).next(u=>{if(s.result=u,this.Ui)return this.Yi(e,n,a,u.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Qu()<=at.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),he.resolve()):(Qu()<=at.DEBUG&&De("QueryEngine","Query:",el(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Qu()<=at.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):he.resolve())}ji(e,n){if(iT(n))return he.resolve(null);let r=Ni(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mp(n,null,"F"),r=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=ot(...s);return this.zi.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.Zi(n,u);return this.Xi(n,p,a,h.readTime)?this.ji(e,mp(n,null,"F")):this.es(e,p,n,h)}))})))}Hi(e,n,r,i){return iT(n)||i.isEqual(Je.min())?he.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?he.resolve(null):(Qu()<=at.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),el(n)),this.es(e,a,n,b9(i,-1)).next(u=>u))})}Zi(e,n){let r=new Mn(ZI(e));return n.forEach((i,s)=>{mg(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Qu()<=at.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",el(n)),this.zi.getDocumentsMatchingQuery(e,n,cs.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Kt(vt),this.rs=new ru(s=>Q_(s),X_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HU(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function n6(t,e,n,r){return new t6(t,e,n,r)}async function ER(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let h=ot();for(const p of i){a.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of s){u.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(p=>({us:p,removedBatchIds:a,addedBatchIds:u}))})})}function r6(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(u,h,p,m){const v=p.batch,_=v.keys();let E=he.resolve();return _.forEach(b=>{E=E.next(()=>m.getEntry(h,b)).next(I=>{const P=p.docVersions.get(b);Rt(P!==null),I.version.compareTo(P)<0&&(v.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),m.addEntry(I)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=ot();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xR(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function i6(t,e){const n=Ze(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const u=[];e.targetChanges.forEach((m,v)=>{const _=i.get(v);if(!_)return;u.push(n.Qr.removeMatchingKeys(s,m.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(s,m.addedDocuments,v)));let E=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(Jn.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(v,E),function(I,P,T){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(_,E,m)&&u.push(n.Qr.updateTargetData(s,E))});let h=po(),p=ot();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(o6(s,a,e.documentUpdates).next(m=>{h=m.cs,p=m.ls})),!r.isEqual(Je.min())){const m=n.Qr.getLastRemoteSnapshotVersion(s).next(v=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return he.waitFor(u).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,p)).next(()=>h)}).then(s=>(n.ns=i,s))}function o6(t,e,n){let r=ot(),i=ot();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=po();return n.forEach((u,h)=>{const p=s.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Je.min())?(e.removeEntry(u,h.readTime),a=a.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),a=a.insert(u,h)):De("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),{cs:a,ls:i}})}function s6(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a6(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,he.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new Go(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Q0(t,e,n){const r=Ze(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Mf(a))throw a;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function gT(t,e,n){const r=Ze(t);let i=Je.min(),s=ot();return r.persistence.runTransaction("Execute query","readwrite",a=>function(h,p,m){const v=Ze(h),_=v.rs.get(m);return _!==void 0?he.resolve(v.ns.get(_)):v.Qr.getTargetData(p,m)}(r,a,Ni(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,u.targetId).next(h=>{s=h})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:Je.min(),n?s:ot())).next(u=>(l6(r,J9(e),u),{documents:u,hs:s})))}function l6(t,e,n){let r=t.ss.get(e)||Je.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class mT{constructor(){this.activeTargetIds=iU()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u6{constructor(){this.no=new mT,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new mT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed=null;function ay(){return ed===null?ed=function(){return 268435456+Math.round(2147483648*Math.random())}():ed++,"0x"+ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class d6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,a){const u=ay(),h=this.bo(n,r.toUriEncodedString());De("RestConnection",`Sending RPC '${n}' ${u}:`,h,i);const p={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(p,s,a),this.Co(n,h,p,i).then(m=>(De("RestConnection",`Received RPC '${n}' ${u}: `,m),m),m=>{throw Ul("RestConnection",`RPC '${n}' ${u} failed with error: `,m,"url: ",h,"request:",i),m})}vo(n,r,i,s,a,u){return this.So(n,r,i,s,a)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}bo(n,r){const i=f6[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=ay();return new Promise((a,u)=>{const h=new y9;h.setWithCredentials(!0),h.listenOnce(m9.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case oy.NO_ERROR:const m=h.getResponseJson();De(Wn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),a(m);break;case oy.TIMEOUT:De(Wn,`RPC '${e}' ${s} timed out`),u(new Pe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case oy.HTTP_ERROR:const v=h.getStatus();if(De(Wn,`RPC '${e}' ${s} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const b=function(P){const T=P.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(T)>=0?T:fe.UNKNOWN}(E.status);u(new Pe(b,E.message))}else u(new Pe(fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Pe(fe.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{De(Wn,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);De(Wn,`RPC '${e}' ${s} sending request:`,i),h.send(n,"POST",p,r,15)})}Fo(e,n,r){const i=ay(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=p9(),u=g9(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=s.join("");De(Wn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const v=a.createWebChannel(m,h);let _=!1,E=!1;const b=new h6({lo:P=>{E?De(Wn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(_||(De(Wn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),_=!0),De(Wn,`RPC '${e}' stream ${i} sending:`,P),v.send(P))},ho:()=>v.close()}),I=(P,T,C)=>{P.listen(T,D=>{try{C(D)}catch(N){setTimeout(()=>{throw N},0)}})};return I(v,Yh.EventType.OPEN,()=>{E||De(Wn,`RPC '${e}' stream ${i} transport opened.`)}),I(v,Yh.EventType.CLOSE,()=>{E||(E=!0,De(Wn,`RPC '${e}' stream ${i} transport closed`),b.Vo())}),I(v,Yh.EventType.ERROR,P=>{E||(E=!0,Ul(Wn,`RPC '${e}' stream ${i} transport errored:`,P),b.Vo(new Pe(fe.UNAVAILABLE,"The operation could not be completed")))}),I(v,Yh.EventType.MESSAGE,P=>{var T;if(!E){const C=P.data[0];Rt(!!C);const D=C,N=D.error||((T=D[0])===null||T===void 0?void 0:T.error);if(N){De(Wn,`RPC '${e}' stream ${i} received error:`,N);const O=N.status;let L=function(J){const le=ln[J];if(le!==void 0)return fR(le)}(O),M=N.message;L===void 0&&(L=fe.INTERNAL,M="Unknown error status: "+O+" with message "+N.message),E=!0,b.Vo(new Pe(L,M)),v.close()}else De(Wn,`RPC '${e}' stream ${i} received:`,C),b.mo(C)}}),I(u,v9.STAT_EVENT,P=>{P.stat===qS.PROXY?De(Wn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===qS.NOPROXY&&De(Wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Ro()},0),b}}function ly(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t){return new SU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,r,i,s,a,u,h){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new kR(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new Pe(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p6 extends SR{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=DU(this.serializer,e),r=function(s){if(!("targetChange"in s))return Je.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Je.min():a.readTime?Fi(a.readTime):Je.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=K0(this.serializer),n.addTarget=function(s,a){let u;const h=a.target;if(u=$0(h)?{documents:IU(s,h)}:{query:RU(s,h).ut},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=pR(s,a.resumeToken);const p=W0(s,a.expectedCount);p!==null&&(u.expectedCount=p)}else if(a.snapshotVersion.compareTo(Je.min())>0){u.readTime=yp(s,a.snapshotVersion.toTimestamp());const p=W0(s,a.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=LU(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=K0(this.serializer),n.removeTarget=e,this.t_(n)}}class g6 extends SR{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=bU(e.writeResults,e.commitTime),r=Fi(e.commitTime);return this.listener.T_(r,n)}return Rt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=K0(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>AU(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(e,q0(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(fe.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.vo(e,q0(n,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(fe.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class v6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Bi(n),this.g_=!1):De("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget(async()=>{Ca(this)&&(De("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=Ze(h);p.v_.add(4),await Vf(p),p.x_.set("Unknown"),p.v_.delete(4),await Eg(p)}(this))})}),this.x_=new v6(r,i)}}async function Eg(t){if(Ca(t))for(const e of t.F_)await e(!0)}async function Vf(t){for(const e of t.F_)await e(!1)}function TR(t,e){const n=Ze(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),aw(n)?sw(n):iu(n).Jo()&&ow(n,e))}function iw(t,e){const n=Ze(t),r=iu(n);n.C_.delete(e),r.Jo()&&CR(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ca(n)&&n.x_.set("Unknown"))}function ow(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}iu(t).c_(e)}function CR(t,e){t.O_.Oe(e),iu(t).l_(e)}function sw(t){t.O_=new wU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),iu(t).start(),t.x_.p_()}function aw(t){return Ca(t)&&!iu(t).Ho()&&t.C_.size>0}function Ca(t){return Ze(t).v_.size===0}function DR(t){t.O_=void 0}async function _6(t){t.C_.forEach((e,n)=>{ow(t,e)})}async function w6(t,e){DR(t),aw(t)?(t.x_.S_(e),sw(t)):t.x_.set("Unknown")}async function E6(t,e,n){if(t.x_.set("Online"),e instanceof dR&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i.C_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.C_.delete(u),i.O_.removeTarget(u))}(t,e)}catch(r){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _p(t,r)}else if(e instanceof xd?t.O_.$e(e):e instanceof hR?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Je.min()))try{const r=await xR(t.localStore);n.compareTo(r)>=0&&await function(s,a){const u=s.O_.it(a);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.C_.get(p);m&&s.C_.set(p,m.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach((h,p)=>{const m=s.C_.get(h);if(!m)return;s.C_.set(h,m.withResumeToken(Jn.EMPTY_BYTE_STRING,m.snapshotVersion)),CR(s,h);const v=new Go(m.target,h,p,m.sequenceNumber);ow(s,v)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){De("RemoteStore","Failed to raise snapshot:",r),await _p(t,r)}}async function _p(t,e,n){if(!Mf(e))throw e;t.v_.add(1),await Vf(t),t.x_.set("Offline"),n||(n=()=>xR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{De("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Eg(t)})}function AR(t,e){return e().catch(n=>_p(t,n,e))}async function xg(t){const e=Ze(t),n=hs(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;x6(e);)try{const i=await s6(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,k6(e,i)}catch(i){await _p(e,i)}bR(e)&&IR(e)}function x6(t){return Ca(t)&&t.D_.length<10}function k6(t,e){t.D_.push(e);const n=hs(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function bR(t){return Ca(t)&&!hs(t).Ho()&&t.D_.length>0}function IR(t){hs(t).start()}async function S6(t){hs(t).d_()}async function T6(t){const e=hs(t);for(const n of t.D_)e.I_(n.mutations)}async function C6(t,e,n){const r=t.D_.shift(),i=J_.from(r,e,n);await AR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xg(t)}async function D6(t,e){e&&hs(t).P_&&await async function(r,i){if(function(a){return vU(a)&&a!==fe.ABORTED}(i.code)){const s=r.D_.shift();hs(r).Zo(),await AR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await xg(r)}}(t,e),bR(t)&&IR(t)}async function yT(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const r=Ca(n);n.v_.add(3),await Vf(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Eg(n)}async function A6(t,e){const n=Ze(t);e?(n.v_.delete(2),await Eg(n)):e||(n.v_.add(2),await Vf(n),n.x_.set("Unknown"))}function iu(t){return t.N_||(t.N_=function(n,r,i){const s=Ze(n);return s.R_(),new p6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:_6.bind(null,t),To:w6.bind(null,t),u_:E6.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),aw(t)?sw(t):t.x_.set("Unknown")):(await t.N_.stop(),DR(t))})),t.N_}function hs(t){return t.L_||(t.L_=function(n,r,i){const s=Ze(n);return s.R_(),new g6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:S6.bind(null,t),To:D6.bind(null,t),E_:T6.bind(null,t),T_:C6.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await xg(t)):(await t.L_.stop(),t.D_.length>0&&(De("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,u=new lw(e,n,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uw(t,e){if(Bi("AsyncQueue",`${e}: ${t}`),Mf(t))return new Pe(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new Kt(this.comparator)}static emptySet(e){return new Cl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.B_=new Kt(ze.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ke():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hl{constructor(e,n,r,i,s,a,u,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new Hl(e,n,Cl.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class I6{constructor(){this.queries=new ru(e=>JI(e),gg),this.onlineState="Unknown",this.W_=new Set}}async function cw(t,e){const n=Ze(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new b6,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=uw(a,`Initialization of query '${el(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&hw(n)}async function fw(t,e){const n=Ze(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Q_.indexOf(e);a>=0&&(s.Q_.splice(a,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function R6(t,e){const n=Ze(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const u of a.Q_)u.z_(i)&&(r=!0);a.q_=i}}r&&hw(n)}function P6(t,e,n){const r=Ze(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function hw(t){t.W_.forEach(e=>{e.next()})}var X0,wT;(wT=X0||(X0={})).j_="default",wT.Cache="cache";class dw{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==X0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.key=e}}class PR{constructor(e){this.key=e}}class L6{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ot(),this.mutatedKeys=ot(),this.ha=ZI(e),this.Pa=new Cl(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new _T,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const _=i.get(m),E=mg(this.query,v)?v:null,b=!!_&&this.mutatedKeys.has(_.key),I=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let P=!1;_&&E?_.data.isEqual(E.data)?b!==I&&(r.track({type:3,doc:E}),P=!0):this.da(_,E)||(r.track({type:2,doc:E}),P=!0,(h&&this.ha(E,h)>0||p&&this.ha(E,p)<0)&&(u=!0)):!_&&E?(r.track({type:0,doc:E}),P=!0):_&&!E&&(r.track({type:1,doc:_}),P=!0,(h||p)&&(u=!0)),P&&(E?(a=a.add(E),s=I?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{Pa:a,Ea:r,Xi:u,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const a=e.Ea.k_();a.sort((m,v)=>function(E,b){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return I(E)-I(b)}(m.type,v.type)||this.ha(m.doc,v.doc)),this.Aa(r),i=i!=null&&i;const u=n&&!i?this.Ra():[],h=this.la.size===0&&this.current&&!i?1:0,p=h!==this.ca;return this.ca=h,a.length!==0||p?{snapshot:new Hl(this.query,e.Pa,s,a,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:u}:{Va:u}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new _T,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=ot(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new PR(r))}),this.la.forEach(r=>{e.has(r)||n.push(new RR(r))}),n}fa(e){this.ua=e.hs,this.la=ot();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Hl.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class N6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F6{constructor(e){this.key=e,this.pa=!1}}class O6{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new ru(u=>JI(u),gg),this.Sa=new Map,this.ba=new Set,this.Da=new Kt(ze.comparator),this.Ca=new Map,this.va=new tw,this.Fa={},this.Ma=new Map,this.xa=$l.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function M6(t,e,n=!0){const r=BR(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await LR(r,e,n,!0),i}async function B6(t,e){const n=BR(t);await LR(n,e,!0,!1)}async function LR(t,e,n,r){const i=await a6(t.localStore,Ni(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let u;return r&&(u=await U6(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&TR(t.remoteStore,i),u}async function U6(t,e,n,r,i){t.Na=(v,_,E)=>async function(I,P,T,C){let D=P.view.Ta(T);D.Xi&&(D=await gT(I.localStore,P.query,!1).then(({documents:M})=>P.view.Ta(M,D)));const N=C&&C.targetChanges.get(P.targetId),O=C&&C.targetMismatches.get(P.targetId)!=null,L=P.view.applyChanges(D,I.isPrimaryClient,N,O);return xT(I,P.targetId,L.Va),L.snapshot}(t,v,_,E);const s=await gT(t.localStore,e,!0),a=new L6(e,s.hs),u=a.Ta(s.documents),h=Uf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=a.applyChanges(u,t.isPrimaryClient,h);xT(t,n,p.Va);const m=new N6(e,n,a);return t.wa.set(e,m),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),p.snapshot}async function V6(t,e,n){const r=Ze(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(a=>!gg(a,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Q0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iw(r.remoteStore,i.targetId),Y0(r,i.targetId)}).catch(Of)):(Y0(r,i.targetId),await Q0(r.localStore,i.targetId,!0))}async function z6(t,e){const n=Ze(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iw(n.remoteStore,r.targetId))}async function j6(t,e,n){const r=Q6(t);try{const i=await function(a,u){const h=Ze(a),p=En.now(),m=u.reduce((E,b)=>E.add(b.key),ot());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let b=po(),I=ot();return h.os.getEntries(E,m).next(P=>{b=P,b.forEach((T,C)=>{C.isValidDocument()||(I=I.add(T))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,b)).next(P=>{v=P;const T=[];for(const C of u){const D=hU(C,v.get(C.key).overlayedDocument);D!=null&&T.push(new Es(C.key,D,HI(D.value.mapValue),fi.exists(!0)))}return h.mutationQueue.addMutationBatch(E,p,T,u)}).next(P=>{_=P;const T=P.applyToLocalDocumentSet(v,I);return h.documentOverlayCache.saveOverlays(E,P.batchId,T)})}).then(()=>({batchId:_.batchId,changes:tR(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,h){let p=a.Fa[a.currentUser.toKey()];p||(p=new Kt(vt)),p=p.insert(u,h),a.Fa[a.currentUser.toKey()]=p}(r,i.batchId,n),await zf(r,i.changes),await xg(r.remoteStore)}catch(i){const s=uw(i,"Failed to persist write");n.reject(s)}}async function NR(t,e){const n=Ze(t);try{const r=await i6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Ca.get(s);a&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.pa=!0:i.modifiedDocuments.size>0?Rt(a.pa):i.removedDocuments.size>0&&(Rt(a.pa),a.pa=!1))}),await zf(n,r,e)}catch(r){await Of(r)}}function ET(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,a)=>{const u=a.view.G_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const h=Ze(a);h.onlineState=u;let p=!1;h.queries.forEach((m,v)=>{for(const _ of v.Q_)_.G_(u)&&(p=!0)}),p&&hw(h)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $6(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let a=new Kt(ze.comparator);a=a.insert(s,Kn.newNoDocument(s,Je.min()));const u=ot().add(s),h=new _g(Je.min(),new Map,new Kt(vt),a,u);await NR(r,h),r.Da=r.Da.remove(s),r.Ca.delete(e),pw(r)}else await Q0(r.localStore,e,!1).then(()=>Y0(r,e,n)).catch(Of)}async function H6(t,e){const n=Ze(t),r=e.batch.batchId;try{const i=await r6(n.localStore,e);OR(n,r,null),FR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zf(n,i)}catch(i){await Of(i)}}async function W6(t,e,n){const r=Ze(t);try{const i=await function(a,u){const h=Ze(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return h.mutationQueue.lookupMutationBatch(p,u).next(v=>(Rt(v!==null),m=v.keys(),h.mutationQueue.removeMutationBatch(p,v))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>h.localDocuments.getDocuments(p,m))})}(r.localStore,e);OR(r,e,n),FR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zf(r,i)}catch(i){await Of(i)}}function FR(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function OR(t,e,n){const r=Ze(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Y0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||MR(t,r)})}function MR(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(iw(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),pw(t))}function xT(t,e,n){for(const r of n)r instanceof RR?(t.va.addReference(r.key,e),q6(t,r)):r instanceof PR?(De("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||MR(t,r.key)):Ke()}function q6(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(De("SyncEngine","New document in limbo: "+n),t.ba.add(r),pw(t))}function pw(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new ze(Ot.fromString(e)),r=t.xa.next();t.Ca.set(r,new F6(n)),t.Da=t.Da.insert(n,r),TR(t.remoteStore,new Go(Ni(pg(n.path)),r,"TargetPurposeLimboResolution",W_._e))}}async function zf(t,e,n){const r=Ze(t),i=[],s=[],a=[];r.wa.isEmpty()||(r.wa.forEach((u,h)=>{a.push(r.Na(h,e,n).then(p=>{if((p||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p!=null&&p.fromCache?"not-current":"current"),p){i.push(p);const m=rw.Ki(h.targetId,p);s.push(m)}}))}),await Promise.all(a),r.ya.u_(i),await async function(h,p){const m=Ze(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>he.forEach(p,_=>he.forEach(_.qi,E=>m.persistence.referenceDelegate.addReference(v,_.targetId,E)).next(()=>he.forEach(_.Qi,E=>m.persistence.referenceDelegate.removeReference(v,_.targetId,E)))))}catch(v){if(!Mf(v))throw v;De("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const _=v.targetId;if(!v.fromCache){const E=m.ns.get(_),b=E.snapshotVersion,I=E.withLastLimboFreeSnapshotVersion(b);m.ns=m.ns.insert(_,I)}}}(r.localStore,s))}async function G6(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const r=await ER(n.localStore,e);n.currentUser=e,function(s,a){s.Ma.forEach(u=>{u.forEach(h=>{h.reject(new Pe(fe.CANCELLED,a))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zf(n,r.us)}}function K6(t,e){const n=Ze(t),r=n.Ca.get(e);if(r&&r.pa)return ot().add(r.key);{let i=ot();const s=n.Sa.get(e);if(!s)return i;for(const a of s){const u=n.wa.get(a);i=i.unionWith(u.view.Ia)}return i}}function BR(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$6.bind(null,e),e.ya.u_=R6.bind(null,e.eventManager),e.ya.La=P6.bind(null,e.eventManager),e}function Q6(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W6.bind(null,e),e}class kT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return n6(this.persistence,new e6,e.initialUser,this.serializer)}createPersistence(e){return new YU(nw.Hr,this.serializer)}createSharedClientState(e){return new u6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class X6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ET(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=G6.bind(null,this.syncEngine),await A6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I6}()}createDatastore(e){const n=wg(e.databaseInfo.databaseId),r=function(s){return new d6(s)}(e.databaseInfo);return function(s,a,u,h){return new m6(s,a,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,u){return new y6(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>ET(this.syncEngine,n,0),function(){return vT.D()?new vT:new c6}())}createSyncEngine(e,n){return function(i,s,a,u,h,p,m){const v=new O6(i,s,a,u,h,p);return m&&(v.Oa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ze(r);De("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Vf(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=zI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{De("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(De("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function uy(t,e){t.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ER(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ST(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z6(t);De("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yT(e.remoteStore,i)),t._onlineComponents=e}function J6(t){return t.name==="FirebaseError"?t.code===fe.FAILED_PRECONDITION||t.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Z6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{await uy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!J6(n))throw n;Ul("Error using user provided cache. Falling back to memory cache: "+n),await uy(t,new kT)}}else De("FirestoreClient","Using default OfflineComponentProvider"),await uy(t,new kT);return t._offlineComponents}async function UR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),await ST(t,t._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),await ST(t,new X6))),t._onlineComponents}function eV(t){return UR(t).then(e=>e.syncEngine)}async function wp(t){const e=await UR(t),n=e.eventManager;return n.onListen=M6.bind(null,e.syncEngine),n.onUnlisten=V6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z6.bind(null,e.syncEngine),n}function tV(t,e,n={}){const r=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,h,p){const m=new gw({next:_=>{a.enqueueAndForget(()=>fw(s,v));const E=_.docs.has(u);!E&&_.fromCache?p.reject(new Pe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&h&&h.source==="server"?p.reject(new Pe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new dw(pg(u.path),m,{includeMetadataChanges:!0,ta:!0});return cw(s,v)}(await wp(t),t.asyncQueue,e,n,r)),r.promise}function nV(t,e,n={}){const r=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,h,p){const m=new gw({next:_=>{a.enqueueAndForget(()=>fw(s,v)),_.fromCache&&h.source==="server"?p.reject(new Pe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new dw(u,m,{includeMetadataChanges:!0,ta:!0});return cw(s,v)}(await wp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e,n){if(!n)throw new Pe(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rV(t,e,n,r){if(e===!0&&r===!0)throw new Pe(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CT(t){if(!ze.isDocumentKey(t))throw new Pe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DT(t){if(ze.isDocumentKey(t))throw new Pe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function Kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kg(t);throw new Pe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function iV(t,e){if(e<=0)throw new Pe(fe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Pe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new w9;switch(r.type){case"firstParty":return new S9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=TT.get(n);r&&(De("ComponentProvider","Removing Datastore"),TT.delete(n),r.terminate())}(this),Promise.resolve()}}function oV(t,e,n,r={}){var i;const s=(t=Kr(t,Sg))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=qn.MOCK_USER;else{u=Ib(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Pe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new qn(p)}t._authCredentials=new E9(new VI(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class fr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class ss extends yo{constructor(e,n,r){super(e,n,pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new ze(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function hf(t,e,...n){if(t=Gt(t),zR("collection","path",e),t instanceof Sg){const r=Ot.fromString(e,...n);return DT(r),new ss(t,null,r)}{if(!(t instanceof fr||t instanceof ss))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return DT(r),new ss(t.firestore,null,r)}}function df(t,e,...n){if(t=Gt(t),arguments.length===1&&(e=zI.newId()),zR("doc","path",e),t instanceof Sg){const r=Ot.fromString(e,...n);return CT(r),new fr(t,null,new ze(r))}{if(!(t instanceof fr||t instanceof ss))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return CT(r),new fr(t.firestore,t instanceof ss?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new kR(this,"async_queue_retry"),this.cu=()=>{const n=ly();n&&De("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=ly();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=ly();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Li;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Mf(e))throw e;De("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw Bi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=lw.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&Ke()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function bT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ds extends Sg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new sV}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jR(this),this._firestoreClient.terminate()}}function aV(t,e){const n=typeof t=="object"?t:__(),r=typeof t=="string"?t:e||"(default)",i=Xp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Db("firestore");s&&oV(i,...s)}return i}function Tg(t){return t._firestoreClient||jR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jR(t){var e,n,r;const i=t._freezeSettings(),s=function(u,h,p,m){return new B9(u,h,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,VR(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Y6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wl(Jn.fromBase64String(e))}catch(n){throw new Pe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wl(Jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=/^__.*__$/;class uV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bf(e,this.data,n,this.fieldTransforms)}}class $R{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class vw{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new vw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Ep(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(HR(this.Vu)&&lV.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class cV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wg(e)}Cu(e,n,r,i=!1){return new vw({Vu:e,methodName:n,Du:r,path:Nn.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yw(t){const e=t._freezeSettings(),n=wg(t._databaseId);return new cV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fV(t,e,n,r,i,s={}){const a=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);ww("Data must be an object, but it was:",a,r);const u=WR(r,a);let h,p;if(s.merge)h=new br(a.fieldMask),p=a.fieldTransforms;else if(s.mergeFields){const m=[];for(const v of s.mergeFields){const _=J0(e,v,n);if(!a.contains(_))throw new Pe(fe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);GR(m,_)||m.push(_)}h=new br(m),p=a.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=a.fieldTransforms;return new uV(new _r(u),h,p)}class Ag extends Dg{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ag}}class _w extends Dg{_toFieldTransform(e){return new lU(e.path,new uf)}isEqual(e){return e instanceof _w}}function hV(t,e,n,r){const i=t.Cu(1,e,n);ww("Data must be an object, but it was:",i,r);const s=[],a=_r.empty();Ta(r,(h,p)=>{const m=Ew(e,h,n);p=Gt(p);const v=i.yu(m);if(p instanceof Ag)s.push(m);else{const _=jf(p,v);_!=null&&(s.push(m),a.set(m,_))}});const u=new br(s);return new $R(a,u,i.fieldTransforms)}function dV(t,e,n,r,i,s){const a=t.Cu(1,e,n),u=[J0(e,r,n)],h=[i];if(s.length%2!=0)throw new Pe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(J0(e,s[_])),h.push(s[_+1]);const p=[],m=_r.empty();for(let _=u.length-1;_>=0;--_)if(!GR(p,u[_])){const E=u[_];let b=h[_];b=Gt(b);const I=a.yu(E);if(b instanceof Ag)p.push(E);else{const P=jf(b,I);P!=null&&(p.push(E),m.set(E,P))}}const v=new br(p);return new $R(m,v,a.fieldTransforms)}function pV(t,e,n,r=!1){return jf(n,t.Cu(r?4:3,e))}function jf(t,e){if(qR(t=Gt(t)))return ww("Unsupported field value:",e,t),WR(t,e);if(t instanceof Dg)return function(r,i){if(!HR(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let h=jf(u,i.wu(a));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=En.fromDate(r);return{timestampValue:yp(i.serializer,s)}}if(r instanceof En){const s=new En(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yp(i.serializer,s)}}if(r instanceof mw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wl)return{bytesValue:pR(i.serializer,r._byteString)};if(r instanceof fr){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Su(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ew(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${kg(r)}`)}(t,e)}function WR(t,e){const n={};return jI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(t,(r,i)=>{const s=jf(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof En||t instanceof mw||t instanceof Wl||t instanceof fr||t instanceof Dg)}function ww(t,e,n){if(!qR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kg(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function J0(t,e,n){if((e=Gt(e))instanceof Cg)return e._internalPath;if(typeof e=="string")return Ew(t,e);throw Ep("Field path arguments must be of type string or ",t,!1,void 0,n)}const gV=new RegExp("[~\\*/\\[\\]]");function Ew(t,e,n){if(e.search(gV)>=0)throw Ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cg(...e.split("."))._internalPath}catch{throw Ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ep(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||a)&&(h+=" (found",s&&(h+=` in field ${r}`),a&&(h+=` in document ${i}`),h+=")"),new Pe(fe.INVALID_ARGUMENT,u+t+h)}function GR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mV extends KR{data(){return super.data()}}function bg(t,e){return typeof e=="string"?Ew(t,e):e instanceof Cg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xw{}class kw extends xw{}function Z0(t,e,...n){let r=[];e instanceof xw&&r.push(e),r=r.concat(n),function(s){const a=s.filter(h=>h instanceof Sw).length,u=s.filter(h=>h instanceof Ig).length;if(a>1||a>0&&u>0)throw new Pe(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ig extends kw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ig(e,n,r)}_apply(e){const n=this._parse(e);return YR(e._query,n),new yo(e.firestore,e.converter,H0(e._query,n))}_parse(e){const n=yw(e.firestore);return function(s,a,u,h,p,m,v){let _;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Pe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){PT(v,m);const E=[];for(const b of v)E.push(RT(h,s,b));_={arrayValue:{values:E}}}else _=RT(h,s,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||PT(v,m),_=pV(u,a,v,m==="in"||m==="not-in");return hn.create(p,m,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function XR(t,e,n){const r=e,i=bg("where",t);return Ig._create(i,r,n)}class Sw extends xw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const u=s.getFlattenedFilters();for(const h of u)YR(a,h),a=H0(a,h)}(e._query,n),new yo(e.firestore,e.converter,H0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tw extends kw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tw(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lf(s,a)}(e._query,this._field,this._direction);return new yo(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new nu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function vV(t,e="asc"){const n=e,r=bg("orderBy",t);return Tw._create(r,n)}class Cw extends kw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Cw(e,n,r)}_apply(e){return new yo(e.firestore,e.converter,mp(e._query,this._limit,this._limitType))}}function IT(t){return iV("limit",t),Cw._create("limit",t,"F")}function RT(t,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YI(e)&&n.indexOf("/")!==-1)throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ot.fromString(n));if(!ze.isDocumentKey(r))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return JS(t,new ze(r))}if(n instanceof fr)return JS(t,n._key);throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kg(n)}.`)}function PT(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YR(t,e){const n=function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yV{convertValue(e,n="none"){switch(ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ta(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new mw(cn(e.latitude),cn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=G_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(of(e));default:return null}}convertTimestamp(e){const n=fs(e);return new En(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);Rt(wR(r));const i=new sf(r.get(1),r.get(3)),s=new ze(r.popFirst(5));return i.isEqual(n)||Bi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JR extends KR{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kd extends JR{data(e={}){return super.data(e)}}class ZR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kd(this._firestore,this._userDataWriter,r.key,r,new lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const h=new kd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new lc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const h=new kd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new lc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return u.type!==0&&(p=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:wV(u.type),doc:h,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){t=Kr(t,fr);const e=Kr(t.firestore,ds);return tV(Tg(e),t._key).then(n=>tP(e,t,n))}class Dw extends yV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,n)}}function Sd(t){t=Kr(t,yo);const e=Kr(t.firestore,ds),n=Tg(e),r=new Dw(e);return QR(t._query),nV(n,t._query).then(i=>new ZR(e,r,t,i))}function EV(t,e,n,...r){t=Kr(t,fr);const i=Kr(t.firestore,ds),s=yw(i);let a;return a=typeof(e=Gt(e))=="string"||e instanceof Cg?dV(s,"updateDoc",t._key,e,n,r):hV(s,"updateDoc",t._key,e),Aw(i,[a.toMutation(t._key,fi.exists(!0))])}function xV(t){return Aw(Kr(t.firestore,ds),[new Y_(t._key,fi.none())])}function kV(t,e){const n=Kr(t.firestore,ds),r=df(t),i=_V(t.converter,e);return Aw(n,[fV(yw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fi.exists(!1))]).then(()=>r)}function SV(t,...e){var n,r,i;t=Gt(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||bT(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(bT(e[a])){const v=e[a];e[a]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[a+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[a+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let h,p,m;if(t instanceof fr)p=Kr(t.firestore,ds),m=pg(t._key.path),h={next:v=>{e[a]&&e[a](tP(p,t,v))},error:e[a+1],complete:e[a+2]};else{const v=Kr(t,yo);p=Kr(v.firestore,ds),m=v._query;const _=new Dw(p);h={next:E=>{e[a]&&e[a](new ZR(p,_,v,E))},error:e[a+1],complete:e[a+2]},QR(t._query)}return function(_,E,b,I){const P=new gw(I),T=new dw(E,P,b);return _.asyncQueue.enqueueAndForget(async()=>cw(await wp(_),T)),()=>{P.Qa(),_.asyncQueue.enqueueAndForget(async()=>fw(await wp(_),T))}}(Tg(p),m,u,h)}function Aw(t,e){return function(r,i){const s=new Li;return r.asyncQueue.enqueueAndForget(async()=>j6(await eV(r),i,s)),s.promise}(Tg(t),e)}function tP(t,e,n){const r=n.docs.get(e._key),i=new Dw(t);return new JR(t,i,e._key,r,new lc(n.hasPendingWrites,n.fromCache),e.converter)}function LT(){return new _w("serverTimestamp")}(function(e,n=!0){(function(i){tu=i})(ka),ha(new us("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new ds(new x9(r.getProvider("auth-internal")),new C9(r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Pe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(p.options.projectId,m)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Pi(GS,"4.5.0",e),Pi(GS,"4.5.0","esm2017")})();var e1={exports:{}},nP={exports:{}},TV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CV=TV,DV=CV;function rP(){}function iP(){}iP.resetWarningCache=rP;var AV=function(){function t(r,i,s,a,u,h){if(h!==DV){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iP,resetWarningCache:rP};return n.PropTypes=n,n};nP.exports=AV();var oP=nP.exports;const Ye=ps(oP);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(b){for(var I=1;I<arguments.length;I++){var P=arguments[I];for(var T in P)Object.prototype.hasOwnProperty.call(P,T)&&(b[T]=P[T])}return b},r=function(){function b(I,P){for(var T=0;T<P.length;T++){var C=P[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(I,C.key,C)}}return function(I,P,T){return P&&b(I.prototype,P),T&&b(I,T),I}}(),i=oe,s=h(i),a=oP,u=h(a);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,I){var P={};for(var T in b)I.indexOf(T)>=0||Object.prototype.hasOwnProperty.call(b,T)&&(P[T]=b[T]);return P}function m(b,I){if(!(b instanceof I))throw new TypeError("Cannot call a class as a function")}function v(b,I){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:b}function _(b,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);b.prototype=Object.create(I&&I.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(b,I):b.__proto__=I)}var E=function(b){_(I,b);function I(){m(this,I);var P=v(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));return P.displayName="FontAwesome",P}return r(I,[{key:"render",value:function(){var T=this.props,C=T.border,D=T.cssModule,N=T.className,O=T.fixedWidth,L=T.flip,M=T.inverse,H=T.name,J=T.pulse,le=T.rotate,K=T.size,se=T.spin,we=T.stack,ve=T.tag,$=ve===void 0?"span":ve,ae=T.ariaLabel,re=p(T,["border","cssModule","className","fixedWidth","flip","inverse","name","pulse","rotate","size","spin","stack","tag","ariaLabel"]),te=ae?{"aria-label":ae}:{"aria-hidden":!0},ue=[];return D?(ue.push(D.fa),ue.push(D["fa-"+H]),K&&ue.push(D["fa-"+K]),se&&ue.push(D["fa-spin"]),J&&ue.push(D["fa-pulse"]),C&&ue.push(D["fa-border"]),O&&ue.push(D["fa-fw"]),M&&ue.push(D["fa-inverse"]),L&&ue.push(D["fa-flip-"+L]),le&&ue.push(D["fa-rotate-"+le]),we&&ue.push(D["fa-stack-"+we])):(ue.push("fa"),ue.push("fa-"+H),K&&ue.push("fa-"+K),se&&ue.push("fa-spin"),J&&ue.push("fa-pulse"),C&&ue.push("fa-border"),O&&ue.push("fa-fw"),M&&ue.push("fa-inverse"),L&&ue.push("fa-flip-"+L),le&&ue.push("fa-rotate-"+le),we&&ue.push("fa-stack-"+we)),N&&ue.push(N),s.default.createElement($,n({},re,te,{className:ue.join(" ")}))}}]),I}(s.default.Component);E.propTypes={ariaLabel:u.default.string,border:u.default.bool,className:u.default.string,cssModule:u.default.object,fixedWidth:u.default.bool,flip:u.default.oneOf(["horizontal","vertical"]),inverse:u.default.bool,name:u.default.string.isRequired,pulse:u.default.bool,rotate:u.default.oneOf([90,180,270]),size:u.default.oneOf(["lg","2x","3x","4x","5x"]),spin:u.default.bool,stack:u.default.oneOf(["1x","2x"]),tag:u.default.string},e.default=E,t.exports=e.default})(e1,e1.exports);var bV=e1.exports;const NT=ps(bV);/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var IV=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const sP=ps(IV);function Sc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?FT(t.position):"start"in t||"end"in t?FT(t):"line"in t||"column"in t?t1(t):""}function t1(t){return OT(t&&t.line)+":"+OT(t&&t.column)}function FT(t){return t1(t&&t.start)+"-"+t1(t&&t.end)}function OT(t){return t&&typeof t=="number"?t:1}class Yr extends Error{constructor(e,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const a=r.indexOf(":");a===-1?i[1]=r:(i[0]=r.slice(0,a),i[1]=r.slice(a+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Sc(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Yr.prototype.file="";Yr.prototype.name="";Yr.prototype.reason="";Yr.prototype.message="";Yr.prototype.stack="";Yr.prototype.fatal=null;Yr.prototype.column=null;Yr.prototype.line=null;Yr.prototype.source=null;Yr.prototype.ruleId=null;Yr.prototype.position=null;const ki={basename:RV,dirname:PV,extname:LV,join:NV,sep:"/"};function RV(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');$f(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,u=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),u>-1&&(t.charCodeAt(i)===e.charCodeAt(u--)?u<0&&(r=i):(u=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function PV(t){if($f(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function LV(t){$f(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const u=t.charCodeAt(e);if(u===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),u===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function NV(...t){let e=-1,n;for(;++e<t.length;)$f(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":FV(n)}function FV(t){$f(t);const e=t.charCodeAt(0)===47;let n=OV(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function OV(t,e){let n="",r=0,i=-1,s=0,a=-1,u,h;for(;++a<=t.length;){if(a<t.length)u=t.charCodeAt(a);else{if(u===47)break;u=47}if(u===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else u===46&&s>-1?s++:s=-1}return n}function $f(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const MV={cwd:BV};function BV(){return"/"}function n1(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function UV(t){if(typeof t=="string")t=new URL(t);else if(!n1(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return VV(t)}function VV(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const cy=["history","path","basename","stem","extname","dirname"];class aP{constructor(e){let n;e?typeof e=="string"||zV(e)?n={value:e}:n1(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=MV.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<cy.length;){const s=cy[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)cy.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){n1(e)&&(e=UV(e)),hy(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?ki.dirname(this.path):void 0}set dirname(e){MT(this.basename,"dirname"),this.path=ki.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?ki.basename(this.path):void 0}set basename(e){hy(e,"basename"),fy(e,"basename"),this.path=ki.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?ki.extname(this.path):void 0}set extname(e){if(fy(e,"extname"),MT(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ki.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?ki.basename(this.path,this.extname):void 0}set stem(e){hy(e,"stem"),fy(e,"stem"),this.path=ki.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,r){const i=new Yr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function fy(t,e){if(t&&t.includes(ki.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ki.sep+"`")}function hy(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function MT(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function zV(t){return sP(t)}function BT(t){if(t)throw t}var Td=Object.prototype.hasOwnProperty,lP=Object.prototype.toString,UT=Object.defineProperty,VT=Object.getOwnPropertyDescriptor,zT=function(e){return typeof Array.isArray=="function"?Array.isArray(e):lP.call(e)==="[object Array]"},jT=function(e){if(!e||lP.call(e)!=="[object Object]")return!1;var n=Td.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Td.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Td.call(e,i)},$T=function(e,n){UT&&n.name==="__proto__"?UT(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},HT=function(e,n){if(n==="__proto__")if(Td.call(e,n)){if(VT)return VT(e,n).value}else return;return e[n]},jV=function t(){var e,n,r,i,s,a,u=arguments[0],h=1,p=arguments.length,m=!1;for(typeof u=="boolean"&&(m=u,u=arguments[1]||{},h=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});h<p;++h)if(e=arguments[h],e!=null)for(n in e)r=HT(u,n),i=HT(e,n),u!==i&&(m&&i&&(jT(i)||(s=zT(i)))?(s?(s=!1,a=r&&zT(r)?r:[]):a=r&&jT(r)?r:{},$T(u,{name:n,newValue:t(m,a,i)})):typeof i<"u"&&$T(u,{name:n,newValue:i}));return u};const WT=ps(jV);function r1(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function $V(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);u(null,...i);function u(h,...p){const m=t[++s];let v=-1;if(h){a(h);return}for(;++v<i.length;)(p[v]===null||p[v]===void 0)&&(p[v]=i[v]);i=p,m?HV(m,u)(...p):a(null,...p)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function HV(t,e){let n;return r;function r(...a){const u=t.length>a.length;let h;u&&a.push(i);try{h=t.apply(this,a)}catch(p){const m=p;if(u&&n)throw m;return i(m)}u||(h&&h.then&&typeof h.then=="function"?h.then(s,i):h instanceof Error?i(h):s(h))}function i(a,...u){n||(n=!0,e(a,...u))}function s(a){i(null,a)}}const WV=cP().freeze(),uP={}.hasOwnProperty;function cP(){const t=$V(),e=[];let n={},r,i=-1;return s.data=a,s.Parser=void 0,s.Compiler=void 0,s.freeze=u,s.attachers=e,s.use=h,s.parse=p,s.stringify=m,s.run=v,s.runSync=_,s.process=E,s.processSync=b,s;function s(){const I=cP();let P=-1;for(;++P<e.length;)I.use(...e[P]);return I.data(WT(!0,{},n)),I}function a(I,P){return typeof I=="string"?arguments.length===2?(gy("data",r),n[I]=P,s):uP.call(n,I)&&n[I]||null:I?(gy("data",r),n=I,s):n}function u(){if(r)return s;for(;++i<e.length;){const[I,...P]=e[i];if(P[0]===!1)continue;P[0]===!0&&(P[0]=void 0);const T=I.call(s,...P);typeof T=="function"&&t.use(T)}return r=!0,i=Number.POSITIVE_INFINITY,s}function h(I,...P){let T;if(gy("use",r),I!=null)if(typeof I=="function")O(I,...P);else if(typeof I=="object")Array.isArray(I)?N(I):D(I);else throw new TypeError("Expected usable value, not `"+I+"`");return T&&(n.settings=Object.assign(n.settings||{},T)),s;function C(L){if(typeof L=="function")O(L);else if(typeof L=="object")if(Array.isArray(L)){const[M,...H]=L;O(M,...H)}else D(L);else throw new TypeError("Expected usable value, not `"+L+"`")}function D(L){N(L.plugins),L.settings&&(T=Object.assign(T||{},L.settings))}function N(L){let M=-1;if(L!=null)if(Array.isArray(L))for(;++M<L.length;){const H=L[M];C(H)}else throw new TypeError("Expected a list of plugins, not `"+L+"`")}function O(L,M){let H=-1,J;for(;++H<e.length;)if(e[H][0]===L){J=e[H];break}J?(r1(J[1])&&r1(M)&&(M=WT(!0,J[1],M)),J[1]=M):e.push([...arguments])}}function p(I){s.freeze();const P=Xu(I),T=s.Parser;return dy("parse",T),qT(T,"parse")?new T(String(P),P).parse():T(String(P),P)}function m(I,P){s.freeze();const T=Xu(P),C=s.Compiler;return py("stringify",C),GT(I),qT(C,"compile")?new C(I,T).compile():C(I,T)}function v(I,P,T){if(GT(I),s.freeze(),!T&&typeof P=="function"&&(T=P,P=void 0),!T)return new Promise(C);C(null,T);function C(D,N){t.run(I,Xu(P),O);function O(L,M,H){M=M||I,L?N(L):D?D(M):T(null,M,H)}}}function _(I,P){let T,C;return s.run(I,P,D),KT("runSync","run",C),T;function D(N,O){BT(N),T=O,C=!0}}function E(I,P){if(s.freeze(),dy("process",s.Parser),py("process",s.Compiler),!P)return new Promise(T);T(null,P);function T(C,D){const N=Xu(I);s.run(s.parse(N),N,(L,M,H)=>{if(L||!M||!H)O(L);else{const J=s.stringify(M,H);J==null||(KV(J)?H.value=J:H.result=J),O(L,H)}});function O(L,M){L||!M?D(L):C?C(M):P(null,M)}}}function b(I){let P;s.freeze(),dy("processSync",s.Parser),py("processSync",s.Compiler);const T=Xu(I);return s.process(T,C),KT("processSync","process",P),T;function C(D){P=!0,BT(D)}}}function qT(t,e){return typeof t=="function"&&t.prototype&&(qV(t.prototype)||e in t.prototype)}function qV(t){let e;for(e in t)if(uP.call(t,e))return!0;return!1}function dy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function py(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function gy(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function GT(t){if(!r1(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function KT(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Xu(t){return GV(t)?t:new aP(t)}function GV(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function KV(t){return typeof t=="string"||sP(t)}const QV={};function XV(t,e){const n=e||QV,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return fP(t,r,i)}function fP(t,e,n){if(YV(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return QT(t.children,e,n)}return Array.isArray(t)?QT(t,e,n):""}function QT(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=fP(t[i],e,n);return r.join("")}function YV(t){return!!(t&&typeof t=="object")}function Vi(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Hr(t,e){return t.length>0?(Vi(t,t.length,0,e),t):e}const XT={}.hasOwnProperty;function JV(t){const e={};let n=-1;for(;++n<t.length;)ZV(e,t[n]);return e}function ZV(t,e){let n;for(n in e){const i=(XT.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){XT.call(i,a)||(i[a]=[]);const u=s[a];ez(i[a],Array.isArray(u)?u:u?[u]:[])}}}function ez(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Vi(t,0,0,r)}const tz=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ci=xs(/[A-Za-z]/),Ir=xs(/[\dA-Za-z]/),nz=xs(/[#-'*+\--9=?A-Z^-~]/);function i1(t){return t!==null&&(t<32||t===127)}const o1=xs(/\d/),rz=xs(/[\dA-Fa-f]/),iz=xs(/[!-/:-@[-`{-~]/);function qe(t){return t!==null&&t<-2}function Sr(t){return t!==null&&(t<0||t===32)}function yt(t){return t===-2||t===-1||t===32}const oz=xs(tz),sz=xs(/\s/);function xs(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function It(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(h){return yt(h)?(t.enter(n),u(h)):e(h)}function u(h){return yt(h)&&s++<i?(t.consume(h),u):(t.exit(n),e(h))}}const az={tokenize:lz};function lz(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),It(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),s(u)}function s(u){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,a(u)}function a(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return qe(u)?(t.consume(u),t.exit("chunkText"),s):(t.consume(u),a)}}const uz={tokenize:cz},YT={tokenize:fz};function cz(t){const e=this,n=[];let r=0,i,s,a;return u;function u(D){if(r<n.length){const N=n[r];return e.containerState=N[1],t.attempt(N[0].continuation,h,p)(D)}return p(D)}function h(D){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&C();const N=e.events.length;let O=N,L;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){L=e.events[O][1].end;break}T(r);let M=N;for(;M<e.events.length;)e.events[M][1].end=Object.assign({},L),M++;return Vi(e.events,O+1,0,e.events.slice(N)),e.events.length=M,p(D)}return u(D)}function p(D){if(r===n.length){if(!i)return _(D);if(i.currentConstruct&&i.currentConstruct.concrete)return b(D);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(YT,m,v)(D)}function m(D){return i&&C(),T(r),_(D)}function v(D){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,b(D)}function _(D){return e.containerState={},t.attempt(YT,E,b)(D)}function E(D){return r++,n.push([e.currentConstruct,e.containerState]),_(D)}function b(D){if(D===null){i&&C(),T(0),t.consume(D);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),I(D)}function I(D){if(D===null){P(t.exit("chunkFlow"),!0),T(0),t.consume(D);return}return qe(D)?(t.consume(D),P(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(D),I)}function P(D,N){const O=e.sliceStream(D);if(N&&O.push(null),D.previous=s,s&&(s.next=D),s=D,i.defineSkip(D.start),i.write(O),e.parser.lazy[D.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<a&&(!i.events[L][1].end||i.events[L][1].end.offset>a))return;const M=e.events.length;let H=M,J,le;for(;H--;)if(e.events[H][0]==="exit"&&e.events[H][1].type==="chunkFlow"){if(J){le=e.events[H][1].end;break}J=!0}for(T(r),L=M;L<e.events.length;)e.events[L][1].end=Object.assign({},le),L++;Vi(e.events,H+1,0,e.events.slice(M)),e.events.length=L}}function T(D){let N=n.length;for(;N-- >D;){const O=n[N];e.containerState=O[1],O[0].exit.call(e,t)}n.length=D}function C(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function fz(t,e,n){return It(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function JT(t){if(t===null||Sr(t)||sz(t))return 1;if(oz(t))return 2}function bw(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const s1={name:"attention",tokenize:dz,resolveAll:hz};function hz(t,e){let n=-1,r,i,s,a,u,h,p,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const v=Object.assign({},t[r][1].end),_=Object.assign({},t[n][1].start);ZT(v,-h),ZT(_,h),a={type:h>1?"strongSequence":"emphasisSequence",start:v,end:Object.assign({},t[r][1].end)},u={type:h>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:_},s={type:h>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:h>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},u.end)},t[r][1].end=Object.assign({},a.start),t[n][1].start=Object.assign({},u.end),p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=Hr(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=Hr(p,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),p=Hr(p,bw(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=Hr(p,[["exit",s,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,p=Hr(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,Vi(t,r-1,n-r+3,p),n=r+p.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function dz(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=JT(r);let s;return a;function a(h){return s=h,t.enter("attentionSequence"),u(h)}function u(h){if(h===s)return t.consume(h),u;const p=t.exit("attentionSequence"),m=JT(h),v=!m||m===2&&i||n.includes(h),_=!i||i===2&&m||n.includes(r);return p._open=!!(s===42?v:v&&(i||!_)),p._close=!!(s===42?_:_&&(m||!v)),e(h)}}function ZT(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const pz={name:"autolink",tokenize:gz};function gz(t,e,n){let r=0;return i;function i(E){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(E){return Ci(E)?(t.consume(E),a):p(E)}function a(E){return E===43||E===45||E===46||Ir(E)?(r=1,u(E)):p(E)}function u(E){return E===58?(t.consume(E),r=0,h):(E===43||E===45||E===46||Ir(E))&&r++<32?(t.consume(E),u):(r=0,p(E))}function h(E){return E===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):E===null||E===32||E===60||i1(E)?n(E):(t.consume(E),h)}function p(E){return E===64?(t.consume(E),m):nz(E)?(t.consume(E),p):n(E)}function m(E){return Ir(E)?v(E):n(E)}function v(E){return E===46?(t.consume(E),r=0,m):E===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):_(E)}function _(E){if((E===45||Ir(E))&&r++<63){const b=E===45?_:v;return t.consume(E),b}return n(E)}}const Rg={tokenize:mz,partial:!0};function mz(t,e,n){return r;function r(s){return yt(s)?It(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||qe(s)?e(s):n(s)}}const hP={name:"blockQuote",tokenize:vz,continuation:{tokenize:yz},exit:_z};function vz(t,e,n){const r=this;return i;function i(a){if(a===62){const u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return yt(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function yz(t,e,n){const r=this;return i;function i(a){return yt(a)?It(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(hP,e,n)(a)}}function _z(t){t.exit("blockQuote")}const dP={name:"characterEscape",tokenize:wz};function wz(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return iz(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const eC=document.createElement("i");function Iw(t){const e="&"+t+";";eC.innerHTML=e;const n=eC.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const pP={name:"characterReference",tokenize:Ez};function Ez(t,e,n){const r=this;let i=0,s,a;return u;function u(v){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),h}function h(v){return v===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(v),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),s=31,a=Ir,m(v))}function p(v){return v===88||v===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(v),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=rz,m):(t.enter("characterReferenceValue"),s=7,a=o1,m(v))}function m(v){if(v===59&&i){const _=t.exit("characterReferenceValue");return a===Ir&&!Iw(r.sliceSerialize(_))?n(v):(t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(v)&&i++<s?(t.consume(v),m):n(v)}}const tC={tokenize:kz,partial:!0},nC={name:"codeFenced",tokenize:xz,concrete:!0};function xz(t,e,n){const r=this,i={tokenize:O,partial:!0};let s=0,a=0,u;return h;function h(L){return p(L)}function p(L){const M=r.events[r.events.length-1];return s=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,u=L,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(L)}function m(L){return L===u?(a++,t.consume(L),m):a<3?n(L):(t.exit("codeFencedFenceSequence"),yt(L)?It(t,v,"whitespace")(L):v(L))}function v(L){return L===null||qe(L)?(t.exit("codeFencedFence"),r.interrupt?e(L):t.check(tC,I,N)(L)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),_(L))}function _(L){return L===null||qe(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),v(L)):yt(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),It(t,E,"whitespace")(L)):L===96&&L===u?n(L):(t.consume(L),_)}function E(L){return L===null||qe(L)?v(L):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),b(L))}function b(L){return L===null||qe(L)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v(L)):L===96&&L===u?n(L):(t.consume(L),b)}function I(L){return t.attempt(i,N,P)(L)}function P(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),T}function T(L){return s>0&&yt(L)?It(t,C,"linePrefix",s+1)(L):C(L)}function C(L){return L===null||qe(L)?t.check(tC,I,N)(L):(t.enter("codeFlowValue"),D(L))}function D(L){return L===null||qe(L)?(t.exit("codeFlowValue"),C(L)):(t.consume(L),D)}function N(L){return t.exit("codeFenced"),e(L)}function O(L,M,H){let J=0;return le;function le($){return L.enter("lineEnding"),L.consume($),L.exit("lineEnding"),K}function K($){return L.enter("codeFencedFence"),yt($)?It(L,se,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):se($)}function se($){return $===u?(L.enter("codeFencedFenceSequence"),we($)):H($)}function we($){return $===u?(J++,L.consume($),we):J>=a?(L.exit("codeFencedFenceSequence"),yt($)?It(L,ve,"whitespace")($):ve($)):H($)}function ve($){return $===null||qe($)?(L.exit("codeFencedFence"),M($)):H($)}}}function kz(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const my={name:"codeIndented",tokenize:Tz},Sz={tokenize:Cz,partial:!0};function Tz(t,e,n){const r=this;return i;function i(p){return t.enter("codeIndented"),It(t,s,"linePrefix",5)(p)}function s(p){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?a(p):n(p)}function a(p){return p===null?h(p):qe(p)?t.attempt(Sz,a,h)(p):(t.enter("codeFlowValue"),u(p))}function u(p){return p===null||qe(p)?(t.exit("codeFlowValue"),a(p)):(t.consume(p),u)}function h(p){return t.exit("codeIndented"),e(p)}}function Cz(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):qe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):It(t,s,"linePrefix",5)(a)}function s(a){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(a):qe(a)?i(a):n(a)}}const Dz={name:"codeText",tokenize:Iz,resolve:Az,previous:bz};function Az(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function bz(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Iz(t,e,n){let r=0,i,s;return a;function a(v){return t.enter("codeText"),t.enter("codeTextSequence"),u(v)}function u(v){return v===96?(t.consume(v),r++,u):(t.exit("codeTextSequence"),h(v))}function h(v){return v===null?n(v):v===32?(t.enter("space"),t.consume(v),t.exit("space"),h):v===96?(s=t.enter("codeTextSequence"),i=0,m(v)):qe(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),h):(t.enter("codeTextData"),p(v))}function p(v){return v===null||v===32||v===96||qe(v)?(t.exit("codeTextData"),h(v)):(t.consume(v),p)}function m(v){return v===96?(t.consume(v),i++,m):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(v)):(s.type="codeTextData",p(v))}}function gP(t){const e={};let n=-1,r,i,s,a,u,h,p;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,s=0,s<h.length&&h[s][1].type==="lineEndingBlank"&&(s+=2),s<h.length&&h[s][1].type==="content"))for(;++s<h.length&&h[s][1].type!=="content";)h[s][1].type==="chunkText"&&(h[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Rz(t,n)),n=e[n],p=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(a=t[s],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},t[i][1].start),u=t.slice(i,n),u.unshift(r),Vi(t,i,n-i+1,u))}}return!p}function Rz(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const s=[],a=n._tokenizer||r.parser[n.contentType](n.start),u=a.events,h=[],p={};let m,v,_=-1,E=n,b=0,I=0;const P=[I];for(;E;){for(;t[++i][1]!==E;);s.push(i),E._tokenizer||(m=r.sliceStream(E),E.next||m.push(null),v&&a.defineSkip(E.start),E._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(m),E._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),v=E,E=E.next}for(E=n;++_<u.length;)u[_][0]==="exit"&&u[_-1][0]==="enter"&&u[_][1].type===u[_-1][1].type&&u[_][1].start.line!==u[_][1].end.line&&(I=_+1,P.push(I),E._tokenizer=void 0,E.previous=void 0,E=E.next);for(a.events=[],E?(E._tokenizer=void 0,E.previous=void 0):P.pop(),_=P.length;_--;){const T=u.slice(P[_],P[_+1]),C=s.pop();h.unshift([C,C+T.length-1]),Vi(t,C,2,T)}for(_=-1;++_<h.length;)p[b+h[_][0]]=b+h[_][1],b+=h[_][1]-h[_][0]-1;return p}const Pz={tokenize:Fz,resolve:Nz},Lz={tokenize:Oz,partial:!0};function Nz(t){return gP(t),t}function Fz(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?s(u):qe(u)?t.check(Lz,a,s)(u):(t.consume(u),i)}function s(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function a(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Oz(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),It(t,s,"linePrefix")}function s(a){if(a===null||qe(a))return n(a);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function mP(t,e,n,r,i,s,a,u,h){const p=h||Number.POSITIVE_INFINITY;let m=0;return v;function v(T){return T===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(T),t.exit(s),_):T===null||T===32||T===41||i1(T)?n(T):(t.enter(r),t.enter(a),t.enter(u),t.enter("chunkString",{contentType:"string"}),I(T))}function _(T){return T===62?(t.enter(s),t.consume(T),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),E(T))}function E(T){return T===62?(t.exit("chunkString"),t.exit(u),_(T)):T===null||T===60||qe(T)?n(T):(t.consume(T),T===92?b:E)}function b(T){return T===60||T===62||T===92?(t.consume(T),E):E(T)}function I(T){return!m&&(T===null||T===41||Sr(T))?(t.exit("chunkString"),t.exit(u),t.exit(a),t.exit(r),e(T)):m<p&&T===40?(t.consume(T),m++,I):T===41?(t.consume(T),m--,I):T===null||T===32||T===40||i1(T)?n(T):(t.consume(T),T===92?P:I)}function P(T){return T===40||T===41||T===92?(t.consume(T),I):I(T)}}function vP(t,e,n,r,i,s){const a=this;let u=0,h;return p;function p(E){return t.enter(r),t.enter(i),t.consume(E),t.exit(i),t.enter(s),m}function m(E){return u>999||E===null||E===91||E===93&&!h||E===94&&!u&&"_hiddenFootnoteSupport"in a.parser.constructs?n(E):E===93?(t.exit(s),t.enter(i),t.consume(E),t.exit(i),t.exit(r),e):qe(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===null||E===91||E===93||qe(E)||u++>999?(t.exit("chunkString"),m(E)):(t.consume(E),h||(h=!yt(E)),E===92?_:v)}function _(E){return E===91||E===92||E===93?(t.consume(E),u++,v):v(E)}}function yP(t,e,n,r,i,s){let a;return u;function u(_){return _===34||_===39||_===40?(t.enter(r),t.enter(i),t.consume(_),t.exit(i),a=_===40?41:_,h):n(_)}function h(_){return _===a?(t.enter(i),t.consume(_),t.exit(i),t.exit(r),e):(t.enter(s),p(_))}function p(_){return _===a?(t.exit(s),h(a)):_===null?n(_):qe(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),It(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===a||_===null||qe(_)?(t.exit("chunkString"),p(_)):(t.consume(_),_===92?v:m)}function v(_){return _===a||_===92?(t.consume(_),m):m(_)}}function Tc(t,e){let n;return r;function r(i){return qe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):yt(i)?It(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function Dl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Mz={name:"definition",tokenize:Uz},Bz={tokenize:Vz,partial:!0};function Uz(t,e,n){const r=this;let i;return s;function s(E){return t.enter("definition"),a(E)}function a(E){return vP.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(E)}function u(E){return i=Dl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),E===58?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),h):n(E)}function h(E){return Sr(E)?Tc(t,p)(E):p(E)}function p(E){return mP(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(E)}function m(E){return t.attempt(Bz,v,v)(E)}function v(E){return yt(E)?It(t,_,"whitespace")(E):_(E)}function _(E){return E===null||qe(E)?(t.exit("definition"),r.parser.defined.push(i),e(E)):n(E)}}function Vz(t,e,n){return r;function r(u){return Sr(u)?Tc(t,i)(u):n(u)}function i(u){return yP(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return yt(u)?It(t,a,"whitespace")(u):a(u)}function a(u){return u===null||qe(u)?e(u):n(u)}}const zz={name:"hardBreakEscape",tokenize:jz};function jz(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return qe(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const $z={name:"headingAtx",tokenize:Wz,resolve:Hz};function Hz(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Vi(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Wz(t,e,n){let r=0;return i;function i(m){return t.enter("atxHeading"),s(m)}function s(m){return t.enter("atxHeadingSequence"),a(m)}function a(m){return m===35&&r++<6?(t.consume(m),a):m===null||Sr(m)?(t.exit("atxHeadingSequence"),u(m)):n(m)}function u(m){return m===35?(t.enter("atxHeadingSequence"),h(m)):m===null||qe(m)?(t.exit("atxHeading"),e(m)):yt(m)?It(t,u,"whitespace")(m):(t.enter("atxHeadingText"),p(m))}function h(m){return m===35?(t.consume(m),h):(t.exit("atxHeadingSequence"),u(m))}function p(m){return m===null||m===35||Sr(m)?(t.exit("atxHeadingText"),u(m)):(t.consume(m),p)}}const qz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],rC=["pre","script","style","textarea"],Gz={name:"htmlFlow",tokenize:Yz,resolveTo:Xz,concrete:!0},Kz={tokenize:Zz,partial:!0},Qz={tokenize:Jz,partial:!0};function Xz(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Yz(t,e,n){const r=this;let i,s,a,u,h;return p;function p(w){return m(w)}function m(w){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(w),v}function v(w){return w===33?(t.consume(w),_):w===47?(t.consume(w),s=!0,I):w===63?(t.consume(w),i=3,r.interrupt?e:B):Ci(w)?(t.consume(w),a=String.fromCharCode(w),P):n(w)}function _(w){return w===45?(t.consume(w),i=2,E):w===91?(t.consume(w),i=5,u=0,b):Ci(w)?(t.consume(w),i=4,r.interrupt?e:B):n(w)}function E(w){return w===45?(t.consume(w),r.interrupt?e:B):n(w)}function b(w){const ee="CDATA[";return w===ee.charCodeAt(u++)?(t.consume(w),u===ee.length?r.interrupt?e:se:b):n(w)}function I(w){return Ci(w)?(t.consume(w),a=String.fromCharCode(w),P):n(w)}function P(w){if(w===null||w===47||w===62||Sr(w)){const ee=w===47,Ve=a.toLowerCase();return!ee&&!s&&rC.includes(Ve)?(i=1,r.interrupt?e(w):se(w)):qz.includes(a.toLowerCase())?(i=6,ee?(t.consume(w),T):r.interrupt?e(w):se(w)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(w):s?C(w):D(w))}return w===45||Ir(w)?(t.consume(w),a+=String.fromCharCode(w),P):n(w)}function T(w){return w===62?(t.consume(w),r.interrupt?e:se):n(w)}function C(w){return yt(w)?(t.consume(w),C):le(w)}function D(w){return w===47?(t.consume(w),le):w===58||w===95||Ci(w)?(t.consume(w),N):yt(w)?(t.consume(w),D):le(w)}function N(w){return w===45||w===46||w===58||w===95||Ir(w)?(t.consume(w),N):O(w)}function O(w){return w===61?(t.consume(w),L):yt(w)?(t.consume(w),O):D(w)}function L(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(t.consume(w),h=w,M):yt(w)?(t.consume(w),L):H(w)}function M(w){return w===h?(t.consume(w),h=null,J):w===null||qe(w)?n(w):(t.consume(w),M)}function H(w){return w===null||w===34||w===39||w===47||w===60||w===61||w===62||w===96||Sr(w)?O(w):(t.consume(w),H)}function J(w){return w===47||w===62||yt(w)?D(w):n(w)}function le(w){return w===62?(t.consume(w),K):n(w)}function K(w){return w===null||qe(w)?se(w):yt(w)?(t.consume(w),K):n(w)}function se(w){return w===45&&i===2?(t.consume(w),ae):w===60&&i===1?(t.consume(w),re):w===62&&i===4?(t.consume(w),je):w===63&&i===3?(t.consume(w),B):w===93&&i===5?(t.consume(w),ue):qe(w)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Kz,z,we)(w)):w===null||qe(w)?(t.exit("htmlFlowData"),we(w)):(t.consume(w),se)}function we(w){return t.check(Qz,ve,z)(w)}function ve(w){return t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),$}function $(w){return w===null||qe(w)?we(w):(t.enter("htmlFlowData"),se(w))}function ae(w){return w===45?(t.consume(w),B):se(w)}function re(w){return w===47?(t.consume(w),a="",te):se(w)}function te(w){if(w===62){const ee=a.toLowerCase();return rC.includes(ee)?(t.consume(w),je):se(w)}return Ci(w)&&a.length<8?(t.consume(w),a+=String.fromCharCode(w),te):se(w)}function ue(w){return w===93?(t.consume(w),B):se(w)}function B(w){return w===62?(t.consume(w),je):w===45&&i===2?(t.consume(w),B):se(w)}function je(w){return w===null||qe(w)?(t.exit("htmlFlowData"),z(w)):(t.consume(w),je)}function z(w){return t.exit("htmlFlow"),e(w)}}function Jz(t,e,n){const r=this;return i;function i(a){return qe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function Zz(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Rg,e,n)}}const e5={name:"htmlText",tokenize:t5};function t5(t,e,n){const r=this;let i,s,a;return u;function u(B){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(B),h}function h(B){return B===33?(t.consume(B),p):B===47?(t.consume(B),O):B===63?(t.consume(B),D):Ci(B)?(t.consume(B),H):n(B)}function p(B){return B===45?(t.consume(B),m):B===91?(t.consume(B),s=0,b):Ci(B)?(t.consume(B),C):n(B)}function m(B){return B===45?(t.consume(B),E):n(B)}function v(B){return B===null?n(B):B===45?(t.consume(B),_):qe(B)?(a=v,re(B)):(t.consume(B),v)}function _(B){return B===45?(t.consume(B),E):v(B)}function E(B){return B===62?ae(B):B===45?_(B):v(B)}function b(B){const je="CDATA[";return B===je.charCodeAt(s++)?(t.consume(B),s===je.length?I:b):n(B)}function I(B){return B===null?n(B):B===93?(t.consume(B),P):qe(B)?(a=I,re(B)):(t.consume(B),I)}function P(B){return B===93?(t.consume(B),T):I(B)}function T(B){return B===62?ae(B):B===93?(t.consume(B),T):I(B)}function C(B){return B===null||B===62?ae(B):qe(B)?(a=C,re(B)):(t.consume(B),C)}function D(B){return B===null?n(B):B===63?(t.consume(B),N):qe(B)?(a=D,re(B)):(t.consume(B),D)}function N(B){return B===62?ae(B):D(B)}function O(B){return Ci(B)?(t.consume(B),L):n(B)}function L(B){return B===45||Ir(B)?(t.consume(B),L):M(B)}function M(B){return qe(B)?(a=M,re(B)):yt(B)?(t.consume(B),M):ae(B)}function H(B){return B===45||Ir(B)?(t.consume(B),H):B===47||B===62||Sr(B)?J(B):n(B)}function J(B){return B===47?(t.consume(B),ae):B===58||B===95||Ci(B)?(t.consume(B),le):qe(B)?(a=J,re(B)):yt(B)?(t.consume(B),J):ae(B)}function le(B){return B===45||B===46||B===58||B===95||Ir(B)?(t.consume(B),le):K(B)}function K(B){return B===61?(t.consume(B),se):qe(B)?(a=K,re(B)):yt(B)?(t.consume(B),K):J(B)}function se(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(t.consume(B),i=B,we):qe(B)?(a=se,re(B)):yt(B)?(t.consume(B),se):(t.consume(B),ve)}function we(B){return B===i?(t.consume(B),i=void 0,$):B===null?n(B):qe(B)?(a=we,re(B)):(t.consume(B),we)}function ve(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||Sr(B)?J(B):(t.consume(B),ve)}function $(B){return B===47||B===62||Sr(B)?J(B):n(B)}function ae(B){return B===62?(t.consume(B),t.exit("htmlTextData"),t.exit("htmlText"),e):n(B)}function re(B){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),te}function te(B){return yt(B)?It(t,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):ue(B)}function ue(B){return t.enter("htmlTextData"),a(B)}}const Rw={name:"labelEnd",tokenize:a5,resolveTo:s5,resolveAll:o5},n5={tokenize:l5},r5={tokenize:u5},i5={tokenize:c5};function o5(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function s5(t,e){let n=t.length,r=0,i,s,a,u;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const h={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},p={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[a][1].end)},m={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[a-2][1].start)};return u=[["enter",h,e],["enter",p,e]],u=Hr(u,t.slice(s+1,s+r+3)),u=Hr(u,[["enter",m,e]]),u=Hr(u,bw(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),u=Hr(u,[["exit",m,e],t[a-2],t[a-1],["exit",p,e]]),u=Hr(u,t.slice(a+1)),u=Hr(u,[["exit",h,e]]),Vi(t,s,t.length,u),t}function a5(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return u;function u(_){return s?s._inactive?v(_):(a=r.parser.defined.includes(Dl(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(_),t.exit("labelMarker"),t.exit("labelEnd"),h):n(_)}function h(_){return _===40?t.attempt(n5,m,a?m:v)(_):_===91?t.attempt(r5,m,a?p:v)(_):a?m(_):v(_)}function p(_){return t.attempt(i5,m,v)(_)}function m(_){return e(_)}function v(_){return s._balanced=!0,n(_)}}function l5(t,e,n){return r;function r(v){return t.enter("resource"),t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),i}function i(v){return Sr(v)?Tc(t,s)(v):s(v)}function s(v){return v===41?m(v):mP(t,a,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function a(v){return Sr(v)?Tc(t,h)(v):m(v)}function u(v){return n(v)}function h(v){return v===34||v===39||v===40?yP(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):m(v)}function p(v){return Sr(v)?Tc(t,m)(v):m(v)}function m(v){return v===41?(t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),t.exit("resource"),e):n(v)}}function u5(t,e,n){const r=this;return i;function i(u){return vP.call(r,t,s,a,"reference","referenceMarker","referenceString")(u)}function s(u){return r.parser.defined.includes(Dl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function a(u){return n(u)}}function c5(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const f5={name:"labelStartImage",tokenize:h5,resolveAll:Rw.resolveAll};function h5(t,e,n){const r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),s}function s(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),a):n(u)}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const d5={name:"labelStartLink",tokenize:p5,resolveAll:Rw.resolveAll};function p5(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const vy={name:"lineEnding",tokenize:g5};function g5(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),It(t,e,"linePrefix")}}const Cd={name:"thematicBreak",tokenize:m5};function m5(t,e,n){let r=0,i;return s;function s(p){return t.enter("thematicBreak"),a(p)}function a(p){return i=p,u(p)}function u(p){return p===i?(t.enter("thematicBreakSequence"),h(p)):r>=3&&(p===null||qe(p))?(t.exit("thematicBreak"),e(p)):n(p)}function h(p){return p===i?(t.consume(p),r++,h):(t.exit("thematicBreakSequence"),yt(p)?It(t,u,"whitespace")(p):u(p))}}const mr={name:"list",tokenize:_5,continuation:{tokenize:w5},exit:x5},v5={tokenize:k5,partial:!0},y5={tokenize:E5,partial:!0};function _5(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return u;function u(E){const b=r.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||E===r.containerState.marker:o1(E)){if(r.containerState.type||(r.containerState.type=b,t.enter(b,{_container:!0})),b==="listUnordered")return t.enter("listItemPrefix"),E===42||E===45?t.check(Cd,n,p)(E):p(E);if(!r.interrupt||E===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(E)}return n(E)}function h(E){return o1(E)&&++a<10?(t.consume(E),h):(!r.interrupt||a<2)&&(r.containerState.marker?E===r.containerState.marker:E===41||E===46)?(t.exit("listItemValue"),p(E)):n(E)}function p(E){return t.enter("listItemMarker"),t.consume(E),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||E,t.check(Rg,r.interrupt?n:m,t.attempt(v5,_,v))}function m(E){return r.containerState.initialBlankLine=!0,s++,_(E)}function v(E){return yt(E)?(t.enter("listItemPrefixWhitespace"),t.consume(E),t.exit("listItemPrefixWhitespace"),_):n(E)}function _(E){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(E)}}function w5(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Rg,i,s);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,It(t,e,"listItemIndent",r.containerState.size+1)(u)}function s(u){return r.containerState.furtherBlankLines||!yt(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(y5,e,a)(u))}function a(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,It(t,t.attempt(mr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function E5(t,e,n){const r=this;return It(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function x5(t){t.exit(this.containerState.type)}function k5(t,e,n){const r=this;return It(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!yt(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const iC={name:"setextUnderline",tokenize:T5,resolveTo:S5};function S5(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=a,t.push(["exit",a,e]),t}function T5(t,e,n){const r=this;let i;return s;function s(p){let m=r.events.length,v;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){v=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||v)?(t.enter("setextHeadingLine"),i=p,a(p)):n(p)}function a(p){return t.enter("setextHeadingLineSequence"),u(p)}function u(p){return p===i?(t.consume(p),u):(t.exit("setextHeadingLineSequence"),yt(p)?It(t,h,"lineSuffix")(p):h(p))}function h(p){return p===null||qe(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const C5={tokenize:D5};function D5(t){const e=this,n=t.attempt(Rg,r,t.attempt(this.parser.constructs.flowInitial,i,It(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Pz,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const A5={resolveAll:wP()},b5=_P("string"),I5=_P("text");function _P(t){return{tokenize:e,resolveAll:wP(t==="text"?R5:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,u);return a;function a(m){return p(m)?s(m):u(m)}function u(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),h}function h(m){return p(m)?(n.exit("data"),s(m)):(n.consume(m),h)}function p(m){if(m===null)return!0;const v=i[m];let _=-1;if(v)for(;++_<v.length;){const E=v[_];if(!E.previous||E.previous.call(r,r.previous))return!0}return!1}}}function wP(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function R5(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,u=0,h;for(;s--;){const p=i[s];if(typeof p=="string"){for(a=p.length;p.charCodeAt(a-1)===32;)u++,a--;if(a)break;a=-1}else if(p===-2)h=!0,u++;else if(p!==-1){s++;break}}if(u){const p={type:n===t.length||h||u<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-u,offset:r.end.offset-u,_index:r.start._index+s,_bufferIndex:s?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},p.start),r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}function P5(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let a=[],u=[];const h={consume:C,enter:D,exit:N,attempt:M(O),check:M(L),interrupt:M(L,{interrupt:!0})},p={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:E,sliceSerialize:_,now:b,defineSkip:I,write:v};let m=e.tokenize.call(p,h);return e.resolveAll&&s.push(e),p;function v(K){return a=Hr(a,K),P(),a[a.length-1]!==null?[]:(H(e,0),p.events=bw(s,p.events,p),p.events)}function _(K,se){return N5(E(K),se)}function E(K){return L5(a,K)}function b(){const{line:K,column:se,offset:we,_index:ve,_bufferIndex:$}=r;return{line:K,column:se,offset:we,_index:ve,_bufferIndex:$}}function I(K){i[K.line]=K.column,le()}function P(){let K;for(;r._index<a.length;){const se=a[r._index];if(typeof se=="string")for(K=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===K&&r._bufferIndex<se.length;)T(se.charCodeAt(r._bufferIndex));else T(se)}}function T(K){m=m(K)}function C(K){qe(K)?(r.line++,r.column=1,r.offset+=K===-3?2:1,le()):K!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=K}function D(K,se){const we=se||{};return we.type=K,we.start=b(),p.events.push(["enter",we,p]),u.push(we),we}function N(K){const se=u.pop();return se.end=b(),p.events.push(["exit",se,p]),se}function O(K,se){H(K,se.from)}function L(K,se){se.restore()}function M(K,se){return we;function we(ve,$,ae){let re,te,ue,B;return Array.isArray(ve)?z(ve):"tokenize"in ve?z([ve]):je(ve);function je(Te){return rt;function rt(Et){const gt=Et!==null&&Te[Et],Ct=Et!==null&&Te.null,it=[...Array.isArray(gt)?gt:gt?[gt]:[],...Array.isArray(Ct)?Ct:Ct?[Ct]:[]];return z(it)(Et)}}function z(Te){return re=Te,te=0,Te.length===0?ae:w(Te[te])}function w(Te){return rt;function rt(Et){return B=J(),ue=Te,Te.partial||(p.currentConstruct=Te),Te.name&&p.parser.constructs.disable.null.includes(Te.name)?Ve():Te.tokenize.call(se?Object.assign(Object.create(p),se):p,h,ee,Ve)(Et)}}function ee(Te){return K(ue,B),$}function Ve(Te){return B.restore(),++te<re.length?w(re[te]):ae}}}function H(K,se){K.resolveAll&&!s.includes(K)&&s.push(K),K.resolve&&Vi(p.events,se,p.events.length-se,K.resolve(p.events.slice(se),p)),K.resolveTo&&(p.events=K.resolveTo(p.events,p))}function J(){const K=b(),se=p.previous,we=p.currentConstruct,ve=p.events.length,$=Array.from(u);return{restore:ae,from:ve};function ae(){r=K,p.previous=se,p.currentConstruct=we,p.events.length=ve,u=$,le()}}function le(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function L5(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const u=a[0];typeof u=="string"?a[0]=u.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function N5(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}const F5={42:mr,43:mr,45:mr,48:mr,49:mr,50:mr,51:mr,52:mr,53:mr,54:mr,55:mr,56:mr,57:mr,62:hP},O5={91:Mz},M5={[-2]:my,[-1]:my,32:my},B5={35:$z,42:Cd,45:[iC,Cd],60:Gz,61:iC,95:Cd,96:nC,126:nC},U5={38:pP,92:dP},V5={[-5]:vy,[-4]:vy,[-3]:vy,33:f5,38:pP,42:s1,60:[pz,e5],91:d5,92:[zz,dP],93:Rw,95:s1,96:Dz},z5={null:[s1,A5]},j5={null:[42,95]},$5={null:[]},H5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:j5,contentInitial:O5,disable:$5,document:F5,flow:B5,flowInitial:M5,insideSpan:z5,string:U5,text:V5},Symbol.toStringTag,{value:"Module"}));function W5(t){const n=JV([H5,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(az),document:i(uz),flow:i(C5),string:i(b5),text:i(I5)};return r;function i(s){return a;function a(u){return P5(r,s,u)}}}const oC=/[\0\t\n\r]/g;function q5(){let t=1,e="",n=!0,r;return i;function i(s,a,u){const h=[];let p,m,v,_,E;for(s=e+s.toString(a),v=0,e="",n&&(s.charCodeAt(0)===65279&&v++,n=void 0);v<s.length;){if(oC.lastIndex=v,p=oC.exec(s),_=p&&p.index!==void 0?p.index:s.length,E=s.charCodeAt(_),!p){e=s.slice(v);break}if(E===10&&v===_&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),v<_&&(h.push(s.slice(v,_)),t+=_-v),E){case 0:{h.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,h.push(-2);t++<m;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:r=!0,t=1}v=_+1}return u&&(r&&h.push(-5),e&&h.push(e),h.push(null)),h}}function G5(t){for(;!gP(t););return t}function EP(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const K5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Q5(t){return t.replace(K5,X5)}function X5(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return EP(n.slice(s?2:1),s?16:10)}return Iw(n)||t}const xP={}.hasOwnProperty,Y5=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),J5(n)(G5(W5(n).document().write(q5()(t,e,!0))))};function J5(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(nt),autolinkProtocol:K,autolinkEmail:K,atxHeading:u(Zn),blockQuote:u(it),characterEscape:K,characterReference:K,codeFenced:u(ft),codeFencedFenceInfo:h,codeFencedFenceMeta:h,codeIndented:u(ft,h),codeText:u(Ut,h),codeTextData:K,data:K,codeFlowValue:K,definition:u(on),definitionDestinationString:h,definitionLabelString:h,definitionTitleString:h,emphasis:u(Fe),hardBreakEscape:u(er),hardBreakTrailing:u(er),htmlFlow:u(Un,h),htmlFlowData:K,htmlText:u(Un,h),htmlTextData:K,image:u(Ur),label:h,link:u(nt),listItem:u(Vr),listItemValue:b,listOrdered:u(Vn,E),listUnordered:u(Vn),paragraph:u(wo),reference:Ve,referenceString:h,resourceDestinationString:h,resourceTitleString:h,setextHeading:u(Zn),strong:u(Y),thematicBreak:u(G)},exit:{atxHeading:m(),atxHeadingSequence:M,autolink:m(),autolinkEmail:Ct,autolinkProtocol:gt,blockQuote:m(),characterEscapeValue:se,characterReferenceMarkerHexadecimal:rt,characterReferenceMarkerNumeric:rt,characterReferenceValue:Et,codeFenced:m(C),codeFencedFence:T,codeFencedFenceInfo:I,codeFencedFenceMeta:P,codeFlowValue:se,codeIndented:m(D),codeText:m(re),codeTextData:se,data:se,definition:m(),definitionDestinationString:L,definitionLabelString:N,definitionTitleString:O,emphasis:m(),hardBreakEscape:m(ve),hardBreakTrailing:m(ve),htmlFlow:m($),htmlFlowData:se,htmlText:m(ae),htmlTextData:se,image:m(ue),label:je,labelText:B,lineEnding:we,link:m(te),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:Te,resourceDestinationString:z,resourceTitleString:w,resource:ee,setextHeading:m(le),setextHeadingLineSequence:J,setextHeadingText:H,strong:m(),thematicBreak:m()}};kP(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(S){let R={type:"root",children:[]};const U={stack:[R],tokenStack:[],config:e,enter:p,exit:v,buffer:h,resume:_,setData:s,getData:a},V=[];let W=-1;for(;++W<S.length;)if(S[W][1].type==="listOrdered"||S[W][1].type==="listUnordered")if(S[W][0]==="enter")V.push(W);else{const ge=V.pop();W=i(S,ge,W)}for(W=-1;++W<S.length;){const ge=e[S[W][0]];xP.call(ge,S[W][1].type)&&ge[S[W][1].type].call(Object.assign({sliceSerialize:S[W][2].sliceSerialize},U),S[W][1])}if(U.tokenStack.length>0){const ge=U.tokenStack[U.tokenStack.length-1];(ge[1]||sC).call(U,void 0,ge[0])}for(R.position={start:Po(S.length>0?S[0][1].start:{line:1,column:1,offset:0}),end:Po(S.length>0?S[S.length-2][1].end:{line:1,column:1,offset:0})},W=-1;++W<e.transforms.length;)R=e.transforms[W](R)||R;return R}function i(S,R,U){let V=R-1,W=-1,ge=!1,Se,ke,Re,Me;for(;++V<=U;){const pe=S[V];if(pe[1].type==="listUnordered"||pe[1].type==="listOrdered"||pe[1].type==="blockQuote"?(pe[0]==="enter"?W++:W--,Me=void 0):pe[1].type==="lineEndingBlank"?pe[0]==="enter"&&(Se&&!Me&&!W&&!Re&&(Re=V),Me=void 0):pe[1].type==="linePrefix"||pe[1].type==="listItemValue"||pe[1].type==="listItemMarker"||pe[1].type==="listItemPrefix"||pe[1].type==="listItemPrefixWhitespace"||(Me=void 0),!W&&pe[0]==="enter"&&pe[1].type==="listItemPrefix"||W===-1&&pe[0]==="exit"&&(pe[1].type==="listUnordered"||pe[1].type==="listOrdered")){if(Se){let Be=V;for(ke=void 0;Be--;){const ne=S[Be];if(ne[1].type==="lineEnding"||ne[1].type==="lineEndingBlank"){if(ne[0]==="exit")continue;ke&&(S[ke][1].type="lineEndingBlank",ge=!0),ne[1].type="lineEnding",ke=Be}else if(!(ne[1].type==="linePrefix"||ne[1].type==="blockQuotePrefix"||ne[1].type==="blockQuotePrefixWhitespace"||ne[1].type==="blockQuoteMarker"||ne[1].type==="listItemIndent"))break}Re&&(!ke||Re<ke)&&(Se._spread=!0),Se.end=Object.assign({},ke?S[ke][1].start:pe[1].end),S.splice(ke||V,0,["exit",Se,pe[2]]),V++,U++}pe[1].type==="listItemPrefix"&&(Se={type:"listItem",_spread:!1,start:Object.assign({},pe[1].start),end:void 0},S.splice(V,0,["enter",Se,pe[2]]),V++,U++,Re=void 0,Me=!0)}}return S[R][1]._spread=ge,U}function s(S,R){n[S]=R}function a(S){return n[S]}function u(S,R){return U;function U(V){p.call(this,S(V),V),R&&R.call(this,V)}}function h(){this.stack.push({type:"fragment",children:[]})}function p(S,R,U){return this.stack[this.stack.length-1].children.push(S),this.stack.push(S),this.tokenStack.push([R,U]),S.position={start:Po(R.start)},S}function m(S){return R;function R(U){S&&S.call(this,U),v.call(this,U)}}function v(S,R){const U=this.stack.pop(),V=this.tokenStack.pop();if(V)V[0].type!==S.type&&(R?R.call(this,S,V[0]):(V[1]||sC).call(this,S,V[0]));else throw new Error("Cannot close `"+S.type+"` ("+Sc({start:S.start,end:S.end})+"): its not open");return U.position.end=Po(S.end),U}function _(){return XV(this.stack.pop())}function E(){s("expectingFirstListItemValue",!0)}function b(S){if(a("expectingFirstListItemValue")){const R=this.stack[this.stack.length-2];R.start=Number.parseInt(this.sliceSerialize(S),10),s("expectingFirstListItemValue")}}function I(){const S=this.resume(),R=this.stack[this.stack.length-1];R.lang=S}function P(){const S=this.resume(),R=this.stack[this.stack.length-1];R.meta=S}function T(){a("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function C(){const S=this.resume(),R=this.stack[this.stack.length-1];R.value=S.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function D(){const S=this.resume(),R=this.stack[this.stack.length-1];R.value=S.replace(/(\r?\n|\r)$/g,"")}function N(S){const R=this.resume(),U=this.stack[this.stack.length-1];U.label=R,U.identifier=Dl(this.sliceSerialize(S)).toLowerCase()}function O(){const S=this.resume(),R=this.stack[this.stack.length-1];R.title=S}function L(){const S=this.resume(),R=this.stack[this.stack.length-1];R.url=S}function M(S){const R=this.stack[this.stack.length-1];if(!R.depth){const U=this.sliceSerialize(S).length;R.depth=U}}function H(){s("setextHeadingSlurpLineEnding",!0)}function J(S){const R=this.stack[this.stack.length-1];R.depth=this.sliceSerialize(S).charCodeAt(0)===61?1:2}function le(){s("setextHeadingSlurpLineEnding")}function K(S){const R=this.stack[this.stack.length-1];let U=R.children[R.children.length-1];(!U||U.type!=="text")&&(U=Z(),U.position={start:Po(S.start)},R.children.push(U)),this.stack.push(U)}function se(S){const R=this.stack.pop();R.value+=this.sliceSerialize(S),R.position.end=Po(S.end)}function we(S){const R=this.stack[this.stack.length-1];if(a("atHardBreak")){const U=R.children[R.children.length-1];U.position.end=Po(S.end),s("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(R.type)&&(K.call(this,S),se.call(this,S))}function ve(){s("atHardBreak",!0)}function $(){const S=this.resume(),R=this.stack[this.stack.length-1];R.value=S}function ae(){const S=this.resume(),R=this.stack[this.stack.length-1];R.value=S}function re(){const S=this.resume(),R=this.stack[this.stack.length-1];R.value=S}function te(){const S=this.stack[this.stack.length-1];if(a("inReference")){const R=a("referenceType")||"shortcut";S.type+="Reference",S.referenceType=R,delete S.url,delete S.title}else delete S.identifier,delete S.label;s("referenceType")}function ue(){const S=this.stack[this.stack.length-1];if(a("inReference")){const R=a("referenceType")||"shortcut";S.type+="Reference",S.referenceType=R,delete S.url,delete S.title}else delete S.identifier,delete S.label;s("referenceType")}function B(S){const R=this.sliceSerialize(S),U=this.stack[this.stack.length-2];U.label=Q5(R),U.identifier=Dl(R).toLowerCase()}function je(){const S=this.stack[this.stack.length-1],R=this.resume(),U=this.stack[this.stack.length-1];if(s("inReference",!0),U.type==="link"){const V=S.children;U.children=V}else U.alt=R}function z(){const S=this.resume(),R=this.stack[this.stack.length-1];R.url=S}function w(){const S=this.resume(),R=this.stack[this.stack.length-1];R.title=S}function ee(){s("inReference")}function Ve(){s("referenceType","collapsed")}function Te(S){const R=this.resume(),U=this.stack[this.stack.length-1];U.label=R,U.identifier=Dl(this.sliceSerialize(S)).toLowerCase(),s("referenceType","full")}function rt(S){s("characterReferenceType",S.type)}function Et(S){const R=this.sliceSerialize(S),U=a("characterReferenceType");let V;U?(V=EP(R,U==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):V=Iw(R);const W=this.stack.pop();W.value+=V,W.position.end=Po(S.end)}function gt(S){se.call(this,S);const R=this.stack[this.stack.length-1];R.url=this.sliceSerialize(S)}function Ct(S){se.call(this,S);const R=this.stack[this.stack.length-1];R.url="mailto:"+this.sliceSerialize(S)}function it(){return{type:"blockquote",children:[]}}function ft(){return{type:"code",lang:null,meta:null,value:""}}function Ut(){return{type:"inlineCode",value:""}}function on(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fe(){return{type:"emphasis",children:[]}}function Zn(){return{type:"heading",depth:void 0,children:[]}}function er(){return{type:"break"}}function Un(){return{type:"html",value:""}}function Ur(){return{type:"image",title:null,url:"",alt:null}}function nt(){return{type:"link",title:null,url:"",children:[]}}function Vn(S){return{type:"list",ordered:S.type==="listOrdered",start:null,spread:S._spread,children:[]}}function Vr(S){return{type:"listItem",spread:S._spread,checked:null,children:[]}}function wo(){return{type:"paragraph",children:[]}}function Y(){return{type:"strong",children:[]}}function Z(){return{type:"text",value:""}}function G(){return{type:"thematicBreak"}}}function Po(t){return{line:t.line,column:t.column,offset:t.offset}}function kP(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?kP(t,r):Z5(t,r)}}function Z5(t,e){let n;for(n in e)if(xP.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function sC(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Sc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Sc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Sc({start:e.start,end:e.end})+") is still open")}function ej(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return Y5(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function tj(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function nj(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function rj(t,e){const n=e.value?e.value+`
`:"",r=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function ij(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function oj(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ou(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&Ir(t.charCodeAt(n+1))&&Ir(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const u=t.charCodeAt(n+1);s<56320&&u>56319&&u<57344?(a=String.fromCharCode(s,u),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function SP(t,e){const n=String(e.identifier).toUpperCase(),r=ou(n.toLowerCase()),i=t.footnoteOrder.indexOf(n);let s;i===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,s=t.footnoteOrder.length):(t.footnoteCounts[n]++,s=i+1);const a=t.footnoteCounts[n],u={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+r,id:t.clobberPrefix+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,u);const h={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,h),t.applyData(e,h)}function sj(t,e){const n=t.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:e.children}],position:e.position},SP(t,{type:"footnoteReference",identifier:i,position:e.position})}function aj(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function lj(t,e){if(t.dangerous){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}return null}function TP(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+r};const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function uj(t,e){const n=t.definition(e.identifier);if(!n)return TP(t,e);const r={src:ou(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function cj(t,e){const n={src:ou(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function fj(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function hj(t,e){const n=t.definition(e.identifier);if(!n)return TP(t,e);const r={href:ou(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function dj(t,e){const n={href:ou(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function pj(t,e,n){const r=t.all(e),i=n?gj(n):CP(e),s={},a=[];if(typeof e.checked=="boolean"){const m=r[0];let v;m&&m.type==="element"&&m.tagName==="p"?v=m:(v={type:"element",tagName:"p",properties:{},children:[]},r.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const m=r[u];(i||u!==0||m.type!=="element"||m.tagName!=="p")&&a.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?a.push(...m.children):a.push(m)}const h=r[r.length-1];h&&(i||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,p),t.applyData(e,p)}function gj(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=CP(n[r])}return e}function CP(t){const e=t.spread;return e??t.children.length>1}function mj(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function vj(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function yj(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function _j(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Pw=DP("start"),Lw=DP("end");function wj(t){return{start:Pw(t),end:Lw(t)}}function DP(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Ej(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=Pw(e.children[1]),h=Lw(e.children[e.children.length-1]);u.line&&h.line&&(a.position={start:u,end:h}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function xj(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,u=a?a.length:e.children.length;let h=-1;const p=[];for(;++h<u;){const v=e.children[h],_={},E=a?a[h]:void 0;E&&(_.align=E);let b={type:"element",tagName:s,properties:_,children:[]};v&&(b.children=t.all(v),t.patch(v,b),b=t.applyData(e,b)),p.push(b)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,m),t.applyData(e,m)}function kj(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const aC=9,lC=32;function Sj(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(uC(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(uC(e.slice(i),i>0,!1)),s.join("")}function uC(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===aC||s===lC;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===aC||s===lC;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Tj(t,e){const n={type:"text",value:Sj(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Cj(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Dj={blockquote:tj,break:nj,code:rj,delete:ij,emphasis:oj,footnoteReference:SP,footnote:sj,heading:aj,html:lj,imageReference:uj,image:cj,inlineCode:fj,linkReference:hj,link:dj,listItem:pj,list:mj,paragraph:vj,root:yj,strong:_j,table:Ej,tableCell:kj,tableRow:xj,text:Tj,thematicBreak:Cj,toml:td,yaml:td,definition:td,footnoteDefinition:td};function td(){return null}const AP=function(t){if(t==null)return Rj;if(typeof t=="string")return Ij(t);if(typeof t=="object")return Array.isArray(t)?Aj(t):bj(t);if(typeof t=="function")return Pg(t);throw new Error("Expected function, string, or object as test")};function Aj(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=AP(t[n]);return Pg(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function bj(t){return Pg(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function Ij(t){return Pg(e);function e(n){return n&&n.type===t}}function Pg(t){return e;function e(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...r))}}function Rj(){return!0}const Pj=!0,cC=!1,Lj="skip",Nj=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=AP(e),s=r?-1:1;a(t,void 0,[])();function a(u,h,p){const m=u&&typeof u=="object"?u:{};if(typeof m.type=="string"){const _=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(u.type+(_?"<"+_+">":""))+")"})}return v;function v(){let _=[],E,b,I;if((!e||i(u,h,p[p.length-1]||null))&&(_=Fj(n(u,p)),_[0]===cC))return _;if(u.children&&_[0]!==Lj)for(b=(r?u.children.length:-1)+s,I=p.concat(u);b>-1&&b<u.children.length;){if(E=a(u.children[b],b,I)(),E[0]===cC)return E;b=typeof E[1]=="number"?E[1]:b+s}return _}}};function Fj(t){return Array.isArray(t)?t:typeof t=="number"?[Pj,t]:[t]}const Nw=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),Nj(t,e,i,r);function i(s,a){const u=a[a.length-1];return n(s,u?u.children.indexOf(s):null,u)}};function Oj(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const fC={}.hasOwnProperty;function Mj(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return Nw(t,"definition",r=>{const i=hC(r.identifier);i&&!fC.call(e,i)&&(e[i]=r)}),n;function n(r){const i=hC(r);return i&&fC.call(e,i)?e[i]:null}}function hC(t){return String(t||"").toUpperCase()}const xp={}.hasOwnProperty;function Bj(t,e){const n=e||{},r=n.allowDangerousHtml||!1,i={};return a.dangerous=r,a.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,a.footnoteLabel=n.footnoteLabel||"Footnotes",a.footnoteLabelTagName=n.footnoteLabelTagName||"h2",a.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=n.footnoteBackLabel||"Back to content",a.unknownHandler=n.unknownHandler,a.passThrough=n.passThrough,a.handlers={...Dj,...n.handlers},a.definition=Mj(t),a.footnoteById=i,a.footnoteOrder=[],a.footnoteCounts={},a.patch=Uj,a.applyData=Vj,a.one=u,a.all=h,a.wrap=jj,a.augment=s,Nw(t,"footnoteDefinition",p=>{const m=String(p.identifier).toUpperCase();xp.call(i,m)||(i[m]=p)}),a;function s(p,m){if(p&&"data"in p&&p.data){const v=p.data;v.hName&&(m.type!=="element"&&(m={type:"element",tagName:"",properties:{},children:[]}),m.tagName=v.hName),m.type==="element"&&v.hProperties&&(m.properties={...m.properties,...v.hProperties}),"children"in m&&m.children&&v.hChildren&&(m.children=v.hChildren)}if(p){const v="type"in p?p:{position:p};Oj(v)||(m.position={start:Pw(v),end:Lw(v)})}return m}function a(p,m,v,_){return Array.isArray(v)&&(_=v,v={}),s(p,{type:"element",tagName:m,properties:v||{},children:_||[]})}function u(p,m){return bP(a,p,m)}function h(p){return Fw(a,p)}}function Uj(t,e){t.position&&(e.position=wj(t))}function Vj(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function bP(t,e,n){const r=e&&e.type;if(!r)throw new Error("Expected node, got `"+e+"`");return xp.call(t.handlers,r)?t.handlers[r](t,e,n):t.passThrough&&t.passThrough.includes(r)?"children"in e?{...e,children:Fw(t,e)}:e:t.unknownHandler?t.unknownHandler(t,e,n):zj(t,e)}function Fw(t,e){const n=[];if("children"in e){const r=e.children;let i=-1;for(;++i<r.length;){const s=bP(t,r[i],e);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const a=s.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function zj(t,e){const n=e.data||{},r="value"in e&&!(xp.call(n,"hProperties")||xp.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:Fw(t,e)};return t.patch(e,r),t.applyData(e,r)}function jj(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function $j(t){const e=[];let n=-1;for(;++n<t.footnoteOrder.length;){const r=t.footnoteById[t.footnoteOrder[n]];if(!r)continue;const i=t.all(r),s=String(r.identifier).toUpperCase(),a=ou(s.toLowerCase());let u=0;const h=[];for(;++u<=t.footnoteCounts[s];){const v={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+a+(u>1?"-"+u:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:""}]};u>1&&v.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(u)}]}),h.length>0&&h.push({type:"text",value:" "}),h.push(v)}const p=i[i.length-1];if(p&&p.type==="element"&&p.tagName==="p"){const v=p.children[p.children.length-1];v&&v.type==="text"?v.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...h)}else i.push(...h);const m={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+a},children:t.wrap(i,!0)};t.patch(r,m),e.push(m)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(e,!0)},{type:"text",value:`
`}]}}function IP(t,e){const n=Bj(t,e),r=n.one(t,null),i=$j(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const Hj=function(t,e){return t&&"run"in t?qj(t,e):Gj(t||e)},Wj=Hj;function qj(t,e){return(n,r,i)=>{t.run(IP(n,e),r,s=>{i(s)})}}function Gj(t){return e=>IP(e,t)}class Hf{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Hf.prototype.property={};Hf.prototype.normal={};Hf.prototype.space=null;function RP(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Hf(n,r,e)}function a1(t){return t.toLowerCase()}class Jr{constructor(e,n){this.property=e,this.attribute=n}}Jr.prototype.space=null;Jr.prototype.boolean=!1;Jr.prototype.booleanish=!1;Jr.prototype.overloadedBoolean=!1;Jr.prototype.number=!1;Jr.prototype.commaSeparated=!1;Jr.prototype.spaceSeparated=!1;Jr.prototype.commaOrSpaceSeparated=!1;Jr.prototype.mustUseProperty=!1;Jr.prototype.defined=!1;let Kj=0;const tt=Da(),un=Da(),PP=Da(),_e=Da(),At=Da(),Al=Da(),Cr=Da();function Da(){return 2**++Kj}const l1=Object.freeze(Object.defineProperty({__proto__:null,boolean:tt,booleanish:un,commaOrSpaceSeparated:Cr,commaSeparated:Al,number:_e,overloadedBoolean:PP,spaceSeparated:At},Symbol.toStringTag,{value:"Module"})),yy=Object.keys(l1);class Ow extends Jr{constructor(e,n,r,i){let s=-1;if(super(e,n),dC(this,"space",i),typeof r=="number")for(;++s<yy.length;){const a=yy[s];dC(this,yy[s],(r&l1[a])===l1[a])}}}Ow.prototype.defined=!0;function dC(t,e,n){n&&(t[e]=n)}const Qj={}.hasOwnProperty;function su(t){const e={},n={};let r;for(r in t.properties)if(Qj.call(t.properties,r)){const i=t.properties[r],s=new Ow(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[a1(r)]=r,n[a1(s.attribute)]=r}return new Hf(e,n,t.space)}const LP=su({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),NP=su({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function FP(t,e){return e in t?t[e]:e}function OP(t,e){return FP(t,e.toLowerCase())}const MP=su({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:OP,properties:{xmlns:null,xmlnsXLink:null}}),BP=su({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:un,ariaAutoComplete:null,ariaBusy:un,ariaChecked:un,ariaColCount:_e,ariaColIndex:_e,ariaColSpan:_e,ariaControls:At,ariaCurrent:null,ariaDescribedBy:At,ariaDetails:null,ariaDisabled:un,ariaDropEffect:At,ariaErrorMessage:null,ariaExpanded:un,ariaFlowTo:At,ariaGrabbed:un,ariaHasPopup:null,ariaHidden:un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:At,ariaLevel:_e,ariaLive:null,ariaModal:un,ariaMultiLine:un,ariaMultiSelectable:un,ariaOrientation:null,ariaOwns:At,ariaPlaceholder:null,ariaPosInSet:_e,ariaPressed:un,ariaReadOnly:un,ariaRelevant:null,ariaRequired:un,ariaRoleDescription:At,ariaRowCount:_e,ariaRowIndex:_e,ariaRowSpan:_e,ariaSelected:un,ariaSetSize:_e,ariaSort:null,ariaValueMax:_e,ariaValueMin:_e,ariaValueNow:_e,ariaValueText:null,role:null}}),Xj=su({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:OP,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Al,acceptCharset:At,accessKey:At,action:null,allow:null,allowFullScreen:tt,allowPaymentRequest:tt,allowUserMedia:tt,alt:null,as:null,async:tt,autoCapitalize:null,autoComplete:At,autoFocus:tt,autoPlay:tt,blocking:At,capture:null,charSet:null,checked:tt,cite:null,className:At,cols:_e,colSpan:null,content:null,contentEditable:un,controls:tt,controlsList:At,coords:_e|Al,crossOrigin:null,data:null,dateTime:null,decoding:null,default:tt,defer:tt,dir:null,dirName:null,disabled:tt,download:PP,draggable:un,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:tt,formTarget:null,headers:At,height:_e,hidden:tt,high:_e,href:null,hrefLang:null,htmlFor:At,httpEquiv:At,id:null,imageSizes:null,imageSrcSet:null,inert:tt,inputMode:null,integrity:null,is:null,isMap:tt,itemId:null,itemProp:At,itemRef:At,itemScope:tt,itemType:At,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:tt,low:_e,manifest:null,max:null,maxLength:_e,media:null,method:null,min:null,minLength:_e,multiple:tt,muted:tt,name:null,nonce:null,noModule:tt,noValidate:tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:tt,optimum:_e,pattern:null,ping:At,placeholder:null,playsInline:tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:tt,referrerPolicy:null,rel:At,required:tt,reversed:tt,rows:_e,rowSpan:_e,sandbox:At,scope:null,scoped:tt,seamless:tt,selected:tt,shadowRootClonable:tt,shadowRootDelegatesFocus:tt,shadowRootMode:null,shape:null,size:_e,sizes:null,slot:null,span:_e,spellCheck:un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_e,step:null,style:null,tabIndex:_e,target:null,title:null,translate:null,type:null,typeMustMatch:tt,useMap:null,value:un,width:_e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:At,axis:null,background:null,bgColor:null,border:_e,borderColor:null,bottomMargin:_e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:tt,declare:tt,event:null,face:null,frame:null,frameBorder:null,hSpace:_e,leftMargin:_e,link:null,longDesc:null,lowSrc:null,marginHeight:_e,marginWidth:_e,noResize:tt,noHref:tt,noShade:tt,noWrap:tt,object:null,profile:null,prompt:null,rev:null,rightMargin:_e,rules:null,scheme:null,scrolling:un,standby:null,summary:null,text:null,topMargin:_e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:tt,disableRemotePlayback:tt,prefix:null,property:null,results:_e,security:null,unselectable:null}}),Yj=su({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:FP,properties:{about:Cr,accentHeight:_e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_e,amplitude:_e,arabicForm:null,ascent:_e,attributeName:null,attributeType:null,azimuth:_e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_e,by:null,calcMode:null,capHeight:_e,className:At,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_e,diffuseConstant:_e,direction:null,display:null,dur:null,divisor:_e,dominantBaseline:null,download:tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:_e,enableBackground:null,end:null,event:null,exponent:_e,externalResourcesRequired:null,fill:null,fillOpacity:_e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Al,g2:Al,glyphName:Al,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_e,horizOriginX:_e,horizOriginY:_e,id:null,ideographic:_e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_e,k:_e,k1:_e,k2:_e,k3:_e,k4:_e,kernelMatrix:Cr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_e,overlineThickness:_e,paintOrder:null,panose1:null,path:null,pathLength:_e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:At,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_e,pointsAtY:_e,pointsAtZ:_e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Cr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Cr,rev:Cr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Cr,requiredFeatures:Cr,requiredFonts:Cr,requiredFormats:Cr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_e,specularExponent:_e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_e,strikethroughThickness:_e,string:null,stroke:null,strokeDashArray:Cr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_e,strokeOpacity:_e,strokeWidth:null,style:null,surfaceScale:_e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Cr,tabIndex:_e,tableValues:null,target:null,targetX:_e,targetY:_e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Cr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_e,underlineThickness:_e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_e,values:null,vAlphabetic:_e,vMathematical:_e,vectorEffect:null,vHanging:_e,vIdeographic:_e,version:null,vertAdvY:_e,vertOriginX:_e,vertOriginY:_e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Jj=/^data[-\w.:]+$/i,pC=/-[a-z]/g,Zj=/[A-Z]/g;function e$(t,e){const n=a1(e);let r=e,i=Jr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Jj.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(pC,n$);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!pC.test(s)){let a=s.replace(Zj,t$);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=Ow}return new i(r,e)}function t$(t){return"-"+t.toLowerCase()}function n$(t){return t.charAt(1).toUpperCase()}const gC={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},r$=RP([NP,LP,MP,BP,Xj],"html"),i$=RP([NP,LP,MP,BP,Yj],"svg");function o$(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return e=>{Nw(e,"element",(n,r,i)=>{const s=i;let a;if(t.allowedElements?a=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(a=t.disallowedElements.includes(n.tagName)),!a&&t.allowElement&&typeof r=="number"&&(a=!t.allowElement(n,r,s)),a&&typeof r=="number")return t.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}const mC=["http","https","mailto","tel"];function s$(t){const e=(t||"").trim(),n=e.charAt(0);if(n==="#"||n==="/")return e;const r=e.indexOf(":");if(r===-1)return e;let i=-1;for(;++i<mC.length;){const s=mC[i];if(r===s.length&&e.slice(0,s.length).toLowerCase()===s)return e}return i=e.indexOf("?"),i!==-1&&r>i||(i=e.indexOf("#"),i!==-1&&r>i)?e:"javascript:void(0)"}var UP={exports:{}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw=Symbol.for("react.element"),Bw=Symbol.for("react.portal"),Lg=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),Fg=Symbol.for("react.profiler"),Og=Symbol.for("react.provider"),Mg=Symbol.for("react.context"),a$=Symbol.for("react.server_context"),Bg=Symbol.for("react.forward_ref"),Ug=Symbol.for("react.suspense"),Vg=Symbol.for("react.suspense_list"),zg=Symbol.for("react.memo"),jg=Symbol.for("react.lazy"),l$=Symbol.for("react.offscreen"),VP;VP=Symbol.for("react.module.reference");function Zr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Mw:switch(t=t.type,t){case Lg:case Fg:case Ng:case Ug:case Vg:return t;default:switch(t=t&&t.$$typeof,t){case a$:case Mg:case Bg:case jg:case zg:case Og:return t;default:return e}}case Bw:return e}}}St.ContextConsumer=Mg;St.ContextProvider=Og;St.Element=Mw;St.ForwardRef=Bg;St.Fragment=Lg;St.Lazy=jg;St.Memo=zg;St.Portal=Bw;St.Profiler=Fg;St.StrictMode=Ng;St.Suspense=Ug;St.SuspenseList=Vg;St.isAsyncMode=function(){return!1};St.isConcurrentMode=function(){return!1};St.isContextConsumer=function(t){return Zr(t)===Mg};St.isContextProvider=function(t){return Zr(t)===Og};St.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mw};St.isForwardRef=function(t){return Zr(t)===Bg};St.isFragment=function(t){return Zr(t)===Lg};St.isLazy=function(t){return Zr(t)===jg};St.isMemo=function(t){return Zr(t)===zg};St.isPortal=function(t){return Zr(t)===Bw};St.isProfiler=function(t){return Zr(t)===Fg};St.isStrictMode=function(t){return Zr(t)===Ng};St.isSuspense=function(t){return Zr(t)===Ug};St.isSuspenseList=function(t){return Zr(t)===Vg};St.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lg||t===Fg||t===Ng||t===Ug||t===Vg||t===l$||typeof t=="object"&&t!==null&&(t.$$typeof===jg||t.$$typeof===zg||t.$$typeof===Og||t.$$typeof===Mg||t.$$typeof===Bg||t.$$typeof===VP||t.getModuleId!==void 0)};St.typeOf=Zr;UP.exports=St;var u$=UP.exports;const c$=ps(u$);function f$(t){const e=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}function h$(t){return t.join(" ").trim()}function d$(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var vC=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,p$=/\n/g,g$=/^\s*/,m$=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,v$=/^:\s*/,y$=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,_$=/^[;\s]*/,w$=/^\s+|\s+$/g,E$=`
`,yC="/",_C="*",$s="",x$="comment",k$="declaration",S$=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(b){var I=b.match(p$);I&&(n+=I.length);var P=b.lastIndexOf(E$);r=~P?b.length-P:r+b.length}function s(){var b={line:n,column:r};return function(I){return I.position=new a(b),p(),I}}function a(b){this.start=b,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function u(b){var I=new Error(e.source+":"+n+":"+r+": "+b);if(I.reason=b,I.filename=e.source,I.line=n,I.column=r,I.source=t,!e.silent)throw I}function h(b){var I=b.exec(t);if(I){var P=I[0];return i(P),t=t.slice(P.length),I}}function p(){h(g$)}function m(b){var I;for(b=b||[];I=v();)I!==!1&&b.push(I);return b}function v(){var b=s();if(!(yC!=t.charAt(0)||_C!=t.charAt(1))){for(var I=2;$s!=t.charAt(I)&&(_C!=t.charAt(I)||yC!=t.charAt(I+1));)++I;if(I+=2,$s===t.charAt(I-1))return u("End of comment missing");var P=t.slice(2,I-2);return r+=2,i(P),t=t.slice(I),r+=2,b({type:x$,comment:P})}}function _(){var b=s(),I=h(m$);if(I){if(v(),!h(v$))return u("property missing ':'");var P=h(y$),T=b({type:k$,property:wC(I[0].replace(vC,$s)),value:P?wC(P[0].replace(vC,$s)):$s});return h(_$),T}}function E(){var b=[];m(b);for(var I;I=_();)I!==!1&&(b.push(I),m(b));return b}return p(),E()};function wC(t){return t?t.replace(w$,$s):$s}var T$=S$;function C$(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,i=T$(t),s=typeof e=="function",a,u,h=0,p=i.length;h<p;h++)r=i[h],a=r.property,u=r.value,s?e(a,u,r):u&&(n||(n={}),n[a]=u);return n}var D$=C$;const A$=ps(D$),u1={}.hasOwnProperty,b$=new Set(["table","thead","tbody","tfoot","tr"]);function zP(t,e){const n=[];let r=-1,i;for(;++r<e.children.length;)i=e.children[r],i.type==="element"?n.push(I$(t,i,r,e)):i.type==="text"?(e.type!=="element"||!b$.has(e.tagName)||!f$(i))&&n.push(i.value):i.type==="raw"&&!t.options.skipHtml&&n.push(i.value);return n}function I$(t,e,n,r){const i=t.options,s=t.schema,a=e.tagName,u={};let h=s,p;if(s.space==="html"&&a==="svg"&&(h=i$,t.schema=h),e.properties)for(p in e.properties)u1.call(e.properties,p)&&P$(u,p,e.properties[p],t);(a==="ol"||a==="ul")&&t.listDepth++;const m=zP(t,e);(a==="ol"||a==="ul")&&t.listDepth--,t.schema=s;const v=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},_=i.components&&u1.call(i.components,a)?i.components[a]:a,E=typeof _=="string"||_===$e.Fragment;if(!c$.isValidElementType(_))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=[a,v.start.line,v.start.column,n].join("-"),a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),e.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&i.transformLinkUri&&(u.href=i.transformLinkUri(String(u.href||""),e.children,typeof u.title=="string"?u.title:null)),!E&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!E&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!E&&a==="li"&&r.type==="element"){const b=R$(e);u.checked=b&&b.properties?!!b.properties.checked:null,u.index=_y(r,e),u.ordered=r.tagName==="ol"}return!E&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=t.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),E||(u.isHeader=a==="th")),!E&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=F$(v)),!E&&i.rawSourcePos&&(u.sourcePosition=e.position),!E&&i.includeElementIndex&&(u.index=_y(r,e),u.siblingCount=_y(r)),E||(u.node=e),m.length>0?$e.createElement(_,u,m):$e.createElement(_,u)}function R$(t){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n.type==="element"&&n.tagName==="input")return n}return null}function _y(t,e){let n=-1,r=0;for(;++n<t.children.length&&t.children[n]!==e;)t.children[n].type==="element"&&r++;return r}function P$(t,e,n,r){const i=e$(r.schema,e);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?d$(s):h$(s)),i.property==="style"&&typeof s=="string"&&(s=L$(s)),i.space&&i.property?t[u1.call(gC,i.property)?gC[i.property]:i.property]=s:i.attribute&&(t[i.attribute]=s))}function L$(t){const e={};try{A$(t,n)}catch{}return e;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;e[s.replace(/-([a-z])/g,N$)]=i}}function N$(t,e){return e.toUpperCase()}function F$(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(e=>String(e)).join("")}const EC={}.hasOwnProperty,O$="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",nd={plugins:{to:"plugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function $g(t){for(const s in nd)if(EC.call(nd,s)&&EC.call(t,s)){const a=nd[s];console.warn(`[react-markdown] Warning: please ${a.to?`use \`${a.to}\` instead of`:"remove"} \`${s}\` (see <${O$}#${a.id}> for more info)`),delete nd[s]}const e=WV().use(ej).use(t.remarkPlugins||[]).use(Wj,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(o$,t),n=new aP;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const r=e.runSync(e.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=$e.createElement($e.Fragment,{},zP({options:t,schema:r$,listDepth:0},r));return t.className&&(i=$e.createElement("div",{className:t.className},i)),i}$g.defaultProps={transformLinkUri:s$};$g.propTypes={children:Ye.string,className:Ye.string,allowElement:Ye.func,allowedElements:Ye.arrayOf(Ye.string),disallowedElements:Ye.arrayOf(Ye.string),unwrapDisallowed:Ye.bool,remarkPlugins:Ye.arrayOf(Ye.oneOfType([Ye.object,Ye.func,Ye.arrayOf(Ye.oneOfType([Ye.bool,Ye.string,Ye.object,Ye.func,Ye.arrayOf(Ye.any)]))])),rehypePlugins:Ye.arrayOf(Ye.oneOfType([Ye.object,Ye.func,Ye.arrayOf(Ye.oneOfType([Ye.bool,Ye.string,Ye.object,Ye.func,Ye.arrayOf(Ye.any)]))])),sourcePos:Ye.bool,rawSourcePos:Ye.bool,skipHtml:Ye.bool,includeElementIndex:Ye.bool,transformLinkUri:Ye.oneOfType([Ye.func,Ye.bool]),linkTarget:Ye.oneOfType([Ye.func,Ye.string]),transformImageUri:Ye.func,components:Ye.object};const jP=({id:t,title:e,description:n,category:r,imgUrl:i,userId:s,author:a,timestamp:u,user:h,handleDelete:p})=>Q.jsxs("div",{className:"row pb-4",children:[Q.jsx("div",{className:"col-md-5",children:Q.jsx("div",{className:"hover-blogs-img",children:Q.jsx("div",{className:"blogs-img",children:i?Q.jsx("img",{src:i,alt:e}):Q.jsx("div",{style:{backgroundColor:"gray",height:"100%",opacity:"0.4",padding:"10px"},children:Q.jsx("h3",{children:" "})})})})}),Q.jsxs("div",{className:"col-md-7",children:[Q.jsxs(Gs,{to:`/detail/${t}`,children:[Q.jsxs("div",{className:"text-start",children:[Q.jsx("h6",{className:"category catg-color",children:r}),Q.jsx("span",{className:"title py-2",children:e}),Q.jsxs("span",{className:"meta-info",children:[Q.jsx("p",{className:"author",children:a})," -",u.toDate().toDateString()]})]}),Q.jsx("div",{className:"short-description text-start",children:Q.jsx($g,{children:n})})]}),h&&h.uid===s&&Q.jsxs("div",{style:{float:"right"},children:[Q.jsx(NT,{name:"trash",style:{margin:"5px",cursor:"pointer"},size:"2x",onClick:()=>p(t)}),Q.jsx(Gs,{to:`/update/${t}`,children:Q.jsx(NT,{name:"edit",style:{cursor:"pointer"},size:"2x"})})]})]})]},t),$P=()=>Q.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:Q.jsx("div",{className:"container padding",children:Q.jsx("div",{className:"row mx-0",children:Q.jsx("div",{className:"loading",children:"Loading"})})})});var M$="firebase",B$="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(M$,B$,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebasestorage.googleapis.com",WP="storageBucket",U$=2*60*1e3,V$=10*60*1e3,z$=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends zi{constructor(e,n,r=0){super(wy(e),`Firebase Storage: ${n} (${wy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bt||(Bt={}));function wy(t){return"storage/"+t}function Uw(){const t="An unknown error occurred, please check the error payload for server response.";return new Qt(Bt.UNKNOWN,t)}function j$(t){return new Qt(Bt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $$(t){return new Qt(Bt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function H$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Bt.UNAUTHENTICATED,t)}function W$(){return new Qt(Bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function q$(t){return new Qt(Bt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function qP(){return new Qt(Bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GP(){return new Qt(Bt.CANCELED,"User canceled the upload/download.")}function G$(t){return new Qt(Bt.INVALID_URL,"Invalid URL '"+t+"'.")}function K$(t){return new Qt(Bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Q$(){return new Qt(Bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+WP+"' property when initializing the app?")}function KP(){return new Qt(Bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function X$(){return new Qt(Bt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Y$(){return new Qt(Bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function J$(t){return new Qt(Bt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function c1(t){return new Qt(Bt.INVALID_ARGUMENT,t)}function QP(){return new Qt(Bt.APP_DELETED,"The Firebase app was deleted.")}function Z$(t){return new Qt(Bt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cc(t,e){return new Qt(Bt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Yu(t){throw new Qt(Bt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Rr.makeFromUrl(e,n)}catch{return new Rr(e,"")}if(r.path==="")return r;throw K$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),h={bucket:1,path:3};function p(N){N.path_=decodeURIComponent(N.path)}const m="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${m}/b/${i}/o${_}`,"i"),b={bucket:1,path:3},I=n===HP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",T=new RegExp(`^https?://${I}/${i}/${P}`,"i"),D=[{regex:u,indices:h,postModify:s},{regex:E,indices:b,postModify:p},{regex:T,indices:{bucket:1,path:2},postModify:p}];for(let N=0;N<D.length;N++){const O=D[N],L=O.regex.exec(e);if(L){const M=L[O.indices.bucket];let H=L[O.indices.path];H||(H=""),r=new Rr(M,H),O.postModify(r);break}}if(r==null)throw G$(e);return r}}class e8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t,e,n){let r=1,i=null,s=null,a=!1,u=0;function h(){return u===2}let p=!1;function m(...P){p||(p=!0,e.apply(null,P))}function v(P){i=setTimeout(()=>{i=null,t(E,h())},P)}function _(){s&&clearTimeout(s)}function E(P,...T){if(p){_();return}if(P){_(),m.call(null,P,...T);return}if(h()||a){_(),m.call(null,P,...T);return}r<64&&(r*=2);let D;u===1?(u=2,D=0):D=(r+Math.random())*1e3,v(D)}let b=!1;function I(P){b||(b=!0,_(),!p&&(i!==null?(P||(u=2),clearTimeout(i),v(0)):P||(u=1)))}return v(0),s=setTimeout(()=>{a=!0,I(!0)},n),I}function n8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){return t!==void 0}function i8(t){return typeof t=="function"}function o8(t){return typeof t=="object"&&!Array.isArray(t)}function Hg(t){return typeof t=="string"||t instanceof String}function xC(t){return Vw()&&t instanceof Blob}function Vw(){return typeof Blob<"u"}function kC(t,e,n,r){if(r<e)throw c1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw c1(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function XP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ta;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ta||(ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n,r,i,s,a,u,h,p,m,v,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=v,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,b)=>{this.resolve_=E,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new rd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=u=>{const h=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const u=s.getErrorCode()===ta.NO_ERROR,h=s.getStatus();if(!u||YP(h,this.additionalRetryCodes_)&&this.retry){const m=s.getErrorCode()===ta.ABORT;r(!1,new rd(!1,null,m));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new rd(p,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());r8(h)?s(h):s()}catch(h){a(h)}else if(u!==null){const h=Uw();h.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,h)):a(h)}else if(i.canceled){const h=this.appDelete_?QP():GP();a(h)}else{const h=qP();a(h)}};this.canceled_?n(!1,new rd(!1,null,!0)):this.backoffId_=t8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function a8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function l8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function c8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function f8(t,e,n,r,i,s,a=!0){const u=XP(t.urlParams),h=t.url+u,p=Object.assign({},t.headers);return u8(p,e),a8(p,n),l8(p,s),c8(p,r),new s8(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function d8(...t){const e=h8();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Vw())return new Blob(t);throw new Qt(Bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function p8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t){if(typeof atob>"u")throw J$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ey{constructor(e,n){this.data=e,this.contentType=n||null}}function m8(t,e){switch(t){case bi.RAW:return new Ey(JP(e));case bi.BASE64:case bi.BASE64URL:return new Ey(ZP(t,e));case bi.DATA_URL:return new Ey(y8(e),_8(e))}throw Uw()}function JP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function v8(t){let e;try{e=decodeURIComponent(t)}catch{throw Cc(bi.DATA_URL,"Malformed data URL.")}return JP(e)}function ZP(t,e){switch(t){case bi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Cc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case bi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Cc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=g8(e)}catch(i){throw i.message.includes("polyfill")?i:Cc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class e2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Cc(bi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=w8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function y8(t){const e=new e2(t);return e.base64?ZP(bi.BASE64,e.rest):v8(e.rest)}function _8(t){return new e2(t).contentType}function w8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){let r=0,i="";xC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(xC(this.data_)){const r=this.data_,i=p8(r,e,n);return i===null?null:new Uo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Uo(r,!0)}}static getBlob(...e){if(Vw()){const n=e.map(r=>r instanceof Uo?r.data_:r);return new Uo(d8.apply(null,n))}else{const n=e.map(a=>Hg(a)?m8(bi.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let u=0;u<a.length;u++)i[s++]=a[u]}),new Uo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t){let e;try{e=JSON.parse(t)}catch{return null}return o8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function x8(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function n2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t,e){return e}class sr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||k8}}let id=null;function S8(t){return!Hg(t)||t.length<2?t:n2(t)}function r2(){if(id)return id;const t=[];t.push(new sr("bucket")),t.push(new sr("generation")),t.push(new sr("metageneration")),t.push(new sr("name","fullPath",!0));function e(s,a){return S8(a)}const n=new sr("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new sr("size");return i.xform=r,t.push(i),t.push(new sr("timeCreated")),t.push(new sr("updated")),t.push(new sr("md5Hash",null,!0)),t.push(new sr("cacheControl",null,!0)),t.push(new sr("contentDisposition",null,!0)),t.push(new sr("contentEncoding",null,!0)),t.push(new sr("contentLanguage",null,!0)),t.push(new sr("contentType",null,!0)),t.push(new sr("metadata","customMetadata",!0)),id=t,id}function T8(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Rr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function C8(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return T8(r,t),r}function i2(t,e,n){const r=t2(e);return r===null?null:C8(t,r,n)}function D8(t,e,n,r){const i=t2(e);if(i===null||!Hg(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(p=>{const m=t.bucket,v=t.fullPath,_="/b/"+a(m)+"/o/"+a(v),E=Wf(_,n,r),b=XP({alt:"media",token:p});return E+b})[0]}function o2(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class au{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t){if(!t)throw Uw()}function zw(t,e){function n(r,i){const s=i2(t,i,e);return so(s!==null),s}return n}function A8(t,e){function n(r,i){const s=i2(t,i,e);return so(s!==null),D8(s,i,t.host,t._protocol)}return n}function qf(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=W$():i=H$():n.getStatus()===402?i=$$(t.bucket):n.getStatus()===403?i=q$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function s2(t){const e=qf(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=j$(t.path)),s.serverResponse=i.serverResponse,s}return n}function b8(t,e,n){const r=e.fullServerUrl(),i=Wf(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,u=new au(i,s,zw(t,n),a);return u.errorHandler=s2(e),u}function I8(t,e,n){const r=e.fullServerUrl(),i=Wf(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,u=new au(i,s,A8(t,n),a);return u.errorHandler=s2(e),u}function R8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function a2(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=R8(null,e)),r}function P8(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let D="";for(let N=0;N<2;N++)D=D+Math.random().toString().slice(2);return D}const h=u();a["Content-Type"]="multipart/related; boundary="+h;const p=a2(e,r,i),m=o2(p,n),v="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,_=`\r
--`+h+"--",E=Uo.getBlob(v,r,_);if(E===null)throw KP();const b={name:p.fullPath},I=Wf(s,t.host,t._protocol),P="POST",T=t.maxUploadRetryTime,C=new au(I,P,zw(t,n),T);return C.urlParams=b,C.headers=a,C.body=E.uploadData(),C.errorHandler=qf(e),C}class kp{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function jw(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{so(!1)}return so(!!n&&(e||["active"]).indexOf(n)!==-1),n}function L8(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a=a2(e,r,i),u={name:a.fullPath},h=Wf(s,t.host,t._protocol),p="POST",m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=o2(a,n),_=t.maxUploadRetryTime;function E(I){jw(I);let P;try{P=I.getResponseHeader("X-Goog-Upload-URL")}catch{so(!1)}return so(Hg(P)),P}const b=new au(h,p,E,_);return b.urlParams=u,b.headers=m,b.body=v,b.errorHandler=qf(e),b}function N8(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(p){const m=jw(p,["active","final"]);let v=null;try{v=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{so(!1)}v||so(!1);const _=Number(v);return so(!isNaN(_)),new kp(_,r.size(),m==="final")}const a="POST",u=t.maxUploadRetryTime,h=new au(n,a,s,u);return h.headers=i,h.errorHandler=qf(e),h}const SC=256*1024;function F8(t,e,n,r,i,s,a,u){const h=new kp(0,0);if(a?(h.current=a.current,h.total=a.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw X$();const p=h.total-h.current;let m=p;i>0&&(m=Math.min(m,i));const v=h.current,_=v+m;let E="";m===0?E="finalize":p===m?E="upload, finalize":E="upload";const b={"X-Goog-Upload-Command":E,"X-Goog-Upload-Offset":`${h.current}`},I=r.slice(v,_);if(I===null)throw KP();function P(N,O){const L=jw(N,["active","final"]),M=h.current+m,H=r.size();let J;return L==="final"?J=zw(e,s)(N,O):J=null,new kp(M,H,L==="final",J)}const T="POST",C=e.maxUploadRetryTime,D=new au(n,T,P,C);return D.headers=b,D.body=I.uploadData(),D.progressCallback=u||null,D.errorHandler=qf(t),D}const vr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xy(t){switch(t){case"running":case"pausing":case"canceling":return vr.RUNNING;case"paused":return vr.PAUSED;case"success":return vr.SUCCESS;case"canceled":return vr.CANCELED;case"error":return vr.ERROR;default:return vr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n,r){if(i8(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class M8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Yu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class B8 extends M8{initXhr(){this.xhr_.responseType="text"}}function rl(){return new B8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=r2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Bt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(YP(i.status,[]))if(s)i=qP();else{this.sleepTime=Math.max(this.sleepTime*2,z$),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Bt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=L8(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,rl,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=N8(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,rl,n,r);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=SC*this._chunkMultiplier,n=new kp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=F8(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const u=this._ref.storage._makeRequest(a,rl,i,s,!1);this._request=u,u.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){SC*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=b8(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,rl,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=P8(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,rl,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=GP(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=xy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new O8(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(xy(this._state)){case vr.SUCCESS:Ja(this._resolve.bind(null,this.snapshot))();break;case vr.CANCELED:case vr.ERROR:const n=this._reject;Ja(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(xy(this._state)){case vr.RUNNING:case vr.PAUSED:e.next&&Ja(e.next.bind(e,this.snapshot))();break;case vr.SUCCESS:e.complete&&Ja(e.complete.bind(e))();break;case vr.CANCELED:case vr.ERROR:e.error&&Ja(e.error.bind(e,this._error))();break;default:e.error&&Ja(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this._service=e,n instanceof Rr?this._location=n:this._location=Rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ma(e,n)}get root(){const e=new Rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return n2(this._location.path)}get storage(){return this._service}get parent(){const e=E8(this._location.path);if(e===null)return null;const n=new Rr(this._location.bucket,e);return new ma(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Z$(e)}}function V8(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new U8(t,new Uo(e),n)}function z8(t){t._throwIfRoot("getDownloadURL");const e=I8(t.storage,t._location,r2());return t.storage.makeRequestWithTokens(e,rl).then(n=>{if(n===null)throw Y$();return n})}function j8(t,e){const n=x8(t._location.path,e),r=new Rr(t._location.bucket,n);return new ma(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t){return/^[A-Za-z]+:\/\//.test(t)}function H8(t,e){return new ma(t,e)}function l2(t,e){if(t instanceof $w){const n=t;if(n._bucket==null)throw Q$();const r=new ma(n,n._bucket);return e!=null?l2(r,e):r}else return e!==void 0?j8(t,e):t}function W8(t,e){if(e&&$8(e)){if(t instanceof $w)return H8(t,e);throw c1("To use ref(service, url), the first argument must be a Storage instance.")}else return l2(t,e)}function TC(t,e){const n=e==null?void 0:e[WP];return n==null?null:Rr.makeFromBucketSpec(n,t)}function q8(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Ib(i,t.app.options.projectId))}class $w{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=HP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U$,this._maxUploadRetryTime=V$,this._requests=new Set,i!=null?this._bucket=Rr.makeFromBucketSpec(i,this._host):this._bucket=TC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rr.makeFromBucketSpec(this._url,e):this._bucket=TC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ma(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new e8(QP());{const a=f8(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const CC="@firebase/storage",DC="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="storage";function G8(t,e,n){return t=Gt(t),V8(t,e,n)}function K8(t){return t=Gt(t),z8(t)}function Q8(t,e){return t=Gt(t),W8(t,e)}function X8(t=__(),e){t=Gt(t);const r=Xp(t,u2).getImmediate({identifier:e}),i=Db("storage");return i&&Y8(r,...i),r}function Y8(t,e,n,r={}){q8(t,e,n,r)}function J8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new $w(n,r,i,e,ka)}function Z8(){ha(new us(u2,J8,"PUBLIC").setMultipleInstances(!0)),Pi(CC,DC,""),Pi(CC,DC,"esm2017")}Z8();function Hw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function c2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eH=c2,f2=new Cf("auth","Firebase",c2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=new v_("@firebase/auth");function tH(t,...e){Sp.logLevel<=at.WARN&&Sp.warn(`Auth (${ka}): ${t}`,...e)}function Dd(t,...e){Sp.logLevel<=at.ERROR&&Sp.error(`Auth (${ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,...e){throw Ww(t,...e)}function Oi(t,...e){return Ww(t,...e)}function nH(t,e,n){const r=Object.assign(Object.assign({},eH()),{[e]:n});return new Cf("auth","Firebase",r).create(e,{appName:t.name})}function Ww(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f2.create(t,...e)}function Ge(t,e,...n){if(!t)throw Ww(e,...n)}function ro(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dd(e),new Error(e)}function go(t,e){t||ro(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rH(){return AC()==="http:"||AC()==="https:"}function AC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rH()||Y3()||"connection"in navigator)?navigator.onLine:!0}function oH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.shortDelay=e,this.longDelay=n,go(n>e,"Short delay should be less than long delay!"),this.isMobile=Q3()||J3()}get(){return iH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t,e){go(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=new Gf(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _o(t,e,n,r,i={}){return d2(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=Df(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),h2.fetch()(p2(t,t.config.apiHost,n,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},s))})}async function d2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sH),e);try{const i=new uH(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw od(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw od(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw od(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw od(t,"user-disabled",a);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw nH(t,m,p);gi(t,m)}}catch(i){if(i instanceof zi)throw i;gi(t,"network-request-failed",{message:String(i)})}}async function Kf(t,e,n,r,i={}){const s=await _o(t,e,n,r,i);return"mfaPendingCredential"in s&&gi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function p2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?qw(t.config,i):`${t.config.apiScheme}://${i}`}function lH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),aH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function od(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Oi(t,e,r);return i.customData._tokenResponse=n,i}function bC(t){return t!==void 0&&t.enterprise!==void 0}class cH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function fH(t,e){return _o(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hH(t,e){return _o(t,"POST","/v1/accounts:delete",e)}async function dH(t,e){return _o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pH(t,e=!1){const n=Gt(t),r=await n.getIdToken(e),i=Gw(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dc(ky(i.auth_time)),issuedAtTime:Dc(ky(i.iat)),expirationTime:Dc(ky(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ky(t){return Number(t)*1e3}function Gw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tb(n);return i?JSON.parse(i):(Dd("Failed to decode base64 JWT payload"),null)}catch(i){return Dd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gH(t){const e=Gw(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&mH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ql(t,dH(n,{idToken:r}));Ge(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wH(s.providerUserInfo):[],u=_H(t.providerData,a),h=t.isAnonymous,p=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),m=h?p:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new g2(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function yH(t){const e=Gt(t);await Tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _H(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wH(t){return t.map(e=>{var{providerId:n}=e,r=Hw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EH(t,e){const n=await d2(t,{},async()=>{const r=Df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=p2(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",h2.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xH(t,e){return _o(t,"POST","/v2/accounts:revokeToken",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ge(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await EH(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new pf;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ge(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pf,this.toJSON())}_performRefresh(){return ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class na{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Hw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new g2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pH(this,e)}reload(){return yH(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new na(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ql(this,hH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,u,h,p,m;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(a=n.photoURL)!==null&&a!==void 0?a:void 0,I=(u=n.tenantId)!==null&&u!==void 0?u:void 0,P=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,T=(p=n.createdAt)!==null&&p!==void 0?p:void 0,C=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:D,emailVerified:N,isAnonymous:O,providerData:L,stsTokenManager:M}=n;Ge(D&&M,e,"internal-error");const H=pf.fromJSON(this.name,M);Ge(typeof D=="string",e,"internal-error"),Lo(v,e.name),Lo(_,e.name),Ge(typeof N=="boolean",e,"internal-error"),Ge(typeof O=="boolean",e,"internal-error"),Lo(E,e.name),Lo(b,e.name),Lo(I,e.name),Lo(P,e.name),Lo(T,e.name),Lo(C,e.name);const J=new na({uid:D,auth:e,email:_,emailVerified:N,displayName:v,isAnonymous:O,photoURL:b,phoneNumber:E,tenantId:I,stsTokenManager:H,createdAt:T,lastLoginAt:C});return L&&Array.isArray(L)&&(J.providerData=L.map(le=>Object.assign({},le))),P&&(J._redirectEventId=P),J}static async _fromIdTokenResponse(e,n,r=!1){const i=new pf;i.updateFromServerResponse(n);const s=new na({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Tp(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new Map;function io(t){go(t instanceof Function,"Expected a class definition");let e=IC.get(t);return e?(go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}m2.type="NONE";const RC=m2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ad(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ad("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?na._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bl(io(RC),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let s=i[0]||io(RC);const a=Ad(r,e.config.apiKey,e.name);let u=null;for(const p of n)try{const m=await p._get(a);if(m){const v=na._fromJSON(e,m);p!==s&&(u=v),s=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new bl(s,e,r):(s=h[0],u&&await s._set(a,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==s)try{await p._remove(a)}catch{}})),new bl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E2(e))return"Blackberry";if(x2(e))return"Webos";if(Kw(e))return"Safari";if((e.includes("chrome/")||y2(e))&&!e.includes("edge/"))return"Chrome";if(w2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function v2(t=dn()){return/firefox\//i.test(t)}function Kw(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y2(t=dn()){return/crios\//i.test(t)}function _2(t=dn()){return/iemobile/i.test(t)}function w2(t=dn()){return/android/i.test(t)}function E2(t=dn()){return/blackberry/i.test(t)}function x2(t=dn()){return/webos/i.test(t)}function Wg(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kH(t=dn()){var e;return Wg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SH(){return Z3()&&document.documentMode===10}function k2(t=dn()){return Wg(t)||w2(t)||x2(t)||E2(t)||/windows phone/i.test(t)||_2(t)}function TH(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t,e=[]){let n;switch(t){case"Browser":n=PC(dn());break;case"Worker":n=`${PC(dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,u)=>{try{const h=e(s);a(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DH(t,e={}){return _o(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=6;class bH{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:AH,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LC(this),this.idTokenSubscription=new LC(this),this.beforeStateQueue=new CH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=io(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Gt(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DH(this),n=new bH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&io(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[io(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&tH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Aa(t){return Gt(t)}class LC{constructor(e){this.auth=e,this.observer=null,this.addObserver=s4(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RH(t){qg=t}function T2(t){return qg.loadJS(t)}function PH(){return qg.recaptchaEnterpriseScript}function LH(){return qg.gapiScript}function NH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const FH="recaptcha-enterprise",OH="NO_RECAPTCHA";class MH{constructor(e){this.type=FH,this.auth=Aa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{fH(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new cH(h);return s.tenantId==null?s._agentRecaptchaConfig=p:s._tenantRecaptchaConfigs[s.tenantId]=p,a(p.siteKey)}}).catch(h=>{u(h)})})}function i(s,a,u){const h=window.grecaptcha;bC(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(p=>{a(p)}).catch(()=>{a(OH)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(u=>{if(!n&&bC(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let h=PH();h.length!==0&&(h+=u),T2(h).then(()=>{i(u,s,a)}).catch(p=>{a(p)})}}).catch(u=>{a(u)})})}}async function NC(t,e,n,r=!1){const i=new MH(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function h1(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await NC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await NC(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(t,e){const n=Xp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(sp(s,e??{}))return i;gi(i,"already-initialized")}return n.initialize({options:e})}function UH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(io);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VH(t,e,n){const r=Aa(t);Ge(r._canInitEmulator,r,"emulator-config-failed"),Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=C2(e),{host:a,port:u}=zH(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${a}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||jH()}function C2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zH(t){const e=C2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:FC(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:FC(a)}}}function FC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ro("not implemented")}_getIdTokenResponse(e){return ro("not implemented")}_linkToIdToken(e,n){return ro("not implemented")}_getReauthenticationResolver(e){return ro("not implemented")}}async function $H(t,e){return _o(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HH(t,e){return Kf(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,e){return Kf(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function qH(t,e){return Kf(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends Qw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h1(e,n,"signInWithPassword",HH);case"emailLink":return WH(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h1(e,r,"signUpPassword",$H);case"emailLink":return qH(e,{idToken:n,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e){return Kf(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH="http://localhost";class va extends Qw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Hw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new va(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Il(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Il(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Il(e,n)}buildRequest(){const e={requestUri:GH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Df(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QH(t){const e=nc(rc(t)).link,n=e?nc(rc(e)).deep_link_id:null,r=nc(rc(t)).deep_link_id;return(r?nc(rc(r)).link:null)||r||n||e||t}class Xw{constructor(e){var n,r,i,s,a,u;const h=nc(rc(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,v=KH((i=h.mode)!==null&&i!==void 0?i:null);Ge(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=QH(e);try{return new Xw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.providerId=lu.PROVIDER_ID}static credential(e,n){return gf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xw.parseLink(n);return Ge(r,"argument-error"),gf._fromEmailAndCode(e,r.code,r.tenantId)}}lu.PROVIDER_ID="password";lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends D2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends Qf{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Qf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return va._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zo.credential(n,r)}catch{return null}}}zo.GOOGLE_SIGN_IN_METHOD="google.com";zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Qf{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.GITHUB_SIGN_IN_METHOD="github.com";jo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Qf{constructor(){super("twitter.com")}static credential(e,n){return va._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $o.credential(n,r)}catch{return null}}}$o.TWITTER_SIGN_IN_METHOD="twitter.com";$o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XH(t,e){return Kf(t,"POST","/v1/accounts:signUp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await na._fromIdTokenResponse(e,r,i),a=OC(r);return new ya({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=OC(r);return new ya({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function OC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends zi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cp(e,n,r,i)}}function A2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cp._fromErrorAndOperation(t,s,e,r):s})}async function YH(t,e,n=!1){const r=await ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ya._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JH(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ql(t,A2(r,i,e,t),n);Ge(s.idToken,r,"internal-error");const a=Gw(s.idToken);Ge(a,r,"internal-error");const{sub:u}=a;return Ge(t.uid===u,r,"user-mismatch"),ya._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&gi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(t,e,n=!1){const r="signIn",i=await A2(t,r,e),s=await ya._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function ZH(t,e){return b2(Aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(t){const e=Aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function e7(t,e,n){const r=Aa(t),a=await h1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XH).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&I2(t),h}),u=await ya._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function t7(t,e,n){return ZH(Gt(t),lu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&I2(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(t,e){return _o(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Gt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ql(r,n7(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function i7(t,e,n,r){return Gt(t).onIdTokenChanged(e,n,r)}function o7(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}function s7(t){return Gt(t).signOut()}const Dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dp,"1"),this.storage.removeItem(Dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(){const t=dn();return Kw(t)||Wg(t)}const l7=1e3,u7=10;class P2 extends R2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=a7()&&TH(),this.fallbackToPolling=k2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,h)=>{this.notifyListeners(a,h)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);SH()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,u7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},l7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P2.type="LOCAL";const c7=P2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2 extends R2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L2.type="SESSION";const N2=L2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async p=>p(n.origin,s)),h=await f7(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,h)=>{const p=Yw("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(v){const _=v;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}function d7(t){Mi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function p7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function m7(){return F2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firebaseLocalStorageDb",v7=1,Ap="firebaseLocalStorage",M2="fbase_key";class Xf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kg(t,e){return t.transaction([Ap],e?"readwrite":"readonly").objectStore(Ap)}function y7(){const t=indexedDB.deleteDatabase(O2);return new Xf(t).toPromise()}function d1(){const t=indexedDB.open(O2,v7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ap,{keyPath:M2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ap)?e(r):(r.close(),await y7(),e(await d1()))})})}async function MC(t,e,n){const r=Kg(t,!0).put({[M2]:e,value:n});return new Xf(r).toPromise()}async function _7(t,e){const n=Kg(t,!1).get(e),r=await new Xf(n).toPromise();return r===void 0?null:r.value}function BC(t,e){const n=Kg(t,!0).delete(e);return new Xf(n).toPromise()}const w7=800,E7=3;class B2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>E7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gg._getInstance(m7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await p7(),!this.activeServiceWorker)return;this.sender=new h7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d1();return await MC(e,Dp,"1"),await BC(e,Dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>MC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Kg(i,!1).getAll();return new Xf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B2.type="LOCAL";const x7=B2;new Gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(t,e){return e?io(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw extends Qw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function S7(t){return b2(t.auth,new Jw(t),t.bypassAuthState)}function T7(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),JH(n,new Jw(t),t.bypassAuthState)}async function C7(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),YH(n,new Jw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S7;case"linkViaPopup":case"linkViaRedirect":return C7;case"reauthViaPopup":case"reauthViaRedirect":return T7;default:gi(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=new Gf(2e3,1e4);class vl extends U2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vl.currentPopupAction&&vl.currentPopupAction.cancel(),vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){go(this.filter.length===1,"Popup operations only handle one event");const e=Yw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D7.get())};e()}}vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7="pendingRedirect",bd=new Map;class b7 extends U2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bd.get(this.auth._key());if(!e){try{const r=await I7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I7(t,e){const n=L7(e),r=P7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function R7(t,e){bd.set(t._key(),e)}function P7(t){return io(t._redirectPersistence)}function L7(t){return Ad(A7,t.config.apiKey,t.name)}async function N7(t,e,n=!1){const r=Aa(t),i=k7(r,e),a=await new b7(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=10*60*1e3;class O7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!V2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F7&&this.cachedEventUids.clear(),this.cachedEventUids.has(UC(e))}saveEventToCache(e){this.cachedEventUids.add(UC(e)),this.lastProcessedEventTime=Date.now()}}function UC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function V2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function M7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B7(t,e={}){return _o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V7=/^https?/;async function z7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await B7(t);for(const n of e)try{if(j7(n))return}catch{}gi(t,"unauthorized-domain")}function j7(t){const e=f1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!V7.test(n))return!1;if(U7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=new Gf(3e4,6e4);function VC(){const t=Mi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function H7(t){return new Promise((e,n)=>{var r,i,s;function a(){VC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VC(),n(Oi(t,"network-request-failed"))},timeout:$7.get()})}if(!((i=(r=Mi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Mi().gapi)===null||s===void 0)&&s.load)a();else{const u=NH("iframefcb");return Mi()[u]=()=>{gapi.load?a():n(Oi(t,"network-request-failed"))},T2(`${LH()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Id=null,e})}let Id=null;function W7(t){return Id=Id||H7(t),Id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=new Gf(5e3,15e3),G7="__/auth/iframe",K7="emulator/auth/iframe",Q7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y7(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qw(e,K7):`https://${t.config.authDomain}/${G7}`,r={apiKey:e.apiKey,appName:t.name,v:ka},i=X7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Df(r).slice(1)}`}async function J7(t){const e=await W7(t),n=Mi().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:Y7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Oi(t,"network-request-failed"),u=Mi().setTimeout(()=>{s(a)},q7.get());function h(){Mi().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eW=500,tW=600,nW="_blank",rW="http://localhost";class zC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iW(t,e,n,r=eW,i=tW){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},Z7),{width:r.toString(),height:i.toString(),top:s,left:a}),p=dn().toLowerCase();n&&(u=y2(p)?nW:n),v2(p)&&(e=e||rW,h.scrollbars="yes");const m=Object.entries(h).reduce((_,[E,b])=>`${_}${E}=${b},`,"");if(kH(p)&&u!=="_self")return oW(e||"",u),new zC(null);const v=window.open(e||"",u,m);Ge(v,t,"popup-blocked");try{v.focus()}catch{}return new zC(v)}function oW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW="__/auth/handler",aW="emulator/auth/handler",lW=encodeURIComponent("fac");async function jC(t,e,n,r,i,s){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ka,eventId:i};if(e instanceof D2){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",o4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries(s||{}))a[m]=v}if(e instanceof Qf){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),p=h?`#${lW}=${encodeURIComponent(h)}`:"";return`${uW(t)}?${Df(u).slice(1)}${p}`}function uW({config:t}){return t.emulator?qw(t,aW):`https://${t.authDomain}/${sW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="webStorageSupport";class cW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N2,this._completeRedirectFn=N7,this._overrideRedirectResult=R7}async _openPopup(e,n,r,i){var s;go((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await jC(e,n,r,f1(),i);return iW(e,a,Yw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jC(e,n,r,f1(),i);return d7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(go(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await J7(e),r=new O7(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sy,{type:Sy},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Sy];a!==void 0&&n(!!a),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return k2()||Kw()||Wg()}}const fW=cW;var $C="@firebase/auth",HC="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pW(t){ha(new us("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S2(t)},p=new IH(r,i,s,h);return UH(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ha(new us("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(r=>new hW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi($C,HC,dW(t)),Pi($C,HC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=5*60,mW=bb("authIdTokenMaxAge")||gW;let WC=null;const vW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mW)return;const i=n==null?void 0:n.token;WC!==i&&(WC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yW(t=__()){const e=Xp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BH(t,{popupRedirectResolver:fW,persistence:[x7,c7,N2]}),r=bb("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=vW(r);o7(n,s,()=>s(n.currentUser)),i7(n,a=>s(a))}const i=Cb("auth");return i&&VH(n,`http://${i}`),n}function _W(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Oi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_W().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pW("Browser");const wW={apiKey:"AIzaSyDRlEoUYWIhC7karwr6ZLfB1hy-7LnBVg4",authDomain:"blog-3ad85.firebaseapp.com",projectId:"blog-3ad85",storageBucket:"blog-3ad85.appspot.com",messagingSenderId:"1047345580916",appId:"1:1047345580916:web:7d357fd6c040b579e6fa21"},Zw=Nb(wW),bp=yW(Zw),ao=aV(Zw),EW=X8(Zw),p1=({tags:t})=>Q.jsx("div",{children:Q.jsx("div",{className:"tags",children:t==null?void 0:t.map((e,n)=>Q.jsx("p",{className:"tag",children:Q.jsx(Gs,{to:`/tag/${e}`,style:{textDecoration:"none",color:"black"},children:e})},n))})}),z2=({blogs:t,title:e})=>{const n=Jl();return Q.jsxs("div",{children:[Q.jsx("div",{className:"blog-heading text-start pt-3 py-2 mb-4",children:e}),t==null?void 0:t.map(r=>Q.jsxs("div",{className:"row pb-3",style:{cursor:"pointer"},onClick:()=>n(`/detail/${r.id}`),children:[Q.jsx("div",{className:"col-5 align-self-center",children:r.imgUrl?Q.jsx("img",{src:r.imgUrl,alt:r.title,className:"most-popular-img"}):Q.jsx("div",{style:{backgroundColor:"gray",height:"80px",opacity:"0.4"}})}),Q.jsxs("div",{className:"col-7 padding",children:[Q.jsx("div",{className:"text-start most-popular-font",children:r.title}),Q.jsx("div",{className:"text-start most-popular-font-meta",children:r.timestamp.toDate().toDateString()})]})]},r.id))]})};function j2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=j2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ko(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=j2(t))&&(r&&(r+=" "),r+=e);return r}const mf=t=>typeof t=="number"&&!isNaN(t),ra=t=>typeof t=="string",Pr=t=>typeof t=="function",Rd=t=>ra(t)||Pr(t)?t:null,g1=t=>oe.isValidElement(t)||ra(t)||Pr(t)||mf(t);function xW(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Qg(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(a){let{children:u,position:h,preventExitTransition:p,done:m,nodeRef:v,isIn:_,playToast:E}=a;const b=r?`${e}--${h}`:e,I=r?`${n}--${h}`:n,P=oe.useRef(0);return oe.useLayoutEffect(()=>{const T=v.current,C=b.split(" "),D=N=>{N.target===v.current&&(E(),T.removeEventListener("animationend",D),T.removeEventListener("animationcancel",D),P.current===0&&N.type!=="animationcancel"&&T.classList.remove(...C))};T.classList.add(...C),T.addEventListener("animationend",D),T.addEventListener("animationcancel",D)},[]),oe.useEffect(()=>{const T=v.current,C=()=>{T.removeEventListener("animationend",C),i?xW(T,m,s):m()};_||(p?C():(P.current=1,T.className+=` ${I}`,T.addEventListener("animationend",C)))},[_]),$e.createElement($e.Fragment,null,u)}}function qC(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const lr=new Map;let vf=[];const m1=new Set,kW=t=>m1.forEach(e=>e(t)),$2=()=>lr.size>0;function H2(t,e){var n;if(e)return!((n=lr.get(e))==null||!n.isToastActive(t));let r=!1;return lr.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function W2(t,e){g1(t)&&($2()||vf.push({content:t,options:e}),lr.forEach(n=>{n.buildToast(t,e)}))}function GC(t,e){lr.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function SW(t){const{subscribe:e,getSnapshot:n,setProps:r}=oe.useRef(function(s){const a=s.containerId||1;return{subscribe(u){const h=function(m,v,_){let E=1,b=0,I=[],P=[],T=[],C=v;const D=new Map,N=new Set,O=()=>{T=Array.from(D.values()),N.forEach(H=>H())},L=H=>{P=H==null?[]:P.filter(J=>J!==H),O()},M=H=>{const{toastId:J,onOpen:le,updateId:K,children:se}=H.props,we=K==null;H.staleId&&D.delete(H.staleId),D.set(J,H),P=[...P,H.props.toastId].filter(ve=>ve!==H.staleId),O(),_(qC(H,we?"added":"updated")),we&&Pr(le)&&le(oe.isValidElement(se)&&se.props)};return{id:m,props:C,observe:H=>(N.add(H),()=>N.delete(H)),toggle:(H,J)=>{D.forEach(le=>{J!=null&&J!==le.props.toastId||Pr(le.toggle)&&le.toggle(H)})},removeToast:L,toasts:D,clearQueue:()=>{b-=I.length,I=[]},buildToast:(H,J)=>{if((z=>{let{containerId:w,toastId:ee,updateId:Ve}=z;const Te=w?w!==m:m!==1,rt=D.has(ee)&&Ve==null;return Te||rt})(J))return;const{toastId:le,updateId:K,data:se,staleId:we,delay:ve}=J,$=()=>{L(le)},ae=K==null;ae&&b++;const re={...C,style:C.toastStyle,key:E++,...Object.fromEntries(Object.entries(J).filter(z=>{let[w,ee]=z;return ee!=null})),toastId:le,updateId:K,data:se,closeToast:$,isIn:!1,className:Rd(J.className||C.toastClassName),bodyClassName:Rd(J.bodyClassName||C.bodyClassName),progressClassName:Rd(J.progressClassName||C.progressClassName),autoClose:!J.isLoading&&(te=J.autoClose,ue=C.autoClose,te===!1||mf(te)&&te>0?te:ue),deleteToast(){const z=D.get(le),{onClose:w,children:ee}=z.props;Pr(w)&&w(oe.isValidElement(ee)&&ee.props),_(qC(z,"removed")),D.delete(le),b--,b<0&&(b=0),I.length>0?M(I.shift()):O()}};var te,ue;re.closeButton=C.closeButton,J.closeButton===!1||g1(J.closeButton)?re.closeButton=J.closeButton:J.closeButton===!0&&(re.closeButton=!g1(C.closeButton)||C.closeButton);let B=H;oe.isValidElement(H)&&!ra(H.type)?B=oe.cloneElement(H,{closeToast:$,toastProps:re,data:se}):Pr(H)&&(B=H({closeToast:$,toastProps:re,data:se}));const je={content:B,props:re,staleId:we};C.limit&&C.limit>0&&b>C.limit&&ae?I.push(je):mf(ve)?setTimeout(()=>{M(je)},ve):M(je)},setProps(H){C=H},setToggle:(H,J)=>{D.get(H).toggle=J},isToastActive:H=>P.some(J=>J===H),getSnapshot:()=>C.newestOnTop?T.reverse():T}}(a,s,kW);lr.set(a,h);const p=h.observe(u);return vf.forEach(m=>W2(m.content,m.options)),vf=[],()=>{p(),lr.delete(a)}},setProps(u){var h;(h=lr.get(a))==null||h.setProps(u)},getSnapshot(){var u;return(u=lr.get(a))==null?void 0:u.getSnapshot()}}}(t)).current;r(t);const i=oe.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const a=new Map;return i.forEach(u=>{const{position:h}=u.props;a.has(h)||a.set(h,[]),a.get(h).push(u)}),Array.from(a,u=>s(u[0],u[1]))},isToastActive:H2,count:i==null?void 0:i.length}}function TW(t){const[e,n]=oe.useState(!1),[r,i]=oe.useState(!1),s=oe.useRef(null),a=oe.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:h,closeToast:p,onClick:m,closeOnClick:v}=t;var _,E;function b(){n(!0)}function I(){n(!1)}function P(D){const N=s.current;a.canDrag&&N&&(a.didMove=!0,e&&I(),a.delta=t.draggableDirection==="x"?D.clientX-a.start:D.clientY-a.start,a.start!==D.clientX&&(a.canCloseOnClick=!1),N.style.transform=`translate3d(${t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,N.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function T(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",T);const D=s.current;if(a.canDrag&&a.didMove&&D){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}(E=lr.get((_={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||E.setToggle(_.id,_.fn),oe.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||I(),window.addEventListener("focus",b),window.addEventListener("blur",I),()=>{window.removeEventListener("focus",b),window.removeEventListener("blur",I)}},[t.pauseOnFocusLoss]);const C={onPointerDown:function(D){if(t.draggable===!0||t.draggable===D.pointerType){a.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",T);const N=s.current;a.canCloseOnClick=!0,a.canDrag=!0,N.style.transition="none",t.draggableDirection==="x"?(a.start=D.clientX,a.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(a.start=D.clientY,a.removalDistance=N.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(D){const{top:N,bottom:O,left:L,right:M}=s.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&t.pauseOnHover&&D.clientX>=L&&D.clientX<=M&&D.clientY>=N&&D.clientY<=O?I():b()}};return u&&h&&(C.onMouseEnter=I,t.stacked||(C.onMouseLeave=b)),v&&(C.onClick=D=>{m&&m(D),a.canCloseOnClick&&p()}),{playToast:b,pauseToast:I,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:C}}function CW(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:a,style:u,controlledProgress:h,progress:p,rtl:m,isIn:v,theme:_}=t;const E=s||h&&p===0,b={...u,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};h&&(b.transform=`scaleX(${p})`);const I=Ko("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":m}),P=Pr(a)?a({rtl:m,type:i,defaultClassName:I}):Ko(I,a),T={[h&&p>=1?"onTransitionEnd":"onAnimationEnd"]:h&&p<1?null:()=>{v&&r()}};return $e.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},$e.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${i}`}),$e.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:P,style:b,...T}))}let DW=1;const q2=()=>""+DW++;function AW(t){return t&&(ra(t.toastId)||mf(t.toastId))?t.toastId:q2()}function Ac(t,e){return W2(t,e),e.toastId}function Ip(t,e){return{...e,type:e&&e.type||t,toastId:AW(e)}}function sd(t){return(e,n)=>Ac(e,Ip(t,n))}function ut(t,e){return Ac(t,Ip("default",e))}ut.loading=(t,e)=>Ac(t,Ip("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ut.promise=function(t,e,n){let r,{pending:i,error:s,success:a}=e;i&&(r=ra(i)?ut.loading(i,n):ut.loading(i.render,{...n,...i}));const u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(m,v,_)=>{if(v==null)return void ut.dismiss(r);const E={type:m,...u,...n,data:_},b=ra(v)?{render:v}:v;return r?ut.update(r,{...E,...b}):ut(b.render,{...E,...b}),_},p=Pr(t)?t():t;return p.then(m=>h("success",a,m)).catch(m=>h("error",s,m)),p},ut.success=sd("success"),ut.info=sd("info"),ut.error=sd("error"),ut.warning=sd("warning"),ut.warn=ut.warning,ut.dark=(t,e)=>Ac(t,Ip("default",{theme:"dark",...e})),ut.dismiss=function(t){(function(e){var n;if($2()){if(e==null||ra(n=e)||mf(n))lr.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=lr.get(e.containerId);r?r.removeToast(e.id):lr.forEach(i=>{i.removeToast(e.id)})}}else vf=vf.filter(r=>e!=null&&r.options.toastId!==e)})(t)},ut.clearWaitingQueue=function(t){t===void 0&&(t={}),lr.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ut.isActive=H2,ut.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:a}=i;return(s=lr.get(a||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:q2()};s.toastId!==t&&(s.staleId=t);const a=s.render||i;delete s.render,Ac(a,s)}},ut.done=t=>{ut.update(t,{progress:1})},ut.onChange=function(t){return m1.add(t),()=>{m1.delete(t)}},ut.play=t=>GC(!0,t),ut.pause=t=>GC(!1,t);const bW=typeof window<"u"?oe.useLayoutEffect:oe.useEffect,ad=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return $e.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Ty={info:function(t){return $e.createElement(ad,{...t},$e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return $e.createElement(ad,{...t},$e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return $e.createElement(ad,{...t},$e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return $e.createElement(ad,{...t},$e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return $e.createElement("div",{className:"Toastify__spinner"})}},IW=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=TW(t),{closeButton:a,children:u,autoClose:h,onClick:p,type:m,hideProgressBar:v,closeToast:_,transition:E,position:b,className:I,style:P,bodyClassName:T,bodyStyle:C,progressClassName:D,progressStyle:N,updateId:O,role:L,progress:M,rtl:H,toastId:J,deleteToast:le,isIn:K,isLoading:se,closeOnClick:we,theme:ve}=t,$=Ko("Toastify__toast",`Toastify__toast-theme--${ve}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":H},{"Toastify__toast--close-on-click":we}),ae=Pr(I)?I({rtl:H,position:b,type:m,defaultClassName:$}):Ko($,I),re=function(je){let{theme:z,type:w,isLoading:ee,icon:Ve}=je,Te=null;const rt={theme:z,type:w};return Ve===!1||(Pr(Ve)?Te=Ve({...rt,isLoading:ee}):oe.isValidElement(Ve)?Te=oe.cloneElement(Ve,rt):ee?Te=Ty.spinner():(Et=>Et in Ty)(w)&&(Te=Ty[w](rt))),Te}(t),te=!!M||!h,ue={closeToast:_,type:m,theme:ve};let B=null;return a===!1||(B=Pr(a)?a(ue):oe.isValidElement(a)?oe.cloneElement(a,ue):function(je){let{closeToast:z,theme:w,ariaLabel:ee="close"}=je;return $e.createElement("button",{className:`Toastify__close-button Toastify__close-button--${w}`,type:"button",onClick:Ve=>{Ve.stopPropagation(),z(Ve)},"aria-label":ee},$e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},$e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(ue)),$e.createElement(E,{isIn:K,done:le,position:b,preventExitTransition:n,nodeRef:r,playToast:s},$e.createElement("div",{id:J,onClick:p,"data-in":K,className:ae,...i,style:P,ref:r},$e.createElement("div",{...K&&{role:L},className:Pr(T)?T({type:m}):Ko("Toastify__toast-body",T),style:C},re!=null&&$e.createElement("div",{className:Ko("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!se})},re),$e.createElement("div",null,u)),B,$e.createElement(CW,{...O&&!te?{key:`pb-${O}`}:{},rtl:H,theme:ve,delay:h,isRunning:e,isIn:K,closeToast:_,hide:v,type:m,style:N,className:D,controlledProgress:te,progress:M||0})))},Xg=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},RW=Qg(Xg("bounce",!0));Qg(Xg("slide",!0));Qg(Xg("zoom"));Qg(Xg("flip"));const PW={position:"top-right",transition:RW,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function LW(t){let e={...PW,...t};const n=t.stacked,[r,i]=oe.useState(!0),s=oe.useRef(null),{getToastToRender:a,isToastActive:u,count:h}=SW(e),{className:p,style:m,rtl:v,containerId:_}=e;function E(I){const P=Ko("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":v});return Pr(p)?p({position:I,rtl:v,defaultClassName:P}):Ko(P,Rd(p))}function b(){n&&(i(!0),ut.play())}return bW(()=>{if(n){var I;const P=s.current.querySelectorAll('[data-in="true"]'),T=12,C=(I=e.position)==null?void 0:I.includes("top");let D=0,N=0;Array.from(P).reverse().forEach((O,L)=>{const M=O;M.classList.add("Toastify__toast--stacked"),L>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=C?"top":"bot");const H=D*(r?.2:1)+(r?0:T*L);M.style.setProperty("--y",`${C?H:-1*H}px`),M.style.setProperty("--g",`${T}`),M.style.setProperty("--s",""+(1-(r?N:0))),D+=M.offsetHeight,N+=.025})}},[r,h,n]),$e.createElement("div",{ref:s,className:"Toastify",id:_,onMouseEnter:()=>{n&&(i(!1),ut.pause())},onMouseLeave:b},a((I,P)=>{const T=P.length?{...m}:{...m,pointerEvents:"none"};return $e.createElement("div",{className:E(I),style:T,key:`container-${I}`},P.map(C=>{let{content:D,props:N}=C;return $e.createElement(IW,{...N,stacked:n,collapseAll:b,isIn:u(N.toastId,N.containerId),style:N.style,key:`toast-${N.key}`},D)}))}))}const ia={position:"top-center",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"};function NW({setActive:t,user:e,active:n}){const[r,i]=oe.useState(!0),[s,a]=oe.useState([]),[u,h]=oe.useState(null);if(oe.useEffect(()=>{const m=SV(hf(ao,"blogs"),v=>{let _=[],E=[];v.docs.forEach(I=>{E.push(...I.get("tags")),_.push({id:I.id,...I.data()})});const b=[...new Set(E)];a(b),h(_),i(!1),t("home")},v=>{console.log(v)});return()=>{m()}},[t,n]),r)return Q.jsx($P,{});const p=async m=>{if(window.confirm("   ?"))try{i(!0),await xV(df(ao,"blogs",m)),ut.success(" ",ia),i(!1)}catch(v){console.log(v)}};return Q.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:Q.jsx("div",{className:"container padding",children:Q.jsxs("div",{className:"row mx-0",style:{display:"flex",justifyContent:"space-between"},children:[Q.jsxs("div",{className:"col-md-8",children:[Q.jsx("div",{className:"blog-heading text-start py-2 mb-4",children:""}),u.length===0&&Q.jsx("h4",{children:" "}),u==null?void 0:u.map(m=>Q.jsx(jP,{user:e,handleDelete:p,...m},m.id))]}),Q.jsxs("div",{className:"col-md-3",children:[Q.jsx("div",{className:"blog-heading text-start py-2 mb-4",children:""}),Q.jsx(p1,{tags:s}),Q.jsx(z2,{title:" ",blogs:u})]})]})})})}function FW({setActive:t,user:e}){e==null||e.uid;const{id:n}=m_(),[r,i]=oe.useState(!1),[s,a]=oe.useState(null),[u,h]=oe.useState([]),[p,m]=oe.useState([]);oe.useEffect(()=>{(async()=>{const E=hf(ao,"blogs"),b=Z0(E,vV("timestamp","desc"),IT(5)),I=await Sd(b);h(I.docs.map(P=>({id:P.id,...P.data()})))})()},[]);const v=async()=>{i(!0);const _=hf(ao,"blogs"),E=df(ao,"blogs",n),b=await eP(E),I=await Sd(_);let P=[];I.docs.map(O=>P.push(...O.get("tags")));let T=[...new Set(P)];m(T),a(b.data());const C=Z0(_,XR("tags","array-contains-any",b.data().tags,IT(3))),D=await Sd(C),N=[];D.forEach(O=>{N.push({id:O.id,...O.data()})}),t(null),i(!1)};return oe.useEffect(()=>{n&&v()},[n]),Q.jsxs("div",{className:"single",children:[Q.jsxs("div",{className:"blog-title-box",style:{backgroundImage:`url('${s==null?void 0:s.imgUrl}')`},children:[Q.jsx("div",{className:"overlay"}),Q.jsxs("div",{className:"blog-title",children:[Q.jsx("span",{children:s==null?void 0:s.timestamp.toDate().toDateString()}),Q.jsx("h2",{children:s==null?void 0:s.title})]})]}),Q.jsx("div",{className:"container-fluid pb-4 pt-4 padding blog-single-content",children:Q.jsx("div",{className:"container padding",children:Q.jsxs("div",{className:"row",style:{width:"100%;",display:"flex",justifyContent:"space-between"},children:[Q.jsxs("div",{className:"col-md-8 details-description",children:[Q.jsxs("span",{className:"meta-info",children:[" ",Q.jsx("p",{className:"author",children:s==null?void 0:s.author})," -",s==null?void 0:s.timestamp.toDate().toDateString()]}),Q.jsx($g,{children:s==null?void 0:s.description}),Q.jsx("div",{className:"",children:Q.jsx(p1,{tags:s==null?void 0:s.tags})}),Q.jsx("br",{})]}),Q.jsxs("div",{className:"col-md-3",children:[Q.jsx("div",{className:"blog-heading  py-2 mb-4",children:""}),Q.jsx(p1,{tags:p}),Q.jsx(z2,{title:"Recent Blogs",blogs:u})]})]})})})]})}var Oo={wrapper:"react-tag-input",input:"react-tag-input__input",tag:"react-tag-input__tag",tagContent:"react-tag-input__tag__content",tagRemove:"react-tag-input__tag__remove",tagRemoveReadOnly:"react-tag-input__tag__remove-readonly"};function OW(t){return t.replace(/(\r\n|\n|\r)/gm,"")}var MW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function BW(t){return String(t).replace(/[&<>"'`=\/]/g,function(e){return MW[e]})}function KC(t){return BW(OW(t))}var UW=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),VW=function(t){UW(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.focused=!1,n.removed=!1,n.preFocusedValue="",n.onPaste=function(r){r.preventDefault();var i=r.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,KC(i))},n.onFocus=function(){n.preFocusedValue=n.getValue(),n.focused=!0},n.onBlur=function(){n.focused=!1;var r=n.props.innerEditableRef.current,i=n.props,s=i.validator,a=i.change;if(!n.removed&&r){if(r.innerText===""){n.props.remove();return}if(s){var u=s(n.getValue());if(!u){r.innerText=n.preFocusedValue;return}}a(r.innerText)}},n.onKeyDown=function(r){if(r.keyCode===13){r.preventDefault(),n.focusInputRef();return}var i=n.props.removeOnBackspace,s=n.getValue();if(i&&r.keyCode===8&&s===""){n.removed=!0,n.props.remove(),n.focusInputRef();return}},n.getValue=function(){var r=n.getRef();return r?r.innerText:""},n.getRef=function(){return n.props.innerEditableRef.current},n.focusInputRef=function(){var r=n.props.inputRef;r&&r.current&&r.current.focus()},n}return e.prototype.componentDidMount=function(){this.preFocusedValue=this.getValue()},e.prototype.render=function(){var n=this.props,r=n.value,i=n.className,s=n.innerEditableRef;return $e.createElement("div",{ref:s,className:i,contentEditable:!0,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,dangerouslySetInnerHTML:{__html:KC(r)}})},e}($e.Component),zW=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jW=function(t){zW(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.innerEditableRef=$e.createRef(),n.remove=function(){return n.props.remove(n.props.index)},n}return e.prototype.render=function(){var n=this.props,r=n.value,i=n.index,s=n.editable,a=n.inputRef,u=n.validator,h=n.update,p=n.readOnly,m=n.removeOnBackspace,v=p?Oo.tagRemove+" "+Oo.tagRemoveReadOnly:Oo.tagRemove;return $e.createElement("div",{className:Oo.tag},!s&&$e.createElement("div",{className:Oo.tagContent},r),s&&$e.createElement(VW,{value:r,inputRef:a,innerEditableRef:this.innerEditableRef,className:Oo.tagContent,change:function(_){return h(i,_)},remove:this.remove,validator:u,removeOnBackspace:m}),$e.createElement("div",{className:v,onClick:this.remove}))},e}($e.Component),$W=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),HW=function(t){$W(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={input:""},n.inputRef=$e.createRef(),n.onInputChange=function(r){n.setState({input:r.target.value})},n.onInputKeyDown=function(r){var i=n.state.input,s=n.props,a=s.validator,u=s.removeOnBackspace;if(r.keyCode===13){if(r.preventDefault(),i==="")return;var h=a!==void 0?a(i):!0;if(!h)return;n.addTag(i)}else if(u&&(r.keyCode===8||r.keyCode===46)){if(i!=="")return;n.removeTag(n.props.tags.length-1)}},n.addTag=function(r){var i=n.props.tags.slice();i.push(r),n.props.onChange(i),n.setState({input:""})},n.removeTag=function(r){var i=n.props.tags.slice();i.splice(r,1),n.props.onChange(i)},n.updateTag=function(r,i){var s=n.props.tags.slice();s[r]=i,n.props.onChange(s)},n}return e.prototype.render=function(){var n=this,r=this.state.input,i=this.props,s=i.tags,a=i.placeholder,u=i.maxTags,h=i.editable,p=i.readOnly,m=i.validator,v=i.removeOnBackspace,_=u!==void 0?s.length>=u:!1,E=p?!1:h||!1,b=!p&&!_;return $e.createElement("div",{className:Oo.wrapper},s.map(function(I,P){return $e.createElement(jW,{key:P,value:I,index:P,editable:E,readOnly:p||!1,inputRef:n.inputRef,update:n.updateTag,remove:n.removeTag,validator:m,removeOnBackspace:v})}),b&&$e.createElement("input",{ref:this.inputRef,value:r,className:Oo.input,placeholder:a||"Type and press enter",onChange:this.onInputChange,onKeyDown:this.onInputKeyDown}))},e}($e.Component);const WW=HW;var G2={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(pF,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),s=/MSIE \d/.test(n),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),u=/Edge\/(\d+)/.exec(n),h=s||a||u,p=h&&(s?document.documentMode||6:+(u||a)[1]),m=!u&&/WebKit\//.test(n),v=m&&/Qt\/\d+\.\d+/.test(n),_=!u&&/Chrome\/(\d+)/.exec(n),E=_&&+_[1],b=/Opera\//.test(n),I=/Apple Computer/.test(navigator.vendor),P=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),T=/PhantomJS/.test(n),C=I&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),D=/Android/.test(n),N=C||D||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),O=C||/Mac/.test(r),L=/\bCrOS\b/.test(n),M=/win/i.test(r),H=b&&n.match(/Version\/(\d*\.\d*)/);H&&(H=Number(H[1])),H&&H>=15&&(b=!1,m=!0);var J=O&&(v||b&&(H==null||H<12.11)),le=i||h&&p>=9;function K(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var se=function(o,l){var f=o.className,c=K(l).exec(f);if(c){var d=f.slice(c.index+c[0].length);o.className=f.slice(0,c.index)+(d?c[1]+d:"")}};function we(o){for(var l=o.childNodes.length;l>0;--l)o.removeChild(o.firstChild);return o}function ve(o,l){return we(o).appendChild(l)}function $(o,l,f,c){var d=document.createElement(o);if(f&&(d.className=f),c&&(d.style.cssText=c),typeof l=="string")d.appendChild(document.createTextNode(l));else if(l)for(var g=0;g<l.length;++g)d.appendChild(l[g]);return d}function ae(o,l,f,c){var d=$(o,l,f,c);return d.setAttribute("role","presentation"),d}var re;document.createRange?re=function(o,l,f,c){var d=document.createRange();return d.setEnd(c||o,f),d.setStart(o,l),d}:re=function(o,l,f){var c=document.body.createTextRange();try{c.moveToElementText(o.parentNode)}catch{return c}return c.collapse(!0),c.moveEnd("character",f),c.moveStart("character",l),c};function te(o,l){if(l.nodeType==3&&(l=l.parentNode),o.contains)return o.contains(l);do if(l.nodeType==11&&(l=l.host),l==o)return!0;while(l=l.parentNode)}function ue(o){var l=o.ownerDocument||o,f;try{f=o.activeElement}catch{f=l.body||null}for(;f&&f.shadowRoot&&f.shadowRoot.activeElement;)f=f.shadowRoot.activeElement;return f}function B(o,l){var f=o.className;K(l).test(f)||(o.className+=(f?" ":"")+l)}function je(o,l){for(var f=o.split(" "),c=0;c<f.length;c++)f[c]&&!K(f[c]).test(l)&&(l+=" "+f[c]);return l}var z=function(o){o.select()};C?z=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:h&&(z=function(o){try{o.select()}catch{}});function w(o){return o.display.wrapper.ownerDocument}function ee(o){return Ve(o.display.wrapper)}function Ve(o){return o.getRootNode?o.getRootNode():o.ownerDocument}function Te(o){return w(o).defaultView}function rt(o){var l=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,l)}}function Et(o,l,f){l||(l={});for(var c in o)o.hasOwnProperty(c)&&(f!==!1||!l.hasOwnProperty(c))&&(l[c]=o[c]);return l}function gt(o,l,f,c,d){l==null&&(l=o.search(/[^\s\u00a0]/),l==-1&&(l=o.length));for(var g=c||0,y=d||0;;){var x=o.indexOf("	",g);if(x<0||x>=l)return y+(l-g);y+=x-g,y+=f-y%f,g=x+1}}var Ct=function(){this.id=null,this.f=null,this.time=0,this.handler=rt(this.onTimeout,this)};Ct.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},Ct.prototype.set=function(o,l){this.f=l;var f=+new Date+o;(!this.id||f<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=f)};function it(o,l){for(var f=0;f<o.length;++f)if(o[f]==l)return f;return-1}var ft=50,Ut={toString:function(){return"CodeMirror.Pass"}},on={scroll:!1},Fe={origin:"*mouse"},Zn={origin:"+move"};function er(o,l,f){for(var c=0,d=0;;){var g=o.indexOf("	",c);g==-1&&(g=o.length);var y=g-c;if(g==o.length||d+y>=l)return c+Math.min(y,l-d);if(d+=g-c,d+=f-d%f,c=g+1,d>=l)return c}}var Un=[""];function Ur(o){for(;Un.length<=o;)Un.push(nt(Un)+" ");return Un[o]}function nt(o){return o[o.length-1]}function Vn(o,l){for(var f=[],c=0;c<o.length;c++)f[c]=l(o[c],c);return f}function Vr(o,l,f){for(var c=0,d=f(l);c<o.length&&f(o[c])<=d;)c++;o.splice(c,0,l)}function wo(){}function Y(o,l){var f;return Object.create?f=Object.create(o):(wo.prototype=o,f=new wo),l&&Et(l,f),f}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function G(o){return/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||Z.test(o))}function S(o,l){return l?l.source.indexOf("\\w")>-1&&G(o)?!0:l.test(o):G(o)}function R(o){for(var l in o)if(o.hasOwnProperty(l)&&o[l])return!1;return!0}var U=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function V(o){return o.charCodeAt(0)>=768&&U.test(o)}function W(o,l,f){for(;(f<0?l>0:l<o.length)&&V(o.charAt(l));)l+=f;return l}function ge(o,l,f){for(var c=l>f?-1:1;;){if(l==f)return l;var d=(l+f)/2,g=c<0?Math.ceil(d):Math.floor(d);if(g==l)return o(g)?l:f;o(g)?f=g:l=g+c}}function Se(o,l,f,c){if(!o)return c(l,f,"ltr",0);for(var d=!1,g=0;g<o.length;++g){var y=o[g];(y.from<f&&y.to>l||l==f&&y.to==l)&&(c(Math.max(y.from,l),Math.min(y.to,f),y.level==1?"rtl":"ltr",g),d=!0)}d||c(l,f,"ltr")}var ke=null;function Re(o,l,f){var c;ke=null;for(var d=0;d<o.length;++d){var g=o[d];if(g.from<l&&g.to>l)return d;g.to==l&&(g.from!=g.to&&f=="before"?c=d:ke=d),g.from==l&&(g.from!=g.to&&f!="before"?c=d:ke=d)}return c??ke}var Me=function(){var o="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",l="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function f(A){return A<=247?o.charAt(A):1424<=A&&A<=1524?"R":1536<=A&&A<=1785?l.charAt(A-1536):1774<=A&&A<=2220?"r":8192<=A&&A<=8203?"w":A==8204?"b":"L"}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,d=/[stwN]/,g=/[LRr]/,y=/[Lb1n]/,x=/[1n]/;function k(A,F,j){this.level=A,this.from=F,this.to=j}return function(A,F){var j=F=="ltr"?"L":"R";if(A.length==0||F=="ltr"&&!c.test(A))return!1;for(var X=A.length,q=[],ie=0;ie<X;++ie)q.push(f(A.charCodeAt(ie)));for(var ce=0,me=j;ce<X;++ce){var Ee=q[ce];Ee=="m"?q[ce]=me:me=Ee}for(var Ce=0,xe=j;Ce<X;++Ce){var Ie=q[Ce];Ie=="1"&&xe=="r"?q[Ce]="n":g.test(Ie)&&(xe=Ie,Ie=="r"&&(q[Ce]="R"))}for(var Ue=1,Oe=q[0];Ue<X-1;++Ue){var et=q[Ue];et=="+"&&Oe=="1"&&q[Ue+1]=="1"?q[Ue]="1":et==","&&Oe==q[Ue+1]&&(Oe=="1"||Oe=="n")&&(q[Ue]=Oe),Oe=et}for(var Tt=0;Tt<X;++Tt){var vn=q[Tt];if(vn==",")q[Tt]="N";else if(vn=="%"){var zt=void 0;for(zt=Tt+1;zt<X&&q[zt]=="%";++zt);for(var gr=Tt&&q[Tt-1]=="!"||zt<X&&q[zt]=="1"?"1":"N",rr=Tt;rr<zt;++rr)q[rr]=gr;Tt=zt-1}}for(var en=0,ir=j;en<X;++en){var kn=q[en];ir=="L"&&kn=="1"?q[en]="L":g.test(kn)&&(ir=kn)}for(var an=0;an<X;++an)if(d.test(q[an])){var tn=void 0;for(tn=an+1;tn<X&&d.test(q[tn]);++tn);for(var $t=(an?q[an-1]:j)=="L",or=(tn<X?q[tn]:j)=="L",Ka=$t==or?$t?"L":"R":j,Io=an;Io<tn;++Io)q[Io]=Ka;an=tn-1}for(var In=[],wi,yn=0;yn<X;)if(y.test(q[yn])){var yv=yn;for(++yn;yn<X&&y.test(q[yn]);++yn);In.push(new k(0,yv,yn))}else{var Qi=yn,Ms=In.length,Bs=F=="rtl"?1:0;for(++yn;yn<X&&q[yn]!="L";++yn);for(var jn=Qi;jn<yn;)if(x.test(q[jn])){Qi<jn&&(In.splice(Ms,0,new k(1,Qi,jn)),Ms+=Bs);var Qa=jn;for(++jn;jn<yn&&x.test(q[jn]);++jn);In.splice(Ms,0,new k(2,Qa,jn)),Ms+=Bs,Qi=jn}else++jn;Qi<yn&&In.splice(Ms,0,new k(1,Qi,yn))}return F=="ltr"&&(In[0].level==1&&(wi=A.match(/^\s+/))&&(In[0].from=wi[0].length,In.unshift(new k(0,0,wi[0].length))),nt(In).level==1&&(wi=A.match(/\s+$/))&&(nt(In).to-=wi[0].length,In.push(new k(0,X-wi[0].length,X)))),F=="rtl"?In.reverse():In}}();function pe(o,l){var f=o.order;return f==null&&(f=o.order=Me(o.text,l)),f}var Be=[],ne=function(o,l,f){if(o.addEventListener)o.addEventListener(l,f,!1);else if(o.attachEvent)o.attachEvent("on"+l,f);else{var c=o._handlers||(o._handlers={});c[l]=(c[l]||Be).concat(f)}};function mt(o,l){return o._handlers&&o._handlers[l]||Be}function ht(o,l,f){if(o.removeEventListener)o.removeEventListener(l,f,!1);else if(o.detachEvent)o.detachEvent("on"+l,f);else{var c=o._handlers,d=c&&c[l];if(d){var g=it(d,f);g>-1&&(c[l]=d.slice(0,g).concat(d.slice(g+1)))}}}function dt(o,l){var f=mt(o,l);if(f.length)for(var c=Array.prototype.slice.call(arguments,2),d=0;d<f.length;++d)f[d].apply(null,c)}function Xe(o,l,f){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),dt(o,f||l.type,o,l),$i(l)||l.codemirrorIgnore}function sn(o){var l=o._handlers&&o._handlers.cursorActivity;if(l)for(var f=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),c=0;c<l.length;++c)it(f,l[c])==-1&&f.push(l[c])}function xn(o,l){return mt(o,l).length>0}function zr(o){o.prototype.on=function(l,f){ne(this,l,f)},o.prototype.off=function(l,f){ht(this,l,f)}}function Vt(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function ji(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function $i(o){return o.defaultPrevented!=null?o.defaultPrevented:o.returnValue==!1}function ei(o){Vt(o),ji(o)}function cu(o){return o.target||o.srcElement}function Eo(o){var l=o.which;return l==null&&(o.button&1?l=1:o.button&2?l=3:o.button&4&&(l=2)),O&&o.ctrlKey&&l==1&&(l=3),l}var oL=function(){if(h&&p<9)return!1;var o=$("div");return"draggable"in o||"dragDrop"in o}(),mm;function sL(o){if(mm==null){var l=$("span","");ve(o,$("span",[l,document.createTextNode("x")])),o.firstChild.offsetHeight!=0&&(mm=l.offsetWidth<=1&&l.offsetHeight>2&&!(h&&p<8))}var f=mm?$("span",""):$("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return f.setAttribute("cm-text",""),f}var vm;function aL(o){if(vm!=null)return vm;var l=ve(o,document.createTextNode("AA")),f=re(l,0,1).getBoundingClientRect(),c=re(l,1,2).getBoundingClientRect();return we(o),!f||f.left==f.right?!1:vm=c.right-f.right<3}var ym=`

b`.split(/\n/).length!=3?function(o){for(var l=0,f=[],c=o.length;l<=c;){var d=o.indexOf(`
`,l);d==-1&&(d=o.length);var g=o.slice(l,o.charAt(d-1)=="\r"?d-1:d),y=g.indexOf("\r");y!=-1?(f.push(g.slice(0,y)),l+=y+1):(f.push(g),l=d+1)}return f}:function(o){return o.split(/\r\n?|\n/)},lL=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var l;try{l=o.ownerDocument.selection.createRange()}catch{}return!l||l.parentElement()!=o?!1:l.compareEndPoints("StartToEnd",l)!=0},uL=function(){var o=$("div");return"oncopy"in o?!0:(o.setAttribute("oncopy","return;"),typeof o.oncopy=="function")}(),_m=null;function cL(o){if(_m!=null)return _m;var l=ve(o,$("span","x")),f=l.getBoundingClientRect(),c=re(l,0,1).getBoundingClientRect();return _m=Math.abs(f.left-c.left)>1}var wm={},ba={};function fL(o,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),wm[o]=l}function hL(o,l){ba[o]=l}function Yf(o){if(typeof o=="string"&&ba.hasOwnProperty(o))o=ba[o];else if(o&&typeof o.name=="string"&&ba.hasOwnProperty(o.name)){var l=ba[o.name];typeof l=="string"&&(l={name:l}),o=Y(l,o),o.name=l.name}else{if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return Yf("application/xml");if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return Yf("application/json")}return typeof o=="string"?{name:o}:o||{name:"null"}}function Em(o,l){l=Yf(l);var f=wm[l.name];if(!f)return Em(o,"text/plain");var c=f(o,l);if(Ia.hasOwnProperty(l.name)){var d=Ia[l.name];for(var g in d)d.hasOwnProperty(g)&&(c.hasOwnProperty(g)&&(c["_"+g]=c[g]),c[g]=d[g])}if(c.name=l.name,l.helperType&&(c.helperType=l.helperType),l.modeProps)for(var y in l.modeProps)c[y]=l.modeProps[y];return c}var Ia={};function dL(o,l){var f=Ia.hasOwnProperty(o)?Ia[o]:Ia[o]={};Et(l,f)}function Cs(o,l){if(l===!0)return l;if(o.copyState)return o.copyState(l);var f={};for(var c in l){var d=l[c];d instanceof Array&&(d=d.concat([])),f[c]=d}return f}function xm(o,l){for(var f;o.innerMode&&(f=o.innerMode(l),!(!f||f.mode==o));)l=f.state,o=f.mode;return f||{mode:o,state:l}}function sE(o,l,f){return o.startState?o.startState(l,f):!0}var Zt=function(o,l,f){this.pos=this.start=0,this.string=o,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=f};Zt.prototype.eol=function(){return this.pos>=this.string.length},Zt.prototype.sol=function(){return this.pos==this.lineStart},Zt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Zt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Zt.prototype.eat=function(o){var l=this.string.charAt(this.pos),f;if(typeof o=="string"?f=l==o:f=l&&(o.test?o.test(l):o(l)),f)return++this.pos,l},Zt.prototype.eatWhile=function(o){for(var l=this.pos;this.eat(o););return this.pos>l},Zt.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},Zt.prototype.skipToEnd=function(){this.pos=this.string.length},Zt.prototype.skipTo=function(o){var l=this.string.indexOf(o,this.pos);if(l>-1)return this.pos=l,!0},Zt.prototype.backUp=function(o){this.pos-=o},Zt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=gt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?gt(this.string,this.lineStart,this.tabSize):0)},Zt.prototype.indentation=function(){return gt(this.string,null,this.tabSize)-(this.lineStart?gt(this.string,this.lineStart,this.tabSize):0)},Zt.prototype.match=function(o,l,f){if(typeof o=="string"){var c=function(y){return f?y.toLowerCase():y},d=this.string.substr(this.pos,o.length);if(c(d)==c(o))return l!==!1&&(this.pos+=o.length),!0}else{var g=this.string.slice(this.pos).match(o);return g&&g.index>0?null:(g&&l!==!1&&(this.pos+=g[0].length),g)}},Zt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Zt.prototype.hideFirstChars=function(o,l){this.lineStart+=o;try{return l()}finally{this.lineStart-=o}},Zt.prototype.lookAhead=function(o){var l=this.lineOracle;return l&&l.lookAhead(o)},Zt.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};function Ne(o,l){if(l-=o.first,l<0||l>=o.size)throw new Error("There is no line "+(l+o.first)+" in the document.");for(var f=o;!f.lines;)for(var c=0;;++c){var d=f.children[c],g=d.chunkSize();if(l<g){f=d;break}l-=g}return f.lines[l]}function Ds(o,l,f){var c=[],d=l.line;return o.iter(l.line,f.line+1,function(g){var y=g.text;d==f.line&&(y=y.slice(0,f.ch)),d==l.line&&(y=y.slice(l.ch)),c.push(y),++d}),c}function km(o,l,f){var c=[];return o.iter(l,f,function(d){c.push(d.text)}),c}function mi(o,l){var f=l-o.height;if(f)for(var c=o;c;c=c.parent)c.height+=f}function _t(o){if(o.parent==null)return null;for(var l=o.parent,f=it(l.lines,o),c=l.parent;c;l=c,c=c.parent)for(var d=0;c.children[d]!=l;++d)f+=c.children[d].chunkSize();return f+l.first}function As(o,l){var f=o.first;e:do{for(var c=0;c<o.children.length;++c){var d=o.children[c],g=d.height;if(l<g){o=d;continue e}l-=g,f+=d.chunkSize()}return f}while(!o.lines);for(var y=0;y<o.lines.length;++y){var x=o.lines[y],k=x.height;if(l<k)break;l-=k}return f+y}function fu(o,l){return l>=o.first&&l<o.first+o.size}function Sm(o,l){return String(o.lineNumberFormatter(l+o.firstLineNumber))}function de(o,l,f){if(f===void 0&&(f=null),!(this instanceof de))return new de(o,l,f);this.line=o,this.ch=l,this.sticky=f}function He(o,l){return o.line-l.line||o.ch-l.ch}function Tm(o,l){return o.sticky==l.sticky&&He(o,l)==0}function Cm(o){return de(o.line,o.ch)}function Jf(o,l){return He(o,l)<0?l:o}function Zf(o,l){return He(o,l)<0?o:l}function aE(o,l){return Math.max(o.first,Math.min(l,o.first+o.size-1))}function We(o,l){if(l.line<o.first)return de(o.first,0);var f=o.first+o.size-1;return l.line>f?de(f,Ne(o,f).text.length):pL(l,Ne(o,l.line).text.length)}function pL(o,l){var f=o.ch;return f==null||f>l?de(o.line,l):f<0?de(o.line,0):o}function lE(o,l){for(var f=[],c=0;c<l.length;c++)f[c]=We(o,l[c]);return f}var eh=function(o,l){this.state=o,this.lookAhead=l},vi=function(o,l,f,c){this.state=l,this.doc=o,this.line=f,this.maxLookAhead=c||0,this.baseTokens=null,this.baseTokenPos=1};vi.prototype.lookAhead=function(o){var l=this.doc.getLine(this.line+o);return l!=null&&o>this.maxLookAhead&&(this.maxLookAhead=o),l},vi.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},vi.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},vi.fromSaved=function(o,l,f){return l instanceof eh?new vi(o,Cs(o.mode,l.state),f,l.lookAhead):new vi(o,Cs(o.mode,l),f)},vi.prototype.save=function(o){var l=o!==!1?Cs(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new eh(l,this.maxLookAhead):l};function uE(o,l,f,c){var d=[o.state.modeGen],g={};gE(o,l.text,o.doc.mode,f,function(A,F){return d.push(A,F)},g,c);for(var y=f.state,x=function(A){f.baseTokens=d;var F=o.state.overlays[A],j=1,X=0;f.state=!0,gE(o,l.text,F.mode,f,function(q,ie){for(var ce=j;X<q;){var me=d[j];me>q&&d.splice(j,1,q,d[j+1],me),j+=2,X=Math.min(q,me)}if(ie)if(F.opaque)d.splice(ce,j-ce,q,"overlay "+ie),j=ce+2;else for(;ce<j;ce+=2){var Ee=d[ce+1];d[ce+1]=(Ee?Ee+" ":"")+"overlay "+ie}},g),f.state=y,f.baseTokens=null,f.baseTokenPos=1},k=0;k<o.state.overlays.length;++k)x(k);return{styles:d,classes:g.bgClass||g.textClass?g:null}}function cE(o,l,f){if(!l.styles||l.styles[0]!=o.state.modeGen){var c=hu(o,_t(l)),d=l.text.length>o.options.maxHighlightLength&&Cs(o.doc.mode,c.state),g=uE(o,l,c);d&&(c.state=d),l.stateAfter=c.save(!d),l.styles=g.styles,g.classes?l.styleClasses=g.classes:l.styleClasses&&(l.styleClasses=null),f===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return l.styles}function hu(o,l,f){var c=o.doc,d=o.display;if(!c.mode.startState)return new vi(c,!0,l);var g=gL(o,l,f),y=g>c.first&&Ne(c,g-1).stateAfter,x=y?vi.fromSaved(c,y,g):new vi(c,sE(c.mode),g);return c.iter(g,l,function(k){Dm(o,k.text,x);var A=x.line;k.stateAfter=A==l-1||A%5==0||A>=d.viewFrom&&A<d.viewTo?x.save():null,x.nextLine()}),f&&(c.modeFrontier=x.line),x}function Dm(o,l,f,c){var d=o.doc.mode,g=new Zt(l,o.options.tabSize,f);for(g.start=g.pos=c||0,l==""&&fE(d,f.state);!g.eol();)Am(d,g,f.state),g.start=g.pos}function fE(o,l){if(o.blankLine)return o.blankLine(l);if(o.innerMode){var f=xm(o,l);if(f.mode.blankLine)return f.mode.blankLine(f.state)}}function Am(o,l,f,c){for(var d=0;d<10;d++){c&&(c[0]=xm(o,f).mode);var g=o.token(l,f);if(l.pos>l.start)return g}throw new Error("Mode "+o.name+" failed to advance stream.")}var hE=function(o,l,f){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=l||null,this.state=f};function dE(o,l,f,c){var d=o.doc,g=d.mode,y;l=We(d,l);var x=Ne(d,l.line),k=hu(o,l.line,f),A=new Zt(x.text,o.options.tabSize,k),F;for(c&&(F=[]);(c||A.pos<l.ch)&&!A.eol();)A.start=A.pos,y=Am(g,A,k.state),c&&F.push(new hE(A,y,Cs(d.mode,k.state)));return c?F:new hE(A,y,k.state)}function pE(o,l){if(o)for(;;){var f=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!f)break;o=o.slice(0,f.index)+o.slice(f.index+f[0].length);var c=f[1]?"bgClass":"textClass";l[c]==null?l[c]=f[2]:new RegExp("(?:^|\\s)"+f[2]+"(?:$|\\s)").test(l[c])||(l[c]+=" "+f[2])}return o}function gE(o,l,f,c,d,g,y){var x=f.flattenSpans;x==null&&(x=o.options.flattenSpans);var k=0,A=null,F=new Zt(l,o.options.tabSize,c),j,X=o.options.addModeClass&&[null];for(l==""&&pE(fE(f,c.state),g);!F.eol();){if(F.pos>o.options.maxHighlightLength?(x=!1,y&&Dm(o,l,c,F.pos),F.pos=l.length,j=null):j=pE(Am(f,F,c.state,X),g),X){var q=X[0].name;q&&(j="m-"+(j?q+" "+j:q))}if(!x||A!=j){for(;k<F.start;)k=Math.min(F.start,k+5e3),d(k,A);A=j}F.start=F.pos}for(;k<F.pos;){var ie=Math.min(F.pos,k+5e3);d(ie,A),k=ie}}function gL(o,l,f){for(var c,d,g=o.doc,y=f?-1:l-(o.doc.mode.innerMode?1e3:100),x=l;x>y;--x){if(x<=g.first)return g.first;var k=Ne(g,x-1),A=k.stateAfter;if(A&&(!f||x+(A instanceof eh?A.lookAhead:0)<=g.modeFrontier))return x;var F=gt(k.text,null,o.options.tabSize);(d==null||c>F)&&(d=x-1,c=F)}return d}function mL(o,l){if(o.modeFrontier=Math.min(o.modeFrontier,l),!(o.highlightFrontier<l-10)){for(var f=o.first,c=l-1;c>f;c--){var d=Ne(o,c).stateAfter;if(d&&(!(d instanceof eh)||c+d.lookAhead<l)){f=c+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,f)}}var mE=!1,Hi=!1;function vL(){mE=!0}function yL(){Hi=!0}function th(o,l,f){this.marker=o,this.from=l,this.to=f}function du(o,l){if(o)for(var f=0;f<o.length;++f){var c=o[f];if(c.marker==l)return c}}function _L(o,l){for(var f,c=0;c<o.length;++c)o[c]!=l&&(f||(f=[])).push(o[c]);return f}function wL(o,l,f){var c=f&&window.WeakSet&&(f.markedSpans||(f.markedSpans=new WeakSet));c&&o.markedSpans&&c.has(o.markedSpans)?o.markedSpans.push(l):(o.markedSpans=o.markedSpans?o.markedSpans.concat([l]):[l],c&&c.add(o.markedSpans)),l.marker.attachLine(o)}function EL(o,l,f){var c;if(o)for(var d=0;d<o.length;++d){var g=o[d],y=g.marker,x=g.from==null||(y.inclusiveLeft?g.from<=l:g.from<l);if(x||g.from==l&&y.type=="bookmark"&&(!f||!g.marker.insertLeft)){var k=g.to==null||(y.inclusiveRight?g.to>=l:g.to>l);(c||(c=[])).push(new th(y,g.from,k?null:g.to))}}return c}function xL(o,l,f){var c;if(o)for(var d=0;d<o.length;++d){var g=o[d],y=g.marker,x=g.to==null||(y.inclusiveRight?g.to>=l:g.to>l);if(x||g.from==l&&y.type=="bookmark"&&(!f||g.marker.insertLeft)){var k=g.from==null||(y.inclusiveLeft?g.from<=l:g.from<l);(c||(c=[])).push(new th(y,k?null:g.from-l,g.to==null?null:g.to-l))}}return c}function bm(o,l){if(l.full)return null;var f=fu(o,l.from.line)&&Ne(o,l.from.line).markedSpans,c=fu(o,l.to.line)&&Ne(o,l.to.line).markedSpans;if(!f&&!c)return null;var d=l.from.ch,g=l.to.ch,y=He(l.from,l.to)==0,x=EL(f,d,y),k=xL(c,g,y),A=l.text.length==1,F=nt(l.text).length+(A?d:0);if(x)for(var j=0;j<x.length;++j){var X=x[j];if(X.to==null){var q=du(k,X.marker);q?A&&(X.to=q.to==null?null:q.to+F):X.to=d}}if(k)for(var ie=0;ie<k.length;++ie){var ce=k[ie];if(ce.to!=null&&(ce.to+=F),ce.from==null){var me=du(x,ce.marker);me||(ce.from=F,A&&(x||(x=[])).push(ce))}else ce.from+=F,A&&(x||(x=[])).push(ce)}x&&(x=vE(x)),k&&k!=x&&(k=vE(k));var Ee=[x];if(!A){var Ce=l.text.length-2,xe;if(Ce>0&&x)for(var Ie=0;Ie<x.length;++Ie)x[Ie].to==null&&(xe||(xe=[])).push(new th(x[Ie].marker,null,null));for(var Ue=0;Ue<Ce;++Ue)Ee.push(xe);Ee.push(k)}return Ee}function vE(o){for(var l=0;l<o.length;++l){var f=o[l];f.from!=null&&f.from==f.to&&f.marker.clearWhenEmpty!==!1&&o.splice(l--,1)}return o.length?o:null}function kL(o,l,f){var c=null;if(o.iter(l.line,f.line+1,function(q){if(q.markedSpans)for(var ie=0;ie<q.markedSpans.length;++ie){var ce=q.markedSpans[ie].marker;ce.readOnly&&(!c||it(c,ce)==-1)&&(c||(c=[])).push(ce)}}),!c)return null;for(var d=[{from:l,to:f}],g=0;g<c.length;++g)for(var y=c[g],x=y.find(0),k=0;k<d.length;++k){var A=d[k];if(!(He(A.to,x.from)<0||He(A.from,x.to)>0)){var F=[k,1],j=He(A.from,x.from),X=He(A.to,x.to);(j<0||!y.inclusiveLeft&&!j)&&F.push({from:A.from,to:x.from}),(X>0||!y.inclusiveRight&&!X)&&F.push({from:x.to,to:A.to}),d.splice.apply(d,F),k+=F.length-3}}return d}function yE(o){var l=o.markedSpans;if(l){for(var f=0;f<l.length;++f)l[f].marker.detachLine(o);o.markedSpans=null}}function _E(o,l){if(l){for(var f=0;f<l.length;++f)l[f].marker.attachLine(o);o.markedSpans=l}}function nh(o){return o.inclusiveLeft?-1:0}function rh(o){return o.inclusiveRight?1:0}function Im(o,l){var f=o.lines.length-l.lines.length;if(f!=0)return f;var c=o.find(),d=l.find(),g=He(c.from,d.from)||nh(o)-nh(l);if(g)return-g;var y=He(c.to,d.to)||rh(o)-rh(l);return y||l.id-o.id}function wE(o,l){var f=Hi&&o.markedSpans,c;if(f)for(var d=void 0,g=0;g<f.length;++g)d=f[g],d.marker.collapsed&&(l?d.from:d.to)==null&&(!c||Im(c,d.marker)<0)&&(c=d.marker);return c}function EE(o){return wE(o,!0)}function ih(o){return wE(o,!1)}function SL(o,l){var f=Hi&&o.markedSpans,c;if(f)for(var d=0;d<f.length;++d){var g=f[d];g.marker.collapsed&&(g.from==null||g.from<l)&&(g.to==null||g.to>l)&&(!c||Im(c,g.marker)<0)&&(c=g.marker)}return c}function xE(o,l,f,c,d){var g=Ne(o,l),y=Hi&&g.markedSpans;if(y)for(var x=0;x<y.length;++x){var k=y[x];if(k.marker.collapsed){var A=k.marker.find(0),F=He(A.from,f)||nh(k.marker)-nh(d),j=He(A.to,c)||rh(k.marker)-rh(d);if(!(F>=0&&j<=0||F<=0&&j>=0)&&(F<=0&&(k.marker.inclusiveRight&&d.inclusiveLeft?He(A.to,f)>=0:He(A.to,f)>0)||F>=0&&(k.marker.inclusiveRight&&d.inclusiveLeft?He(A.from,c)<=0:He(A.from,c)<0)))return!0}}}function ti(o){for(var l;l=EE(o);)o=l.find(-1,!0).line;return o}function TL(o){for(var l;l=ih(o);)o=l.find(1,!0).line;return o}function CL(o){for(var l,f;l=ih(o);)o=l.find(1,!0).line,(f||(f=[])).push(o);return f}function Rm(o,l){var f=Ne(o,l),c=ti(f);return f==c?l:_t(c)}function kE(o,l){if(l>o.lastLine())return l;var f=Ne(o,l),c;if(!xo(o,f))return l;for(;c=ih(f);)f=c.find(1,!0).line;return _t(f)+1}function xo(o,l){var f=Hi&&l.markedSpans;if(f){for(var c=void 0,d=0;d<f.length;++d)if(c=f[d],!!c.marker.collapsed){if(c.from==null)return!0;if(!c.marker.widgetNode&&c.from==0&&c.marker.inclusiveLeft&&Pm(o,l,c))return!0}}}function Pm(o,l,f){if(f.to==null){var c=f.marker.find(1,!0);return Pm(o,c.line,du(c.line.markedSpans,f.marker))}if(f.marker.inclusiveRight&&f.to==l.text.length)return!0;for(var d=void 0,g=0;g<l.markedSpans.length;++g)if(d=l.markedSpans[g],d.marker.collapsed&&!d.marker.widgetNode&&d.from==f.to&&(d.to==null||d.to!=f.from)&&(d.marker.inclusiveLeft||f.marker.inclusiveRight)&&Pm(o,l,d))return!0}function Wi(o){o=ti(o);for(var l=0,f=o.parent,c=0;c<f.lines.length;++c){var d=f.lines[c];if(d==o)break;l+=d.height}for(var g=f.parent;g;f=g,g=f.parent)for(var y=0;y<g.children.length;++y){var x=g.children[y];if(x==f)break;l+=x.height}return l}function oh(o){if(o.height==0)return 0;for(var l=o.text.length,f,c=o;f=EE(c);){var d=f.find(0,!0);c=d.from.line,l+=d.from.ch-d.to.ch}for(c=o;f=ih(c);){var g=f.find(0,!0);l-=c.text.length-g.from.ch,c=g.to.line,l+=c.text.length-g.to.ch}return l}function Lm(o){var l=o.display,f=o.doc;l.maxLine=Ne(f,f.first),l.maxLineLength=oh(l.maxLine),l.maxLineChanged=!0,f.iter(function(c){var d=oh(c);d>l.maxLineLength&&(l.maxLineLength=d,l.maxLine=c)})}var Ra=function(o,l,f){this.text=o,_E(this,l),this.height=f?f(this):1};Ra.prototype.lineNo=function(){return _t(this)},zr(Ra);function DL(o,l,f,c){o.text=l,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),o.order!=null&&(o.order=null),yE(o),_E(o,f);var d=c?c(o):1;d!=o.height&&mi(o,d)}function AL(o){o.parent=null,yE(o)}var bL={},IL={};function SE(o,l){if(!o||/^\s*$/.test(o))return null;var f=l.addModeClass?IL:bL;return f[o]||(f[o]=o.replace(/\S+/g,"cm-$&"))}function TE(o,l){var f=ae("span",null,null,m?"padding-right: .1px":null),c={pre:ae("pre",[f],"CodeMirror-line"),content:f,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};l.measure={};for(var d=0;d<=(l.rest?l.rest.length:0);d++){var g=d?l.rest[d-1]:l.line,y=void 0;c.pos=0,c.addToken=PL,aL(o.display.measure)&&(y=pe(g,o.doc.direction))&&(c.addToken=NL(c.addToken,y)),c.map=[];var x=l!=o.display.externalMeasured&&_t(g);FL(g,c,cE(o,g,x)),g.styleClasses&&(g.styleClasses.bgClass&&(c.bgClass=je(g.styleClasses.bgClass,c.bgClass||"")),g.styleClasses.textClass&&(c.textClass=je(g.styleClasses.textClass,c.textClass||""))),c.map.length==0&&c.map.push(0,0,c.content.appendChild(sL(o.display.measure))),d==0?(l.measure.map=c.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(c.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(m){var k=c.content.lastChild;(/\bcm-tab\b/.test(k.className)||k.querySelector&&k.querySelector(".cm-tab"))&&(c.content.className="cm-tab-wrap-hack")}return dt(o,"renderLine",o,l.line,c.pre),c.pre.className&&(c.textClass=je(c.pre.className,c.textClass||"")),c}function RL(o){var l=$("span","","cm-invalidchar");return l.title="\\u"+o.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function PL(o,l,f,c,d,g,y){if(l){var x=o.splitSpaces?LL(l,o.trailingSpace):l,k=o.cm.state.specialChars,A=!1,F;if(!k.test(l))o.col+=l.length,F=document.createTextNode(x),o.map.push(o.pos,o.pos+l.length,F),h&&p<9&&(A=!0),o.pos+=l.length;else{F=document.createDocumentFragment();for(var j=0;;){k.lastIndex=j;var X=k.exec(l),q=X?X.index-j:l.length-j;if(q){var ie=document.createTextNode(x.slice(j,j+q));h&&p<9?F.appendChild($("span",[ie])):F.appendChild(ie),o.map.push(o.pos,o.pos+q,ie),o.col+=q,o.pos+=q}if(!X)break;j+=q+1;var ce=void 0;if(X[0]=="	"){var me=o.cm.options.tabSize,Ee=me-o.col%me;ce=F.appendChild($("span",Ur(Ee),"cm-tab")),ce.setAttribute("role","presentation"),ce.setAttribute("cm-text","	"),o.col+=Ee}else X[0]=="\r"||X[0]==`
`?(ce=F.appendChild($("span",X[0]=="\r"?"":"","cm-invalidchar")),ce.setAttribute("cm-text",X[0]),o.col+=1):(ce=o.cm.options.specialCharPlaceholder(X[0]),ce.setAttribute("cm-text",X[0]),h&&p<9?F.appendChild($("span",[ce])):F.appendChild(ce),o.col+=1);o.map.push(o.pos,o.pos+1,ce),o.pos++}}if(o.trailingSpace=x.charCodeAt(l.length-1)==32,f||c||d||A||g||y){var Ce=f||"";c&&(Ce+=c),d&&(Ce+=d);var xe=$("span",[F],Ce,g);if(y)for(var Ie in y)y.hasOwnProperty(Ie)&&Ie!="style"&&Ie!="class"&&xe.setAttribute(Ie,y[Ie]);return o.content.appendChild(xe)}o.content.appendChild(F)}}function LL(o,l){if(o.length>1&&!/  /.test(o))return o;for(var f=l,c="",d=0;d<o.length;d++){var g=o.charAt(d);g==" "&&f&&(d==o.length-1||o.charCodeAt(d+1)==32)&&(g=""),c+=g,f=g==" "}return c}function NL(o,l){return function(f,c,d,g,y,x,k){d=d?d+" cm-force-border":"cm-force-border";for(var A=f.pos,F=A+c.length;;){for(var j=void 0,X=0;X<l.length&&(j=l[X],!(j.to>A&&j.from<=A));X++);if(j.to>=F)return o(f,c,d,g,y,x,k);o(f,c.slice(0,j.to-A),d,g,null,x,k),g=null,c=c.slice(j.to-A),A=j.to}}}function CE(o,l,f,c){var d=!c&&f.widgetNode;d&&o.map.push(o.pos,o.pos+l,d),!c&&o.cm.display.input.needsContentAttribute&&(d||(d=o.content.appendChild(document.createElement("span"))),d.setAttribute("cm-marker",f.id)),d&&(o.cm.display.input.setUneditable(d),o.content.appendChild(d)),o.pos+=l,o.trailingSpace=!1}function FL(o,l,f){var c=o.markedSpans,d=o.text,g=0;if(!c){for(var y=1;y<f.length;y+=2)l.addToken(l,d.slice(g,g=f[y]),SE(f[y+1],l.cm.options));return}for(var x=d.length,k=0,A=1,F="",j,X,q=0,ie,ce,me,Ee,Ce;;){if(q==k){ie=ce=me=X="",Ce=null,Ee=null,q=1/0;for(var xe=[],Ie=void 0,Ue=0;Ue<c.length;++Ue){var Oe=c[Ue],et=Oe.marker;if(et.type=="bookmark"&&Oe.from==k&&et.widgetNode)xe.push(et);else if(Oe.from<=k&&(Oe.to==null||Oe.to>k||et.collapsed&&Oe.to==k&&Oe.from==k)){if(Oe.to!=null&&Oe.to!=k&&q>Oe.to&&(q=Oe.to,ce=""),et.className&&(ie+=" "+et.className),et.css&&(X=(X?X+";":"")+et.css),et.startStyle&&Oe.from==k&&(me+=" "+et.startStyle),et.endStyle&&Oe.to==q&&(Ie||(Ie=[])).push(et.endStyle,Oe.to),et.title&&((Ce||(Ce={})).title=et.title),et.attributes)for(var Tt in et.attributes)(Ce||(Ce={}))[Tt]=et.attributes[Tt];et.collapsed&&(!Ee||Im(Ee.marker,et)<0)&&(Ee=Oe)}else Oe.from>k&&q>Oe.from&&(q=Oe.from)}if(Ie)for(var vn=0;vn<Ie.length;vn+=2)Ie[vn+1]==q&&(ce+=" "+Ie[vn]);if(!Ee||Ee.from==k)for(var zt=0;zt<xe.length;++zt)CE(l,0,xe[zt]);if(Ee&&(Ee.from||0)==k){if(CE(l,(Ee.to==null?x+1:Ee.to)-k,Ee.marker,Ee.from==null),Ee.to==null)return;Ee.to==k&&(Ee=!1)}}if(k>=x)break;for(var gr=Math.min(x,q);;){if(F){var rr=k+F.length;if(!Ee){var en=rr>gr?F.slice(0,gr-k):F;l.addToken(l,en,j?j+ie:ie,me,k+en.length==q?ce:"",X,Ce)}if(rr>=gr){F=F.slice(gr-k),k=gr;break}k=rr,me=""}F=d.slice(g,g=f[A++]),j=SE(f[A++],l.cm.options)}}}function DE(o,l,f){this.line=l,this.rest=CL(l),this.size=this.rest?_t(nt(this.rest))-f+1:1,this.node=this.text=null,this.hidden=xo(o,l)}function sh(o,l,f){for(var c=[],d,g=l;g<f;g=d){var y=new DE(o.doc,Ne(o.doc,g),g);d=g+y.size,c.push(y)}return c}var Pa=null;function OL(o){Pa?Pa.ops.push(o):o.ownsGroup=Pa={ops:[o],delayedCallbacks:[]}}function ML(o){var l=o.delayedCallbacks,f=0;do{for(;f<l.length;f++)l[f].call(null);for(var c=0;c<o.ops.length;c++){var d=o.ops[c];if(d.cursorActivityHandlers)for(;d.cursorActivityCalled<d.cursorActivityHandlers.length;)d.cursorActivityHandlers[d.cursorActivityCalled++].call(null,d.cm)}}while(f<l.length)}function BL(o,l){var f=o.ownsGroup;if(f)try{ML(f)}finally{Pa=null,l(f)}}var pu=null;function pn(o,l){var f=mt(o,l);if(f.length){var c=Array.prototype.slice.call(arguments,2),d;Pa?d=Pa.delayedCallbacks:pu?d=pu:(d=pu=[],setTimeout(UL,0));for(var g=function(x){d.push(function(){return f[x].apply(null,c)})},y=0;y<f.length;++y)g(y)}}function UL(){var o=pu;pu=null;for(var l=0;l<o.length;++l)o[l]()}function AE(o,l,f,c){for(var d=0;d<l.changes.length;d++){var g=l.changes[d];g=="text"?zL(o,l):g=="gutter"?IE(o,l,f,c):g=="class"?Nm(o,l):g=="widget"&&jL(o,l,c)}l.changes=null}function gu(o){return o.node==o.text&&(o.node=$("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),h&&p<8&&(o.node.style.zIndex=2)),o.node}function VL(o,l){var f=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(f&&(f+=" CodeMirror-linebackground"),l.background)f?l.background.className=f:(l.background.parentNode.removeChild(l.background),l.background=null);else if(f){var c=gu(l);l.background=c.insertBefore($("div",null,f),c.firstChild),o.display.input.setUneditable(l.background)}}function bE(o,l){var f=o.display.externalMeasured;return f&&f.line==l.line?(o.display.externalMeasured=null,l.measure=f.measure,f.built):TE(o,l)}function zL(o,l){var f=l.text.className,c=bE(o,l);l.text==l.node&&(l.node=c.pre),l.text.parentNode.replaceChild(c.pre,l.text),l.text=c.pre,c.bgClass!=l.bgClass||c.textClass!=l.textClass?(l.bgClass=c.bgClass,l.textClass=c.textClass,Nm(o,l)):f&&(l.text.className=f)}function Nm(o,l){VL(o,l),l.line.wrapClass?gu(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className="");var f=l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass;l.text.className=f||""}function IE(o,l,f,c){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var d=gu(l);l.gutterBackground=$("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(o.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px; width: "+c.gutterTotalWidth+"px"),o.display.input.setUneditable(l.gutterBackground),d.insertBefore(l.gutterBackground,l.text)}var g=l.line.gutterMarkers;if(o.options.lineNumbers||g){var y=gu(l),x=l.gutter=$("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px");if(x.setAttribute("aria-hidden","true"),o.display.input.setUneditable(x),y.insertBefore(x,l.text),l.line.gutterClass&&(x.className+=" "+l.line.gutterClass),o.options.lineNumbers&&(!g||!g["CodeMirror-linenumbers"])&&(l.lineNumber=x.appendChild($("div",Sm(o.options,f),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+c.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),g)for(var k=0;k<o.display.gutterSpecs.length;++k){var A=o.display.gutterSpecs[k].className,F=g.hasOwnProperty(A)&&g[A];F&&x.appendChild($("div",[F],"CodeMirror-gutter-elt","left: "+c.gutterLeft[A]+"px; width: "+c.gutterWidth[A]+"px"))}}}function jL(o,l,f){l.alignable&&(l.alignable=null);for(var c=K("CodeMirror-linewidget"),d=l.node.firstChild,g=void 0;d;d=g)g=d.nextSibling,c.test(d.className)&&l.node.removeChild(d);RE(o,l,f)}function $L(o,l,f,c){var d=bE(o,l);return l.text=l.node=d.pre,d.bgClass&&(l.bgClass=d.bgClass),d.textClass&&(l.textClass=d.textClass),Nm(o,l),IE(o,l,f,c),RE(o,l,c),l.node}function RE(o,l,f){if(PE(o,l.line,l,f,!0),l.rest)for(var c=0;c<l.rest.length;c++)PE(o,l.rest[c],l,f,!1)}function PE(o,l,f,c,d){if(l.widgets)for(var g=gu(f),y=0,x=l.widgets;y<x.length;++y){var k=x[y],A=$("div",[k.node],"CodeMirror-linewidget"+(k.className?" "+k.className:""));k.handleMouseEvents||A.setAttribute("cm-ignore-events","true"),HL(k,A,f,c),o.display.input.setUneditable(A),d&&k.above?g.insertBefore(A,f.gutter||f.text):g.appendChild(A),pn(k,"redraw")}}function HL(o,l,f,c){if(o.noHScroll){(f.alignable||(f.alignable=[])).push(l);var d=c.wrapperWidth;l.style.left=c.fixedPos+"px",o.coverGutter||(d-=c.gutterTotalWidth,l.style.paddingLeft=c.gutterTotalWidth+"px"),l.style.width=d+"px"}o.coverGutter&&(l.style.zIndex=5,l.style.position="relative",o.noHScroll||(l.style.marginLeft=-c.gutterTotalWidth+"px"))}function mu(o){if(o.height!=null)return o.height;var l=o.doc.cm;if(!l)return 0;if(!te(document.body,o.node)){var f="position: relative;";o.coverGutter&&(f+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),o.noHScroll&&(f+="width: "+l.display.wrapper.clientWidth+"px;"),ve(l.display.measure,$("div",[o.node],null,f))}return o.height=o.node.parentNode.offsetHeight}function qi(o,l){for(var f=cu(l);f!=o.wrapper;f=f.parentNode)if(!f||f.nodeType==1&&f.getAttribute("cm-ignore-events")=="true"||f.parentNode==o.sizer&&f!=o.mover)return!0}function ah(o){return o.lineSpace.offsetTop}function Fm(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function LE(o){if(o.cachedPaddingH)return o.cachedPaddingH;var l=ve(o.measure,$("pre","x","CodeMirror-line-like")),f=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,c={left:parseInt(f.paddingLeft),right:parseInt(f.paddingRight)};return!isNaN(c.left)&&!isNaN(c.right)&&(o.cachedPaddingH=c),c}function yi(o){return ft-o.display.nativeBarWidth}function bs(o){return o.display.scroller.clientWidth-yi(o)-o.display.barWidth}function Om(o){return o.display.scroller.clientHeight-yi(o)-o.display.barHeight}function WL(o,l,f){var c=o.options.lineWrapping,d=c&&bs(o);if(!l.measure.heights||c&&l.measure.width!=d){var g=l.measure.heights=[];if(c){l.measure.width=d;for(var y=l.text.firstChild.getClientRects(),x=0;x<y.length-1;x++){var k=y[x],A=y[x+1];Math.abs(k.bottom-A.bottom)>2&&g.push((k.bottom+A.top)/2-f.top)}}g.push(f.bottom-f.top)}}function NE(o,l,f){if(o.line==l)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var c=0;c<o.rest.length;c++)if(o.rest[c]==l)return{map:o.measure.maps[c],cache:o.measure.caches[c]};for(var d=0;d<o.rest.length;d++)if(_t(o.rest[d])>f)return{map:o.measure.maps[d],cache:o.measure.caches[d],before:!0}}}function qL(o,l){l=ti(l);var f=_t(l),c=o.display.externalMeasured=new DE(o.doc,l,f);c.lineN=f;var d=c.built=TE(o,c);return c.text=d.pre,ve(o.display.lineMeasure,d.pre),c}function FE(o,l,f,c){return _i(o,La(o,l),f,c)}function Mm(o,l){if(l>=o.display.viewFrom&&l<o.display.viewTo)return o.display.view[Ps(o,l)];var f=o.display.externalMeasured;if(f&&l>=f.lineN&&l<f.lineN+f.size)return f}function La(o,l){var f=_t(l),c=Mm(o,f);c&&!c.text?c=null:c&&c.changes&&(AE(o,c,f,jm(o)),o.curOp.forceUpdate=!0),c||(c=qL(o,l));var d=NE(c,l,f);return{line:l,view:c,rect:null,map:d.map,cache:d.cache,before:d.before,hasHeights:!1}}function _i(o,l,f,c,d){l.before&&(f=-1);var g=f+(c||""),y;return l.cache.hasOwnProperty(g)?y=l.cache[g]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(WL(o,l.view,l.rect),l.hasHeights=!0),y=KL(o,l,f,c),y.bogus||(l.cache[g]=y)),{left:y.left,right:y.right,top:d?y.rtop:y.top,bottom:d?y.rbottom:y.bottom}}var OE={left:0,right:0,top:0,bottom:0};function ME(o,l,f){for(var c,d,g,y,x,k,A=0;A<o.length;A+=3)if(x=o[A],k=o[A+1],l<x?(d=0,g=1,y="left"):l<k?(d=l-x,g=d+1):(A==o.length-3||l==k&&o[A+3]>l)&&(g=k-x,d=g-1,l>=k&&(y="right")),d!=null){if(c=o[A+2],x==k&&f==(c.insertLeft?"left":"right")&&(y=f),f=="left"&&d==0)for(;A&&o[A-2]==o[A-3]&&o[A-1].insertLeft;)c=o[(A-=3)+2],y="left";if(f=="right"&&d==k-x)for(;A<o.length-3&&o[A+3]==o[A+4]&&!o[A+5].insertLeft;)c=o[(A+=3)+2],y="right";break}return{node:c,start:d,end:g,collapse:y,coverStart:x,coverEnd:k}}function GL(o,l){var f=OE;if(l=="left")for(var c=0;c<o.length&&(f=o[c]).left==f.right;c++);else for(var d=o.length-1;d>=0&&(f=o[d]).left==f.right;d--);return f}function KL(o,l,f,c){var d=ME(l.map,f,c),g=d.node,y=d.start,x=d.end,k=d.collapse,A;if(g.nodeType==3){for(var F=0;F<4;F++){for(;y&&V(l.line.text.charAt(d.coverStart+y));)--y;for(;d.coverStart+x<d.coverEnd&&V(l.line.text.charAt(d.coverStart+x));)++x;if(h&&p<9&&y==0&&x==d.coverEnd-d.coverStart?A=g.parentNode.getBoundingClientRect():A=GL(re(g,y,x).getClientRects(),c),A.left||A.right||y==0)break;x=y,y=y-1,k="right"}h&&p<11&&(A=QL(o.display.measure,A))}else{y>0&&(k=c="right");var j;o.options.lineWrapping&&(j=g.getClientRects()).length>1?A=j[c=="right"?j.length-1:0]:A=g.getBoundingClientRect()}if(h&&p<9&&!y&&(!A||!A.left&&!A.right)){var X=g.parentNode.getClientRects()[0];X?A={left:X.left,right:X.left+Fa(o.display),top:X.top,bottom:X.bottom}:A=OE}for(var q=A.top-l.rect.top,ie=A.bottom-l.rect.top,ce=(q+ie)/2,me=l.view.measure.heights,Ee=0;Ee<me.length-1&&!(ce<me[Ee]);Ee++);var Ce=Ee?me[Ee-1]:0,xe=me[Ee],Ie={left:(k=="right"?A.right:A.left)-l.rect.left,right:(k=="left"?A.left:A.right)-l.rect.left,top:Ce,bottom:xe};return!A.left&&!A.right&&(Ie.bogus=!0),o.options.singleCursorHeightPerLine||(Ie.rtop=q,Ie.rbottom=ie),Ie}function QL(o,l){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!cL(o))return l;var f=screen.logicalXDPI/screen.deviceXDPI,c=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*f,right:l.right*f,top:l.top*c,bottom:l.bottom*c}}function BE(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var l=0;l<o.rest.length;l++)o.measure.caches[l]={}}function UE(o){o.display.externalMeasure=null,we(o.display.lineMeasure);for(var l=0;l<o.display.view.length;l++)BE(o.display.view[l])}function vu(o){UE(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function VE(o){return _&&D?-(o.body.getBoundingClientRect().left-parseInt(getComputedStyle(o.body).marginLeft)):o.defaultView.pageXOffset||(o.documentElement||o.body).scrollLeft}function zE(o){return _&&D?-(o.body.getBoundingClientRect().top-parseInt(getComputedStyle(o.body).marginTop)):o.defaultView.pageYOffset||(o.documentElement||o.body).scrollTop}function Bm(o){var l=ti(o),f=l.widgets,c=0;if(f)for(var d=0;d<f.length;++d)f[d].above&&(c+=mu(f[d]));return c}function lh(o,l,f,c,d){if(!d){var g=Bm(l);f.top+=g,f.bottom+=g}if(c=="line")return f;c||(c="local");var y=Wi(l);if(c=="local"?y+=ah(o.display):y-=o.display.viewOffset,c=="page"||c=="window"){var x=o.display.lineSpace.getBoundingClientRect();y+=x.top+(c=="window"?0:zE(w(o)));var k=x.left+(c=="window"?0:VE(w(o)));f.left+=k,f.right+=k}return f.top+=y,f.bottom+=y,f}function jE(o,l,f){if(f=="div")return l;var c=l.left,d=l.top;if(f=="page")c-=VE(w(o)),d-=zE(w(o));else if(f=="local"||!f){var g=o.display.sizer.getBoundingClientRect();c+=g.left,d+=g.top}var y=o.display.lineSpace.getBoundingClientRect();return{left:c-y.left,top:d-y.top}}function uh(o,l,f,c,d){return c||(c=Ne(o.doc,l.line)),lh(o,c,FE(o,c,l.ch,d),f)}function ni(o,l,f,c,d,g){c=c||Ne(o.doc,l.line),d||(d=La(o,c));function y(ie,ce){var me=_i(o,d,ie,ce?"right":"left",g);return ce?me.left=me.right:me.right=me.left,lh(o,c,me,f)}var x=pe(c,o.doc.direction),k=l.ch,A=l.sticky;if(k>=c.text.length?(k=c.text.length,A="before"):k<=0&&(k=0,A="after"),!x)return y(A=="before"?k-1:k,A=="before");function F(ie,ce,me){var Ee=x[ce],Ce=Ee.level==1;return y(me?ie-1:ie,Ce!=me)}var j=Re(x,k,A),X=ke,q=F(k,j,A=="before");return X!=null&&(q.other=F(k,X,A!="before")),q}function $E(o,l){var f=0;l=We(o.doc,l),o.options.lineWrapping||(f=Fa(o.display)*l.ch);var c=Ne(o.doc,l.line),d=Wi(c)+ah(o.display);return{left:f,right:f,top:d,bottom:d+c.height}}function Um(o,l,f,c,d){var g=de(o,l,f);return g.xRel=d,c&&(g.outside=c),g}function Vm(o,l,f){var c=o.doc;if(f+=o.display.viewOffset,f<0)return Um(c.first,0,null,-1,-1);var d=As(c,f),g=c.first+c.size-1;if(d>g)return Um(c.first+c.size-1,Ne(c,g).text.length,null,1,1);l<0&&(l=0);for(var y=Ne(c,d);;){var x=XL(o,y,d,l,f),k=SL(y,x.ch+(x.xRel>0||x.outside>0?1:0));if(!k)return x;var A=k.find(1);if(A.line==d)return A;y=Ne(c,d=A.line)}}function HE(o,l,f,c){c-=Bm(l);var d=l.text.length,g=ge(function(y){return _i(o,f,y-1).bottom<=c},d,0);return d=ge(function(y){return _i(o,f,y).top>c},g,d),{begin:g,end:d}}function WE(o,l,f,c){f||(f=La(o,l));var d=lh(o,l,_i(o,f,c),"line").top;return HE(o,l,f,d)}function zm(o,l,f,c){return o.bottom<=f?!1:o.top>f?!0:(c?o.left:o.right)>l}function XL(o,l,f,c,d){d-=Wi(l);var g=La(o,l),y=Bm(l),x=0,k=l.text.length,A=!0,F=pe(l,o.doc.direction);if(F){var j=(o.options.lineWrapping?JL:YL)(o,l,f,g,F,c,d);A=j.level!=1,x=A?j.from:j.to-1,k=A?j.to:j.from-1}var X=null,q=null,ie=ge(function(Ue){var Oe=_i(o,g,Ue);return Oe.top+=y,Oe.bottom+=y,zm(Oe,c,d,!1)?(Oe.top<=d&&Oe.left<=c&&(X=Ue,q=Oe),!0):!1},x,k),ce,me,Ee=!1;if(q){var Ce=c-q.left<q.right-c,xe=Ce==A;ie=X+(xe?0:1),me=xe?"after":"before",ce=Ce?q.left:q.right}else{!A&&(ie==k||ie==x)&&ie++,me=ie==0?"after":ie==l.text.length?"before":_i(o,g,ie-(A?1:0)).bottom+y<=d==A?"after":"before";var Ie=ni(o,de(f,ie,me),"line",l,g);ce=Ie.left,Ee=d<Ie.top?-1:d>=Ie.bottom?1:0}return ie=W(l.text,ie,1),Um(f,ie,me,Ee,c-ce)}function YL(o,l,f,c,d,g,y){var x=ge(function(j){var X=d[j],q=X.level!=1;return zm(ni(o,de(f,q?X.to:X.from,q?"before":"after"),"line",l,c),g,y,!0)},0,d.length-1),k=d[x];if(x>0){var A=k.level!=1,F=ni(o,de(f,A?k.from:k.to,A?"after":"before"),"line",l,c);zm(F,g,y,!0)&&F.top>y&&(k=d[x-1])}return k}function JL(o,l,f,c,d,g,y){var x=HE(o,l,c,y),k=x.begin,A=x.end;/\s/.test(l.text.charAt(A-1))&&A--;for(var F=null,j=null,X=0;X<d.length;X++){var q=d[X];if(!(q.from>=A||q.to<=k)){var ie=q.level!=1,ce=_i(o,c,ie?Math.min(A,q.to)-1:Math.max(k,q.from)).right,me=ce<g?g-ce+1e9:ce-g;(!F||j>me)&&(F=q,j=me)}}return F||(F=d[d.length-1]),F.from<k&&(F={from:k,to:F.to,level:F.level}),F.to>A&&(F={from:F.from,to:A,level:F.level}),F}var Is;function Na(o){if(o.cachedTextHeight!=null)return o.cachedTextHeight;if(Is==null){Is=$("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)Is.appendChild(document.createTextNode("x")),Is.appendChild($("br"));Is.appendChild(document.createTextNode("x"))}ve(o.measure,Is);var f=Is.offsetHeight/50;return f>3&&(o.cachedTextHeight=f),we(o.measure),f||1}function Fa(o){if(o.cachedCharWidth!=null)return o.cachedCharWidth;var l=$("span","xxxxxxxxxx"),f=$("pre",[l],"CodeMirror-line-like");ve(o.measure,f);var c=l.getBoundingClientRect(),d=(c.right-c.left)/10;return d>2&&(o.cachedCharWidth=d),d||10}function jm(o){for(var l=o.display,f={},c={},d=l.gutters.clientLeft,g=l.gutters.firstChild,y=0;g;g=g.nextSibling,++y){var x=o.display.gutterSpecs[y].className;f[x]=g.offsetLeft+g.clientLeft+d,c[x]=g.clientWidth}return{fixedPos:$m(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:f,gutterWidth:c,wrapperWidth:l.wrapper.clientWidth}}function $m(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function qE(o){var l=Na(o.display),f=o.options.lineWrapping,c=f&&Math.max(5,o.display.scroller.clientWidth/Fa(o.display)-3);return function(d){if(xo(o.doc,d))return 0;var g=0;if(d.widgets)for(var y=0;y<d.widgets.length;y++)d.widgets[y].height&&(g+=d.widgets[y].height);return f?g+(Math.ceil(d.text.length/c)||1)*l:g+l}}function Hm(o){var l=o.doc,f=qE(o);l.iter(function(c){var d=f(c);d!=c.height&&mi(c,d)})}function Rs(o,l,f,c){var d=o.display;if(!f&&cu(l).getAttribute("cm-not-content")=="true")return null;var g,y,x=d.lineSpace.getBoundingClientRect();try{g=l.clientX-x.left,y=l.clientY-x.top}catch{return null}var k=Vm(o,g,y),A;if(c&&k.xRel>0&&(A=Ne(o.doc,k.line).text).length==k.ch){var F=gt(A,A.length,o.options.tabSize)-A.length;k=de(k.line,Math.max(0,Math.round((g-LE(o.display).left)/Fa(o.display))-F))}return k}function Ps(o,l){if(l>=o.display.viewTo||(l-=o.display.viewFrom,l<0))return null;for(var f=o.display.view,c=0;c<f.length;c++)if(l-=f[c].size,l<0)return c}function tr(o,l,f,c){l==null&&(l=o.doc.first),f==null&&(f=o.doc.first+o.doc.size),c||(c=0);var d=o.display;if(c&&f<d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>l)&&(d.updateLineNumbers=l),o.curOp.viewChanged=!0,l>=d.viewTo)Hi&&Rm(o.doc,l)<d.viewTo&&So(o);else if(f<=d.viewFrom)Hi&&kE(o.doc,f+c)>d.viewFrom?So(o):(d.viewFrom+=c,d.viewTo+=c);else if(l<=d.viewFrom&&f>=d.viewTo)So(o);else if(l<=d.viewFrom){var g=ch(o,f,f+c,1);g?(d.view=d.view.slice(g.index),d.viewFrom=g.lineN,d.viewTo+=c):So(o)}else if(f>=d.viewTo){var y=ch(o,l,l,-1);y?(d.view=d.view.slice(0,y.index),d.viewTo=y.lineN):So(o)}else{var x=ch(o,l,l,-1),k=ch(o,f,f+c,1);x&&k?(d.view=d.view.slice(0,x.index).concat(sh(o,x.lineN,k.lineN)).concat(d.view.slice(k.index)),d.viewTo+=c):So(o)}var A=d.externalMeasured;A&&(f<A.lineN?A.lineN+=c:l<A.lineN+A.size&&(d.externalMeasured=null))}function ko(o,l,f){o.curOp.viewChanged=!0;var c=o.display,d=o.display.externalMeasured;if(d&&l>=d.lineN&&l<d.lineN+d.size&&(c.externalMeasured=null),!(l<c.viewFrom||l>=c.viewTo)){var g=c.view[Ps(o,l)];if(g.node!=null){var y=g.changes||(g.changes=[]);it(y,f)==-1&&y.push(f)}}}function So(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function ch(o,l,f,c){var d=Ps(o,l),g,y=o.display.view;if(!Hi||f==o.doc.first+o.doc.size)return{index:d,lineN:f};for(var x=o.display.viewFrom,k=0;k<d;k++)x+=y[k].size;if(x!=l){if(c>0){if(d==y.length-1)return null;g=x+y[d].size-l,d++}else g=x-l;l+=g,f+=g}for(;Rm(o.doc,f)!=f;){if(d==(c<0?0:y.length-1))return null;f+=c*y[d-(c<0?1:0)].size,d+=c}return{index:d,lineN:f}}function ZL(o,l,f){var c=o.display,d=c.view;d.length==0||l>=c.viewTo||f<=c.viewFrom?(c.view=sh(o,l,f),c.viewFrom=l):(c.viewFrom>l?c.view=sh(o,l,c.viewFrom).concat(c.view):c.viewFrom<l&&(c.view=c.view.slice(Ps(o,l))),c.viewFrom=l,c.viewTo<f?c.view=c.view.concat(sh(o,c.viewTo,f)):c.viewTo>f&&(c.view=c.view.slice(0,Ps(o,f)))),c.viewTo=f}function GE(o){for(var l=o.display.view,f=0,c=0;c<l.length;c++){var d=l[c];!d.hidden&&(!d.node||d.changes)&&++f}return f}function yu(o){o.display.input.showSelection(o.display.input.prepareSelection())}function KE(o,l){l===void 0&&(l=!0);var f=o.doc,c={},d=c.cursors=document.createDocumentFragment(),g=c.selection=document.createDocumentFragment(),y=o.options.$customCursor;y&&(l=!0);for(var x=0;x<f.sel.ranges.length;x++)if(!(!l&&x==f.sel.primIndex)){var k=f.sel.ranges[x];if(!(k.from().line>=o.display.viewTo||k.to().line<o.display.viewFrom)){var A=k.empty();if(y){var F=y(o,k);F&&Wm(o,F,d)}else(A||o.options.showCursorWhenSelecting)&&Wm(o,k.head,d);A||eN(o,k,g)}}return c}function Wm(o,l,f){var c=ni(o,l,"div",null,null,!o.options.singleCursorHeightPerLine),d=f.appendChild($("div","","CodeMirror-cursor"));if(d.style.left=c.left+"px",d.style.top=c.top+"px",d.style.height=Math.max(0,c.bottom-c.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var g=uh(o,l,"div",null,null),y=g.right-g.left;d.style.width=(y>0?y:o.defaultCharWidth())+"px"}if(c.other){var x=f.appendChild($("div","","CodeMirror-cursor CodeMirror-secondarycursor"));x.style.display="",x.style.left=c.other.left+"px",x.style.top=c.other.top+"px",x.style.height=(c.other.bottom-c.other.top)*.85+"px"}}function fh(o,l){return o.top-l.top||o.left-l.left}function eN(o,l,f){var c=o.display,d=o.doc,g=document.createDocumentFragment(),y=LE(o.display),x=y.left,k=Math.max(c.sizerWidth,bs(o)-c.sizer.offsetLeft)-y.right,A=d.direction=="ltr";function F(xe,Ie,Ue,Oe){Ie<0&&(Ie=0),Ie=Math.round(Ie),Oe=Math.round(Oe),g.appendChild($("div",null,"CodeMirror-selected","position: absolute; left: "+xe+`px;
                             top: `+Ie+"px; width: "+(Ue??k-xe)+`px;
                             height: `+(Oe-Ie)+"px"))}function j(xe,Ie,Ue){var Oe=Ne(d,xe),et=Oe.text.length,Tt,vn;function zt(en,ir){return uh(o,de(xe,en),"div",Oe,ir)}function gr(en,ir,kn){var an=WE(o,Oe,null,en),tn=ir=="ltr"==(kn=="after")?"left":"right",$t=kn=="after"?an.begin:an.end-(/\s/.test(Oe.text.charAt(an.end-1))?2:1);return zt($t,tn)[tn]}var rr=pe(Oe,d.direction);return Se(rr,Ie||0,Ue??et,function(en,ir,kn,an){var tn=kn=="ltr",$t=zt(en,tn?"left":"right"),or=zt(ir-1,tn?"right":"left"),Ka=Ie==null&&en==0,Io=Ue==null&&ir==et,In=an==0,wi=!rr||an==rr.length-1;if(or.top-$t.top<=3){var yn=(A?Ka:Io)&&In,yv=(A?Io:Ka)&&wi,Qi=yn?x:(tn?$t:or).left,Ms=yv?k:(tn?or:$t).right;F(Qi,$t.top,Ms-Qi,$t.bottom)}else{var Bs,jn,Qa,_v;tn?(Bs=A&&Ka&&In?x:$t.left,jn=A?k:gr(en,kn,"before"),Qa=A?x:gr(ir,kn,"after"),_v=A&&Io&&wi?k:or.right):(Bs=A?gr(en,kn,"before"):x,jn=!A&&Ka&&In?k:$t.right,Qa=!A&&Io&&wi?x:or.left,_v=A?gr(ir,kn,"after"):k),F(Bs,$t.top,jn-Bs,$t.bottom),$t.bottom<or.top&&F(x,$t.bottom,null,or.top),F(Qa,or.top,_v-Qa,or.bottom)}(!Tt||fh($t,Tt)<0)&&(Tt=$t),fh(or,Tt)<0&&(Tt=or),(!vn||fh($t,vn)<0)&&(vn=$t),fh(or,vn)<0&&(vn=or)}),{start:Tt,end:vn}}var X=l.from(),q=l.to();if(X.line==q.line)j(X.line,X.ch,q.ch);else{var ie=Ne(d,X.line),ce=Ne(d,q.line),me=ti(ie)==ti(ce),Ee=j(X.line,X.ch,me?ie.text.length+1:null).end,Ce=j(q.line,me?0:null,q.ch).start;me&&(Ee.top<Ce.top-2?(F(Ee.right,Ee.top,null,Ee.bottom),F(x,Ce.top,Ce.left,Ce.bottom)):F(Ee.right,Ee.top,Ce.left-Ee.right,Ee.bottom)),Ee.bottom<Ce.top&&F(x,Ee.bottom,null,Ce.top)}f.appendChild(g)}function qm(o){if(o.state.focused){var l=o.display;clearInterval(l.blinker);var f=!0;l.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?l.blinker=setInterval(function(){o.hasFocus()||Oa(o),l.cursorDiv.style.visibility=(f=!f)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function QE(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||Km(o))}function Gm(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&Oa(o))},100)}function Km(o,l){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),o.options.readOnly!="nocursor"&&(o.state.focused||(dt(o,"focus",o,l),o.state.focused=!0,B(o.display.wrapper,"CodeMirror-focused"),!o.curOp&&o.display.selForContextMenu!=o.doc.sel&&(o.display.input.reset(),m&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),qm(o))}function Oa(o,l){o.state.delayingBlurEvent||(o.state.focused&&(dt(o,"blur",o,l),o.state.focused=!1,se(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function hh(o){for(var l=o.display,f=l.lineDiv.offsetTop,c=Math.max(0,l.scroller.getBoundingClientRect().top),d=l.lineDiv.getBoundingClientRect().top,g=0,y=0;y<l.view.length;y++){var x=l.view[y],k=o.options.lineWrapping,A=void 0,F=0;if(!x.hidden){if(d+=x.line.height,h&&p<8){var j=x.node.offsetTop+x.node.offsetHeight;A=j-f,f=j}else{var X=x.node.getBoundingClientRect();A=X.bottom-X.top,!k&&x.text.firstChild&&(F=x.text.firstChild.getBoundingClientRect().right-X.left-1)}var q=x.line.height-A;if((q>.005||q<-.005)&&(d<c&&(g-=q),mi(x.line,A),XE(x.line),x.rest))for(var ie=0;ie<x.rest.length;ie++)XE(x.rest[ie]);if(F>o.display.sizerWidth){var ce=Math.ceil(F/Fa(o.display));ce>o.display.maxLineLength&&(o.display.maxLineLength=ce,o.display.maxLine=x.line,o.display.maxLineChanged=!0)}}}Math.abs(g)>2&&(l.scroller.scrollTop+=g)}function XE(o){if(o.widgets)for(var l=0;l<o.widgets.length;++l){var f=o.widgets[l],c=f.node.parentNode;c&&(f.height=c.offsetHeight)}}function dh(o,l,f){var c=f&&f.top!=null?Math.max(0,f.top):o.scroller.scrollTop;c=Math.floor(c-ah(o));var d=f&&f.bottom!=null?f.bottom:c+o.wrapper.clientHeight,g=As(l,c),y=As(l,d);if(f&&f.ensure){var x=f.ensure.from.line,k=f.ensure.to.line;x<g?(g=x,y=As(l,Wi(Ne(l,x))+o.wrapper.clientHeight)):Math.min(k,l.lastLine())>=y&&(g=As(l,Wi(Ne(l,k))-o.wrapper.clientHeight),y=k)}return{from:g,to:Math.max(y,g+1)}}function tN(o,l){if(!Xe(o,"scrollCursorIntoView")){var f=o.display,c=f.sizer.getBoundingClientRect(),d=null,g=f.wrapper.ownerDocument;if(l.top+c.top<0?d=!0:l.bottom+c.top>(g.defaultView.innerHeight||g.documentElement.clientHeight)&&(d=!1),d!=null&&!T){var y=$("div","",null,`position: absolute;
                         top: `+(l.top-f.viewOffset-ah(o.display))+`px;
                         height: `+(l.bottom-l.top+yi(o)+f.barHeight)+`px;
                         left: `+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");o.display.lineSpace.appendChild(y),y.scrollIntoView(d),o.display.lineSpace.removeChild(y)}}}function nN(o,l,f,c){c==null&&(c=0);var d;!o.options.lineWrapping&&l==f&&(f=l.sticky=="before"?de(l.line,l.ch+1,"before"):l,l=l.ch?de(l.line,l.sticky=="before"?l.ch-1:l.ch,"after"):l);for(var g=0;g<5;g++){var y=!1,x=ni(o,l),k=!f||f==l?x:ni(o,f);d={left:Math.min(x.left,k.left),top:Math.min(x.top,k.top)-c,right:Math.max(x.left,k.left),bottom:Math.max(x.bottom,k.bottom)+c};var A=Qm(o,d),F=o.doc.scrollTop,j=o.doc.scrollLeft;if(A.scrollTop!=null&&(wu(o,A.scrollTop),Math.abs(o.doc.scrollTop-F)>1&&(y=!0)),A.scrollLeft!=null&&(Ls(o,A.scrollLeft),Math.abs(o.doc.scrollLeft-j)>1&&(y=!0)),!y)break}return d}function rN(o,l){var f=Qm(o,l);f.scrollTop!=null&&wu(o,f.scrollTop),f.scrollLeft!=null&&Ls(o,f.scrollLeft)}function Qm(o,l){var f=o.display,c=Na(o.display);l.top<0&&(l.top=0);var d=o.curOp&&o.curOp.scrollTop!=null?o.curOp.scrollTop:f.scroller.scrollTop,g=Om(o),y={};l.bottom-l.top>g&&(l.bottom=l.top+g);var x=o.doc.height+Fm(f),k=l.top<c,A=l.bottom>x-c;if(l.top<d)y.scrollTop=k?0:l.top;else if(l.bottom>d+g){var F=Math.min(l.top,(A?x:l.bottom)-g);F!=d&&(y.scrollTop=F)}var j=o.options.fixedGutter?0:f.gutters.offsetWidth,X=o.curOp&&o.curOp.scrollLeft!=null?o.curOp.scrollLeft:f.scroller.scrollLeft-j,q=bs(o)-f.gutters.offsetWidth,ie=l.right-l.left>q;return ie&&(l.right=l.left+q),l.left<10?y.scrollLeft=0:l.left<X?y.scrollLeft=Math.max(0,l.left+j-(ie?0:10)):l.right>q+X-3&&(y.scrollLeft=l.right+(ie?0:10)-q),y}function Xm(o,l){l!=null&&(ph(o),o.curOp.scrollTop=(o.curOp.scrollTop==null?o.doc.scrollTop:o.curOp.scrollTop)+l)}function Ma(o){ph(o);var l=o.getCursor();o.curOp.scrollToPos={from:l,to:l,margin:o.options.cursorScrollMargin}}function _u(o,l,f){(l!=null||f!=null)&&ph(o),l!=null&&(o.curOp.scrollLeft=l),f!=null&&(o.curOp.scrollTop=f)}function iN(o,l){ph(o),o.curOp.scrollToPos=l}function ph(o){var l=o.curOp.scrollToPos;if(l){o.curOp.scrollToPos=null;var f=$E(o,l.from),c=$E(o,l.to);YE(o,f,c,l.margin)}}function YE(o,l,f,c){var d=Qm(o,{left:Math.min(l.left,f.left),top:Math.min(l.top,f.top)-c,right:Math.max(l.right,f.right),bottom:Math.max(l.bottom,f.bottom)+c});_u(o,d.scrollLeft,d.scrollTop)}function wu(o,l){Math.abs(o.doc.scrollTop-l)<2||(i||Jm(o,{top:l}),JE(o,l,!0),i&&Jm(o),ku(o,100))}function JE(o,l,f){l=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,l)),!(o.display.scroller.scrollTop==l&&!f)&&(o.doc.scrollTop=l,o.display.scrollbars.setScrollTop(l),o.display.scroller.scrollTop!=l&&(o.display.scroller.scrollTop=l))}function Ls(o,l,f,c){l=Math.max(0,Math.min(l,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),!((f?l==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-l)<2)&&!c)&&(o.doc.scrollLeft=l,rx(o),o.display.scroller.scrollLeft!=l&&(o.display.scroller.scrollLeft=l),o.display.scrollbars.setScrollLeft(l))}function Eu(o){var l=o.display,f=l.gutters.offsetWidth,c=Math.round(o.doc.height+Fm(o.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:o.options.fixedGutter?f:0,docHeight:c,scrollHeight:c+yi(o)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:f}}var Ns=function(o,l,f){this.cm=f;var c=this.vert=$("div",[$("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),d=this.horiz=$("div",[$("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c.tabIndex=d.tabIndex=-1,o(c),o(d),ne(c,"scroll",function(){c.clientHeight&&l(c.scrollTop,"vertical")}),ne(d,"scroll",function(){d.clientWidth&&l(d.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,h&&p<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ns.prototype.update=function(o){var l=o.scrollWidth>o.clientWidth+1,f=o.scrollHeight>o.clientHeight+1,c=o.nativeBarWidth;if(f){this.vert.style.display="block",this.vert.style.bottom=l?c+"px":"0";var d=o.viewHeight-(l?c:0);this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+d)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(l){this.horiz.style.display="block",this.horiz.style.right=f?c+"px":"0",this.horiz.style.left=o.barLeft+"px";var g=o.viewWidth-o.barLeft-(f?c:0);this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+g)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&o.clientHeight>0&&(c==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:f?c:0,bottom:l?c:0}},Ns.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ns.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ns.prototype.zeroWidthHack=function(){var o=O&&!P?"12px":"18px";this.horiz.style.height=this.vert.style.width=o,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ct,this.disableVert=new Ct},Ns.prototype.enableZeroWidthBar=function(o,l,f){o.style.visibility="";function c(){var d=o.getBoundingClientRect(),g=f=="vert"?document.elementFromPoint(d.right-1,(d.top+d.bottom)/2):document.elementFromPoint((d.right+d.left)/2,d.bottom-1);g!=o?o.style.visibility="hidden":l.set(1e3,c)}l.set(1e3,c)},Ns.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var xu=function(){};xu.prototype.update=function(){return{bottom:0,right:0}},xu.prototype.setScrollLeft=function(){},xu.prototype.setScrollTop=function(){},xu.prototype.clear=function(){};function Ba(o,l){l||(l=Eu(o));var f=o.display.barWidth,c=o.display.barHeight;ZE(o,l);for(var d=0;d<4&&f!=o.display.barWidth||c!=o.display.barHeight;d++)f!=o.display.barWidth&&o.options.lineWrapping&&hh(o),ZE(o,Eu(o)),f=o.display.barWidth,c=o.display.barHeight}function ZE(o,l){var f=o.display,c=f.scrollbars.update(l);f.sizer.style.paddingRight=(f.barWidth=c.right)+"px",f.sizer.style.paddingBottom=(f.barHeight=c.bottom)+"px",f.heightForcer.style.borderBottom=c.bottom+"px solid transparent",c.right&&c.bottom?(f.scrollbarFiller.style.display="block",f.scrollbarFiller.style.height=c.bottom+"px",f.scrollbarFiller.style.width=c.right+"px"):f.scrollbarFiller.style.display="",c.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(f.gutterFiller.style.display="block",f.gutterFiller.style.height=c.bottom+"px",f.gutterFiller.style.width=l.gutterWidth+"px"):f.gutterFiller.style.display=""}var ex={native:Ns,null:xu};function tx(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&se(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new ex[o.options.scrollbarStyle](function(l){o.display.wrapper.insertBefore(l,o.display.scrollbarFiller),ne(l,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,f){f=="horizontal"?Ls(o,l):wu(o,l)},o),o.display.scrollbars.addClass&&B(o.display.wrapper,o.display.scrollbars.addClass)}var oN=0;function Fs(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++oN,markArrays:null},OL(o.curOp)}function Os(o){var l=o.curOp;l&&BL(l,function(f){for(var c=0;c<f.ops.length;c++)f.ops[c].cm.curOp=null;sN(f)})}function sN(o){for(var l=o.ops,f=0;f<l.length;f++)aN(l[f]);for(var c=0;c<l.length;c++)lN(l[c]);for(var d=0;d<l.length;d++)uN(l[d]);for(var g=0;g<l.length;g++)cN(l[g]);for(var y=0;y<l.length;y++)fN(l[y])}function aN(o){var l=o.cm,f=l.display;dN(l),o.updateMaxLine&&Lm(l),o.mustUpdate=o.viewChanged||o.forceUpdate||o.scrollTop!=null||o.scrollToPos&&(o.scrollToPos.from.line<f.viewFrom||o.scrollToPos.to.line>=f.viewTo)||f.maxLineChanged&&l.options.lineWrapping,o.update=o.mustUpdate&&new gh(l,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function lN(o){o.updatedDisplay=o.mustUpdate&&Ym(o.cm,o.update)}function uN(o){var l=o.cm,f=l.display;o.updatedDisplay&&hh(l),o.barMeasure=Eu(l),f.maxLineChanged&&!l.options.lineWrapping&&(o.adjustWidthTo=FE(l,f.maxLine,f.maxLine.text.length).left+3,l.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(f.scroller.clientWidth,f.sizer.offsetLeft+o.adjustWidthTo+yi(l)+l.display.barWidth),o.maxScrollLeft=Math.max(0,f.sizer.offsetLeft+o.adjustWidthTo-bs(l))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=f.input.prepareSelection())}function cN(o){var l=o.cm;o.adjustWidthTo!=null&&(l.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<l.doc.scrollLeft&&Ls(l,Math.min(l.display.scroller.scrollLeft,o.maxScrollLeft),!0),l.display.maxLineChanged=!1);var f=o.focus&&o.focus==ue(ee(l));o.preparedSelection&&l.display.input.showSelection(o.preparedSelection,f),(o.updatedDisplay||o.startHeight!=l.doc.height)&&Ba(l,o.barMeasure),o.updatedDisplay&&ev(l,o.barMeasure),o.selectionChanged&&qm(l),l.state.focused&&o.updateInput&&l.display.input.reset(o.typing),f&&QE(o.cm)}function fN(o){var l=o.cm,f=l.display,c=l.doc;if(o.updatedDisplay&&nx(l,o.update),f.wheelStartX!=null&&(o.scrollTop!=null||o.scrollLeft!=null||o.scrollToPos)&&(f.wheelStartX=f.wheelStartY=null),o.scrollTop!=null&&JE(l,o.scrollTop,o.forceScroll),o.scrollLeft!=null&&Ls(l,o.scrollLeft,!0,!0),o.scrollToPos){var d=nN(l,We(c,o.scrollToPos.from),We(c,o.scrollToPos.to),o.scrollToPos.margin);tN(l,d)}var g=o.maybeHiddenMarkers,y=o.maybeUnhiddenMarkers;if(g)for(var x=0;x<g.length;++x)g[x].lines.length||dt(g[x],"hide");if(y)for(var k=0;k<y.length;++k)y[k].lines.length&&dt(y[k],"unhide");f.wrapper.offsetHeight&&(c.scrollTop=l.display.scroller.scrollTop),o.changeObjs&&dt(l,"changes",l,o.changeObjs),o.update&&o.update.finish()}function pr(o,l){if(o.curOp)return l();Fs(o);try{return l()}finally{Os(o)}}function gn(o,l){return function(){if(o.curOp)return l.apply(o,arguments);Fs(o);try{return l.apply(o,arguments)}finally{Os(o)}}}function zn(o){return function(){if(this.curOp)return o.apply(this,arguments);Fs(this);try{return o.apply(this,arguments)}finally{Os(this)}}}function mn(o){return function(){var l=this.cm;if(!l||l.curOp)return o.apply(this,arguments);Fs(l);try{return o.apply(this,arguments)}finally{Os(l)}}}function ku(o,l){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(l,rt(hN,o))}function hN(o){var l=o.doc;if(!(l.highlightFrontier>=o.display.viewTo)){var f=+new Date+o.options.workTime,c=hu(o,l.highlightFrontier),d=[];l.iter(c.line,Math.min(l.first+l.size,o.display.viewTo+500),function(g){if(c.line>=o.display.viewFrom){var y=g.styles,x=g.text.length>o.options.maxHighlightLength?Cs(l.mode,c.state):null,k=uE(o,g,c,!0);x&&(c.state=x),g.styles=k.styles;var A=g.styleClasses,F=k.classes;F?g.styleClasses=F:A&&(g.styleClasses=null);for(var j=!y||y.length!=g.styles.length||A!=F&&(!A||!F||A.bgClass!=F.bgClass||A.textClass!=F.textClass),X=0;!j&&X<y.length;++X)j=y[X]!=g.styles[X];j&&d.push(c.line),g.stateAfter=c.save(),c.nextLine()}else g.text.length<=o.options.maxHighlightLength&&Dm(o,g.text,c),g.stateAfter=c.line%5==0?c.save():null,c.nextLine();if(+new Date>f)return ku(o,o.options.workDelay),!0}),l.highlightFrontier=c.line,l.modeFrontier=Math.max(l.modeFrontier,c.line),d.length&&pr(o,function(){for(var g=0;g<d.length;g++)ko(o,d[g],"text")})}}var gh=function(o,l,f){var c=o.display;this.viewport=l,this.visible=dh(c,o.doc,l),this.editorIsHidden=!c.wrapper.offsetWidth,this.wrapperHeight=c.wrapper.clientHeight,this.wrapperWidth=c.wrapper.clientWidth,this.oldDisplayWidth=bs(o),this.force=f,this.dims=jm(o),this.events=[]};gh.prototype.signal=function(o,l){xn(o,l)&&this.events.push(arguments)},gh.prototype.finish=function(){for(var o=0;o<this.events.length;o++)dt.apply(null,this.events[o])};function dN(o){var l=o.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=yi(o)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=yi(o)+"px",l.scrollbarsClipped=!0)}function pN(o){if(o.hasFocus())return null;var l=ue(ee(o));if(!l||!te(o.display.lineDiv,l))return null;var f={activeElt:l};if(window.getSelection){var c=Te(o).getSelection();c.anchorNode&&c.extend&&te(o.display.lineDiv,c.anchorNode)&&(f.anchorNode=c.anchorNode,f.anchorOffset=c.anchorOffset,f.focusNode=c.focusNode,f.focusOffset=c.focusOffset)}return f}function gN(o){if(!(!o||!o.activeElt||o.activeElt==ue(Ve(o.activeElt)))&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&te(document.body,o.anchorNode)&&te(document.body,o.focusNode))){var l=o.activeElt.ownerDocument,f=l.defaultView.getSelection(),c=l.createRange();c.setEnd(o.anchorNode,o.anchorOffset),c.collapse(!1),f.removeAllRanges(),f.addRange(c),f.extend(o.focusNode,o.focusOffset)}}function Ym(o,l){var f=o.display,c=o.doc;if(l.editorIsHidden)return So(o),!1;if(!l.force&&l.visible.from>=f.viewFrom&&l.visible.to<=f.viewTo&&(f.updateLineNumbers==null||f.updateLineNumbers>=f.viewTo)&&f.renderedView==f.view&&GE(o)==0)return!1;ix(o)&&(So(o),l.dims=jm(o));var d=c.first+c.size,g=Math.max(l.visible.from-o.options.viewportMargin,c.first),y=Math.min(d,l.visible.to+o.options.viewportMargin);f.viewFrom<g&&g-f.viewFrom<20&&(g=Math.max(c.first,f.viewFrom)),f.viewTo>y&&f.viewTo-y<20&&(y=Math.min(d,f.viewTo)),Hi&&(g=Rm(o.doc,g),y=kE(o.doc,y));var x=g!=f.viewFrom||y!=f.viewTo||f.lastWrapHeight!=l.wrapperHeight||f.lastWrapWidth!=l.wrapperWidth;ZL(o,g,y),f.viewOffset=Wi(Ne(o.doc,f.viewFrom)),o.display.mover.style.top=f.viewOffset+"px";var k=GE(o);if(!x&&k==0&&!l.force&&f.renderedView==f.view&&(f.updateLineNumbers==null||f.updateLineNumbers>=f.viewTo))return!1;var A=pN(o);return k>4&&(f.lineDiv.style.display="none"),mN(o,f.updateLineNumbers,l.dims),k>4&&(f.lineDiv.style.display=""),f.renderedView=f.view,gN(A),we(f.cursorDiv),we(f.selectionDiv),f.gutters.style.height=f.sizer.style.minHeight=0,x&&(f.lastWrapHeight=l.wrapperHeight,f.lastWrapWidth=l.wrapperWidth,ku(o,400)),f.updateLineNumbers=null,!0}function nx(o,l){for(var f=l.viewport,c=!0;;c=!1){if(!c||!o.options.lineWrapping||l.oldDisplayWidth==bs(o)){if(f&&f.top!=null&&(f={top:Math.min(o.doc.height+Fm(o.display)-Om(o),f.top)}),l.visible=dh(o.display,o.doc,f),l.visible.from>=o.display.viewFrom&&l.visible.to<=o.display.viewTo)break}else c&&(l.visible=dh(o.display,o.doc,f));if(!Ym(o,l))break;hh(o);var d=Eu(o);yu(o),Ba(o,d),ev(o,d),l.force=!1}l.signal(o,"update",o),(o.display.viewFrom!=o.display.reportedViewFrom||o.display.viewTo!=o.display.reportedViewTo)&&(l.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function Jm(o,l){var f=new gh(o,l);if(Ym(o,f)){hh(o),nx(o,f);var c=Eu(o);yu(o),Ba(o,c),ev(o,c),f.finish()}}function mN(o,l,f){var c=o.display,d=o.options.lineNumbers,g=c.lineDiv,y=g.firstChild;function x(ie){var ce=ie.nextSibling;return m&&O&&o.display.currentWheelTarget==ie?ie.style.display="none":ie.parentNode.removeChild(ie),ce}for(var k=c.view,A=c.viewFrom,F=0;F<k.length;F++){var j=k[F];if(!j.hidden)if(!j.node||j.node.parentNode!=g){var X=$L(o,j,A,f);g.insertBefore(X,y)}else{for(;y!=j.node;)y=x(y);var q=d&&l!=null&&l<=A&&j.lineNumber;j.changes&&(it(j.changes,"gutter")>-1&&(q=!1),AE(o,j,A,f)),q&&(we(j.lineNumber),j.lineNumber.appendChild(document.createTextNode(Sm(o.options,A)))),y=j.node.nextSibling}A+=j.size}for(;y;)y=x(y)}function Zm(o){var l=o.gutters.offsetWidth;o.sizer.style.marginLeft=l+"px",pn(o,"gutterChanged",o)}function ev(o,l){o.display.sizer.style.minHeight=l.docHeight+"px",o.display.heightForcer.style.top=l.docHeight+"px",o.display.gutters.style.height=l.docHeight+o.display.barHeight+yi(o)+"px"}function rx(o){var l=o.display,f=l.view;if(!(!l.alignWidgets&&(!l.gutters.firstChild||!o.options.fixedGutter))){for(var c=$m(l)-l.scroller.scrollLeft+o.doc.scrollLeft,d=l.gutters.offsetWidth,g=c+"px",y=0;y<f.length;y++)if(!f[y].hidden){o.options.fixedGutter&&(f[y].gutter&&(f[y].gutter.style.left=g),f[y].gutterBackground&&(f[y].gutterBackground.style.left=g));var x=f[y].alignable;if(x)for(var k=0;k<x.length;k++)x[k].style.left=g}o.options.fixedGutter&&(l.gutters.style.left=c+d+"px")}}function ix(o){if(!o.options.lineNumbers)return!1;var l=o.doc,f=Sm(o.options,l.first+l.size-1),c=o.display;if(f.length!=c.lineNumChars){var d=c.measure.appendChild($("div",[$("div",f)],"CodeMirror-linenumber CodeMirror-gutter-elt")),g=d.firstChild.offsetWidth,y=d.offsetWidth-g;return c.lineGutter.style.width="",c.lineNumInnerWidth=Math.max(g,c.lineGutter.offsetWidth-y)+1,c.lineNumWidth=c.lineNumInnerWidth+y,c.lineNumChars=c.lineNumInnerWidth?f.length:-1,c.lineGutter.style.width=c.lineNumWidth+"px",Zm(o.display),!0}return!1}function tv(o,l){for(var f=[],c=!1,d=0;d<o.length;d++){var g=o[d],y=null;if(typeof g!="string"&&(y=g.style,g=g.className),g=="CodeMirror-linenumbers")if(l)c=!0;else continue;f.push({className:g,style:y})}return l&&!c&&f.push({className:"CodeMirror-linenumbers",style:null}),f}function ox(o){var l=o.gutters,f=o.gutterSpecs;we(l),o.lineGutter=null;for(var c=0;c<f.length;++c){var d=f[c],g=d.className,y=d.style,x=l.appendChild($("div",null,"CodeMirror-gutter "+g));y&&(x.style.cssText=y),g=="CodeMirror-linenumbers"&&(o.lineGutter=x,x.style.width=(o.lineNumWidth||1)+"px")}l.style.display=f.length?"":"none",Zm(o)}function Su(o){ox(o.display),tr(o),rx(o)}function vN(o,l,f,c){var d=this;this.input=f,d.scrollbarFiller=$("div",null,"CodeMirror-scrollbar-filler"),d.scrollbarFiller.setAttribute("cm-not-content","true"),d.gutterFiller=$("div",null,"CodeMirror-gutter-filler"),d.gutterFiller.setAttribute("cm-not-content","true"),d.lineDiv=ae("div",null,"CodeMirror-code"),d.selectionDiv=$("div",null,null,"position: relative; z-index: 1"),d.cursorDiv=$("div",null,"CodeMirror-cursors"),d.measure=$("div",null,"CodeMirror-measure"),d.lineMeasure=$("div",null,"CodeMirror-measure"),d.lineSpace=ae("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var g=ae("div",[d.lineSpace],"CodeMirror-lines");d.mover=$("div",[g],null,"position: relative"),d.sizer=$("div",[d.mover],"CodeMirror-sizer"),d.sizerWidth=null,d.heightForcer=$("div",null,null,"position: absolute; height: "+ft+"px; width: 1px;"),d.gutters=$("div",null,"CodeMirror-gutters"),d.lineGutter=null,d.scroller=$("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll"),d.scroller.setAttribute("tabIndex","-1"),d.wrapper=$("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror"),_&&E>=105&&(d.wrapper.style.clipPath="inset(0px)"),d.wrapper.setAttribute("translate","no"),h&&p<8&&(d.gutters.style.zIndex=-1,d.scroller.style.paddingRight=0),!m&&!(i&&N)&&(d.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(d.wrapper):o(d.wrapper)),d.viewFrom=d.viewTo=l.first,d.reportedViewFrom=d.reportedViewTo=l.first,d.view=[],d.renderedView=null,d.externalMeasured=null,d.viewOffset=0,d.lastWrapHeight=d.lastWrapWidth=0,d.updateLineNumbers=null,d.nativeBarWidth=d.barHeight=d.barWidth=0,d.scrollbarsClipped=!1,d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null,d.alignWidgets=!1,d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.maxLine=null,d.maxLineLength=0,d.maxLineChanged=!1,d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null,d.shift=!1,d.selForContextMenu=null,d.activeTouch=null,d.gutterSpecs=tv(c.gutters,c.lineNumbers),ox(d),f.init(d)}var mh=0,Gi=null;h?Gi=-.53:i?Gi=15:_?Gi=-.7:I&&(Gi=-1/3);function sx(o){var l=o.wheelDeltaX,f=o.wheelDeltaY;return l==null&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(l=o.detail),f==null&&o.detail&&o.axis==o.VERTICAL_AXIS?f=o.detail:f==null&&(f=o.wheelDelta),{x:l,y:f}}function yN(o){var l=sx(o);return l.x*=Gi,l.y*=Gi,l}function ax(o,l){_&&E==102&&(o.display.chromeScrollHack==null?o.display.sizer.style.pointerEvents="none":clearTimeout(o.display.chromeScrollHack),o.display.chromeScrollHack=setTimeout(function(){o.display.chromeScrollHack=null,o.display.sizer.style.pointerEvents=""},100));var f=sx(l),c=f.x,d=f.y,g=Gi;l.deltaMode===0&&(c=l.deltaX,d=l.deltaY,g=1);var y=o.display,x=y.scroller,k=x.scrollWidth>x.clientWidth,A=x.scrollHeight>x.clientHeight;if(c&&k||d&&A){if(d&&O&&m){e:for(var F=l.target,j=y.view;F!=x;F=F.parentNode)for(var X=0;X<j.length;X++)if(j[X].node==F){o.display.currentWheelTarget=F;break e}}if(c&&!i&&!b&&g!=null){d&&A&&wu(o,Math.max(0,x.scrollTop+d*g)),Ls(o,Math.max(0,x.scrollLeft+c*g)),(!d||d&&A)&&Vt(l),y.wheelStartX=null;return}if(d&&g!=null){var q=d*g,ie=o.doc.scrollTop,ce=ie+y.wrapper.clientHeight;q<0?ie=Math.max(0,ie+q-50):ce=Math.min(o.doc.height,ce+q+50),Jm(o,{top:ie,bottom:ce})}mh<20&&l.deltaMode!==0&&(y.wheelStartX==null?(y.wheelStartX=x.scrollLeft,y.wheelStartY=x.scrollTop,y.wheelDX=c,y.wheelDY=d,setTimeout(function(){if(y.wheelStartX!=null){var me=x.scrollLeft-y.wheelStartX,Ee=x.scrollTop-y.wheelStartY,Ce=Ee&&y.wheelDY&&Ee/y.wheelDY||me&&y.wheelDX&&me/y.wheelDX;y.wheelStartX=y.wheelStartY=null,Ce&&(Gi=(Gi*mh+Ce)/(mh+1),++mh)}},200)):(y.wheelDX+=c,y.wheelDY+=d))}}var Tr=function(o,l){this.ranges=o,this.primIndex=l};Tr.prototype.primary=function(){return this.ranges[this.primIndex]},Tr.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var f=this.ranges[l],c=o.ranges[l];if(!Tm(f.anchor,c.anchor)||!Tm(f.head,c.head))return!1}return!0},Tr.prototype.deepCopy=function(){for(var o=[],l=0;l<this.ranges.length;l++)o[l]=new pt(Cm(this.ranges[l].anchor),Cm(this.ranges[l].head));return new Tr(o,this.primIndex)},Tr.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},Tr.prototype.contains=function(o,l){l||(l=o);for(var f=0;f<this.ranges.length;f++){var c=this.ranges[f];if(He(l,c.from())>=0&&He(o,c.to())<=0)return f}return-1};var pt=function(o,l){this.anchor=o,this.head=l};pt.prototype.from=function(){return Zf(this.anchor,this.head)},pt.prototype.to=function(){return Jf(this.anchor,this.head)},pt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ri(o,l,f){var c=o&&o.options.selectionsMayTouch,d=l[f];l.sort(function(X,q){return He(X.from(),q.from())}),f=it(l,d);for(var g=1;g<l.length;g++){var y=l[g],x=l[g-1],k=He(x.to(),y.from());if(c&&!y.empty()?k>0:k>=0){var A=Zf(x.from(),y.from()),F=Jf(x.to(),y.to()),j=x.empty()?y.from()==y.head:x.from()==x.head;g<=f&&--f,l.splice(--g,2,new pt(j?F:A,j?A:F))}}return new Tr(l,f)}function To(o,l){return new Tr([new pt(o,l||o)],0)}function Co(o){return o.text?de(o.from.line+o.text.length-1,nt(o.text).length+(o.text.length==1?o.from.ch:0)):o.to}function lx(o,l){if(He(o,l.from)<0)return o;if(He(o,l.to)<=0)return Co(l);var f=o.line+l.text.length-(l.to.line-l.from.line)-1,c=o.ch;return o.line==l.to.line&&(c+=Co(l).ch-l.to.ch),de(f,c)}function nv(o,l){for(var f=[],c=0;c<o.sel.ranges.length;c++){var d=o.sel.ranges[c];f.push(new pt(lx(d.anchor,l),lx(d.head,l)))}return ri(o.cm,f,o.sel.primIndex)}function ux(o,l,f){return o.line==l.line?de(f.line,o.ch-l.ch+f.ch):de(f.line+(o.line-l.line),o.ch)}function _N(o,l,f){for(var c=[],d=de(o.first,0),g=d,y=0;y<l.length;y++){var x=l[y],k=ux(x.from,d,g),A=ux(Co(x),d,g);if(d=x.to,g=A,f=="around"){var F=o.sel.ranges[y],j=He(F.head,F.anchor)<0;c[y]=new pt(j?A:k,j?k:A)}else c[y]=new pt(k,k)}return new Tr(c,o.sel.primIndex)}function rv(o){o.doc.mode=Em(o.options,o.doc.modeOption),Tu(o)}function Tu(o){o.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,ku(o,100),o.state.modeGen++,o.curOp&&tr(o)}function cx(o,l){return l.from.ch==0&&l.to.ch==0&&nt(l.text)==""&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function iv(o,l,f,c){function d(Ce){return f?f[Ce]:null}function g(Ce,xe,Ie){DL(Ce,xe,Ie,c),pn(Ce,"change",Ce,l)}function y(Ce,xe){for(var Ie=[],Ue=Ce;Ue<xe;++Ue)Ie.push(new Ra(A[Ue],d(Ue),c));return Ie}var x=l.from,k=l.to,A=l.text,F=Ne(o,x.line),j=Ne(o,k.line),X=nt(A),q=d(A.length-1),ie=k.line-x.line;if(l.full)o.insert(0,y(0,A.length)),o.remove(A.length,o.size-A.length);else if(cx(o,l)){var ce=y(0,A.length-1);g(j,j.text,q),ie&&o.remove(x.line,ie),ce.length&&o.insert(x.line,ce)}else if(F==j)if(A.length==1)g(F,F.text.slice(0,x.ch)+X+F.text.slice(k.ch),q);else{var me=y(1,A.length-1);me.push(new Ra(X+F.text.slice(k.ch),q,c)),g(F,F.text.slice(0,x.ch)+A[0],d(0)),o.insert(x.line+1,me)}else if(A.length==1)g(F,F.text.slice(0,x.ch)+A[0]+j.text.slice(k.ch),d(0)),o.remove(x.line+1,ie);else{g(F,F.text.slice(0,x.ch)+A[0],d(0)),g(j,X+j.text.slice(k.ch),q);var Ee=y(1,A.length-1);ie>1&&o.remove(x.line+1,ie-1),o.insert(x.line+1,Ee)}pn(o,"change",o,l)}function Do(o,l,f){function c(d,g,y){if(d.linked)for(var x=0;x<d.linked.length;++x){var k=d.linked[x];if(k.doc!=g){var A=y&&k.sharedHist;f&&!A||(l(k.doc,A),c(k.doc,d,A))}}}c(o,null,!0)}function fx(o,l){if(l.cm)throw new Error("This document is already in use.");o.doc=l,l.cm=o,Hm(o),rv(o),hx(o),o.options.direction=l.direction,o.options.lineWrapping||Lm(o),o.options.mode=l.modeOption,tr(o)}function hx(o){(o.doc.direction=="rtl"?B:se)(o.display.lineDiv,"CodeMirror-rtl")}function wN(o){pr(o,function(){hx(o),tr(o)})}function vh(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function ov(o,l){var f={from:Cm(l.from),to:Co(l),text:Ds(o,l.from,l.to)};return gx(o,f,l.from.line,l.to.line+1),Do(o,function(c){return gx(c,f,l.from.line,l.to.line+1)},!0),f}function dx(o){for(;o.length;){var l=nt(o);if(l.ranges)o.pop();else break}}function EN(o,l){if(l)return dx(o.done),nt(o.done);if(o.done.length&&!nt(o.done).ranges)return nt(o.done);if(o.done.length>1&&!o.done[o.done.length-2].ranges)return o.done.pop(),nt(o.done)}function px(o,l,f,c){var d=o.history;d.undone.length=0;var g=+new Date,y,x;if((d.lastOp==c||d.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&d.lastModTime>g-(o.cm?o.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*"))&&(y=EN(d,d.lastOp==c)))x=nt(y.changes),He(l.from,l.to)==0&&He(l.from,x.to)==0?x.to=Co(l):y.changes.push(ov(o,l));else{var k=nt(d.done);for((!k||!k.ranges)&&yh(o.sel,d.done),y={changes:[ov(o,l)],generation:d.generation},d.done.push(y);d.done.length>d.undoDepth;)d.done.shift(),d.done[0].ranges||d.done.shift()}d.done.push(f),d.generation=++d.maxGeneration,d.lastModTime=d.lastSelTime=g,d.lastOp=d.lastSelOp=c,d.lastOrigin=d.lastSelOrigin=l.origin,x||dt(o,"historyAdded")}function xN(o,l,f,c){var d=l.charAt(0);return d=="*"||d=="+"&&f.ranges.length==c.ranges.length&&f.somethingSelected()==c.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}function kN(o,l,f,c){var d=o.history,g=c&&c.origin;f==d.lastSelOp||g&&d.lastSelOrigin==g&&(d.lastModTime==d.lastSelTime&&d.lastOrigin==g||xN(o,g,nt(d.done),l))?d.done[d.done.length-1]=l:yh(l,d.done),d.lastSelTime=+new Date,d.lastSelOrigin=g,d.lastSelOp=f,c&&c.clearRedo!==!1&&dx(d.undone)}function yh(o,l){var f=nt(l);f&&f.ranges&&f.equals(o)||l.push(o)}function gx(o,l,f,c){var d=l["spans_"+o.id],g=0;o.iter(Math.max(o.first,f),Math.min(o.first+o.size,c),function(y){y.markedSpans&&((d||(d=l["spans_"+o.id]={}))[g]=y.markedSpans),++g})}function SN(o){if(!o)return null;for(var l,f=0;f<o.length;++f)o[f].marker.explicitlyCleared?l||(l=o.slice(0,f)):l&&l.push(o[f]);return l?l.length?l:null:o}function TN(o,l){var f=l["spans_"+o.id];if(!f)return null;for(var c=[],d=0;d<l.text.length;++d)c.push(SN(f[d]));return c}function mx(o,l){var f=TN(o,l),c=bm(o,l);if(!f)return c;if(!c)return f;for(var d=0;d<f.length;++d){var g=f[d],y=c[d];if(g&&y)e:for(var x=0;x<y.length;++x){for(var k=y[x],A=0;A<g.length;++A)if(g[A].marker==k.marker)continue e;g.push(k)}else y&&(f[d]=y)}return f}function Ua(o,l,f){for(var c=[],d=0;d<o.length;++d){var g=o[d];if(g.ranges){c.push(f?Tr.prototype.deepCopy.call(g):g);continue}var y=g.changes,x=[];c.push({changes:x});for(var k=0;k<y.length;++k){var A=y[k],F=void 0;if(x.push({from:A.from,to:A.to,text:A.text}),l)for(var j in A)(F=j.match(/^spans_(\d+)$/))&&it(l,Number(F[1]))>-1&&(nt(x)[j]=A[j],delete A[j])}}return c}function sv(o,l,f,c){if(c){var d=o.anchor;if(f){var g=He(l,d)<0;g!=He(f,d)<0?(d=l,l=f):g!=He(l,f)<0&&(l=f)}return new pt(d,l)}else return new pt(f||l,l)}function _h(o,l,f,c,d){d==null&&(d=o.cm&&(o.cm.display.shift||o.extend)),bn(o,new Tr([sv(o.sel.primary(),l,f,d)],0),c)}function vx(o,l,f){for(var c=[],d=o.cm&&(o.cm.display.shift||o.extend),g=0;g<o.sel.ranges.length;g++)c[g]=sv(o.sel.ranges[g],l[g],null,d);var y=ri(o.cm,c,o.sel.primIndex);bn(o,y,f)}function av(o,l,f,c){var d=o.sel.ranges.slice(0);d[l]=f,bn(o,ri(o.cm,d,o.sel.primIndex),c)}function yx(o,l,f,c){bn(o,To(l,f),c)}function CN(o,l,f){var c={ranges:l.ranges,update:function(d){this.ranges=[];for(var g=0;g<d.length;g++)this.ranges[g]=new pt(We(o,d[g].anchor),We(o,d[g].head))},origin:f&&f.origin};return dt(o,"beforeSelectionChange",o,c),o.cm&&dt(o.cm,"beforeSelectionChange",o.cm,c),c.ranges!=l.ranges?ri(o.cm,c.ranges,c.ranges.length-1):l}function _x(o,l,f){var c=o.history.done,d=nt(c);d&&d.ranges?(c[c.length-1]=l,wh(o,l,f)):bn(o,l,f)}function bn(o,l,f){wh(o,l,f),kN(o,o.sel,o.cm?o.cm.curOp.id:NaN,f)}function wh(o,l,f){(xn(o,"beforeSelectionChange")||o.cm&&xn(o.cm,"beforeSelectionChange"))&&(l=CN(o,l,f));var c=f&&f.bias||(He(l.primary().head,o.sel.primary().head)<0?-1:1);wx(o,xx(o,l,c,!0)),!(f&&f.scroll===!1)&&o.cm&&o.cm.getOption("readOnly")!="nocursor"&&Ma(o.cm)}function wx(o,l){l.equals(o.sel)||(o.sel=l,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,sn(o.cm)),pn(o,"cursorActivity",o))}function Ex(o){wx(o,xx(o,o.sel,null,!1))}function xx(o,l,f,c){for(var d,g=0;g<l.ranges.length;g++){var y=l.ranges[g],x=l.ranges.length==o.sel.ranges.length&&o.sel.ranges[g],k=Eh(o,y.anchor,x&&x.anchor,f,c),A=y.head==y.anchor?k:Eh(o,y.head,x&&x.head,f,c);(d||k!=y.anchor||A!=y.head)&&(d||(d=l.ranges.slice(0,g)),d[g]=new pt(k,A))}return d?ri(o.cm,d,l.primIndex):l}function Va(o,l,f,c,d){var g=Ne(o,l.line);if(g.markedSpans)for(var y=0;y<g.markedSpans.length;++y){var x=g.markedSpans[y],k=x.marker,A="selectLeft"in k?!k.selectLeft:k.inclusiveLeft,F="selectRight"in k?!k.selectRight:k.inclusiveRight;if((x.from==null||(A?x.from<=l.ch:x.from<l.ch))&&(x.to==null||(F?x.to>=l.ch:x.to>l.ch))){if(d&&(dt(k,"beforeCursorEnter"),k.explicitlyCleared))if(g.markedSpans){--y;continue}else break;if(!k.atomic)continue;if(f){var j=k.find(c<0?1:-1),X=void 0;if((c<0?F:A)&&(j=kx(o,j,-c,j&&j.line==l.line?g:null)),j&&j.line==l.line&&(X=He(j,f))&&(c<0?X<0:X>0))return Va(o,j,l,c,d)}var q=k.find(c<0?-1:1);return(c<0?A:F)&&(q=kx(o,q,c,q.line==l.line?g:null)),q?Va(o,q,l,c,d):null}}return l}function Eh(o,l,f,c,d){var g=c||1,y=Va(o,l,f,g,d)||!d&&Va(o,l,f,g,!0)||Va(o,l,f,-g,d)||!d&&Va(o,l,f,-g,!0);return y||(o.cantEdit=!0,de(o.first,0))}function kx(o,l,f,c){return f<0&&l.ch==0?l.line>o.first?We(o,de(l.line-1)):null:f>0&&l.ch==(c||Ne(o,l.line)).text.length?l.line<o.first+o.size-1?de(l.line+1,0):null:new de(l.line,l.ch+f)}function Sx(o){o.setSelection(de(o.firstLine(),0),de(o.lastLine()),on)}function Tx(o,l,f){var c={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return c.canceled=!0}};return f&&(c.update=function(d,g,y,x){d&&(c.from=We(o,d)),g&&(c.to=We(o,g)),y&&(c.text=y),x!==void 0&&(c.origin=x)}),dt(o,"beforeChange",o,c),o.cm&&dt(o.cm,"beforeChange",o.cm,c),c.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:c.from,to:c.to,text:c.text,origin:c.origin}}function za(o,l,f){if(o.cm){if(!o.cm.curOp)return gn(o.cm,za)(o,l,f);if(o.cm.state.suppressEdits)return}if(!((xn(o,"beforeChange")||o.cm&&xn(o.cm,"beforeChange"))&&(l=Tx(o,l,!0),!l))){var c=mE&&!f&&kL(o,l.from,l.to);if(c)for(var d=c.length-1;d>=0;--d)Cx(o,{from:c[d].from,to:c[d].to,text:d?[""]:l.text,origin:l.origin});else Cx(o,l)}}function Cx(o,l){if(!(l.text.length==1&&l.text[0]==""&&He(l.from,l.to)==0)){var f=nv(o,l);px(o,l,f,o.cm?o.cm.curOp.id:NaN),Cu(o,l,f,bm(o,l));var c=[];Do(o,function(d,g){!g&&it(c,d.history)==-1&&(Ix(d.history,l),c.push(d.history)),Cu(d,l,null,bm(d,l))})}}function xh(o,l,f){var c=o.cm&&o.cm.state.suppressEdits;if(!(c&&!f)){for(var d=o.history,g,y=o.sel,x=l=="undo"?d.done:d.undone,k=l=="undo"?d.undone:d.done,A=0;A<x.length&&(g=x[A],!(f?g.ranges&&!g.equals(o.sel):!g.ranges));A++);if(A!=x.length){for(d.lastOrigin=d.lastSelOrigin=null;;)if(g=x.pop(),g.ranges){if(yh(g,k),f&&!g.equals(o.sel)){bn(o,g,{clearRedo:!1});return}y=g}else if(c){x.push(g);return}else break;var F=[];yh(y,k),k.push({changes:F,generation:d.generation}),d.generation=g.generation||++d.maxGeneration;for(var j=xn(o,"beforeChange")||o.cm&&xn(o.cm,"beforeChange"),X=function(ce){var me=g.changes[ce];if(me.origin=l,j&&!Tx(o,me,!1))return x.length=0,{};F.push(ov(o,me));var Ee=ce?nv(o,me):nt(x);Cu(o,me,Ee,mx(o,me)),!ce&&o.cm&&o.cm.scrollIntoView({from:me.from,to:Co(me)});var Ce=[];Do(o,function(xe,Ie){!Ie&&it(Ce,xe.history)==-1&&(Ix(xe.history,me),Ce.push(xe.history)),Cu(xe,me,null,mx(xe,me))})},q=g.changes.length-1;q>=0;--q){var ie=X(q);if(ie)return ie.v}}}}function Dx(o,l){if(l!=0&&(o.first+=l,o.sel=new Tr(Vn(o.sel.ranges,function(d){return new pt(de(d.anchor.line+l,d.anchor.ch),de(d.head.line+l,d.head.ch))}),o.sel.primIndex),o.cm)){tr(o.cm,o.first,o.first-l,l);for(var f=o.cm.display,c=f.viewFrom;c<f.viewTo;c++)ko(o.cm,c,"gutter")}}function Cu(o,l,f,c){if(o.cm&&!o.cm.curOp)return gn(o.cm,Cu)(o,l,f,c);if(l.to.line<o.first){Dx(o,l.text.length-1-(l.to.line-l.from.line));return}if(!(l.from.line>o.lastLine())){if(l.from.line<o.first){var d=l.text.length-1-(o.first-l.from.line);Dx(o,d),l={from:de(o.first,0),to:de(l.to.line+d,l.to.ch),text:[nt(l.text)],origin:l.origin}}var g=o.lastLine();l.to.line>g&&(l={from:l.from,to:de(g,Ne(o,g).text.length),text:[l.text[0]],origin:l.origin}),l.removed=Ds(o,l.from,l.to),f||(f=nv(o,l)),o.cm?DN(o.cm,l,c):iv(o,l,c),wh(o,f,on),o.cantEdit&&Eh(o,de(o.firstLine(),0))&&(o.cantEdit=!1)}}function DN(o,l,f){var c=o.doc,d=o.display,g=l.from,y=l.to,x=!1,k=g.line;o.options.lineWrapping||(k=_t(ti(Ne(c,g.line))),c.iter(k,y.line+1,function(q){if(q==d.maxLine)return x=!0,!0})),c.sel.contains(l.from,l.to)>-1&&sn(o),iv(c,l,f,qE(o)),o.options.lineWrapping||(c.iter(k,g.line+l.text.length,function(q){var ie=oh(q);ie>d.maxLineLength&&(d.maxLine=q,d.maxLineLength=ie,d.maxLineChanged=!0,x=!1)}),x&&(o.curOp.updateMaxLine=!0)),mL(c,g.line),ku(o,400);var A=l.text.length-(y.line-g.line)-1;l.full?tr(o):g.line==y.line&&l.text.length==1&&!cx(o.doc,l)?ko(o,g.line,"text"):tr(o,g.line,y.line+1,A);var F=xn(o,"changes"),j=xn(o,"change");if(j||F){var X={from:g,to:y,text:l.text,removed:l.removed,origin:l.origin};j&&pn(o,"change",o,X),F&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(X)}o.display.selForContextMenu=null}function ja(o,l,f,c,d){var g;c||(c=f),He(c,f)<0&&(g=[c,f],f=g[0],c=g[1]),typeof l=="string"&&(l=o.splitLines(l)),za(o,{from:f,to:c,text:l,origin:d})}function Ax(o,l,f,c){f<o.line?o.line+=c:l<o.line&&(o.line=l,o.ch=0)}function bx(o,l,f,c){for(var d=0;d<o.length;++d){var g=o[d],y=!0;if(g.ranges){g.copied||(g=o[d]=g.deepCopy(),g.copied=!0);for(var x=0;x<g.ranges.length;x++)Ax(g.ranges[x].anchor,l,f,c),Ax(g.ranges[x].head,l,f,c);continue}for(var k=0;k<g.changes.length;++k){var A=g.changes[k];if(f<A.from.line)A.from=de(A.from.line+c,A.from.ch),A.to=de(A.to.line+c,A.to.ch);else if(l<=A.to.line){y=!1;break}}y||(o.splice(0,d+1),d=0)}}function Ix(o,l){var f=l.from.line,c=l.to.line,d=l.text.length-(c-f)-1;bx(o.done,f,c,d),bx(o.undone,f,c,d)}function Du(o,l,f,c){var d=l,g=l;return typeof l=="number"?g=Ne(o,aE(o,l)):d=_t(l),d==null?null:(c(g,d)&&o.cm&&ko(o.cm,d,f),g)}function Au(o){this.lines=o,this.parent=null;for(var l=0,f=0;f<o.length;++f)o[f].parent=this,l+=o[f].height;this.height=l}Au.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,l){for(var f=o,c=o+l;f<c;++f){var d=this.lines[f];this.height-=d.height,AL(d),pn(d,"delete")}this.lines.splice(o,l)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,l,f){this.height+=f,this.lines=this.lines.slice(0,o).concat(l).concat(this.lines.slice(o));for(var c=0;c<l.length;++c)l[c].parent=this},iterN:function(o,l,f){for(var c=o+l;o<c;++o)if(f(this.lines[o]))return!0}};function bu(o){this.children=o;for(var l=0,f=0,c=0;c<o.length;++c){var d=o[c];l+=d.chunkSize(),f+=d.height,d.parent=this}this.size=l,this.height=f,this.parent=null}bu.prototype={chunkSize:function(){return this.size},removeInner:function(o,l){this.size-=l;for(var f=0;f<this.children.length;++f){var c=this.children[f],d=c.chunkSize();if(o<d){var g=Math.min(l,d-o),y=c.height;if(c.removeInner(o,g),this.height-=y-c.height,d==g&&(this.children.splice(f--,1),c.parent=null),(l-=g)==0)break;o=0}else o-=d}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof Au))){var x=[];this.collapse(x),this.children=[new Au(x)],this.children[0].parent=this}},collapse:function(o){for(var l=0;l<this.children.length;++l)this.children[l].collapse(o)},insertInner:function(o,l,f){this.size+=l.length,this.height+=f;for(var c=0;c<this.children.length;++c){var d=this.children[c],g=d.chunkSize();if(o<=g){if(d.insertInner(o,l,f),d.lines&&d.lines.length>50){for(var y=d.lines.length%25+25,x=y;x<d.lines.length;){var k=new Au(d.lines.slice(x,x+=25));d.height-=k.height,this.children.splice(++c,0,k),k.parent=this}d.lines=d.lines.slice(0,y),this.maybeSpill()}break}o-=g}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var l=o.children.splice(o.children.length-5,5),f=new bu(l);if(o.parent){o.size-=f.size,o.height-=f.height;var d=it(o.parent.children,o);o.parent.children.splice(d+1,0,f)}else{var c=new bu(o.children);c.parent=o,o.children=[c,f],o=c}f.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,l,f){for(var c=0;c<this.children.length;++c){var d=this.children[c],g=d.chunkSize();if(o<g){var y=Math.min(l,g-o);if(d.iterN(o,y,f))return!0;if((l-=y)==0)break;o=0}else o-=g}}};var Iu=function(o,l,f){if(f)for(var c in f)f.hasOwnProperty(c)&&(this[c]=f[c]);this.doc=o,this.node=l};Iu.prototype.clear=function(){var o=this.doc.cm,l=this.line.widgets,f=this.line,c=_t(f);if(!(c==null||!l)){for(var d=0;d<l.length;++d)l[d]==this&&l.splice(d--,1);l.length||(f.widgets=null);var g=mu(this);mi(f,Math.max(0,f.height-g)),o&&(pr(o,function(){Rx(o,f,-g),ko(o,c,"widget")}),pn(o,"lineWidgetCleared",o,this,c))}},Iu.prototype.changed=function(){var o=this,l=this.height,f=this.doc.cm,c=this.line;this.height=null;var d=mu(this)-l;d&&(xo(this.doc,c)||mi(c,c.height+d),f&&pr(f,function(){f.curOp.forceUpdate=!0,Rx(f,c,d),pn(f,"lineWidgetChanged",f,o,_t(c))}))},zr(Iu);function Rx(o,l,f){Wi(l)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Xm(o,f)}function AN(o,l,f,c){var d=new Iu(o,f,c),g=o.cm;return g&&d.noHScroll&&(g.display.alignWidgets=!0),Du(o,l,"widget",function(y){var x=y.widgets||(y.widgets=[]);if(d.insertAt==null?x.push(d):x.splice(Math.min(x.length,Math.max(0,d.insertAt)),0,d),d.line=y,g&&!xo(o,y)){var k=Wi(y)<o.scrollTop;mi(y,y.height+mu(d)),k&&Xm(g,d.height),g.curOp.forceUpdate=!0}return!0}),g&&pn(g,"lineWidgetAdded",g,d,typeof l=="number"?l:_t(l)),d}var Px=0,Ao=function(o,l){this.lines=[],this.type=l,this.doc=o,this.id=++Px};Ao.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,l=o&&!o.curOp;if(l&&Fs(o),xn(this,"clear")){var f=this.find();f&&pn(this,"clear",f.from,f.to)}for(var c=null,d=null,g=0;g<this.lines.length;++g){var y=this.lines[g],x=du(y.markedSpans,this);o&&!this.collapsed?ko(o,_t(y),"text"):o&&(x.to!=null&&(d=_t(y)),x.from!=null&&(c=_t(y))),y.markedSpans=_L(y.markedSpans,x),x.from==null&&this.collapsed&&!xo(this.doc,y)&&o&&mi(y,Na(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var k=0;k<this.lines.length;++k){var A=ti(this.lines[k]),F=oh(A);F>o.display.maxLineLength&&(o.display.maxLine=A,o.display.maxLineLength=F,o.display.maxLineChanged=!0)}c!=null&&o&&this.collapsed&&tr(o,c,d+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&Ex(o.doc)),o&&pn(o,"markerCleared",o,this,c,d),l&&Os(o),this.parent&&this.parent.clear()}},Ao.prototype.find=function(o,l){o==null&&this.type=="bookmark"&&(o=1);for(var f,c,d=0;d<this.lines.length;++d){var g=this.lines[d],y=du(g.markedSpans,this);if(y.from!=null&&(f=de(l?g:_t(g),y.from),o==-1))return f;if(y.to!=null&&(c=de(l?g:_t(g),y.to),o==1))return c}return f&&{from:f,to:c}},Ao.prototype.changed=function(){var o=this,l=this.find(-1,!0),f=this,c=this.doc.cm;!l||!c||pr(c,function(){var d=l.line,g=_t(l.line),y=Mm(c,g);if(y&&(BE(y),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!xo(f.doc,d)&&f.height!=null){var x=f.height;f.height=null;var k=mu(f)-x;k&&mi(d,d.height+k)}pn(c,"markerChanged",c,o)})},Ao.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||it(l.maybeHiddenMarkers,this)==-1)&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},Ao.prototype.detachLine=function(o){if(this.lines.splice(it(this.lines,o),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},zr(Ao);function $a(o,l,f,c,d){if(c&&c.shared)return bN(o,l,f,c,d);if(o.cm&&!o.cm.curOp)return gn(o.cm,$a)(o,l,f,c,d);var g=new Ao(o,d),y=He(l,f);if(c&&Et(c,g,!1),y>0||y==0&&g.clearWhenEmpty!==!1)return g;if(g.replacedWith&&(g.collapsed=!0,g.widgetNode=ae("span",[g.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||g.widgetNode.setAttribute("cm-ignore-events","true"),c.insertLeft&&(g.widgetNode.insertLeft=!0)),g.collapsed){if(xE(o,l.line,l,f,g)||l.line!=f.line&&xE(o,f.line,l,f,g))throw new Error("Inserting collapsed marker partially overlapping an existing one");yL()}g.addToHistory&&px(o,{from:l,to:f,origin:"markText"},o.sel,NaN);var x=l.line,k=o.cm,A;if(o.iter(x,f.line+1,function(j){k&&g.collapsed&&!k.options.lineWrapping&&ti(j)==k.display.maxLine&&(A=!0),g.collapsed&&x!=l.line&&mi(j,0),wL(j,new th(g,x==l.line?l.ch:null,x==f.line?f.ch:null),o.cm&&o.cm.curOp),++x}),g.collapsed&&o.iter(l.line,f.line+1,function(j){xo(o,j)&&mi(j,0)}),g.clearOnEnter&&ne(g,"beforeCursorEnter",function(){return g.clear()}),g.readOnly&&(vL(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),g.collapsed&&(g.id=++Px,g.atomic=!0),k){if(A&&(k.curOp.updateMaxLine=!0),g.collapsed)tr(k,l.line,f.line+1);else if(g.className||g.startStyle||g.endStyle||g.css||g.attributes||g.title)for(var F=l.line;F<=f.line;F++)ko(k,F,"text");g.atomic&&Ex(k.doc),pn(k,"markerAdded",k,g)}return g}var Ru=function(o,l){this.markers=o,this.primary=l;for(var f=0;f<o.length;++f)o[f].parent=this};Ru.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();pn(this,"clear")}},Ru.prototype.find=function(o,l){return this.primary.find(o,l)},zr(Ru);function bN(o,l,f,c,d){c=Et(c),c.shared=!1;var g=[$a(o,l,f,c,d)],y=g[0],x=c.widgetNode;return Do(o,function(k){x&&(c.widgetNode=x.cloneNode(!0)),g.push($a(k,We(k,l),We(k,f),c,d));for(var A=0;A<k.linked.length;++A)if(k.linked[A].isParent)return;y=nt(g)}),new Ru(g,y)}function Lx(o){return o.findMarks(de(o.first,0),o.clipPos(de(o.lastLine())),function(l){return l.parent})}function IN(o,l){for(var f=0;f<l.length;f++){var c=l[f],d=c.find(),g=o.clipPos(d.from),y=o.clipPos(d.to);if(He(g,y)){var x=$a(o,g,y,c.primary,c.primary.type);c.markers.push(x),x.parent=c}}}function RN(o){for(var l=function(c){var d=o[c],g=[d.primary.doc];Do(d.primary.doc,function(k){return g.push(k)});for(var y=0;y<d.markers.length;y++){var x=d.markers[y];it(g,x.doc)==-1&&(x.parent=null,d.markers.splice(y--,1))}},f=0;f<o.length;f++)l(f)}var PN=0,nr=function(o,l,f,c,d){if(!(this instanceof nr))return new nr(o,l,f,c,d);f==null&&(f=0),bu.call(this,[new Au([new Ra("",null)])]),this.first=f,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=f;var g=de(f,0);this.sel=To(g),this.history=new vh(null),this.id=++PN,this.modeOption=l,this.lineSep=c,this.direction=d=="rtl"?"rtl":"ltr",this.extend=!1,typeof o=="string"&&(o=this.splitLines(o)),iv(this,{from:g,to:g,text:o}),bn(this,To(g),on)};nr.prototype=Y(bu.prototype,{constructor:nr,iter:function(o,l,f){f?this.iterN(o-this.first,l-o,f):this.iterN(this.first,this.first+this.size,o)},insert:function(o,l){for(var f=0,c=0;c<l.length;++c)f+=l[c].height;this.insertInner(o-this.first,l,f)},remove:function(o,l){this.removeInner(o-this.first,l)},getValue:function(o){var l=km(this,this.first,this.first+this.size);return o===!1?l:l.join(o||this.lineSeparator())},setValue:mn(function(o){var l=de(this.first,0),f=this.first+this.size-1;za(this,{from:l,to:de(f,Ne(this,f).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&_u(this.cm,0,0),bn(this,To(l),on)}),replaceRange:function(o,l,f,c){l=We(this,l),f=f?We(this,f):l,ja(this,o,l,f,c)},getRange:function(o,l,f){var c=Ds(this,We(this,o),We(this,l));return f===!1?c:f===""?c.join(""):c.join(f||this.lineSeparator())},getLine:function(o){var l=this.getLineHandle(o);return l&&l.text},getLineHandle:function(o){if(fu(this,o))return Ne(this,o)},getLineNumber:function(o){return _t(o)},getLineHandleVisualStart:function(o){return typeof o=="number"&&(o=Ne(this,o)),ti(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return We(this,o)},getCursor:function(o){var l=this.sel.primary(),f;return o==null||o=="head"?f=l.head:o=="anchor"?f=l.anchor:o=="end"||o=="to"||o===!1?f=l.to():f=l.from(),f},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:mn(function(o,l,f){yx(this,We(this,typeof o=="number"?de(o,l||0):o),null,f)}),setSelection:mn(function(o,l,f){yx(this,We(this,o),We(this,l||o),f)}),extendSelection:mn(function(o,l,f){_h(this,We(this,o),l&&We(this,l),f)}),extendSelections:mn(function(o,l){vx(this,lE(this,o),l)}),extendSelectionsBy:mn(function(o,l){var f=Vn(this.sel.ranges,o);vx(this,lE(this,f),l)}),setSelections:mn(function(o,l,f){if(o.length){for(var c=[],d=0;d<o.length;d++)c[d]=new pt(We(this,o[d].anchor),We(this,o[d].head||o[d].anchor));l==null&&(l=Math.min(o.length-1,this.sel.primIndex)),bn(this,ri(this.cm,c,l),f)}}),addSelection:mn(function(o,l,f){var c=this.sel.ranges.slice(0);c.push(new pt(We(this,o),We(this,l||o))),bn(this,ri(this.cm,c,c.length-1),f)}),getSelection:function(o){for(var l=this.sel.ranges,f,c=0;c<l.length;c++){var d=Ds(this,l[c].from(),l[c].to());f=f?f.concat(d):d}return o===!1?f:f.join(o||this.lineSeparator())},getSelections:function(o){for(var l=[],f=this.sel.ranges,c=0;c<f.length;c++){var d=Ds(this,f[c].from(),f[c].to());o!==!1&&(d=d.join(o||this.lineSeparator())),l[c]=d}return l},replaceSelection:function(o,l,f){for(var c=[],d=0;d<this.sel.ranges.length;d++)c[d]=o;this.replaceSelections(c,l,f||"+input")},replaceSelections:mn(function(o,l,f){for(var c=[],d=this.sel,g=0;g<d.ranges.length;g++){var y=d.ranges[g];c[g]={from:y.from(),to:y.to(),text:this.splitLines(o[g]),origin:f}}for(var x=l&&l!="end"&&_N(this,c,l),k=c.length-1;k>=0;k--)za(this,c[k]);x?_x(this,x):this.cm&&Ma(this.cm)}),undo:mn(function(){xh(this,"undo")}),redo:mn(function(){xh(this,"redo")}),undoSelection:mn(function(){xh(this,"undo",!0)}),redoSelection:mn(function(){xh(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,l=0,f=0,c=0;c<o.done.length;c++)o.done[c].ranges||++l;for(var d=0;d<o.undone.length;d++)o.undone[d].ranges||++f;return{undo:l,redo:f}},clearHistory:function(){var o=this;this.history=new vh(this.history),Do(this,function(l){return l.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:Ua(this.history.done),undone:Ua(this.history.undone)}},setHistory:function(o){var l=this.history=new vh(this.history);l.done=Ua(o.done.slice(0),null,!0),l.undone=Ua(o.undone.slice(0),null,!0)},setGutterMarker:mn(function(o,l,f){return Du(this,o,"gutter",function(c){var d=c.gutterMarkers||(c.gutterMarkers={});return d[l]=f,!f&&R(d)&&(c.gutterMarkers=null),!0})}),clearGutter:mn(function(o){var l=this;this.iter(function(f){f.gutterMarkers&&f.gutterMarkers[o]&&Du(l,f,"gutter",function(){return f.gutterMarkers[o]=null,R(f.gutterMarkers)&&(f.gutterMarkers=null),!0})})}),lineInfo:function(o){var l;if(typeof o=="number"){if(!fu(this,o)||(l=o,o=Ne(this,o),!o))return null}else if(l=_t(o),l==null)return null;return{line:l,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:mn(function(o,l,f){return Du(this,o,l=="gutter"?"gutter":"class",function(c){var d=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(!c[d])c[d]=f;else{if(K(f).test(c[d]))return!1;c[d]+=" "+f}return!0})}),removeLineClass:mn(function(o,l,f){return Du(this,o,l=="gutter"?"gutter":"class",function(c){var d=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",g=c[d];if(g)if(f==null)c[d]=null;else{var y=g.match(K(f));if(!y)return!1;var x=y.index+y[0].length;c[d]=g.slice(0,y.index)+(!y.index||x==g.length?"":" ")+g.slice(x)||null}else return!1;return!0})}),addLineWidget:mn(function(o,l,f){return AN(this,o,l,f)}),removeLineWidget:function(o){o.clear()},markText:function(o,l,f){return $a(this,We(this,o),We(this,l),f,f&&f.type||"range")},setBookmark:function(o,l){var f={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return o=We(this,o),$a(this,o,o,f,"bookmark")},findMarksAt:function(o){o=We(this,o);var l=[],f=Ne(this,o.line).markedSpans;if(f)for(var c=0;c<f.length;++c){var d=f[c];(d.from==null||d.from<=o.ch)&&(d.to==null||d.to>=o.ch)&&l.push(d.marker.parent||d.marker)}return l},findMarks:function(o,l,f){o=We(this,o),l=We(this,l);var c=[],d=o.line;return this.iter(o.line,l.line+1,function(g){var y=g.markedSpans;if(y)for(var x=0;x<y.length;x++){var k=y[x];!(k.to!=null&&d==o.line&&o.ch>=k.to||k.from==null&&d!=o.line||k.from!=null&&d==l.line&&k.from>=l.ch)&&(!f||f(k.marker))&&c.push(k.marker.parent||k.marker)}++d}),c},getAllMarks:function(){var o=[];return this.iter(function(l){var f=l.markedSpans;if(f)for(var c=0;c<f.length;++c)f[c].from!=null&&o.push(f[c].marker)}),o},posFromIndex:function(o){var l,f=this.first,c=this.lineSeparator().length;return this.iter(function(d){var g=d.text.length+c;if(g>o)return l=o,!0;o-=g,++f}),We(this,de(f,l))},indexFromPos:function(o){o=We(this,o);var l=o.ch;if(o.line<this.first||o.ch<0)return 0;var f=this.lineSeparator().length;return this.iter(this.first,o.line,function(c){l+=c.text.length+f}),l},copy:function(o){var l=new nr(km(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,o&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(o){o||(o={});var l=this.first,f=this.first+this.size;o.from!=null&&o.from>l&&(l=o.from),o.to!=null&&o.to<f&&(f=o.to);var c=new nr(km(this,l,f),o.mode||this.modeOption,l,this.lineSep,this.direction);return o.sharedHist&&(c.history=this.history),(this.linked||(this.linked=[])).push({doc:c,sharedHist:o.sharedHist}),c.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],IN(c,Lx(this)),c},unlinkDoc:function(o){if(o instanceof Pt&&(o=o.doc),this.linked)for(var l=0;l<this.linked.length;++l){var f=this.linked[l];if(f.doc==o){this.linked.splice(l,1),o.unlinkDoc(this),RN(Lx(this));break}}if(o.history==this.history){var c=[o.id];Do(o,function(d){return c.push(d.id)},!0),o.history=new vh(null),o.history.done=Ua(this.history.done,c),o.history.undone=Ua(this.history.undone,c)}},iterLinkedDocs:function(o){Do(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):ym(o)},lineSeparator:function(){return this.lineSep||`
`},setDirection:mn(function(o){o!="rtl"&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(l){return l.order=null}),this.cm&&wN(this.cm))})}),nr.prototype.eachLine=nr.prototype.iter;var Nx=0;function LN(o){var l=this;if(Fx(l),!(Xe(l,o)||qi(l.display,o))){Vt(o),h&&(Nx=+new Date);var f=Rs(l,o,!0),c=o.dataTransfer.files;if(!(!f||l.isReadOnly()))if(c&&c.length&&window.FileReader&&window.File)for(var d=c.length,g=Array(d),y=0,x=function(){++y==d&&gn(l,function(){f=We(l.doc,f);var q={from:f,to:f,text:l.doc.splitLines(g.filter(function(ie){return ie!=null}).join(l.doc.lineSeparator())),origin:"paste"};za(l.doc,q),_x(l.doc,To(We(l.doc,f),We(l.doc,Co(q))))})()},k=function(q,ie){if(l.options.allowDropFileTypes&&it(l.options.allowDropFileTypes,q.type)==-1){x();return}var ce=new FileReader;ce.onerror=function(){return x()},ce.onload=function(){var me=ce.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(me)){x();return}g[ie]=me,x()},ce.readAsText(q)},A=0;A<c.length;A++)k(c[A],A);else{if(l.state.draggingText&&l.doc.sel.contains(f)>-1){l.state.draggingText(o),setTimeout(function(){return l.display.input.focus()},20);return}try{var F=o.dataTransfer.getData("Text");if(F){var j;if(l.state.draggingText&&!l.state.draggingText.copy&&(j=l.listSelections()),wh(l.doc,To(f,f)),j)for(var X=0;X<j.length;++X)ja(l.doc,"",j[X].anchor,j[X].head,"drag");l.replaceSelection(F,"around","paste"),l.display.input.focus()}}catch{}}}}function NN(o,l){if(h&&(!o.state.draggingText||+new Date-Nx<100)){ei(l);return}if(!(Xe(o,l)||qi(o.display,l))&&(l.dataTransfer.setData("Text",o.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!I)){var f=$("img",null,null,"position: fixed; left: 0; top: 0;");f.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(f.width=f.height=1,o.display.wrapper.appendChild(f),f._top=f.offsetTop),l.dataTransfer.setDragImage(f,0,0),b&&f.parentNode.removeChild(f)}}function FN(o,l){var f=Rs(o,l);if(f){var c=document.createDocumentFragment();Wm(o,f,c),o.display.dragCursor||(o.display.dragCursor=$("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),ve(o.display.dragCursor,c)}}function Fx(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function Ox(o){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),f=[],c=0;c<l.length;c++){var d=l[c].CodeMirror;d&&f.push(d)}f.length&&f[0].operation(function(){for(var g=0;g<f.length;g++)o(f[g])})}}var Mx=!1;function ON(){Mx||(MN(),Mx=!0)}function MN(){var o;ne(window,"resize",function(){o==null&&(o=setTimeout(function(){o=null,Ox(BN)},100))}),ne(window,"blur",function(){return Ox(Oa)})}function BN(o){var l=o.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,o.setSize()}for(var bo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Pu=0;Pu<10;Pu++)bo[Pu+48]=bo[Pu+96]=String(Pu);for(var kh=65;kh<=90;kh++)bo[kh]=String.fromCharCode(kh);for(var Lu=1;Lu<=12;Lu++)bo[Lu+111]=bo[Lu+63235]="F"+Lu;var Ki={};Ki.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ki.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ki.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ki.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ki.default=O?Ki.macDefault:Ki.pcDefault;function UN(o){var l=o.split(/-(?!$)/);o=l[l.length-1];for(var f,c,d,g,y=0;y<l.length-1;y++){var x=l[y];if(/^(cmd|meta|m)$/i.test(x))g=!0;else if(/^a(lt)?$/i.test(x))f=!0;else if(/^(c|ctrl|control)$/i.test(x))c=!0;else if(/^s(hift)?$/i.test(x))d=!0;else throw new Error("Unrecognized modifier name: "+x)}return f&&(o="Alt-"+o),c&&(o="Ctrl-"+o),g&&(o="Cmd-"+o),d&&(o="Shift-"+o),o}function VN(o){var l={};for(var f in o)if(o.hasOwnProperty(f)){var c=o[f];if(/^(name|fallthrough|(de|at)tach)$/.test(f))continue;if(c=="..."){delete o[f];continue}for(var d=Vn(f.split(" "),UN),g=0;g<d.length;g++){var y=void 0,x=void 0;g==d.length-1?(x=d.join(" "),y=c):(x=d.slice(0,g+1).join(" "),y="...");var k=l[x];if(!k)l[x]=y;else if(k!=y)throw new Error("Inconsistent bindings for "+x)}delete o[f]}for(var A in l)o[A]=l[A];return o}function Ha(o,l,f,c){l=Sh(l);var d=l.call?l.call(o,c):l[o];if(d===!1)return"nothing";if(d==="...")return"multi";if(d!=null&&f(d))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return Ha(o,l.fallthrough,f,c);for(var g=0;g<l.fallthrough.length;g++){var y=Ha(o,l.fallthrough[g],f,c);if(y)return y}}}function Bx(o){var l=typeof o=="string"?o:bo[o.keyCode];return l=="Ctrl"||l=="Alt"||l=="Shift"||l=="Mod"}function Ux(o,l,f){var c=o;return l.altKey&&c!="Alt"&&(o="Alt-"+o),(J?l.metaKey:l.ctrlKey)&&c!="Ctrl"&&(o="Ctrl-"+o),(J?l.ctrlKey:l.metaKey)&&c!="Mod"&&(o="Cmd-"+o),!f&&l.shiftKey&&c!="Shift"&&(o="Shift-"+o),o}function Vx(o,l){if(b&&o.keyCode==34&&o.char)return!1;var f=bo[o.keyCode];return f==null||o.altGraphKey?!1:(o.keyCode==3&&o.code&&(f=o.code),Ux(f,o,l))}function Sh(o){return typeof o=="string"?Ki[o]:o}function Wa(o,l){for(var f=o.doc.sel.ranges,c=[],d=0;d<f.length;d++){for(var g=l(f[d]);c.length&&He(g.from,nt(c).to)<=0;){var y=c.pop();if(He(y.from,g.from)<0){g.from=y.from;break}}c.push(g)}pr(o,function(){for(var x=c.length-1;x>=0;x--)ja(o.doc,"",c[x].from,c[x].to,"+delete");Ma(o)})}function lv(o,l,f){var c=W(o.text,l+f,f);return c<0||c>o.text.length?null:c}function uv(o,l,f){var c=lv(o,l.ch,f);return c==null?null:new de(l.line,c,f<0?"after":"before")}function cv(o,l,f,c,d){if(o){l.doc.direction=="rtl"&&(d=-d);var g=pe(f,l.doc.direction);if(g){var y=d<0?nt(g):g[0],x=d<0==(y.level==1),k=x?"after":"before",A;if(y.level>0||l.doc.direction=="rtl"){var F=La(l,f);A=d<0?f.text.length-1:0;var j=_i(l,F,A).top;A=ge(function(X){return _i(l,F,X).top==j},d<0==(y.level==1)?y.from:y.to-1,A),k=="before"&&(A=lv(f,A,1))}else A=d<0?y.to:y.from;return new de(c,A,k)}}return new de(c,d<0?f.text.length:0,d<0?"before":"after")}function zN(o,l,f,c){var d=pe(l,o.doc.direction);if(!d)return uv(l,f,c);f.ch>=l.text.length?(f.ch=l.text.length,f.sticky="before"):f.ch<=0&&(f.ch=0,f.sticky="after");var g=Re(d,f.ch,f.sticky),y=d[g];if(o.doc.direction=="ltr"&&y.level%2==0&&(c>0?y.to>f.ch:y.from<f.ch))return uv(l,f,c);var x=function(Ee,Ce){return lv(l,Ee instanceof de?Ee.ch:Ee,Ce)},k,A=function(Ee){return o.options.lineWrapping?(k=k||La(o,l),WE(o,l,k,Ee)):{begin:0,end:l.text.length}},F=A(f.sticky=="before"?x(f,-1):f.ch);if(o.doc.direction=="rtl"||y.level==1){var j=y.level==1==c<0,X=x(f,j?1:-1);if(X!=null&&(j?X<=y.to&&X<=F.end:X>=y.from&&X>=F.begin)){var q=j?"before":"after";return new de(f.line,X,q)}}var ie=function(Ee,Ce,xe){for(var Ie=function(Tt,vn){return vn?new de(f.line,x(Tt,1),"before"):new de(f.line,Tt,"after")};Ee>=0&&Ee<d.length;Ee+=Ce){var Ue=d[Ee],Oe=Ce>0==(Ue.level!=1),et=Oe?xe.begin:x(xe.end,-1);if(Ue.from<=et&&et<Ue.to||(et=Oe?Ue.from:x(Ue.to,-1),xe.begin<=et&&et<xe.end))return Ie(et,Oe)}},ce=ie(g+c,c,F);if(ce)return ce;var me=c>0?F.end:x(F.begin,-1);return me!=null&&!(c>0&&me==l.text.length)&&(ce=ie(c>0?0:d.length-1,c,A(me)),ce)?ce:null}var Nu={selectAll:Sx,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),on)},killLine:function(o){return Wa(o,function(l){if(l.empty()){var f=Ne(o.doc,l.head.line).text.length;return l.head.ch==f&&l.head.line<o.lastLine()?{from:l.head,to:de(l.head.line+1,0)}:{from:l.head,to:de(l.head.line,f)}}else return{from:l.from(),to:l.to()}})},deleteLine:function(o){return Wa(o,function(l){return{from:de(l.from().line,0),to:We(o.doc,de(l.to().line+1,0))}})},delLineLeft:function(o){return Wa(o,function(l){return{from:de(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(o){return Wa(o,function(l){var f=o.charCoords(l.head,"div").top+5,c=o.coordsChar({left:0,top:f},"div");return{from:c,to:l.from()}})},delWrappedLineRight:function(o){return Wa(o,function(l){var f=o.charCoords(l.head,"div").top+5,c=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:f},"div");return{from:l.from(),to:c}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(de(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(de(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(l){return zx(o,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(l){return jx(o,l.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(l){return jN(o,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(l){var f=o.cursorCoords(l.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:f},"div")},Zn)},goLineLeft:function(o){return o.extendSelectionsBy(function(l){var f=o.cursorCoords(l.head,"div").top+5;return o.coordsChar({left:0,top:f},"div")},Zn)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(l){var f=o.cursorCoords(l.head,"div").top+5,c=o.coordsChar({left:0,top:f},"div");return c.ch<o.getLine(c.line).search(/\S/)?jx(o,l.head):c},Zn)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("	")},insertSoftTab:function(o){for(var l=[],f=o.listSelections(),c=o.options.tabSize,d=0;d<f.length;d++){var g=f[d].from(),y=gt(o.getLine(g.line),g.ch,c);l.push(Ur(c-y%c))}o.replaceSelections(l)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return pr(o,function(){for(var l=o.listSelections(),f=[],c=0;c<l.length;c++)if(l[c].empty()){var d=l[c].head,g=Ne(o.doc,d.line).text;if(g){if(d.ch==g.length&&(d=new de(d.line,d.ch-1)),d.ch>0)d=new de(d.line,d.ch+1),o.replaceRange(g.charAt(d.ch-1)+g.charAt(d.ch-2),de(d.line,d.ch-2),d,"+transpose");else if(d.line>o.doc.first){var y=Ne(o.doc,d.line-1).text;y&&(d=new de(d.line,1),o.replaceRange(g.charAt(0)+o.doc.lineSeparator()+y.charAt(y.length-1),de(d.line-1,y.length-1),d,"+transpose"))}}f.push(new pt(d,d))}o.setSelections(f)})},newlineAndIndent:function(o){return pr(o,function(){for(var l=o.listSelections(),f=l.length-1;f>=0;f--)o.replaceRange(o.doc.lineSeparator(),l[f].anchor,l[f].head,"+input");l=o.listSelections();for(var c=0;c<l.length;c++)o.indentLine(l[c].from().line,null,!0);Ma(o)})},openLine:function(o){return o.replaceSelection(`
`,"start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function zx(o,l){var f=Ne(o.doc,l),c=ti(f);return c!=f&&(l=_t(c)),cv(!0,o,c,l,1)}function jN(o,l){var f=Ne(o.doc,l),c=TL(f);return c!=f&&(l=_t(c)),cv(!0,o,f,l,-1)}function jx(o,l){var f=zx(o,l.line),c=Ne(o.doc,f.line),d=pe(c,o.doc.direction);if(!d||d[0].level==0){var g=Math.max(f.ch,c.text.search(/\S/)),y=l.line==f.line&&l.ch<=g&&l.ch;return de(f.line,y?0:g,f.sticky)}return f}function Th(o,l,f){if(typeof l=="string"&&(l=Nu[l],!l))return!1;o.display.input.ensurePolled();var c=o.display.shift,d=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),f&&(o.display.shift=!1),d=l(o)!=Ut}finally{o.display.shift=c,o.state.suppressEdits=!1}return d}function $N(o,l,f){for(var c=0;c<o.state.keyMaps.length;c++){var d=Ha(l,o.state.keyMaps[c],f,o);if(d)return d}return o.options.extraKeys&&Ha(l,o.options.extraKeys,f,o)||Ha(l,o.options.keyMap,f,o)}var HN=new Ct;function Fu(o,l,f,c){var d=o.state.keySeq;if(d){if(Bx(l))return"handled";if(/\'$/.test(l)?o.state.keySeq=null:HN.set(50,function(){o.state.keySeq==d&&(o.state.keySeq=null,o.display.input.reset())}),$x(o,d+" "+l,f,c))return!0}return $x(o,l,f,c)}function $x(o,l,f,c){var d=$N(o,l,c);return d=="multi"&&(o.state.keySeq=l),d=="handled"&&pn(o,"keyHandled",o,l,f),(d=="handled"||d=="multi")&&(Vt(f),qm(o)),!!d}function Hx(o,l){var f=Vx(l,!0);return f?l.shiftKey&&!o.state.keySeq?Fu(o,"Shift-"+f,l,function(c){return Th(o,c,!0)})||Fu(o,f,l,function(c){if(typeof c=="string"?/^go[A-Z]/.test(c):c.motion)return Th(o,c)}):Fu(o,f,l,function(c){return Th(o,c)}):!1}function WN(o,l,f){return Fu(o,"'"+f+"'",l,function(c){return Th(o,c,!0)})}var fv=null;function Wx(o){var l=this;if(!(o.target&&o.target!=l.display.input.getField())&&(l.curOp.focus=ue(ee(l)),!Xe(l,o))){h&&p<11&&o.keyCode==27&&(o.returnValue=!1);var f=o.keyCode;l.display.shift=f==16||o.shiftKey;var c=Hx(l,o);b&&(fv=c?f:null,!c&&f==88&&!uL&&(O?o.metaKey:o.ctrlKey)&&l.replaceSelection("",null,"cut")),i&&!O&&!c&&f==46&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),f==18&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&qN(l)}}function qN(o){var l=o.display.lineDiv;B(l,"CodeMirror-crosshair");function f(c){(c.keyCode==18||!c.altKey)&&(se(l,"CodeMirror-crosshair"),ht(document,"keyup",f),ht(document,"mouseover",f))}ne(document,"keyup",f),ne(document,"mouseover",f)}function qx(o){o.keyCode==16&&(this.doc.sel.shift=!1),Xe(this,o)}function Gx(o){var l=this;if(!(o.target&&o.target!=l.display.input.getField())&&!(qi(l.display,o)||Xe(l,o)||o.ctrlKey&&!o.altKey||O&&o.metaKey)){var f=o.keyCode,c=o.charCode;if(b&&f==fv){fv=null,Vt(o);return}if(!(b&&(!o.which||o.which<10)&&Hx(l,o))){var d=String.fromCharCode(c??f);d!="\b"&&(WN(l,o,d)||l.display.input.onKeyPress(o))}}}var GN=400,hv=function(o,l,f){this.time=o,this.pos=l,this.button=f};hv.prototype.compare=function(o,l,f){return this.time+GN>o&&He(l,this.pos)==0&&f==this.button};var Ou,Mu;function KN(o,l){var f=+new Date;return Mu&&Mu.compare(f,o,l)?(Ou=Mu=null,"triple"):Ou&&Ou.compare(f,o,l)?(Mu=new hv(f,o,l),Ou=null,"double"):(Ou=new hv(f,o,l),Mu=null,"single")}function Kx(o){var l=this,f=l.display;if(!(Xe(l,o)||f.activeTouch&&f.input.supportsTouch())){if(f.input.ensurePolled(),f.shift=o.shiftKey,qi(f,o)){m||(f.scroller.draggable=!1,setTimeout(function(){return f.scroller.draggable=!0},100));return}if(!dv(l,o)){var c=Rs(l,o),d=Eo(o),g=c?KN(c,d):"single";Te(l).focus(),d==1&&l.state.selectingText&&l.state.selectingText(o),!(c&&QN(l,d,c,g,o))&&(d==1?c?YN(l,c,g,o):cu(o)==f.scroller&&Vt(o):d==2?(c&&_h(l.doc,c),setTimeout(function(){return f.input.focus()},20)):d==3&&(le?l.display.input.onContextMenu(o):Gm(l)))}}}function QN(o,l,f,c,d){var g="Click";return c=="double"?g="Double"+g:c=="triple"&&(g="Triple"+g),g=(l==1?"Left":l==2?"Middle":"Right")+g,Fu(o,Ux(g,d),d,function(y){if(typeof y=="string"&&(y=Nu[y]),!y)return!1;var x=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),x=y(o,f)!=Ut}finally{o.state.suppressEdits=!1}return x})}function XN(o,l,f){var c=o.getOption("configureMouse"),d=c?c(o,l,f):{};if(d.unit==null){var g=L?f.shiftKey&&f.metaKey:f.altKey;d.unit=g?"rectangle":l=="single"?"char":l=="double"?"word":"line"}return(d.extend==null||o.doc.extend)&&(d.extend=o.doc.extend||f.shiftKey),d.addNew==null&&(d.addNew=O?f.metaKey:f.ctrlKey),d.moveOnDrag==null&&(d.moveOnDrag=!(O?f.altKey:f.ctrlKey)),d}function YN(o,l,f,c){h?setTimeout(rt(QE,o),0):o.curOp.focus=ue(ee(o));var d=XN(o,f,c),g=o.doc.sel,y;o.options.dragDrop&&oL&&!o.isReadOnly()&&f=="single"&&(y=g.contains(l))>-1&&(He((y=g.ranges[y]).from(),l)<0||l.xRel>0)&&(He(y.to(),l)>0||l.xRel<0)?JN(o,c,l,d):ZN(o,c,l,d)}function JN(o,l,f,c){var d=o.display,g=!1,y=gn(o,function(A){m&&(d.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:Gm(o)),ht(d.wrapper.ownerDocument,"mouseup",y),ht(d.wrapper.ownerDocument,"mousemove",x),ht(d.scroller,"dragstart",k),ht(d.scroller,"drop",y),g||(Vt(A),c.addNew||_h(o.doc,f,null,null,c.extend),m&&!I||h&&p==9?setTimeout(function(){d.wrapper.ownerDocument.body.focus({preventScroll:!0}),d.input.focus()},20):d.input.focus())}),x=function(A){g=g||Math.abs(l.clientX-A.clientX)+Math.abs(l.clientY-A.clientY)>=10},k=function(){return g=!0};m&&(d.scroller.draggable=!0),o.state.draggingText=y,y.copy=!c.moveOnDrag,ne(d.wrapper.ownerDocument,"mouseup",y),ne(d.wrapper.ownerDocument,"mousemove",x),ne(d.scroller,"dragstart",k),ne(d.scroller,"drop",y),o.state.delayingBlurEvent=!0,setTimeout(function(){return d.input.focus()},20),d.scroller.dragDrop&&d.scroller.dragDrop()}function Qx(o,l,f){if(f=="char")return new pt(l,l);if(f=="word")return o.findWordAt(l);if(f=="line")return new pt(de(l.line,0),We(o.doc,de(l.line+1,0)));var c=f(o,l);return new pt(c.from,c.to)}function ZN(o,l,f,c){h&&Gm(o);var d=o.display,g=o.doc;Vt(l);var y,x,k=g.sel,A=k.ranges;if(c.addNew&&!c.extend?(x=g.sel.contains(f),x>-1?y=A[x]:y=new pt(f,f)):(y=g.sel.primary(),x=g.sel.primIndex),c.unit=="rectangle")c.addNew||(y=new pt(f,f)),f=Rs(o,l,!0,!0),x=-1;else{var F=Qx(o,f,c.unit);c.extend?y=sv(y,F.anchor,F.head,c.extend):y=F}c.addNew?x==-1?(x=A.length,bn(g,ri(o,A.concat([y]),x),{scroll:!1,origin:"*mouse"})):A.length>1&&A[x].empty()&&c.unit=="char"&&!c.extend?(bn(g,ri(o,A.slice(0,x).concat(A.slice(x+1)),0),{scroll:!1,origin:"*mouse"}),k=g.sel):av(g,x,y,Fe):(x=0,bn(g,new Tr([y],0),Fe),k=g.sel);var j=f;function X(xe){if(He(j,xe)!=0)if(j=xe,c.unit=="rectangle"){for(var Ie=[],Ue=o.options.tabSize,Oe=gt(Ne(g,f.line).text,f.ch,Ue),et=gt(Ne(g,xe.line).text,xe.ch,Ue),Tt=Math.min(Oe,et),vn=Math.max(Oe,et),zt=Math.min(f.line,xe.line),gr=Math.min(o.lastLine(),Math.max(f.line,xe.line));zt<=gr;zt++){var rr=Ne(g,zt).text,en=er(rr,Tt,Ue);Tt==vn?Ie.push(new pt(de(zt,en),de(zt,en))):rr.length>en&&Ie.push(new pt(de(zt,en),de(zt,er(rr,vn,Ue))))}Ie.length||Ie.push(new pt(f,f)),bn(g,ri(o,k.ranges.slice(0,x).concat(Ie),x),{origin:"*mouse",scroll:!1}),o.scrollIntoView(xe)}else{var ir=y,kn=Qx(o,xe,c.unit),an=ir.anchor,tn;He(kn.anchor,an)>0?(tn=kn.head,an=Zf(ir.from(),kn.anchor)):(tn=kn.anchor,an=Jf(ir.to(),kn.head));var $t=k.ranges.slice(0);$t[x]=eF(o,new pt(We(g,an),tn)),bn(g,ri(o,$t,x),Fe)}}var q=d.wrapper.getBoundingClientRect(),ie=0;function ce(xe){var Ie=++ie,Ue=Rs(o,xe,!0,c.unit=="rectangle");if(Ue)if(He(Ue,j)!=0){o.curOp.focus=ue(ee(o)),X(Ue);var Oe=dh(d,g);(Ue.line>=Oe.to||Ue.line<Oe.from)&&setTimeout(gn(o,function(){ie==Ie&&ce(xe)}),150)}else{var et=xe.clientY<q.top?-20:xe.clientY>q.bottom?20:0;et&&setTimeout(gn(o,function(){ie==Ie&&(d.scroller.scrollTop+=et,ce(xe))}),50)}}function me(xe){o.state.selectingText=!1,ie=1/0,xe&&(Vt(xe),d.input.focus()),ht(d.wrapper.ownerDocument,"mousemove",Ee),ht(d.wrapper.ownerDocument,"mouseup",Ce),g.history.lastSelOrigin=null}var Ee=gn(o,function(xe){xe.buttons===0||!Eo(xe)?me(xe):ce(xe)}),Ce=gn(o,me);o.state.selectingText=Ce,ne(d.wrapper.ownerDocument,"mousemove",Ee),ne(d.wrapper.ownerDocument,"mouseup",Ce)}function eF(o,l){var f=l.anchor,c=l.head,d=Ne(o.doc,f.line);if(He(f,c)==0&&f.sticky==c.sticky)return l;var g=pe(d);if(!g)return l;var y=Re(g,f.ch,f.sticky),x=g[y];if(x.from!=f.ch&&x.to!=f.ch)return l;var k=y+(x.from==f.ch==(x.level!=1)?0:1);if(k==0||k==g.length)return l;var A;if(c.line!=f.line)A=(c.line-f.line)*(o.doc.direction=="ltr"?1:-1)>0;else{var F=Re(g,c.ch,c.sticky),j=F-y||(c.ch-f.ch)*(x.level==1?-1:1);F==k-1||F==k?A=j<0:A=j>0}var X=g[k+(A?-1:0)],q=A==(X.level==1),ie=q?X.from:X.to,ce=q?"after":"before";return f.ch==ie&&f.sticky==ce?l:new pt(new de(f.line,ie,ce),c)}function Xx(o,l,f,c){var d,g;if(l.touches)d=l.touches[0].clientX,g=l.touches[0].clientY;else try{d=l.clientX,g=l.clientY}catch{return!1}if(d>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;c&&Vt(l);var y=o.display,x=y.lineDiv.getBoundingClientRect();if(g>x.bottom||!xn(o,f))return $i(l);g-=x.top-y.viewOffset;for(var k=0;k<o.display.gutterSpecs.length;++k){var A=y.gutters.childNodes[k];if(A&&A.getBoundingClientRect().right>=d){var F=As(o.doc,g),j=o.display.gutterSpecs[k];return dt(o,f,o,F,j.className,l),$i(l)}}}function dv(o,l){return Xx(o,l,"gutterClick",!0)}function Yx(o,l){qi(o.display,l)||tF(o,l)||Xe(o,l,"contextmenu")||le||o.display.input.onContextMenu(l)}function tF(o,l){return xn(o,"gutterContextMenu")?Xx(o,l,"gutterContextMenu",!1):!1}function Jx(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),vu(o)}var qa={toString:function(){return"CodeMirror.Init"}},Zx={},Ch={};function nF(o){var l=o.optionHandlers;function f(c,d,g,y){o.defaults[c]=d,g&&(l[c]=y?function(x,k,A){A!=qa&&g(x,k,A)}:g)}o.defineOption=f,o.Init=qa,f("value","",function(c,d){return c.setValue(d)},!0),f("mode",null,function(c,d){c.doc.modeOption=d,rv(c)},!0),f("indentUnit",2,rv,!0),f("indentWithTabs",!1),f("smartIndent",!0),f("tabSize",4,function(c){Tu(c),vu(c),tr(c)},!0),f("lineSeparator",null,function(c,d){if(c.doc.lineSep=d,!!d){var g=[],y=c.doc.first;c.doc.iter(function(k){for(var A=0;;){var F=k.text.indexOf(d,A);if(F==-1)break;A=F+d.length,g.push(de(y,F))}y++});for(var x=g.length-1;x>=0;x--)ja(c.doc,d,g[x],de(g[x].line,g[x].ch+d.length))}}),f("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(c,d,g){c.state.specialChars=new RegExp(d.source+(d.test("	")?"":"|	"),"g"),g!=qa&&c.refresh()}),f("specialCharPlaceholder",RL,function(c){return c.refresh()},!0),f("electricChars",!0),f("inputStyle",N?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),f("spellcheck",!1,function(c,d){return c.getInputField().spellcheck=d},!0),f("autocorrect",!1,function(c,d){return c.getInputField().autocorrect=d},!0),f("autocapitalize",!1,function(c,d){return c.getInputField().autocapitalize=d},!0),f("rtlMoveVisually",!M),f("wholeLineUpdateBefore",!0),f("theme","default",function(c){Jx(c),Su(c)},!0),f("keyMap","default",function(c,d,g){var y=Sh(d),x=g!=qa&&Sh(g);x&&x.detach&&x.detach(c,y),y.attach&&y.attach(c,x||null)}),f("extraKeys",null),f("configureMouse",null),f("lineWrapping",!1,iF,!0),f("gutters",[],function(c,d){c.display.gutterSpecs=tv(d,c.options.lineNumbers),Su(c)},!0),f("fixedGutter",!0,function(c,d){c.display.gutters.style.left=d?$m(c.display)+"px":"0",c.refresh()},!0),f("coverGutterNextToScrollbar",!1,function(c){return Ba(c)},!0),f("scrollbarStyle","native",function(c){tx(c),Ba(c),c.display.scrollbars.setScrollTop(c.doc.scrollTop),c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0),f("lineNumbers",!1,function(c,d){c.display.gutterSpecs=tv(c.options.gutters,d),Su(c)},!0),f("firstLineNumber",1,Su,!0),f("lineNumberFormatter",function(c){return c},Su,!0),f("showCursorWhenSelecting",!1,yu,!0),f("resetSelectionOnContextMenu",!0),f("lineWiseCopyCut",!0),f("pasteLinesPerSelection",!0),f("selectionsMayTouch",!1),f("readOnly",!1,function(c,d){d=="nocursor"&&(Oa(c),c.display.input.blur()),c.display.input.readOnlyChanged(d)}),f("screenReaderLabel",null,function(c,d){d=d===""?null:d,c.display.input.screenReaderLabelChanged(d)}),f("disableInput",!1,function(c,d){d||c.display.input.reset()},!0),f("dragDrop",!0,rF),f("allowDropFileTypes",null),f("cursorBlinkRate",530),f("cursorScrollMargin",0),f("cursorHeight",1,yu,!0),f("singleCursorHeightPerLine",!0,yu,!0),f("workTime",100),f("workDelay",100),f("flattenSpans",!0,Tu,!0),f("addModeClass",!1,Tu,!0),f("pollInterval",100),f("undoDepth",200,function(c,d){return c.doc.history.undoDepth=d}),f("historyEventDelay",1250),f("viewportMargin",10,function(c){return c.refresh()},!0),f("maxHighlightLength",1e4,Tu,!0),f("moveInputWithCursor",!0,function(c,d){d||c.display.input.resetPosition()}),f("tabindex",null,function(c,d){return c.display.input.getField().tabIndex=d||""}),f("autofocus",null),f("direction","ltr",function(c,d){return c.doc.setDirection(d)},!0),f("phrases",null)}function rF(o,l,f){var c=f&&f!=qa;if(!l!=!c){var d=o.display.dragFunctions,g=l?ne:ht;g(o.display.scroller,"dragstart",d.start),g(o.display.scroller,"dragenter",d.enter),g(o.display.scroller,"dragover",d.over),g(o.display.scroller,"dragleave",d.leave),g(o.display.scroller,"drop",d.drop)}}function iF(o){o.options.lineWrapping?(B(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(se(o.display.wrapper,"CodeMirror-wrap"),Lm(o)),Hm(o),tr(o),vu(o),setTimeout(function(){return Ba(o)},100)}function Pt(o,l){var f=this;if(!(this instanceof Pt))return new Pt(o,l);this.options=l=l?Et(l):{},Et(Zx,l,!1);var c=l.value;typeof c=="string"?c=new nr(c,l.mode,null,l.lineSeparator,l.direction):l.mode&&(c.modeOption=l.mode),this.doc=c;var d=new Pt.inputStyles[l.inputStyle](this),g=this.display=new vN(o,c,d,l);g.wrapper.CodeMirror=this,Jx(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),tx(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ct,keySeq:null,specialChars:null},l.autofocus&&!N&&g.input.focus(),h&&p<11&&setTimeout(function(){return f.display.input.reset(!0)},20),oF(this),ON(),Fs(this),this.curOp.forceUpdate=!0,fx(this,c),l.autofocus&&!N||this.hasFocus()?setTimeout(function(){f.hasFocus()&&!f.state.focused&&Km(f)},20):Oa(this);for(var y in Ch)Ch.hasOwnProperty(y)&&Ch[y](this,l[y],qa);ix(this),l.finishInit&&l.finishInit(this);for(var x=0;x<pv.length;++x)pv[x](this);Os(this),m&&l.lineWrapping&&getComputedStyle(g.lineDiv).textRendering=="optimizelegibility"&&(g.lineDiv.style.textRendering="auto")}Pt.defaults=Zx,Pt.optionHandlers=Ch;function oF(o){var l=o.display;ne(l.scroller,"mousedown",gn(o,Kx)),h&&p<11?ne(l.scroller,"dblclick",gn(o,function(k){if(!Xe(o,k)){var A=Rs(o,k);if(!(!A||dv(o,k)||qi(o.display,k))){Vt(k);var F=o.findWordAt(A);_h(o.doc,F.anchor,F.head)}}})):ne(l.scroller,"dblclick",function(k){return Xe(o,k)||Vt(k)}),ne(l.scroller,"contextmenu",function(k){return Yx(o,k)}),ne(l.input.getField(),"contextmenu",function(k){l.scroller.contains(k.target)||Yx(o,k)});var f,c={end:0};function d(){l.activeTouch&&(f=setTimeout(function(){return l.activeTouch=null},1e3),c=l.activeTouch,c.end=+new Date)}function g(k){if(k.touches.length!=1)return!1;var A=k.touches[0];return A.radiusX<=1&&A.radiusY<=1}function y(k,A){if(A.left==null)return!0;var F=A.left-k.left,j=A.top-k.top;return F*F+j*j>20*20}ne(l.scroller,"touchstart",function(k){if(!Xe(o,k)&&!g(k)&&!dv(o,k)){l.input.ensurePolled(),clearTimeout(f);var A=+new Date;l.activeTouch={start:A,moved:!1,prev:A-c.end<=300?c:null},k.touches.length==1&&(l.activeTouch.left=k.touches[0].pageX,l.activeTouch.top=k.touches[0].pageY)}}),ne(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),ne(l.scroller,"touchend",function(k){var A=l.activeTouch;if(A&&!qi(l,k)&&A.left!=null&&!A.moved&&new Date-A.start<300){var F=o.coordsChar(l.activeTouch,"page"),j;!A.prev||y(A,A.prev)?j=new pt(F,F):!A.prev.prev||y(A,A.prev.prev)?j=o.findWordAt(F):j=new pt(de(F.line,0),We(o.doc,de(F.line+1,0))),o.setSelection(j.anchor,j.head),o.focus(),Vt(k)}d()}),ne(l.scroller,"touchcancel",d),ne(l.scroller,"scroll",function(){l.scroller.clientHeight&&(wu(o,l.scroller.scrollTop),Ls(o,l.scroller.scrollLeft,!0),dt(o,"scroll",o))}),ne(l.scroller,"mousewheel",function(k){return ax(o,k)}),ne(l.scroller,"DOMMouseScroll",function(k){return ax(o,k)}),ne(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(k){Xe(o,k)||ei(k)},over:function(k){Xe(o,k)||(FN(o,k),ei(k))},start:function(k){return NN(o,k)},drop:gn(o,LN),leave:function(k){Xe(o,k)||Fx(o)}};var x=l.input.getField();ne(x,"keyup",function(k){return qx.call(o,k)}),ne(x,"keydown",gn(o,Wx)),ne(x,"keypress",gn(o,Gx)),ne(x,"focus",function(k){return Km(o,k)}),ne(x,"blur",function(k){return Oa(o,k)})}var pv=[];Pt.defineInitHook=function(o){return pv.push(o)};function Bu(o,l,f,c){var d=o.doc,g;f==null&&(f="add"),f=="smart"&&(d.mode.indent?g=hu(o,l).state:f="prev");var y=o.options.tabSize,x=Ne(d,l),k=gt(x.text,null,y);x.stateAfter&&(x.stateAfter=null);var A=x.text.match(/^\s*/)[0],F;if(!c&&!/\S/.test(x.text))F=0,f="not";else if(f=="smart"&&(F=d.mode.indent(g,x.text.slice(A.length),x.text),F==Ut||F>150)){if(!c)return;f="prev"}f=="prev"?l>d.first?F=gt(Ne(d,l-1).text,null,y):F=0:f=="add"?F=k+o.options.indentUnit:f=="subtract"?F=k-o.options.indentUnit:typeof f=="number"&&(F=k+f),F=Math.max(0,F);var j="",X=0;if(o.options.indentWithTabs)for(var q=Math.floor(F/y);q;--q)X+=y,j+="	";if(X<F&&(j+=Ur(F-X)),j!=A)return ja(d,j,de(l,0),de(l,A.length),"+input"),x.stateAfter=null,!0;for(var ie=0;ie<d.sel.ranges.length;ie++){var ce=d.sel.ranges[ie];if(ce.head.line==l&&ce.head.ch<A.length){var me=de(l,A.length);av(d,ie,new pt(me,me));break}}}var ii=null;function Dh(o){ii=o}function gv(o,l,f,c,d){var g=o.doc;o.display.shift=!1,c||(c=g.sel);var y=+new Date-200,x=d=="paste"||o.state.pasteIncoming>y,k=ym(l),A=null;if(x&&c.ranges.length>1)if(ii&&ii.text.join(`
`)==l){if(c.ranges.length%ii.text.length==0){A=[];for(var F=0;F<ii.text.length;F++)A.push(g.splitLines(ii.text[F]))}}else k.length==c.ranges.length&&o.options.pasteLinesPerSelection&&(A=Vn(k,function(Ee){return[Ee]}));for(var j=o.curOp.updateInput,X=c.ranges.length-1;X>=0;X--){var q=c.ranges[X],ie=q.from(),ce=q.to();q.empty()&&(f&&f>0?ie=de(ie.line,ie.ch-f):o.state.overwrite&&!x?ce=de(ce.line,Math.min(Ne(g,ce.line).text.length,ce.ch+nt(k).length)):x&&ii&&ii.lineWise&&ii.text.join(`
`)==k.join(`
`)&&(ie=ce=de(ie.line,0)));var me={from:ie,to:ce,text:A?A[X%A.length]:k,origin:d||(x?"paste":o.state.cutIncoming>y?"cut":"+input")};za(o.doc,me),pn(o,"inputRead",o,me)}l&&!x&&tk(o,l),Ma(o),o.curOp.updateInput<2&&(o.curOp.updateInput=j),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function ek(o,l){var f=o.clipboardData&&o.clipboardData.getData("Text");if(f)return o.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&l.hasFocus()&&pr(l,function(){return gv(l,f,0,null,"paste")}),!0}function tk(o,l){if(!(!o.options.electricChars||!o.options.smartIndent))for(var f=o.doc.sel,c=f.ranges.length-1;c>=0;c--){var d=f.ranges[c];if(!(d.head.ch>100||c&&f.ranges[c-1].head.line==d.head.line)){var g=o.getModeAt(d.head),y=!1;if(g.electricChars){for(var x=0;x<g.electricChars.length;x++)if(l.indexOf(g.electricChars.charAt(x))>-1){y=Bu(o,d.head.line,"smart");break}}else g.electricInput&&g.electricInput.test(Ne(o.doc,d.head.line).text.slice(0,d.head.ch))&&(y=Bu(o,d.head.line,"smart"));y&&pn(o,"electricInput",o,d.head.line)}}}function nk(o){for(var l=[],f=[],c=0;c<o.doc.sel.ranges.length;c++){var d=o.doc.sel.ranges[c].head.line,g={anchor:de(d,0),head:de(d+1,0)};f.push(g),l.push(o.getRange(g.anchor,g.head))}return{text:l,ranges:f}}function mv(o,l,f,c){o.setAttribute("autocorrect",f?"on":"off"),o.setAttribute("autocapitalize",c?"on":"off"),o.setAttribute("spellcheck",!!l)}function rk(){var o=$("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),l=$("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return m?o.style.width="1000px":o.setAttribute("wrap","off"),C&&(o.style.border="1px solid black"),l}function sF(o){var l=o.optionHandlers,f=o.helpers={};o.prototype={constructor:o,focus:function(){Te(this).focus(),this.display.input.focus()},setOption:function(c,d){var g=this.options,y=g[c];g[c]==d&&c!="mode"||(g[c]=d,l.hasOwnProperty(c)&&gn(this,l[c])(this,d,y),dt(this,"optionChange",this,c))},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,d){this.state.keyMaps[d?"push":"unshift"](Sh(c))},removeKeyMap:function(c){for(var d=this.state.keyMaps,g=0;g<d.length;++g)if(d[g]==c||d[g].name==c)return d.splice(g,1),!0},addOverlay:zn(function(c,d){var g=c.token?c:o.getMode(this.options,c);if(g.startState)throw new Error("Overlays may not be stateful.");Vr(this.state.overlays,{mode:g,modeSpec:c,opaque:d&&d.opaque,priority:d&&d.priority||0},function(y){return y.priority}),this.state.modeGen++,tr(this)}),removeOverlay:zn(function(c){for(var d=this.state.overlays,g=0;g<d.length;++g){var y=d[g].modeSpec;if(y==c||typeof c=="string"&&y.name==c){d.splice(g,1),this.state.modeGen++,tr(this);return}}}),indentLine:zn(function(c,d,g){typeof d!="string"&&typeof d!="number"&&(d==null?d=this.options.smartIndent?"smart":"prev":d=d?"add":"subtract"),fu(this.doc,c)&&Bu(this,c,d,g)}),indentSelection:zn(function(c){for(var d=this.doc.sel.ranges,g=-1,y=0;y<d.length;y++){var x=d[y];if(x.empty())x.head.line>g&&(Bu(this,x.head.line,c,!0),g=x.head.line,y==this.doc.sel.primIndex&&Ma(this));else{var k=x.from(),A=x.to(),F=Math.max(g,k.line);g=Math.min(this.lastLine(),A.line-(A.ch?0:1))+1;for(var j=F;j<g;++j)Bu(this,j,c);var X=this.doc.sel.ranges;k.ch==0&&d.length==X.length&&X[y].from().ch>0&&av(this.doc,y,new pt(k,X[y].to()),on)}}}),getTokenAt:function(c,d){return dE(this,c,d)},getLineTokens:function(c,d){return dE(this,de(c),d,!0)},getTokenTypeAt:function(c){c=We(this.doc,c);var d=cE(this,Ne(this.doc,c.line)),g=0,y=(d.length-1)/2,x=c.ch,k;if(x==0)k=d[2];else for(;;){var A=g+y>>1;if((A?d[A*2-1]:0)>=x)y=A;else if(d[A*2+1]<x)g=A+1;else{k=d[A*2+2];break}}var F=k?k.indexOf("overlay "):-1;return F<0?k:F==0?null:k.slice(0,F-1)},getModeAt:function(c){var d=this.doc.mode;return d.innerMode?o.innerMode(d,this.getTokenAt(c).state).mode:d},getHelper:function(c,d){return this.getHelpers(c,d)[0]},getHelpers:function(c,d){var g=[];if(!f.hasOwnProperty(d))return g;var y=f[d],x=this.getModeAt(c);if(typeof x[d]=="string")y[x[d]]&&g.push(y[x[d]]);else if(x[d])for(var k=0;k<x[d].length;k++){var A=y[x[d][k]];A&&g.push(A)}else x.helperType&&y[x.helperType]?g.push(y[x.helperType]):y[x.name]&&g.push(y[x.name]);for(var F=0;F<y._global.length;F++){var j=y._global[F];j.pred(x,this)&&it(g,j.val)==-1&&g.push(j.val)}return g},getStateAfter:function(c,d){var g=this.doc;return c=aE(g,c??g.first+g.size-1),hu(this,c+1,d).state},cursorCoords:function(c,d){var g,y=this.doc.sel.primary();return c==null?g=y.head:typeof c=="object"?g=We(this.doc,c):g=c?y.from():y.to(),ni(this,g,d||"page")},charCoords:function(c,d){return uh(this,We(this.doc,c),d||"page")},coordsChar:function(c,d){return c=jE(this,c,d||"page"),Vm(this,c.left,c.top)},lineAtHeight:function(c,d){return c=jE(this,{top:c,left:0},d||"page").top,As(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,d,g){var y=!1,x;if(typeof c=="number"){var k=this.doc.first+this.doc.size-1;c<this.doc.first?c=this.doc.first:c>k&&(c=k,y=!0),x=Ne(this.doc,c)}else x=c;return lh(this,x,{top:0,left:0},d||"page",g||y).top+(y?this.doc.height-Wi(x):0)},defaultTextHeight:function(){return Na(this.display)},defaultCharWidth:function(){return Fa(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,d,g,y,x){var k=this.display;c=ni(this,We(this.doc,c));var A=c.bottom,F=c.left;if(d.style.position="absolute",d.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(d),k.sizer.appendChild(d),y=="over")A=c.top;else if(y=="above"||y=="near"){var j=Math.max(k.wrapper.clientHeight,this.doc.height),X=Math.max(k.sizer.clientWidth,k.lineSpace.clientWidth);(y=="above"||c.bottom+d.offsetHeight>j)&&c.top>d.offsetHeight?A=c.top-d.offsetHeight:c.bottom+d.offsetHeight<=j&&(A=c.bottom),F+d.offsetWidth>X&&(F=X-d.offsetWidth)}d.style.top=A+"px",d.style.left=d.style.right="",x=="right"?(F=k.sizer.clientWidth-d.offsetWidth,d.style.right="0px"):(x=="left"?F=0:x=="middle"&&(F=(k.sizer.clientWidth-d.offsetWidth)/2),d.style.left=F+"px"),g&&rN(this,{left:F,top:A,right:F+d.offsetWidth,bottom:A+d.offsetHeight})},triggerOnKeyDown:zn(Wx),triggerOnKeyPress:zn(Gx),triggerOnKeyUp:qx,triggerOnMouseDown:zn(Kx),execCommand:function(c){if(Nu.hasOwnProperty(c))return Nu[c].call(null,this)},triggerElectric:zn(function(c){tk(this,c)}),findPosH:function(c,d,g,y){var x=1;d<0&&(x=-1,d=-d);for(var k=We(this.doc,c),A=0;A<d&&(k=vv(this.doc,k,x,g,y),!k.hitSide);++A);return k},moveH:zn(function(c,d){var g=this;this.extendSelectionsBy(function(y){return g.display.shift||g.doc.extend||y.empty()?vv(g.doc,y.head,c,d,g.options.rtlMoveVisually):c<0?y.from():y.to()},Zn)}),deleteH:zn(function(c,d){var g=this.doc.sel,y=this.doc;g.somethingSelected()?y.replaceSelection("",null,"+delete"):Wa(this,function(x){var k=vv(y,x.head,c,d,!1);return c<0?{from:k,to:x.head}:{from:x.head,to:k}})}),findPosV:function(c,d,g,y){var x=1,k=y;d<0&&(x=-1,d=-d);for(var A=We(this.doc,c),F=0;F<d;++F){var j=ni(this,A,"div");if(k==null?k=j.left:j.left=k,A=ik(this,j,x,g),A.hitSide)break}return A},moveV:zn(function(c,d){var g=this,y=this.doc,x=[],k=!this.display.shift&&!y.extend&&y.sel.somethingSelected();if(y.extendSelectionsBy(function(F){if(k)return c<0?F.from():F.to();var j=ni(g,F.head,"div");F.goalColumn!=null&&(j.left=F.goalColumn),x.push(j.left);var X=ik(g,j,c,d);return d=="page"&&F==y.sel.primary()&&Xm(g,uh(g,X,"div").top-j.top),X},Zn),x.length)for(var A=0;A<y.sel.ranges.length;A++)y.sel.ranges[A].goalColumn=x[A]}),findWordAt:function(c){var d=this.doc,g=Ne(d,c.line).text,y=c.ch,x=c.ch;if(g){var k=this.getHelper(c,"wordChars");(c.sticky=="before"||x==g.length)&&y?--y:++x;for(var A=g.charAt(y),F=S(A,k)?function(j){return S(j,k)}:/\s/.test(A)?function(j){return/\s/.test(j)}:function(j){return!/\s/.test(j)&&!S(j)};y>0&&F(g.charAt(y-1));)--y;for(;x<g.length&&F(g.charAt(x));)++x}return new pt(de(c.line,y),de(c.line,x))},toggleOverwrite:function(c){c!=null&&c==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?B(this.display.cursorDiv,"CodeMirror-overwrite"):se(this.display.cursorDiv,"CodeMirror-overwrite"),dt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ue(ee(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:zn(function(c,d){_u(this,c,d)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-yi(this)-this.display.barHeight,width:c.scrollWidth-yi(this)-this.display.barWidth,clientHeight:Om(this),clientWidth:bs(this)}},scrollIntoView:zn(function(c,d){c==null?(c={from:this.doc.sel.primary().head,to:null},d==null&&(d=this.options.cursorScrollMargin)):typeof c=="number"?c={from:de(c,0),to:null}:c.from==null&&(c={from:c,to:null}),c.to||(c.to=c.from),c.margin=d||0,c.from.line!=null?iN(this,c):YE(this,c.from,c.to,c.margin)}),setSize:zn(function(c,d){var g=this,y=function(k){return typeof k=="number"||/^\d+$/.test(String(k))?k+"px":k};c!=null&&(this.display.wrapper.style.width=y(c)),d!=null&&(this.display.wrapper.style.height=y(d)),this.options.lineWrapping&&UE(this);var x=this.display.viewFrom;this.doc.iter(x,this.display.viewTo,function(k){if(k.widgets){for(var A=0;A<k.widgets.length;A++)if(k.widgets[A].noHScroll){ko(g,x,"widget");break}}++x}),this.curOp.forceUpdate=!0,dt(this,"refresh",this)}),operation:function(c){return pr(this,c)},startOperation:function(){return Fs(this)},endOperation:function(){return Os(this)},refresh:zn(function(){var c=this.display.cachedTextHeight;tr(this),this.curOp.forceUpdate=!0,vu(this),_u(this,this.doc.scrollLeft,this.doc.scrollTop),Zm(this.display),(c==null||Math.abs(c-Na(this.display))>.5||this.options.lineWrapping)&&Hm(this),dt(this,"refresh",this)}),swapDoc:zn(function(c){var d=this.doc;return d.cm=null,this.state.selectingText&&this.state.selectingText(),fx(this,c),vu(this),this.display.input.reset(),_u(this,c.scrollLeft,c.scrollTop),this.curOp.forceScroll=!0,pn(this,"swapDoc",this,d),d}),phrase:function(c){var d=this.options.phrases;return d&&Object.prototype.hasOwnProperty.call(d,c)?d[c]:c},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},zr(o),o.registerHelper=function(c,d,g){f.hasOwnProperty(c)||(f[c]=o[c]={_global:[]}),f[c][d]=g},o.registerGlobalHelper=function(c,d,g,y){o.registerHelper(c,d,y),f[c]._global.push({pred:g,val:y})}}function vv(o,l,f,c,d){var g=l,y=f,x=Ne(o,l.line),k=d&&o.direction=="rtl"?-f:f;function A(){var Ce=l.line+k;return Ce<o.first||Ce>=o.first+o.size?!1:(l=new de(Ce,l.ch,l.sticky),x=Ne(o,Ce))}function F(Ce){var xe;if(c=="codepoint"){var Ie=x.text.charCodeAt(l.ch+(f>0?0:-1));if(isNaN(Ie))xe=null;else{var Ue=f>0?Ie>=55296&&Ie<56320:Ie>=56320&&Ie<57343;xe=new de(l.line,Math.max(0,Math.min(x.text.length,l.ch+f*(Ue?2:1))),-f)}}else d?xe=zN(o.cm,x,l,f):xe=uv(x,l,f);if(xe==null)if(!Ce&&A())l=cv(d,o.cm,x,l.line,k);else return!1;else l=xe;return!0}if(c=="char"||c=="codepoint")F();else if(c=="column")F(!0);else if(c=="word"||c=="group")for(var j=null,X=c=="group",q=o.cm&&o.cm.getHelper(l,"wordChars"),ie=!0;!(f<0&&!F(!ie));ie=!1){var ce=x.text.charAt(l.ch)||`
`,me=S(ce,q)?"w":X&&ce==`
`?"n":!X||/\s/.test(ce)?null:"p";if(X&&!ie&&!me&&(me="s"),j&&j!=me){f<0&&(f=1,F(),l.sticky="after");break}if(me&&(j=me),f>0&&!F(!ie))break}var Ee=Eh(o,l,g,y,!0);return Tm(g,Ee)&&(Ee.hitSide=!0),Ee}function ik(o,l,f,c){var d=o.doc,g=l.left,y;if(c=="page"){var x=Math.min(o.display.wrapper.clientHeight,Te(o).innerHeight||d(o).documentElement.clientHeight),k=Math.max(x-.5*Na(o.display),3);y=(f>0?l.bottom:l.top)+f*k}else c=="line"&&(y=f>0?l.bottom+3:l.top-3);for(var A;A=Vm(o,g,y),!!A.outside;){if(f<0?y<=0:y>=d.height){A.hitSide=!0;break}y+=f*5}return A}var wt=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ct,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};wt.prototype.init=function(o){var l=this,f=this,c=f.cm,d=f.div=o.lineDiv;d.contentEditable=!0,mv(d,c.options.spellcheck,c.options.autocorrect,c.options.autocapitalize);function g(x){for(var k=x.target;k;k=k.parentNode){if(k==d)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(k.className))break}return!1}ne(d,"paste",function(x){!g(x)||Xe(c,x)||ek(x,c)||p<=11&&setTimeout(gn(c,function(){return l.updateFromDOM()}),20)}),ne(d,"compositionstart",function(x){l.composing={data:x.data,done:!1}}),ne(d,"compositionupdate",function(x){l.composing||(l.composing={data:x.data,done:!1})}),ne(d,"compositionend",function(x){l.composing&&(x.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),ne(d,"touchstart",function(){return f.forceCompositionEnd()}),ne(d,"input",function(){l.composing||l.readFromDOMSoon()});function y(x){if(!(!g(x)||Xe(c,x))){if(c.somethingSelected())Dh({lineWise:!1,text:c.getSelections()}),x.type=="cut"&&c.replaceSelection("",null,"cut");else if(c.options.lineWiseCopyCut){var k=nk(c);Dh({lineWise:!0,text:k.text}),x.type=="cut"&&c.operation(function(){c.setSelections(k.ranges,0,on),c.replaceSelection("",null,"cut")})}else return;if(x.clipboardData){x.clipboardData.clearData();var A=ii.text.join(`
`);if(x.clipboardData.setData("Text",A),x.clipboardData.getData("Text")==A){x.preventDefault();return}}var F=rk(),j=F.firstChild;mv(j),c.display.lineSpace.insertBefore(F,c.display.lineSpace.firstChild),j.value=ii.text.join(`
`);var X=ue(Ve(d));z(j),setTimeout(function(){c.display.lineSpace.removeChild(F),X.focus(),X==d&&f.showPrimarySelection()},50)}}ne(d,"copy",y),ne(d,"cut",y)},wt.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},wt.prototype.prepareSelection=function(){var o=KE(this.cm,!1);return o.focus=ue(Ve(this.div))==this.div,o},wt.prototype.showSelection=function(o,l){!o||!this.cm.display.view.length||((o.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(o))},wt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},wt.prototype.showPrimarySelection=function(){var o=this.getSelection(),l=this.cm,f=l.doc.sel.primary(),c=f.from(),d=f.to();if(l.display.viewTo==l.display.viewFrom||c.line>=l.display.viewTo||d.line<l.display.viewFrom){o.removeAllRanges();return}var g=Ah(l,o.anchorNode,o.anchorOffset),y=Ah(l,o.focusNode,o.focusOffset);if(!(g&&!g.bad&&y&&!y.bad&&He(Zf(g,y),c)==0&&He(Jf(g,y),d)==0)){var x=l.display.view,k=c.line>=l.display.viewFrom&&ok(l,c)||{node:x[0].measure.map[2],offset:0},A=d.line<l.display.viewTo&&ok(l,d);if(!A){var F=x[x.length-1].measure,j=F.maps?F.maps[F.maps.length-1]:F.map;A={node:j[j.length-1],offset:j[j.length-2]-j[j.length-3]}}if(!k||!A){o.removeAllRanges();return}var X=o.rangeCount&&o.getRangeAt(0),q;try{q=re(k.node,k.offset,A.offset,A.node)}catch{}q&&(!i&&l.state.focused?(o.collapse(k.node,k.offset),q.collapsed||(o.removeAllRanges(),o.addRange(q))):(o.removeAllRanges(),o.addRange(q)),X&&o.anchorNode==null?o.addRange(X):i&&this.startGracePeriod()),this.rememberSelection()}},wt.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},wt.prototype.showMultipleSelections=function(o){ve(this.cm.display.cursorDiv,o.cursors),ve(this.cm.display.selectionDiv,o.selection)},wt.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},wt.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var l=o.getRangeAt(0).commonAncestorContainer;return te(this.div,l)},wt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ue(Ve(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},wt.prototype.blur=function(){this.div.blur()},wt.prototype.getField=function(){return this.div},wt.prototype.supportsTouch=function(){return!0},wt.prototype.receivedFocus=function(){var o=this,l=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):pr(this.cm,function(){return l.cm.curOp.selectionChanged=!0});function f(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,f))}this.polling.set(this.cm.options.pollInterval,f)},wt.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},wt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var o=this.getSelection(),l=this.cm;if(D&&_&&this.cm.display.gutterSpecs.length&&aF(o.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var f=Ah(l,o.anchorNode,o.anchorOffset),c=Ah(l,o.focusNode,o.focusOffset);f&&c&&pr(l,function(){bn(l.doc,To(f,c),on),(f.bad||c.bad)&&(l.curOp.selectionChanged=!0)})}}},wt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o=this.cm,l=o.display,f=o.doc.sel.primary(),c=f.from(),d=f.to();if(c.ch==0&&c.line>o.firstLine()&&(c=de(c.line-1,Ne(o.doc,c.line-1).length)),d.ch==Ne(o.doc,d.line).text.length&&d.line<o.lastLine()&&(d=de(d.line+1,0)),c.line<l.viewFrom||d.line>l.viewTo-1)return!1;var g,y,x;c.line==l.viewFrom||(g=Ps(o,c.line))==0?(y=_t(l.view[0].line),x=l.view[0].node):(y=_t(l.view[g].line),x=l.view[g-1].node.nextSibling);var k=Ps(o,d.line),A,F;if(k==l.view.length-1?(A=l.viewTo-1,F=l.lineDiv.lastChild):(A=_t(l.view[k+1].line)-1,F=l.view[k+1].node.previousSibling),!x)return!1;for(var j=o.doc.splitLines(lF(o,x,F,y,A)),X=Ds(o.doc,de(y,0),de(A,Ne(o.doc,A).text.length));j.length>1&&X.length>1;)if(nt(j)==nt(X))j.pop(),X.pop(),A--;else if(j[0]==X[0])j.shift(),X.shift(),y++;else break;for(var q=0,ie=0,ce=j[0],me=X[0],Ee=Math.min(ce.length,me.length);q<Ee&&ce.charCodeAt(q)==me.charCodeAt(q);)++q;for(var Ce=nt(j),xe=nt(X),Ie=Math.min(Ce.length-(j.length==1?q:0),xe.length-(X.length==1?q:0));ie<Ie&&Ce.charCodeAt(Ce.length-ie-1)==xe.charCodeAt(xe.length-ie-1);)++ie;if(j.length==1&&X.length==1&&y==c.line)for(;q&&q>c.ch&&Ce.charCodeAt(Ce.length-ie-1)==xe.charCodeAt(xe.length-ie-1);)q--,ie++;j[j.length-1]=Ce.slice(0,Ce.length-ie).replace(/^\u200b+/,""),j[0]=j[0].slice(q).replace(/\u200b+$/,"");var Ue=de(y,q),Oe=de(A,X.length?nt(X).length-ie:0);if(j.length>1||j[0]||He(Ue,Oe))return ja(o.doc,j,Ue,Oe,"+input"),!0},wt.prototype.ensurePolled=function(){this.forceCompositionEnd()},wt.prototype.reset=function(){this.forceCompositionEnd()},wt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},wt.prototype.readFromDOMSoon=function(){var o=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing)if(o.composing.done)o.composing=null;else return;o.updateFromDOM()},80))},wt.prototype.updateFromDOM=function(){var o=this;(this.cm.isReadOnly()||!this.pollContent())&&pr(this.cm,function(){return tr(o.cm)})},wt.prototype.setUneditable=function(o){o.contentEditable="false"},wt.prototype.onKeyPress=function(o){o.charCode==0||this.composing||(o.preventDefault(),this.cm.isReadOnly()||gn(this.cm,gv)(this.cm,String.fromCharCode(o.charCode==null?o.keyCode:o.charCode),0))},wt.prototype.readOnlyChanged=function(o){this.div.contentEditable=String(o!="nocursor")},wt.prototype.onContextMenu=function(){},wt.prototype.resetPosition=function(){},wt.prototype.needsContentAttribute=!0;function ok(o,l){var f=Mm(o,l.line);if(!f||f.hidden)return null;var c=Ne(o.doc,l.line),d=NE(f,c,l.line),g=pe(c,o.doc.direction),y="left";if(g){var x=Re(g,l.ch);y=x%2?"right":"left"}var k=ME(d.map,l.ch,y);return k.offset=k.collapse=="right"?k.end:k.start,k}function aF(o){for(var l=o;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}function Ga(o,l){return l&&(o.bad=!0),o}function lF(o,l,f,c,d){var g="",y=!1,x=o.doc.lineSeparator(),k=!1;function A(q){return function(ie){return ie.id==q}}function F(){y&&(g+=x,k&&(g+=x),y=k=!1)}function j(q){q&&(F(),g+=q)}function X(q){if(q.nodeType==1){var ie=q.getAttribute("cm-text");if(ie){j(ie);return}var ce=q.getAttribute("cm-marker"),me;if(ce){var Ee=o.findMarks(de(c,0),de(d+1,0),A(+ce));Ee.length&&(me=Ee[0].find(0))&&j(Ds(o.doc,me.from,me.to).join(x));return}if(q.getAttribute("contenteditable")=="false")return;var Ce=/^(pre|div|p|li|table|br)$/i.test(q.nodeName);if(!/^br$/i.test(q.nodeName)&&q.textContent.length==0)return;Ce&&F();for(var xe=0;xe<q.childNodes.length;xe++)X(q.childNodes[xe]);/^(pre|p)$/i.test(q.nodeName)&&(k=!0),Ce&&(y=!0)}else q.nodeType==3&&j(q.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;X(l),l!=f;)l=l.nextSibling,k=!1;return g}function Ah(o,l,f){var c;if(l==o.display.lineDiv){if(c=o.display.lineDiv.childNodes[f],!c)return Ga(o.clipPos(de(o.display.viewTo-1)),!0);l=null,f=0}else for(c=l;;c=c.parentNode){if(!c||c==o.display.lineDiv)return null;if(c.parentNode&&c.parentNode==o.display.lineDiv)break}for(var d=0;d<o.display.view.length;d++){var g=o.display.view[d];if(g.node==c)return uF(g,l,f)}}function uF(o,l,f){var c=o.text.firstChild,d=!1;if(!l||!te(c,l))return Ga(de(_t(o.line),0),!0);if(l==c&&(d=!0,l=c.childNodes[f],f=0,!l)){var g=o.rest?nt(o.rest):o.line;return Ga(de(_t(g),g.text.length),d)}var y=l.nodeType==3?l:null,x=l;for(!y&&l.childNodes.length==1&&l.firstChild.nodeType==3&&(y=l.firstChild,f&&(f=y.nodeValue.length));x.parentNode!=c;)x=x.parentNode;var k=o.measure,A=k.maps;function F(me,Ee,Ce){for(var xe=-1;xe<(A?A.length:0);xe++)for(var Ie=xe<0?k.map:A[xe],Ue=0;Ue<Ie.length;Ue+=3){var Oe=Ie[Ue+2];if(Oe==me||Oe==Ee){var et=_t(xe<0?o.line:o.rest[xe]),Tt=Ie[Ue]+Ce;return(Ce<0||Oe!=me)&&(Tt=Ie[Ue+(Ce?1:0)]),de(et,Tt)}}}var j=F(y,x,f);if(j)return Ga(j,d);for(var X=x.nextSibling,q=y?y.nodeValue.length-f:0;X;X=X.nextSibling){if(j=F(X,X.firstChild,0),j)return Ga(de(j.line,j.ch-q),d);q+=X.textContent.length}for(var ie=x.previousSibling,ce=f;ie;ie=ie.previousSibling){if(j=F(ie,ie.firstChild,-1),j)return Ga(de(j.line,j.ch+ce),d);ce+=ie.textContent.length}}var Xt=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new Ct,this.hasSelection=!1,this.composing=null,this.resetting=!1};Xt.prototype.init=function(o){var l=this,f=this,c=this.cm;this.createField(o);var d=this.textarea;o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),C&&(d.style.width="0px"),ne(d,"input",function(){h&&p>=9&&l.hasSelection&&(l.hasSelection=null),f.poll()}),ne(d,"paste",function(y){Xe(c,y)||ek(y,c)||(c.state.pasteIncoming=+new Date,f.fastPoll())});function g(y){if(!Xe(c,y)){if(c.somethingSelected())Dh({lineWise:!1,text:c.getSelections()});else if(c.options.lineWiseCopyCut){var x=nk(c);Dh({lineWise:!0,text:x.text}),y.type=="cut"?c.setSelections(x.ranges,null,on):(f.prevInput="",d.value=x.text.join(`
`),z(d))}else return;y.type=="cut"&&(c.state.cutIncoming=+new Date)}}ne(d,"cut",g),ne(d,"copy",g),ne(o.scroller,"paste",function(y){if(!(qi(o,y)||Xe(c,y))){if(!d.dispatchEvent){c.state.pasteIncoming=+new Date,f.focus();return}var x=new Event("paste");x.clipboardData=y.clipboardData,d.dispatchEvent(x)}}),ne(o.lineSpace,"selectstart",function(y){qi(o,y)||Vt(y)}),ne(d,"compositionstart",function(){var y=c.getCursor("from");f.composing&&f.composing.range.clear(),f.composing={start:y,range:c.markText(y,c.getCursor("to"),{className:"CodeMirror-composing"})}}),ne(d,"compositionend",function(){f.composing&&(f.poll(),f.composing.range.clear(),f.composing=null)})},Xt.prototype.createField=function(o){this.wrapper=rk(),this.textarea=this.wrapper.firstChild;var l=this.cm.options;mv(this.textarea,l.spellcheck,l.autocorrect,l.autocapitalize)},Xt.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},Xt.prototype.prepareSelection=function(){var o=this.cm,l=o.display,f=o.doc,c=KE(o);if(o.options.moveInputWithCursor){var d=ni(o,f.sel.primary().head,"div"),g=l.wrapper.getBoundingClientRect(),y=l.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,d.top+y.top-g.top)),c.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,d.left+y.left-g.left))}return c},Xt.prototype.showSelection=function(o){var l=this.cm,f=l.display;ve(f.cursorDiv,o.cursors),ve(f.selectionDiv,o.selection),o.teTop!=null&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},Xt.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing&&o)){var l=this.cm;if(this.resetting=!0,l.somethingSelected()){this.prevInput="";var f=l.getSelection();this.textarea.value=f,l.state.focused&&z(this.textarea),h&&p>=9&&(this.hasSelection=f)}else o||(this.prevInput=this.textarea.value="",h&&p>=9&&(this.hasSelection=null));this.resetting=!1}},Xt.prototype.getField=function(){return this.textarea},Xt.prototype.supportsTouch=function(){return!1},Xt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!N||ue(Ve(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Xt.prototype.blur=function(){this.textarea.blur()},Xt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Xt.prototype.receivedFocus=function(){this.slowPoll()},Xt.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},Xt.prototype.fastPoll=function(){var o=!1,l=this;l.pollingFast=!0;function f(){var c=l.poll();!c&&!o?(o=!0,l.polling.set(60,f)):(l.pollingFast=!1,l.slowPoll())}l.polling.set(20,f)},Xt.prototype.poll=function(){var o=this,l=this.cm,f=this.textarea,c=this.prevInput;if(this.contextMenuPending||this.resetting||!l.state.focused||lL(f)&&!c&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var d=f.value;if(d==c&&!l.somethingSelected())return!1;if(h&&p>=9&&this.hasSelection===d||O&&/[\uf700-\uf7ff]/.test(d))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var g=d.charCodeAt(0);if(g==8203&&!c&&(c=""),g==8666)return this.reset(),this.cm.execCommand("undo")}for(var y=0,x=Math.min(c.length,d.length);y<x&&c.charCodeAt(y)==d.charCodeAt(y);)++y;return pr(l,function(){gv(l,d.slice(y),c.length-y,null,o.composing?"*compose":null),d.length>1e3||d.indexOf(`
`)>-1?f.value=o.prevInput="":o.prevInput=d,o.composing&&(o.composing.range.clear(),o.composing.range=l.markText(o.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Xt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Xt.prototype.onKeyPress=function(){h&&p>=9&&(this.hasSelection=null),this.fastPoll()},Xt.prototype.onContextMenu=function(o){var l=this,f=l.cm,c=f.display,d=l.textarea;l.contextMenuPending&&l.contextMenuPending();var g=Rs(f,o),y=c.scroller.scrollTop;if(!g||b)return;var x=f.options.resetSelectionOnContextMenu;x&&f.doc.sel.contains(g)==-1&&gn(f,bn)(f.doc,To(g),on);var k=d.style.cssText,A=l.wrapper.style.cssText,F=l.wrapper.offsetParent.getBoundingClientRect();l.wrapper.style.cssText="position: static",d.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(o.clientY-F.top-5)+"px; left: "+(o.clientX-F.left-5)+`px;
      z-index: 1000; background: `+(h?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var j;m&&(j=d.ownerDocument.defaultView.scrollY),c.input.focus(),m&&d.ownerDocument.defaultView.scrollTo(null,j),c.input.reset(),f.somethingSelected()||(d.value=l.prevInput=" "),l.contextMenuPending=q,c.selForContextMenu=f.doc.sel,clearTimeout(c.detectingSelectAll);function X(){if(d.selectionStart!=null){var ce=f.somethingSelected(),me=""+(ce?d.value:"");d.value="",d.value=me,l.prevInput=ce?"":"",d.selectionStart=1,d.selectionEnd=me.length,c.selForContextMenu=f.doc.sel}}function q(){if(l.contextMenuPending==q&&(l.contextMenuPending=!1,l.wrapper.style.cssText=A,d.style.cssText=k,h&&p<9&&c.scrollbars.setScrollTop(c.scroller.scrollTop=y),d.selectionStart!=null)){(!h||h&&p<9)&&X();var ce=0,me=function(){c.selForContextMenu==f.doc.sel&&d.selectionStart==0&&d.selectionEnd>0&&l.prevInput==""?gn(f,Sx)(f):ce++<10?c.detectingSelectAll=setTimeout(me,500):(c.selForContextMenu=null,c.input.reset())};c.detectingSelectAll=setTimeout(me,200)}}if(h&&p>=9&&X(),le){ei(o);var ie=function(){ht(window,"mouseup",ie),setTimeout(q,20)};ne(window,"mouseup",ie)}else setTimeout(q,50)},Xt.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled=o=="nocursor",this.textarea.readOnly=!!o},Xt.prototype.setUneditable=function(){},Xt.prototype.needsContentAttribute=!1;function cF(o,l){if(l=l?Et(l):{},l.value=o.value,!l.tabindex&&o.tabIndex&&(l.tabindex=o.tabIndex),!l.placeholder&&o.placeholder&&(l.placeholder=o.placeholder),l.autofocus==null){var f=ue(Ve(o));l.autofocus=f==o||o.getAttribute("autofocus")!=null&&f==document.body}function c(){o.value=x.getValue()}var d;if(o.form&&(ne(o.form,"submit",c),!l.leaveSubmitMethodAlone)){var g=o.form;d=g.submit;try{var y=g.submit=function(){c(),g.submit=d,g.submit(),g.submit=y}}catch{}}l.finishInit=function(k){k.save=c,k.getTextArea=function(){return o},k.toTextArea=function(){k.toTextArea=isNaN,c(),o.parentNode.removeChild(k.getWrapperElement()),o.style.display="",o.form&&(ht(o.form,"submit",c),!l.leaveSubmitMethodAlone&&typeof o.form.submit=="function"&&(o.form.submit=d))}},o.style.display="none";var x=Pt(function(k){return o.parentNode.insertBefore(k,o.nextSibling)},l);return x}function fF(o){o.off=ht,o.on=ne,o.wheelEventPixels=yN,o.Doc=nr,o.splitLines=ym,o.countColumn=gt,o.findColumn=er,o.isWordChar=G,o.Pass=Ut,o.signal=dt,o.Line=Ra,o.changeEnd=Co,o.scrollbarModel=ex,o.Pos=de,o.cmpPos=He,o.modes=wm,o.mimeModes=ba,o.resolveMode=Yf,o.getMode=Em,o.modeExtensions=Ia,o.extendMode=dL,o.copyState=Cs,o.startState=sE,o.innerMode=xm,o.commands=Nu,o.keyMap=Ki,o.keyName=Vx,o.isModifierKey=Bx,o.lookupKey=Ha,o.normalizeKeyMap=VN,o.StringStream=Zt,o.SharedTextMarker=Ru,o.TextMarker=Ao,o.LineWidget=Iu,o.e_preventDefault=Vt,o.e_stopPropagation=ji,o.e_stop=ei,o.addClass=B,o.contains=te,o.rmClass=se,o.keyNames=bo}nF(Pt),sF(Pt);var hF="iter insert remove copy getEditor constructor".split(" ");for(var bh in nr.prototype)nr.prototype.hasOwnProperty(bh)&&it(hF,bh)<0&&(Pt.prototype[bh]=function(o){return function(){return o.apply(this.doc,arguments)}}(nr.prototype[bh]));return zr(nr),Pt.inputStyles={textarea:Xt,contenteditable:wt},Pt.defineMode=function(o){!Pt.defaults.mode&&o!="null"&&(Pt.defaults.mode=o),fL.apply(this,arguments)},Pt.defineMIME=hL,Pt.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),Pt.defineMIME("text/plain","null"),Pt.defineExtension=function(o,l){Pt.prototype[o]=l},Pt.defineDocExtension=function(o,l){nr.prototype[o]=l},Pt.fromTextArea=cF,fF(Pt),Pt.version="5.65.16",Pt})})(G2);var Br=G2.exports;(function(t,e){(function(n){n(Br)})(function(n){var r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,s=/[*+-]\s/;n.commands.newlineAndIndentContinueMarkdownList=function(u){if(u.getOption("disableInput"))return n.Pass;for(var h=u.listSelections(),p=[],m=0;m<h.length;m++){var v=h[m].head,_=u.getStateAfter(v.line),E=n.innerMode(u.getMode(),_);if(E.mode.name!=="markdown"&&E.mode.helperType!=="markdown"){u.execCommand("newlineAndIndent");return}else _=E.state;var b=_.list!==!1,I=_.quote!==0,P=u.getLine(v.line),T=r.exec(P),C=/^\s*$/.test(P.slice(0,v.ch));if(!h[m].empty()||!b&&!I||!T||C){u.execCommand("newlineAndIndent");return}if(i.test(P)){var D=I&&/>\s*$/.test(P),N=!/>\s*$/.test(P);(D||N)&&u.replaceRange("",{line:v.line,ch:0},{line:v.line,ch:v.ch+1}),p[m]=`
`}else{var O=T[1],L=T[5],M=!(s.test(T[2])||T[2].indexOf(">")>=0),H=M?parseInt(T[3],10)+1+T[4]:T[2].replace("x"," ");p[m]=`
`+O+H+L,M&&a(u,v)}}u.replaceSelections(p)};function a(u,h){var p=h.line,m=0,v=0,_=r.exec(u.getLine(p)),E=_[1];do{m+=1;var b=p+m,I=u.getLine(b),P=r.exec(I);if(P){var T=P[1],C=parseInt(_[3],10)+m-v,D=parseInt(P[3],10),N=D;if(E===T&&!isNaN(D))C===D&&(N=D+1),C>D&&(N=C+1),u.replaceRange(I.replace(r,T+N+P[4]+P[5]),{line:b,ch:0},{line:b,ch:I.length});else{if(E.length>T.length||E.length<T.length&&m===1)return;v+=1}}}while(P)}})})();var K2=Br;K2.commands.tabAndIndentMarkdownList=function(t){var e=t.listSelections(),n=e[0].head,r=t.getStateAfter(n.line),i=r.list!==!1;if(i){t.execCommand("indentMore");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var s=Array(t.options.tabSize+1).join(" ");t.replaceSelection(s)}};K2.commands.shiftTabAndUnindentMarkdownList=function(t){var e=t.listSelections(),n=e[0].head,r=t.getStateAfter(n.line),i=r.list!==!1;if(i){t.execCommand("indentLess");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var s=Array(t.options.tabSize+1).join(" ");t.replaceSelection(s)}};(function(t,e){(function(n){n(Br)})(function(n){n.defineOption("fullScreen",!1,function(s,a,u){u==n.Init&&(u=!1),!u!=!a&&(a?r(s):i(s))});function r(s){var a=s.getWrapperElement();s.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:a.style.width,height:a.style.height},a.style.width="",a.style.height="auto",a.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",s.refresh()}function i(s){var a=s.getWrapperElement();a.className=a.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var u=s.state.fullScreenRestore;a.style.width=u.width,a.style.height=u.height,window.scrollTo(u.scrollLeft,u.scrollTop),s.refresh()}})})();var qW={exports:{}},GW={exports:{}};(function(t,e){(function(n){n(Br)})(function(n){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(s,a){var u=s.indentUnit,h={},p=a.htmlMode?r:i;for(var m in p)h[m]=p[m];for(var m in a)h[m]=a[m];var v,_;function E($,ae){function re(B){return ae.tokenize=B,B($,ae)}var te=$.next();if(te=="<")return $.eat("!")?$.eat("[")?$.match("CDATA[")?re(P("atom","]]>")):null:$.match("--")?re(P("comment","-->")):$.match("DOCTYPE",!0,!0)?($.eatWhile(/[\w\._\-]/),re(T(1))):null:$.eat("?")?($.eatWhile(/[\w\._\-]/),ae.tokenize=P("meta","?>"),"meta"):(v=$.eat("/")?"closeTag":"openTag",ae.tokenize=b,"tag bracket");if(te=="&"){var ue;return $.eat("#")?$.eat("x")?ue=$.eatWhile(/[a-fA-F\d]/)&&$.eat(";"):ue=$.eatWhile(/[\d]/)&&$.eat(";"):ue=$.eatWhile(/[\w\.\-:]/)&&$.eat(";"),ue?"atom":"error"}else return $.eatWhile(/[^&<]/),null}E.isInText=!0;function b($,ae){var re=$.next();if(re==">"||re=="/"&&$.eat(">"))return ae.tokenize=E,v=re==">"?"endTag":"selfcloseTag","tag bracket";if(re=="=")return v="equals",null;if(re=="<"){ae.tokenize=E,ae.state=L,ae.tagName=ae.tagStart=null;var te=ae.tokenize($,ae);return te?te+" tag error":"tag error"}else return/[\'\"]/.test(re)?(ae.tokenize=I(re),ae.stringStartCol=$.column(),ae.tokenize($,ae)):($.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function I($){var ae=function(re,te){for(;!re.eol();)if(re.next()==$){te.tokenize=b;break}return"string"};return ae.isInAttribute=!0,ae}function P($,ae){return function(re,te){for(;!re.eol();){if(re.match(ae)){te.tokenize=E;break}re.next()}return $}}function T($){return function(ae,re){for(var te;(te=ae.next())!=null;){if(te=="<")return re.tokenize=T($+1),re.tokenize(ae,re);if(te==">")if($==1){re.tokenize=E;break}else return re.tokenize=T($-1),re.tokenize(ae,re)}return"meta"}}function C($){return $&&$.toLowerCase()}function D($,ae,re){this.prev=$.context,this.tagName=ae||"",this.indent=$.indented,this.startOfLine=re,(h.doNotIndent.hasOwnProperty(ae)||$.context&&$.context.noIndent)&&(this.noIndent=!0)}function N($){$.context&&($.context=$.context.prev)}function O($,ae){for(var re;;){if(!$.context||(re=$.context.tagName,!h.contextGrabbers.hasOwnProperty(C(re))||!h.contextGrabbers[C(re)].hasOwnProperty(C(ae))))return;N($)}}function L($,ae,re){return $=="openTag"?(re.tagStart=ae.column(),M):$=="closeTag"?H:L}function M($,ae,re){return $=="word"?(re.tagName=ae.current(),_="tag",K):h.allowMissingTagName&&$=="endTag"?(_="tag bracket",K($,ae,re)):(_="error",M)}function H($,ae,re){if($=="word"){var te=ae.current();return re.context&&re.context.tagName!=te&&h.implicitlyClosed.hasOwnProperty(C(re.context.tagName))&&N(re),re.context&&re.context.tagName==te||h.matchClosing===!1?(_="tag",J):(_="tag error",le)}else return h.allowMissingTagName&&$=="endTag"?(_="tag bracket",J($,ae,re)):(_="error",le)}function J($,ae,re){return $!="endTag"?(_="error",J):(N(re),L)}function le($,ae,re){return _="error",J($,ae,re)}function K($,ae,re){if($=="word")return _="attribute",se;if($=="endTag"||$=="selfcloseTag"){var te=re.tagName,ue=re.tagStart;return re.tagName=re.tagStart=null,$=="selfcloseTag"||h.autoSelfClosers.hasOwnProperty(C(te))?O(re,te):(O(re,te),re.context=new D(re,te,ue==re.indented)),L}return _="error",K}function se($,ae,re){return $=="equals"?we:(h.allowMissing||(_="error"),K($,ae,re))}function we($,ae,re){return $=="string"?ve:$=="word"&&h.allowUnquoted?(_="string",K):(_="error",K($,ae,re))}function ve($,ae,re){return $=="string"?ve:K($,ae,re)}return{startState:function($){var ae={tokenize:E,state:L,indented:$||0,tagName:null,tagStart:null,context:null};return $!=null&&(ae.baseIndent=$),ae},token:function($,ae){if(!ae.tagName&&$.sol()&&(ae.indented=$.indentation()),$.eatSpace())return null;v=null;var re=ae.tokenize($,ae);return(re||v)&&re!="comment"&&(_=null,ae.state=ae.state(v||re,$,ae),_&&(re=_=="error"?re+" error":_)),re},indent:function($,ae,re){var te=$.context;if($.tokenize.isInAttribute)return $.tagStart==$.indented?$.stringStartCol+1:$.indented+u;if(te&&te.noIndent)return n.Pass;if($.tokenize!=b&&$.tokenize!=E)return re?re.match(/^(\s*)/)[0].length:0;if($.tagName)return h.multilineTagIndentPastTag!==!1?$.tagStart+$.tagName.length+2:$.tagStart+u*(h.multilineTagIndentFactor||1);if(h.alignCDATA&&/<!\[CDATA\[/.test(ae))return 0;var ue=ae&&/^<(\/)?([\w_:\.-]*)/.exec(ae);if(ue&&ue[1])for(;te;)if(te.tagName==ue[2]){te=te.prev;break}else if(h.implicitlyClosed.hasOwnProperty(C(te.tagName)))te=te.prev;else break;else if(ue)for(;te;){var B=h.contextGrabbers[C(te.tagName)];if(B&&B.hasOwnProperty(C(ue[2])))te=te.prev;else break}for(;te&&te.prev&&!te.startOfLine;)te=te.prev;return te?te.indent+u:$.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:h.htmlMode?"html":"xml",helperType:h.htmlMode?"html":"xml",skipAttribute:function($){$.state==we&&($.state=K)},xmlCurrentTag:function($){return $.tagName?{name:$.tagName,close:$.type=="closeTag"}:null},xmlCurrentContext:function($){for(var ae=[],re=$.context;re;re=re.prev)ae.push(re.tagName);return ae.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var KW=GW.exports,QC={exports:{}},XC;function QW(){return XC||(XC=1,function(t,e){(function(n){n(Br)})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var r=0;r<n.modeInfo.length;r++){var i=n.modeInfo[r];i.mimes&&(i.mime=i.mimes[0])}n.findModeByMIME=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var u=n.modeInfo[a];if(u.mime==s)return u;if(u.mimes){for(var h=0;h<u.mimes.length;h++)if(u.mimes[h]==s)return u}}if(/\+xml$/.test(s))return n.findModeByMIME("application/xml");if(/\+json$/.test(s))return n.findModeByMIME("application/json")},n.findModeByExtension=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var u=n.modeInfo[a];if(u.ext){for(var h=0;h<u.ext.length;h++)if(u.ext[h]==s)return u}}},n.findModeByFileName=function(s){for(var a=0;a<n.modeInfo.length;a++){var u=n.modeInfo[a];if(u.file&&u.file.test(s))return u}var h=s.lastIndexOf("."),p=h>-1&&s.substring(h+1,s.length);if(p)return n.findModeByExtension(p)},n.findModeByName=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var u=n.modeInfo[a];if(u.name.toLowerCase()==s)return u;if(u.alias){for(var h=0;h<u.alias.length;h++)if(u.alias[h].toLowerCase()==s)return u}}}})}()),QC.exports}(function(t,e){(function(n){n(Br,KW,QW())})(function(n){n.defineMode("markdown",function(r,i){var s=n.getMode(r,"text/html"),a=s.name=="null";function u(z){if(n.findModeByName){var w=n.findModeByName(z);w&&(z=w.mime||w.mimes[0])}var ee=n.getMode(r,z);return ee.name=="null"?null:ee}i.highlightFormatting===void 0&&(i.highlightFormatting=!1),i.maxBlockquoteDepth===void 0&&(i.maxBlockquoteDepth=0),i.taskLists===void 0&&(i.taskLists=!1),i.strikethrough===void 0&&(i.strikethrough=!1),i.emoji===void 0&&(i.emoji=!1),i.fencedCodeBlockHighlighting===void 0&&(i.fencedCodeBlockHighlighting=!0),i.fencedCodeBlockDefaultMode===void 0&&(i.fencedCodeBlockDefaultMode="text/plain"),i.xml===void 0&&(i.xml=!0),i.tokenTypeOverrides===void 0&&(i.tokenTypeOverrides={});var h={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var p in h)h.hasOwnProperty(p)&&i.tokenTypeOverrides[p]&&(h[p]=i.tokenTypeOverrides[p]);var m=/^([*\-_])(?:\s*\1){2,}\s*$/,v=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,_=/^\[(x| )\](?=\s)/i,E=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,b=/^ {0,3}(?:\={1,}|-{2,})\s*$/,I=/^[^#!\[\]*_\\<>` "'(~:]+/,P=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,T=/^\s*\[[^\]]+?\]:.*$/,C=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,D="    ";function N(z,w,ee){return w.f=w.inline=ee,ee(z,w)}function O(z,w,ee){return w.f=w.block=ee,ee(z,w)}function L(z){return!z||!/\S/.test(z.string)}function M(z){if(z.linkTitle=!1,z.linkHref=!1,z.linkText=!1,z.em=!1,z.strong=!1,z.strikethrough=!1,z.quote=0,z.indentedCode=!1,z.f==J){var w=a;if(!w){var ee=n.innerMode(s,z.htmlState);w=ee.mode.name=="xml"&&ee.state.tagStart===null&&!ee.state.context&&ee.state.tokenize.isInText}w&&(z.f=we,z.block=H,z.htmlState=null)}return z.trailingSpace=0,z.trailingSpaceNewLine=!1,z.prevLine=z.thisLine,z.thisLine={stream:null},null}function H(z,w){var ee=z.column()===w.indentation,Ve=L(w.prevLine.stream),Te=w.indentedCode,rt=w.prevLine.hr,Et=w.list!==!1,gt=(w.listStack[w.listStack.length-1]||0)+3;w.indentedCode=!1;var Ct=w.indentation;if(w.indentationDiff===null&&(w.indentationDiff=w.indentation,Et)){for(w.list=null;Ct<w.listStack[w.listStack.length-1];)w.listStack.pop(),w.listStack.length?w.indentation=w.listStack[w.listStack.length-1]:w.list=!1;w.list!==!1&&(w.indentationDiff=Ct-w.listStack[w.listStack.length-1])}var it=!Ve&&!rt&&!w.prevLine.header&&(!Et||!Te)&&!w.prevLine.fencedCodeEnd,ft=(w.list===!1||rt||Ve)&&w.indentation<=gt&&z.match(m),Ut=null;if(w.indentationDiff>=4&&(Te||w.prevLine.fencedCodeEnd||w.prevLine.header||Ve))return z.skipToEnd(),w.indentedCode=!0,h.code;if(z.eatSpace())return null;if(ee&&w.indentation<=gt&&(Ut=z.match(E))&&Ut[1].length<=6)return w.quote=0,w.header=Ut[1].length,w.thisLine.header=!0,i.highlightFormatting&&(w.formatting="header"),w.f=w.inline,K(w);if(w.indentation<=gt&&z.eat(">"))return w.quote=ee?1:w.quote+1,i.highlightFormatting&&(w.formatting="quote"),z.eatSpace(),K(w);if(!ft&&!w.setext&&ee&&w.indentation<=gt&&(Ut=z.match(v))){var on=Ut[1]?"ol":"ul";return w.indentation=Ct+z.current().length,w.list=!0,w.quote=0,w.listStack.push(w.indentation),w.em=!1,w.strong=!1,w.code=!1,w.strikethrough=!1,i.taskLists&&z.match(_,!1)&&(w.taskList=!0),w.f=w.inline,i.highlightFormatting&&(w.formatting=["list","list-"+on]),K(w)}else{if(ee&&w.indentation<=gt&&(Ut=z.match(P,!0)))return w.quote=0,w.fencedEndRE=new RegExp(Ut[1]+"+ *$"),w.localMode=i.fencedCodeBlockHighlighting&&u(Ut[2]||i.fencedCodeBlockDefaultMode),w.localMode&&(w.localState=n.startState(w.localMode)),w.f=w.block=le,i.highlightFormatting&&(w.formatting="code-block"),w.code=-1,K(w);if(w.setext||(!it||!Et)&&!w.quote&&w.list===!1&&!w.code&&!ft&&!T.test(z.string)&&(Ut=z.lookAhead(1))&&(Ut=Ut.match(b)))return w.setext?(w.header=w.setext,w.setext=0,z.skipToEnd(),i.highlightFormatting&&(w.formatting="header")):(w.header=Ut[0].charAt(0)=="="?1:2,w.setext=w.header),w.thisLine.header=!0,w.f=w.inline,K(w);if(ft)return z.skipToEnd(),w.hr=!0,w.thisLine.hr=!0,h.hr;if(z.peek()==="[")return N(z,w,te)}return N(z,w,w.inline)}function J(z,w){var ee=s.token(z,w.htmlState);if(!a){var Ve=n.innerMode(s,w.htmlState);(Ve.mode.name=="xml"&&Ve.state.tagStart===null&&!Ve.state.context&&Ve.state.tokenize.isInText||w.md_inside&&z.current().indexOf(">")>-1)&&(w.f=we,w.block=H,w.htmlState=null)}return ee}function le(z,w){var ee=w.listStack[w.listStack.length-1]||0,Ve=w.indentation<ee,Te=ee+3;if(w.fencedEndRE&&w.indentation<=Te&&(Ve||z.match(w.fencedEndRE))){i.highlightFormatting&&(w.formatting="code-block");var rt;return Ve||(rt=K(w)),w.localMode=w.localState=null,w.block=H,w.f=we,w.fencedEndRE=null,w.code=0,w.thisLine.fencedCodeEnd=!0,Ve?O(z,w,w.block):rt}else return w.localMode?w.localMode.token(z,w.localState):(z.skipToEnd(),h.code)}function K(z){var w=[];if(z.formatting){w.push(h.formatting),typeof z.formatting=="string"&&(z.formatting=[z.formatting]);for(var ee=0;ee<z.formatting.length;ee++)w.push(h.formatting+"-"+z.formatting[ee]),z.formatting[ee]==="header"&&w.push(h.formatting+"-"+z.formatting[ee]+"-"+z.header),z.formatting[ee]==="quote"&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=z.quote?w.push(h.formatting+"-"+z.formatting[ee]+"-"+z.quote):w.push("error"))}if(z.taskOpen)return w.push("meta"),w.length?w.join(" "):null;if(z.taskClosed)return w.push("property"),w.length?w.join(" "):null;if(z.linkHref?w.push(h.linkHref,"url"):(z.strong&&w.push(h.strong),z.em&&w.push(h.em),z.strikethrough&&w.push(h.strikethrough),z.emoji&&w.push(h.emoji),z.linkText&&w.push(h.linkText),z.code&&w.push(h.code),z.image&&w.push(h.image),z.imageAltText&&w.push(h.imageAltText,"link"),z.imageMarker&&w.push(h.imageMarker)),z.header&&w.push(h.header,h.header+"-"+z.header),z.quote&&(w.push(h.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=z.quote?w.push(h.quote+"-"+z.quote):w.push(h.quote+"-"+i.maxBlockquoteDepth)),z.list!==!1){var Ve=(z.listStack.length-1)%3;Ve?Ve===1?w.push(h.list2):w.push(h.list3):w.push(h.list1)}return z.trailingSpaceNewLine?w.push("trailing-space-new-line"):z.trailingSpace&&w.push("trailing-space-"+(z.trailingSpace%2?"a":"b")),w.length?w.join(" "):null}function se(z,w){if(z.match(I,!0))return K(w)}function we(z,w){var ee=w.text(z,w);if(typeof ee<"u")return ee;if(w.list)return w.list=null,K(w);if(w.taskList){var Ve=z.match(_,!0)[1]===" ";return Ve?w.taskOpen=!0:w.taskClosed=!0,i.highlightFormatting&&(w.formatting="task"),w.taskList=!1,K(w)}if(w.taskOpen=!1,w.taskClosed=!1,w.header&&z.match(/^#+$/,!0))return i.highlightFormatting&&(w.formatting="header"),K(w);var Te=z.next();if(w.linkTitle){w.linkTitle=!1;var rt=Te;Te==="("&&(rt=")"),rt=(rt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Et="^\\s*(?:[^"+rt+"\\\\]+|\\\\\\\\|\\\\.)"+rt;if(z.match(new RegExp(Et),!0))return h.linkHref}if(Te==="`"){var gt=w.formatting;i.highlightFormatting&&(w.formatting="code"),z.eatWhile("`");var Ct=z.current().length;if(w.code==0&&(!w.quote||Ct==1))return w.code=Ct,K(w);if(Ct==w.code){var it=K(w);return w.code=0,it}else return w.formatting=gt,K(w)}else if(w.code)return K(w);if(Te==="\\"&&(z.next(),i.highlightFormatting)){var ft=K(w),Ut=h.formatting+"-escape";return ft?ft+" "+Ut:Ut}if(Te==="!"&&z.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return w.imageMarker=!0,w.image=!0,i.highlightFormatting&&(w.formatting="image"),K(w);if(Te==="["&&w.imageMarker&&z.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return w.imageMarker=!1,w.imageAltText=!0,i.highlightFormatting&&(w.formatting="image"),K(w);if(Te==="]"&&w.imageAltText){i.highlightFormatting&&(w.formatting="image");var ft=K(w);return w.imageAltText=!1,w.image=!1,w.inline=w.f=$,ft}if(Te==="["&&!w.image)return w.linkText&&z.match(/^.*?\]/)||(w.linkText=!0,i.highlightFormatting&&(w.formatting="link")),K(w);if(Te==="]"&&w.linkText){i.highlightFormatting&&(w.formatting="link");var ft=K(w);return w.linkText=!1,w.inline=w.f=z.match(/\(.*?\)| ?\[.*?\]/,!1)?$:we,ft}if(Te==="<"&&z.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){w.f=w.inline=ve,i.highlightFormatting&&(w.formatting="link");var ft=K(w);return ft?ft+=" ":ft="",ft+h.linkInline}if(Te==="<"&&z.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){w.f=w.inline=ve,i.highlightFormatting&&(w.formatting="link");var ft=K(w);return ft?ft+=" ":ft="",ft+h.linkEmail}if(i.xml&&Te==="<"&&z.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var on=z.string.indexOf(">",z.pos);if(on!=-1){var Fe=z.string.substring(z.start,on);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Fe)&&(w.md_inside=!0)}return z.backUp(1),w.htmlState=n.startState(s),O(z,w,J)}if(i.xml&&Te==="<"&&z.match(/^\/\w*?>/))return w.md_inside=!1,"tag";if(Te==="*"||Te==="_"){for(var Zn=1,er=z.pos==1?" ":z.string.charAt(z.pos-2);Zn<3&&z.eat(Te);)Zn++;var Un=z.peek()||" ",Ur=!/\s/.test(Un)&&(!C.test(Un)||/\s/.test(er)||C.test(er)),nt=!/\s/.test(er)&&(!C.test(er)||/\s/.test(Un)||C.test(Un)),Vn=null,Vr=null;if(Zn%2&&(!w.em&&Ur&&(Te==="*"||!nt||C.test(er))?Vn=!0:w.em==Te&&nt&&(Te==="*"||!Ur||C.test(Un))&&(Vn=!1)),Zn>1&&(!w.strong&&Ur&&(Te==="*"||!nt||C.test(er))?Vr=!0:w.strong==Te&&nt&&(Te==="*"||!Ur||C.test(Un))&&(Vr=!1)),Vr!=null||Vn!=null){i.highlightFormatting&&(w.formatting=Vn==null?"strong":Vr==null?"em":"strong em"),Vn===!0&&(w.em=Te),Vr===!0&&(w.strong=Te);var it=K(w);return Vn===!1&&(w.em=!1),Vr===!1&&(w.strong=!1),it}}else if(Te===" "&&(z.eat("*")||z.eat("_"))){if(z.peek()===" ")return K(w);z.backUp(1)}if(i.strikethrough){if(Te==="~"&&z.eatWhile(Te)){if(w.strikethrough){i.highlightFormatting&&(w.formatting="strikethrough");var it=K(w);return w.strikethrough=!1,it}else if(z.match(/^[^\s]/,!1))return w.strikethrough=!0,i.highlightFormatting&&(w.formatting="strikethrough"),K(w)}else if(Te===" "&&z.match("~~",!0)){if(z.peek()===" ")return K(w);z.backUp(2)}}if(i.emoji&&Te===":"&&z.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){w.emoji=!0,i.highlightFormatting&&(w.formatting="emoji");var wo=K(w);return w.emoji=!1,wo}return Te===" "&&(z.match(/^ +$/,!1)?w.trailingSpace++:w.trailingSpace&&(w.trailingSpaceNewLine=!0)),K(w)}function ve(z,w){var ee=z.next();if(ee===">"){w.f=w.inline=we,i.highlightFormatting&&(w.formatting="link");var Ve=K(w);return Ve?Ve+=" ":Ve="",Ve+h.linkInline}return z.match(/^[^>]+/,!0),h.linkInline}function $(z,w){if(z.eatSpace())return null;var ee=z.next();return ee==="("||ee==="["?(w.f=w.inline=re(ee==="("?")":"]"),i.highlightFormatting&&(w.formatting="link-string"),w.linkHref=!0,K(w)):"error"}var ae={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function re(z){return function(w,ee){var Ve=w.next();if(Ve===z){ee.f=ee.inline=we,i.highlightFormatting&&(ee.formatting="link-string");var Te=K(ee);return ee.linkHref=!1,Te}return w.match(ae[z]),ee.linkHref=!0,K(ee)}}function te(z,w){return z.match(/^([^\]\\]|\\.)*\]:/,!1)?(w.f=ue,z.next(),i.highlightFormatting&&(w.formatting="link"),w.linkText=!0,K(w)):N(z,w,we)}function ue(z,w){if(z.match("]:",!0)){w.f=w.inline=B,i.highlightFormatting&&(w.formatting="link");var ee=K(w);return w.linkText=!1,ee}return z.match(/^([^\]\\]|\\.)+/,!0),h.linkText}function B(z,w){return z.eatSpace()?null:(z.match(/^[^\s]+/,!0),z.peek()===void 0?w.linkTitle=!0:z.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),w.f=w.inline=we,h.linkHref+" url")}var je={startState:function(){return{f:H,prevLine:{stream:null},thisLine:{stream:null},block:H,htmlState:null,indentation:0,inline:we,text:se,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(z){return{f:z.f,prevLine:z.prevLine,thisLine:z.thisLine,block:z.block,htmlState:z.htmlState&&n.copyState(s,z.htmlState),indentation:z.indentation,localMode:z.localMode,localState:z.localMode?n.copyState(z.localMode,z.localState):null,inline:z.inline,text:z.text,formatting:!1,linkText:z.linkText,linkTitle:z.linkTitle,linkHref:z.linkHref,code:z.code,em:z.em,strong:z.strong,strikethrough:z.strikethrough,emoji:z.emoji,header:z.header,setext:z.setext,hr:z.hr,taskList:z.taskList,list:z.list,listStack:z.listStack.slice(0),quote:z.quote,indentedCode:z.indentedCode,trailingSpace:z.trailingSpace,trailingSpaceNewLine:z.trailingSpaceNewLine,md_inside:z.md_inside,fencedEndRE:z.fencedEndRE}},token:function(z,w){if(w.formatting=!1,z!=w.thisLine.stream){if(w.header=0,w.hr=!1,z.match(/^\s*$/,!0))return M(w),null;if(w.prevLine=w.thisLine,w.thisLine={stream:z},w.taskList=!1,w.trailingSpace=0,w.trailingSpaceNewLine=!1,!w.localState&&(w.f=w.block,w.f!=J)){var ee=z.match(/^\s*/,!0)[0].replace(/\t/g,D).length;if(w.indentation=ee,w.indentationDiff=null,ee>0)return null}}return w.f(z,w)},innerMode:function(z){return z.block==J?{state:z.htmlState,mode:s}:z.localState?{state:z.localState,mode:z.localMode}:{state:z,mode:je}},indent:function(z,w,ee){return z.block==J&&s.indent?s.indent(z.htmlState,w,ee):z.localState&&z.localMode.indent?z.localMode.indent(z.localState,w,ee):n.Pass},blankLine:M,getType:K,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return je},"xml"),n.defineMIME("text/markdown","markdown"),n.defineMIME("text/x-markdown","markdown")})})();var XW=qW.exports,YW={exports:{}};(function(t,e){(function(n){n(Br)})(function(n){n.overlayMode=function(r,i,s){return{startState:function(){return{base:n.startState(r),overlay:n.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(a){return{base:n.copyState(r,a.base),overlay:n.copyState(i,a.overlay),basePos:a.basePos,baseCur:null,overlayPos:a.overlayPos,overlayCur:null}},token:function(a,u){return(a!=u.streamSeen||Math.min(u.basePos,u.overlayPos)<a.start)&&(u.streamSeen=a,u.basePos=u.overlayPos=a.start),a.start==u.basePos&&(u.baseCur=r.token(a,u.base),u.basePos=a.pos),a.start==u.overlayPos&&(a.pos=a.start,u.overlayCur=i.token(a,u.overlay),u.overlayPos=a.pos),a.pos=Math.min(u.basePos,u.overlayPos),u.overlayCur==null?u.baseCur:u.baseCur!=null&&u.overlay.combineTokens||s&&u.overlay.combineTokens==null?u.baseCur+" "+u.overlayCur:u.overlayCur},indent:r.indent&&function(a,u,h){return r.indent(a.base,u,h)},electricChars:r.electricChars,innerMode:function(a){return{state:a.base,mode:r}},blankLine:function(a){var u,h;return r.blankLine&&(u=r.blankLine(a.base)),i.blankLine&&(h=i.blankLine(a.overlay)),h==null?u:s&&u!=null?u+" "+h:h}}}})})();var JW=YW.exports;(function(t,e){(function(n){n(Br)})(function(n){n.defineOption("placeholder","",function(p,m,v){var _=v&&v!=n.Init;if(m&&!_)p.on("blur",a),p.on("change",u),p.on("swapDoc",u),n.on(p.getInputField(),"compositionupdate",p.state.placeholderCompose=function(){s(p)}),u(p);else if(!m&&_){p.off("blur",a),p.off("change",u),p.off("swapDoc",u),n.off(p.getInputField(),"compositionupdate",p.state.placeholderCompose),r(p);var E=p.getWrapperElement();E.className=E.className.replace(" CodeMirror-empty","")}m&&!p.hasFocus()&&a(p)});function r(p){p.state.placeholder&&(p.state.placeholder.parentNode.removeChild(p.state.placeholder),p.state.placeholder=null)}function i(p){r(p);var m=p.state.placeholder=document.createElement("pre");m.style.cssText="height: 0; overflow: visible",m.style.direction=p.getOption("direction"),m.className="CodeMirror-placeholder CodeMirror-line-like";var v=p.getOption("placeholder");typeof v=="string"&&(v=document.createTextNode(v)),m.appendChild(v),p.display.lineSpace.insertBefore(m,p.display.lineSpace.firstChild)}function s(p){setTimeout(function(){var m=!1;if(p.lineCount()==1){var v=p.getInputField();m=v.nodeName=="TEXTAREA"?!p.getLine(0).length:!/[^\u200b]/.test(v.querySelector(".CodeMirror-line").textContent)}m?i(p):r(p)},20)}function a(p){h(p)&&i(p)}function u(p){var m=p.getWrapperElement(),v=h(p);m.className=m.className.replace(" CodeMirror-empty","")+(v?" CodeMirror-empty":""),v?i(p):r(p)}function h(p){return p.lineCount()===1&&p.getLine(0)===""}})})();(function(t,e){(function(n){n(Br)})(function(n){n.defineOption("autoRefresh",!1,function(s,a){s.state.autoRefresh&&(i(s,s.state.autoRefresh),s.state.autoRefresh=null),a&&s.display.wrapper.offsetHeight==0&&r(s,s.state.autoRefresh={delay:a.delay||250})});function r(s,a){function u(){s.display.wrapper.offsetHeight?(i(s,a),s.display.lastWrapHeight!=s.display.wrapper.clientHeight&&s.refresh()):a.timeout=setTimeout(u,a.delay)}a.timeout=setTimeout(u,a.delay),a.hurry=function(){clearTimeout(a.timeout),a.timeout=setTimeout(u,50)},n.on(window,"mouseup",a.hurry),n.on(window,"keyup",a.hurry)}function i(s,a){clearTimeout(a.timeout),n.off(window,"mouseup",a.hurry),n.off(window,"keyup",a.hurry)}})})();(function(t,e){(function(n){n(Br)})(function(n){n.defineOption("styleSelectedText",!1,function(_,E,b){var I=b&&b!=n.Init;E&&!I?(_.state.markedSelection=[],_.state.markedSelectionStyle=typeof E=="string"?E:"CodeMirror-selectedtext",m(_),_.on("cursorActivity",r),_.on("change",i)):!E&&I&&(_.off("cursorActivity",r),_.off("change",i),p(_),_.state.markedSelection=_.state.markedSelectionStyle=null)});function r(_){_.state.markedSelection&&_.operation(function(){v(_)})}function i(_){_.state.markedSelection&&_.state.markedSelection.length&&_.operation(function(){p(_)})}var s=8,a=n.Pos,u=n.cmpPos;function h(_,E,b,I){if(u(E,b)!=0)for(var P=_.state.markedSelection,T=_.state.markedSelectionStyle,C=E.line;;){var D=C==E.line?E:a(C,0),N=C+s,O=N>=b.line,L=O?b:a(N,0),M=_.markText(D,L,{className:T});if(I==null?P.push(M):P.splice(I++,0,M),O)break;C=N}}function p(_){for(var E=_.state.markedSelection,b=0;b<E.length;++b)E[b].clear();E.length=0}function m(_){p(_);for(var E=_.listSelections(),b=0;b<E.length;b++)h(_,E[b].from(),E[b].to())}function v(_){if(!_.somethingSelected())return p(_);if(_.listSelections().length>1)return m(_);var E=_.getCursor("start"),b=_.getCursor("end"),I=_.state.markedSelection;if(!I.length)return h(_,E,b);var P=I[0].find(),T=I[I.length-1].find();if(!P||!T||b.line-E.line<=s||u(E,T.to)>=0||u(b,P.from)<=0)return m(_);for(;u(E,P.from)>0;)I.shift().clear(),P=I[0].find();for(u(E,P.from)<0&&(P.to.line-E.line<s?(I.shift().clear(),h(_,E,P.to,0)):h(_,E,P.from,0));u(b,T.to)<0;)I.pop().clear(),T=I[I.length-1].find();u(b,T.to)>0&&(b.line-T.from.line<s?(I.pop().clear(),h(_,T.from,b)):h(_,T.to,b))}})})();(function(t,e){(function(n){n(Br)})(function(n){var r=n.Pos;function i(C){var D=C.flags;return D??(C.ignoreCase?"i":"")+(C.global?"g":"")+(C.multiline?"m":"")}function s(C,D){for(var N=i(C),O=N,L=0;L<D.length;L++)O.indexOf(D.charAt(L))==-1&&(O+=D.charAt(L));return N==O?C:new RegExp(C.source,O)}function a(C){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(C.source)}function u(C,D,N){D=s(D,"g");for(var O=N.line,L=N.ch,M=C.lastLine();O<=M;O++,L=0){D.lastIndex=L;var H=C.getLine(O),J=D.exec(H);if(J)return{from:r(O,J.index),to:r(O,J.index+J[0].length),match:J}}}function h(C,D,N){if(!a(D))return u(C,D,N);D=s(D,"gm");for(var O,L=1,M=N.line,H=C.lastLine();M<=H;){for(var J=0;J<L&&!(M>H);J++){var le=C.getLine(M++);O=O==null?le:O+`
`+le}L=L*2,D.lastIndex=N.ch;var K=D.exec(O);if(K){var se=O.slice(0,K.index).split(`
`),we=K[0].split(`
`),ve=N.line+se.length-1,$=se[se.length-1].length;return{from:r(ve,$),to:r(ve+we.length-1,we.length==1?$+we[0].length:we[we.length-1].length),match:K}}}}function p(C,D,N){for(var O,L=0;L<=C.length;){D.lastIndex=L;var M=D.exec(C);if(!M)break;var H=M.index+M[0].length;if(H>C.length-N)break;(!O||H>O.index+O[0].length)&&(O=M),L=M.index+1}return O}function m(C,D,N){D=s(D,"g");for(var O=N.line,L=N.ch,M=C.firstLine();O>=M;O--,L=-1){var H=C.getLine(O),J=p(H,D,L<0?0:H.length-L);if(J)return{from:r(O,J.index),to:r(O,J.index+J[0].length),match:J}}}function v(C,D,N){if(!a(D))return m(C,D,N);D=s(D,"gm");for(var O,L=1,M=C.getLine(N.line).length-N.ch,H=N.line,J=C.firstLine();H>=J;){for(var le=0;le<L&&H>=J;le++){var K=C.getLine(H--);O=O==null?K:K+`
`+O}L*=2;var se=p(O,D,M);if(se){var we=O.slice(0,se.index).split(`
`),ve=se[0].split(`
`),$=H+we.length,ae=we[we.length-1].length;return{from:r($,ae),to:r($+ve.length-1,ve.length==1?ae+ve[0].length:ve[ve.length-1].length),match:se}}}}var _,E;String.prototype.normalize?(_=function(C){return C.normalize("NFD").toLowerCase()},E=function(C){return C.normalize("NFD")}):(_=function(C){return C.toLowerCase()},E=function(C){return C});function b(C,D,N,O){if(C.length==D.length)return N;for(var L=0,M=N+Math.max(0,C.length-D.length);;){if(L==M)return L;var H=L+M>>1,J=O(C.slice(0,H)).length;if(J==N)return H;J>N?M=H:L=H+1}}function I(C,D,N,O){if(!D.length)return null;var L=O?_:E,M=L(D).split(/\r|\n\r?/);e:for(var H=N.line,J=N.ch,le=C.lastLine()+1-M.length;H<=le;H++,J=0){var K=C.getLine(H).slice(J),se=L(K);if(M.length==1){var we=se.indexOf(M[0]);if(we==-1)continue e;var N=b(K,se,we,L)+J;return{from:r(H,b(K,se,we,L)+J),to:r(H,b(K,se,we+M[0].length,L)+J)}}else{var ve=se.length-M[0].length;if(se.slice(ve)!=M[0])continue e;for(var $=1;$<M.length-1;$++)if(L(C.getLine(H+$))!=M[$])continue e;var ae=C.getLine(H+M.length-1),re=L(ae),te=M[M.length-1];if(re.slice(0,te.length)!=te)continue e;return{from:r(H,b(K,se,ve,L)+J),to:r(H+M.length-1,b(ae,re,te.length,L))}}}}function P(C,D,N,O){if(!D.length)return null;var L=O?_:E,M=L(D).split(/\r|\n\r?/);e:for(var H=N.line,J=N.ch,le=C.firstLine()-1+M.length;H>=le;H--,J=-1){var K=C.getLine(H);J>-1&&(K=K.slice(0,J));var se=L(K);if(M.length==1){var we=se.lastIndexOf(M[0]);if(we==-1)continue e;return{from:r(H,b(K,se,we,L)),to:r(H,b(K,se,we+M[0].length,L))}}else{var ve=M[M.length-1];if(se.slice(0,ve.length)!=ve)continue e;for(var $=1,N=H-M.length+1;$<M.length-1;$++)if(L(C.getLine(N+$))!=M[$])continue e;var ae=C.getLine(H+1-M.length),re=L(ae);if(re.slice(re.length-M[0].length)!=M[0])continue e;return{from:r(H+1-M.length,b(ae,re,ae.length-M[0].length,L)),to:r(H,b(K,se,ve.length,L))}}}}function T(C,D,N,O){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=C,N=N?C.clipPos(N):r(0,0),this.pos={from:N,to:N};var L;typeof O=="object"?L=O.caseFold:(L=O,O=null),typeof D=="string"?(L==null&&(L=!1),this.matches=function(M,H){return(M?P:I)(C,D,H,L)}):(D=s(D,"gm"),!O||O.multiline!==!1?this.matches=function(M,H){return(M?v:h)(C,D,H)}:this.matches=function(M,H){return(M?m:u)(C,D,H)})}T.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(C){var D=this.doc.clipPos(C?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(D=r(D.line,D.ch),C?(D.ch--,D.ch<0&&(D.line--,D.ch=(this.doc.getLine(D.line)||"").length)):(D.ch++,D.ch>(this.doc.getLine(D.line)||"").length&&(D.ch=0,D.line++)),n.cmpPos(D,this.doc.clipPos(D))!=0))return this.atOccurrence=!1;var N=this.matches(C,D);if(this.afterEmptyMatch=N&&n.cmpPos(N.from,N.to)==0,N)return this.pos=N,this.atOccurrence=!0,this.pos.match||!0;var O=r(C?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:O,to:O},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(C,D){if(this.atOccurrence){var N=n.splitLines(C);this.doc.replaceRange(N,this.pos.from,this.pos.to,D),this.pos.to=r(this.pos.from.line+N.length-1,N[N.length-1].length+(N.length==1?this.pos.from.ch:0))}}},n.defineExtension("getSearchCursor",function(C,D,N){return new T(this.doc,C,D,N)}),n.defineDocExtension("getSearchCursor",function(C,D,N){return new T(this,C,D,N)}),n.defineExtension("selectMatches",function(C,D){for(var N=[],O=this.getSearchCursor(C,this.getCursor("from"),D);O.findNext()&&!(n.cmpPos(O.to(),this.getCursor("to"))>0);)N.push({anchor:O.from(),head:O.to()});N.length&&this.setSelections(N,0)})})})();(function(t,e){(function(n){n(Br,XW,JW)})(function(n){var r=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;n.defineMode("gfm",function(i,s){var a=0;function u(v){return v.code=!1,null}var h={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(v){return{code:v.code,codeBlock:v.codeBlock,ateSpace:v.ateSpace}},token:function(v,_){if(_.combineTokens=null,_.codeBlock)return v.match(/^```+/)?(_.codeBlock=!1,null):(v.skipToEnd(),null);if(v.sol()&&(_.code=!1),v.sol()&&v.match(/^```+/))return v.skipToEnd(),_.codeBlock=!0,null;if(v.peek()==="`"){v.next();var E=v.pos;v.eatWhile("`");var b=1+v.pos-E;return _.code?b===a&&(_.code=!1):(a=b,_.code=!0),null}else if(_.code)return v.next(),null;if(v.eatSpace())return _.ateSpace=!0,null;if((v.sol()||_.ateSpace)&&(_.ateSpace=!1,s.gitHubSpice!==!1)){if(v.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return _.combineTokens=!0,"link";if(v.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return _.combineTokens=!0,"link"}return v.match(r)&&v.string.slice(v.start-2,v.start)!="]("&&(v.start==0||/\W/.test(v.string.charAt(v.start-1)))?(_.combineTokens=!0,"link"):(v.next(),null)},blankLine:u},p={taskLists:!0,strikethrough:!0,emoji:!0};for(var m in s)p[m]=s[m];return p.name="markdown",n.overlayMode(n.getMode(i,p),h)},"markdown"),n.defineMIME("text/x-gfm","gfm")})})();function ZW(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Q2={exports:{}};const eq={},tq=Object.freeze(Object.defineProperty({__proto__:null,default:eq},Symbol.toStringTag,{value:"Module"})),nq=gF(tq);(function(t){var e;(function(){e=function(n,r,i,s){s=s||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=s.flags||{},this.memoized={},this.loaded=!1;var a=this,u,h,p,m,v;n&&(a.dictionary=n,r&&i?I():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(s.dictionaryPath?u=s.dictionaryPath:u="typo/dictionaries",r||_(chrome.extension.getURL(u+"/"+n+"/"+n+".aff"),E),i||_(chrome.extension.getURL(u+"/"+n+"/"+n+".dic"),b)):(s.dictionaryPath?u=s.dictionaryPath:typeof __dirname<"u"?u=__dirname+"/dictionaries":u="./dictionaries",r||_(u+"/"+n+"/"+n+".aff",E),i||_(u+"/"+n+"/"+n+".dic",b)));function _(P,T){var C=a._readFile(P,null,s.asyncLoad);s.asyncLoad?C.then(function(D){T(D)}):T(C)}function E(P){r=P,i&&I()}function b(P){i=P,r&&I()}function I(){for(a.rules=a._parseAFF(r),a.compoundRuleCodes={},h=0,m=a.compoundRules.length;h<m;h++){var P=a.compoundRules[h];for(p=0,v=P.length;p<v;p++)a.compoundRuleCodes[P[p]]=[]}"ONLYINCOMPOUND"in a.flags&&(a.compoundRuleCodes[a.flags.ONLYINCOMPOUND]=[]),a.dictionaryTable=a._parseDIC(i);for(h in a.compoundRuleCodes)a.compoundRuleCodes[h].length===0&&delete a.compoundRuleCodes[h];for(h=0,m=a.compoundRules.length;h<m;h++){var T=a.compoundRules[h],C="";for(p=0,v=T.length;p<v;p++){var D=T[p];D in a.compoundRuleCodes?C+="("+a.compoundRuleCodes[D].join("|")+")":C+=D}a.compoundRules[h]=new RegExp(C,"i")}a.loaded=!0,s.asyncLoad&&s.loadedCallback&&s.loadedCallback(a)}return this},e.prototype={load:function(n){for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);return this},_readFile:function(n,r,i){if(r=r||"utf8",typeof XMLHttpRequest<"u"){var s,a=new XMLHttpRequest;return a.open("GET",n,i),i&&(s=new Promise(function(h,p){a.onload=function(){a.status===200?h(a.responseText):p(a.statusText)},a.onerror=function(){p(a.statusText)}})),a.overrideMimeType&&a.overrideMimeType("text/plain; charset="+r),a.send(null),i?s:a.responseText}else if(typeof ZW<"u"){var u=nq;try{if(u.existsSync(n))return u.readFileSync(n,r);console.log("Path "+n+" does not exist.")}catch(h){return console.log(h),""}}},_parseAFF:function(n){var r={},i,s,a,u,h,p,m,v,_=n.split(/\r?\n/);for(h=0,m=_.length;h<m;h++)if(i=this._removeAffixComments(_[h]),i=i.trim(),!!i){var E=i.split(/\s+/),b=E[0];if(b=="PFX"||b=="SFX"){var I=E[1],P=E[2];a=parseInt(E[3],10);var T=[];for(p=h+1,v=h+1+a;p<v;p++){s=_[p],u=s.split(/\s+/);var C=u[2],D=u[3].split("/"),N=D[0];N==="0"&&(N="");var O=this.parseRuleCodes(D[1]),L=u[4],M={};M.add=N,O.length>0&&(M.continuationClasses=O),L!=="."&&(b==="SFX"?M.match=new RegExp(L+"$"):M.match=new RegExp("^"+L)),C!="0"&&(b==="SFX"?M.remove=new RegExp(C+"$"):M.remove=C),T.push(M)}r[I]={type:b,combineable:P=="Y",entries:T},h+=a}else if(b==="COMPOUNDRULE"){for(a=parseInt(E[1],10),p=h+1,v=h+1+a;p<v;p++)i=_[p],u=i.split(/\s+/),this.compoundRules.push(u[1]);h+=a}else b==="REP"?(u=i.split(/\s+/),u.length===3&&this.replacementTable.push([u[1],u[2]])):this.flags[b]=E[1]}return r},_removeAffixComments:function(n){return n.match(/^\s*#/,"")?"":n},_parseDIC:function(n){n=this._removeDicComments(n);var r=n.split(/\r?\n/),i={};function s(K,se){i.hasOwnProperty(K)||(i[K]=null),se.length>0&&(i[K]===null&&(i[K]=[]),i[K].push(se))}for(var a=1,u=r.length;a<u;a++){var h=r[a];if(h){var p=h.split("/",2),m=p[0];if(p.length>1){var v=this.parseRuleCodes(p[1]);(!("NEEDAFFIX"in this.flags)||v.indexOf(this.flags.NEEDAFFIX)==-1)&&s(m,v);for(var _=0,E=v.length;_<E;_++){var b=v[_],I=this.rules[b];if(I)for(var P=this._applyRule(m,I),T=0,C=P.length;T<C;T++){var D=P[T];if(s(D,[]),I.combineable)for(var N=_+1;N<E;N++){var O=v[N],L=this.rules[O];if(L&&L.combineable&&I.type!=L.type)for(var M=this._applyRule(D,L),H=0,J=M.length;H<J;H++){var le=M[H];s(le,[])}}}b in this.compoundRuleCodes&&this.compoundRuleCodes[b].push(m)}}else s(m.trim(),[])}}return i},_removeDicComments:function(n){return n=n.replace(/^\t.*$/mg,""),n},parseRuleCodes:function(n){if(n)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var r=[],i=0,s=n.length;i<s;i+=2)r.push(n.substr(i,2));return r}else return this.flags.FLAG==="num"?n.split(","):this.flags.FLAG==="UTF-8"?Array.from(n):n.split("");else return n.split("");else return[]},_applyRule:function(n,r){for(var i=r.entries,s=[],a=0,u=i.length;a<u;a++){var h=i[a];if(!h.match||n.match(h.match)){var p=n;if(h.remove&&(p=p.replace(h.remove,"")),r.type==="SFX"?p=p+h.add:p=h.add+p,s.push(p),"continuationClasses"in h)for(var m=0,v=h.continuationClasses.length;m<v;m++){var _=this.rules[h.continuationClasses[m]];_&&(s=s.concat(this._applyRule(p,_)))}}}return s},check:function(n){if(!this.loaded)throw"Dictionary not loaded.";if(!n)return!1;var r=n.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(r))return!0;if(r.toUpperCase()===r){var i=r[0]+r.substring(1).toLowerCase();if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i)||this.checkExact(r.toLowerCase()))return!0}var s=r[0].toLowerCase()+r.substring(1);if(s!==r){if(this.hasFlag(s,"KEEPCASE"))return!1;if(this.checkExact(s))return!0}return!1},checkExact:function(n){if(!this.loaded)throw"Dictionary not loaded.";var r=this.dictionaryTable[n],i,s;if(typeof r>"u"){if("COMPOUNDMIN"in this.flags&&n.length>=this.flags.COMPOUNDMIN){for(i=0,s=this.compoundRules.length;i<s;i++)if(n.match(this.compoundRules[i]))return!0}}else{if(r===null)return!0;if(typeof r=="object"){for(i=0,s=r.length;i<s;i++)if(!this.hasFlag(n,"ONLYINCOMPOUND",r[i]))return!0}}return!1},hasFlag:function(n,r,i){if(!this.loaded)throw"Dictionary not loaded.";return!!(r in this.flags&&(typeof i>"u"&&(i=Array.prototype.concat.apply([],this.dictionaryTable[n])),i&&i.indexOf(this.flags[r])!==-1))},alphabet:"",suggest:function(n,r){if(!this.loaded)throw"Dictionary not loaded.";if(r=r||5,this.memoized.hasOwnProperty(n)){var i=this.memoized[n].limit;if(r<=i||this.memoized[n].suggestions.length<i)return this.memoized[n].suggestions.slice(0,r)}if(this.check(n))return[];for(var s=0,a=this.replacementTable.length;s<a;s++){var u=this.replacementTable[s];if(n.indexOf(u[0])!==-1){var h=n.replace(u[0],u[1]);if(this.check(h))return[h]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var p=this.alphabet.split("");p.sort();for(var m={},s=0;s<p.length;s++)m[p[s]]=!0;this.alphabet="";for(var s in m)this.alphabet+=s}var v=this;function _(b,I){var P={},T,C,D,N,O=v.alphabet.length;if(typeof b=="string"){var L=b;b={},b[L]=!0}for(var L in b)for(T=0,D=L.length+1;T<D;T++){var M=[L.substring(0,T),L.substring(T)];if(M[1]&&(N=M[0]+M[1].substring(1),(!I||v.check(N))&&(N in P?P[N]+=1:P[N]=1)),M[1].length>1&&M[1][1]!==M[1][0]&&(N=M[0]+M[1][1]+M[1][0]+M[1].substring(2),(!I||v.check(N))&&(N in P?P[N]+=1:P[N]=1)),M[1]){var H=M[1].substring(0,1).toUpperCase()===M[1].substring(0,1)?"uppercase":"lowercase";for(C=0;C<O;C++){var J=v.alphabet[C];H==="uppercase"&&(J=J.toUpperCase()),J!=M[1].substring(0,1)&&(N=M[0]+J+M[1].substring(1),(!I||v.check(N))&&(N in P?P[N]+=1:P[N]=1))}}if(M[1])for(C=0;C<O;C++){var H=M[0].substring(-1).toUpperCase()===M[0].substring(-1)&&M[1].substring(0,1).toUpperCase()===M[1].substring(0,1)?"uppercase":"lowercase",J=v.alphabet[C];H==="uppercase"&&(J=J.toUpperCase()),N=M[0]+J+M[1],(!I||v.check(N))&&(N in P?P[N]+=1:P[N]=1)}}return P}function E(b){var I=_(b),P=_(I,!0),T=P;for(var C in I)v.check(C)&&(C in T?T[C]+=I[C]:T[C]=I[C]);var D,N=[];for(D in T)T.hasOwnProperty(D)&&N.push([D,T[D]]);function O(J,le){var K=J[1],se=le[1];return K<se?-1:K>se?1:le[0].localeCompare(J[0])}N.sort(O).reverse();var L=[],M="lowercase";b.toUpperCase()===b?M="uppercase":b.substr(0,1).toUpperCase()+b.substr(1).toLowerCase()===b&&(M="capitalized");var H=r;for(D=0;D<Math.min(H,N.length);D++)M==="uppercase"?N[D][0]=N[D][0].toUpperCase():M==="capitalized"&&(N[D][0]=N[D][0].substr(0,1).toUpperCase()+N[D][0].substr(1)),!v.hasFlag(N[D][0],"NOSUGGEST")&&L.indexOf(N[D][0])==-1?L.push(N[D][0]):H++;return L}return this.memoized[n]={suggestions:E(n),limit:r},this.memoized[n].suggestions}}})(),t.exports=e})(Q2);var rq=Q2.exports,YC=rq;function Nt(t){if(t=t||{},typeof t.codeMirrorInstance!="function"||typeof t.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),t.codeMirrorInstance.defineMode("spell-checker",function(e){if(!Nt.aff_loading){Nt.aff_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),n.onload=function(){n.readyState===4&&n.status===200&&(Nt.aff_data=n.responseText,Nt.num_loaded++,Nt.num_loaded==2&&(Nt.typo=new YC("en_US",Nt.aff_data,Nt.dic_data,{platform:"any"})))},n.send(null)}if(!Nt.dic_loading){Nt.dic_loading=!0;var r=new XMLHttpRequest;r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),r.onload=function(){r.readyState===4&&r.status===200&&(Nt.dic_data=r.responseText,Nt.num_loaded++,Nt.num_loaded==2&&(Nt.typo=new YC("en_US",Nt.aff_data,Nt.dic_data,{platform:"any"})))},r.send(null)}var i='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',s={token:function(u){var h=u.peek(),p="";if(i.includes(h))return u.next(),null;for(;(h=u.peek())!=null&&!i.includes(h);)p+=h,u.next();return Nt.typo&&!Nt.typo.check(p)?"spell-error":null}},a=t.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(a,s,!0)})}Nt.num_loaded=0;Nt.aff_loading=!1;Nt.dic_loading=!1;Nt.aff_data="";Nt.dic_data="";Nt.typo;var iq=Nt,X2={};(function(t){function e(Y,Z){for(var G=0;G<Z.length;G++){var S=Z[G];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(Y,h(S.key),S)}}function n(Y,Z,G){return Z&&e(Y.prototype,Z),G&&e(Y,G),Object.defineProperty(Y,"prototype",{writable:!1}),Y}function r(){return r=Object.assign?Object.assign.bind():function(Y){for(var Z=1;Z<arguments.length;Z++){var G=arguments[Z];for(var S in G)Object.prototype.hasOwnProperty.call(G,S)&&(Y[S]=G[S])}return Y},r.apply(this,arguments)}function i(Y,Z){if(Y){if(typeof Y=="string")return s(Y,Z);var G=Object.prototype.toString.call(Y).slice(8,-1);if(G==="Object"&&Y.constructor&&(G=Y.constructor.name),G==="Map"||G==="Set")return Array.from(Y);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return s(Y,Z)}}function s(Y,Z){(Z==null||Z>Y.length)&&(Z=Y.length);for(var G=0,S=new Array(Z);G<Z;G++)S[G]=Y[G];return S}function a(Y,Z){var G=typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(G)return(G=G.call(Y)).next.bind(G);if(Array.isArray(Y)||(G=i(Y))||Z&&Y&&typeof Y.length=="number"){G&&(Y=G);var S=0;return function(){return S>=Y.length?{done:!0}:{done:!1,value:Y[S++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(Y,Z){if(typeof Y!="object"||Y===null)return Y;var G=Y[Symbol.toPrimitive];if(G!==void 0){var S=G.call(Y,Z||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(Y)}function h(Y){var Z=u(Y,"string");return typeof Z=="symbol"?Z:String(Z)}function p(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.defaults=p();function m(Y){t.defaults=Y}var v=/[&<>"']/,_=new RegExp(v.source,"g"),E=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,b=new RegExp(E.source,"g"),I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},P=function(Z){return I[Z]};function T(Y,Z){if(Z){if(v.test(Y))return Y.replace(_,P)}else if(E.test(Y))return Y.replace(b,P);return Y}var C=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function D(Y){return Y.replace(C,function(Z,G){return G=G.toLowerCase(),G==="colon"?":":G.charAt(0)==="#"?G.charAt(1)==="x"?String.fromCharCode(parseInt(G.substring(2),16)):String.fromCharCode(+G.substring(1)):""})}var N=/(^|[^\[])\^/g;function O(Y,Z){Y=typeof Y=="string"?Y:Y.source,Z=Z||"";var G={replace:function(R,U){return U=U.source||U,U=U.replace(N,"$1"),Y=Y.replace(R,U),G},getRegex:function(){return new RegExp(Y,Z)}};return G}var L=/[^\w:]/g,M=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function H(Y,Z,G){if(Y){var S;try{S=decodeURIComponent(D(G)).replace(L,"").toLowerCase()}catch{return null}if(S.indexOf("javascript:")===0||S.indexOf("vbscript:")===0||S.indexOf("data:")===0)return null}Z&&!M.test(G)&&(G=we(Z,G));try{G=encodeURI(G).replace(/%25/g,"%")}catch{return null}return G}var J={},le=/^[^:]+:\/*[^/]*$/,K=/^([^:]+:)[\s\S]*$/,se=/^([^:]+:\/*[^/]*)[\s\S]*$/;function we(Y,Z){J[" "+Y]||(le.test(Y)?J[" "+Y]=Y+"/":J[" "+Y]=ae(Y,"/",!0)),Y=J[" "+Y];var G=Y.indexOf(":")===-1;return Z.substring(0,2)==="//"?G?Z:Y.replace(K,"$1")+Z:Z.charAt(0)==="/"?G?Z:Y.replace(se,"$1")+Z:Y+Z}var ve={exec:function(){}};function $(Y,Z){var G=Y.replace(/\|/g,function(U,V,W){for(var ge=!1,Se=V;--Se>=0&&W[Se]==="\\";)ge=!ge;return ge?"|":" |"}),S=G.split(/ \|/),R=0;if(S[0].trim()||S.shift(),S.length>0&&!S[S.length-1].trim()&&S.pop(),S.length>Z)S.splice(Z);else for(;S.length<Z;)S.push("");for(;R<S.length;R++)S[R]=S[R].trim().replace(/\\\|/g,"|");return S}function ae(Y,Z,G){var S=Y.length;if(S===0)return"";for(var R=0;R<S;){var U=Y.charAt(S-R-1);if(U===Z&&!G)R++;else if(U!==Z&&G)R++;else break}return Y.slice(0,S-R)}function re(Y,Z){if(Y.indexOf(Z[1])===-1)return-1;for(var G=Y.length,S=0,R=0;R<G;R++)if(Y[R]==="\\")R++;else if(Y[R]===Z[0])S++;else if(Y[R]===Z[1]&&(S--,S<0))return R;return-1}function te(Y){Y&&Y.sanitize&&!Y.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function ue(Y,Z){if(Z<1)return"";for(var G="";Z>1;)Z&1&&(G+=Y),Z>>=1,Y+=Y;return G+Y}function B(Y,Z,G,S){var R=Z.href,U=Z.title?T(Z.title):null,V=Y[1].replace(/\\([\[\]])/g,"$1");if(Y[0].charAt(0)!=="!"){S.state.inLink=!0;var W={type:"link",raw:G,href:R,title:U,text:V,tokens:S.inlineTokens(V)};return S.state.inLink=!1,W}return{type:"image",raw:G,href:R,title:U,text:T(V)}}function je(Y,Z){var G=Y.match(/^(\s+)(?:```)/);if(G===null)return Z;var S=G[1];return Z.split(`
`).map(function(R){var U=R.match(/^\s+/);if(U===null)return R;var V=U[0];return V.length>=S.length?R.slice(S.length):R}).join(`
`)}var z=function(){function Y(G){this.options=G||t.defaults}var Z=Y.prototype;return Z.space=function(S){var R=this.rules.block.newline.exec(S);if(R&&R[0].length>0)return{type:"space",raw:R[0]}},Z.code=function(S){var R=this.rules.block.code.exec(S);if(R){var U=R[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:R[0],codeBlockStyle:"indented",text:this.options.pedantic?U:ae(U,`
`)}}},Z.fences=function(S){var R=this.rules.block.fences.exec(S);if(R){var U=R[0],V=je(U,R[3]||"");return{type:"code",raw:U,lang:R[2]?R[2].trim().replace(this.rules.inline._escapes,"$1"):R[2],text:V}}},Z.heading=function(S){var R=this.rules.block.heading.exec(S);if(R){var U=R[2].trim();if(/#$/.test(U)){var V=ae(U,"#");(this.options.pedantic||!V||/ $/.test(V))&&(U=V.trim())}return{type:"heading",raw:R[0],depth:R[1].length,text:U,tokens:this.lexer.inline(U)}}},Z.hr=function(S){var R=this.rules.block.hr.exec(S);if(R)return{type:"hr",raw:R[0]}},Z.blockquote=function(S){var R=this.rules.block.blockquote.exec(S);if(R){var U=R[0].replace(/^ *>[ \t]?/gm,""),V=this.lexer.state.top;this.lexer.state.top=!0;var W=this.lexer.blockTokens(U);return this.lexer.state.top=V,{type:"blockquote",raw:R[0],tokens:W,text:U}}},Z.list=function(S){var R=this.rules.block.list.exec(S);if(R){var U,V,W,ge,Se,ke,Re,Me,pe,Be,ne,mt,ht=R[1].trim(),dt=ht.length>1,Xe={type:"list",raw:"",ordered:dt,start:dt?+ht.slice(0,-1):"",loose:!1,items:[]};ht=dt?"\\d{1,9}\\"+ht.slice(-1):"\\"+ht,this.options.pedantic&&(ht=dt?ht:"[*+-]");for(var sn=new RegExp("^( {0,3}"+ht+")((?:[	 ][^\\n]*)?(?:\\n|$))");S&&(mt=!1,!(!(R=sn.exec(S))||this.rules.block.hr.test(S)));){if(U=R[0],S=S.substring(U.length),Me=R[2].split(`
`,1)[0].replace(/^\t+/,function(Eo){return" ".repeat(3*Eo.length)}),pe=S.split(`
`,1)[0],this.options.pedantic?(ge=2,ne=Me.trimLeft()):(ge=R[2].search(/[^ ]/),ge=ge>4?1:ge,ne=Me.slice(ge),ge+=R[1].length),ke=!1,!Me&&/^ *$/.test(pe)&&(U+=pe+`
`,S=S.substring(pe.length+1),mt=!0),!mt)for(var xn=new RegExp("^ {0,"+Math.min(3,ge-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),zr=new RegExp("^ {0,"+Math.min(3,ge-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Vt=new RegExp("^ {0,"+Math.min(3,ge-1)+"}(?:```|~~~)"),ji=new RegExp("^ {0,"+Math.min(3,ge-1)+"}#");S&&(Be=S.split(`
`,1)[0],pe=Be,this.options.pedantic&&(pe=pe.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Vt.test(pe)||ji.test(pe)||xn.test(pe)||zr.test(S)));){if(pe.search(/[^ ]/)>=ge||!pe.trim())ne+=`
`+pe.slice(ge);else{if(ke||Me.search(/[^ ]/)>=4||Vt.test(Me)||ji.test(Me)||zr.test(Me))break;ne+=`
`+pe}!ke&&!pe.trim()&&(ke=!0),U+=Be+`
`,S=S.substring(Be.length+1),Me=pe.slice(ge)}Xe.loose||(Re?Xe.loose=!0:/\n *\n *$/.test(U)&&(Re=!0)),this.options.gfm&&(V=/^\[[ xX]\] /.exec(ne),V&&(W=V[0]!=="[ ] ",ne=ne.replace(/^\[[ xX]\] +/,""))),Xe.items.push({type:"list_item",raw:U,task:!!V,checked:W,loose:!1,text:ne}),Xe.raw+=U}Xe.items[Xe.items.length-1].raw=U.trimRight(),Xe.items[Xe.items.length-1].text=ne.trimRight(),Xe.raw=Xe.raw.trimRight();var $i=Xe.items.length;for(Se=0;Se<$i;Se++)if(this.lexer.state.top=!1,Xe.items[Se].tokens=this.lexer.blockTokens(Xe.items[Se].text,[]),!Xe.loose){var ei=Xe.items[Se].tokens.filter(function(Eo){return Eo.type==="space"}),cu=ei.length>0&&ei.some(function(Eo){return/\n.*\n/.test(Eo.raw)});Xe.loose=cu}if(Xe.loose)for(Se=0;Se<$i;Se++)Xe.items[Se].loose=!0;return Xe}},Z.html=function(S){var R=this.rules.block.html.exec(S);if(R){var U={type:"html",raw:R[0],pre:!this.options.sanitizer&&(R[1]==="pre"||R[1]==="script"||R[1]==="style"),text:R[0]};if(this.options.sanitize){var V=this.options.sanitizer?this.options.sanitizer(R[0]):T(R[0]);U.type="paragraph",U.text=V,U.tokens=this.lexer.inline(V)}return U}},Z.def=function(S){var R=this.rules.block.def.exec(S);if(R){var U=R[1].toLowerCase().replace(/\s+/g," "),V=R[2]?R[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",W=R[3]?R[3].substring(1,R[3].length-1).replace(this.rules.inline._escapes,"$1"):R[3];return{type:"def",tag:U,raw:R[0],href:V,title:W}}},Z.table=function(S){var R=this.rules.block.table.exec(S);if(R){var U={type:"table",header:$(R[1]).map(function(Re){return{text:Re}}),align:R[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:R[3]&&R[3].trim()?R[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(U.header.length===U.align.length){U.raw=R[0];var V=U.align.length,W,ge,Se,ke;for(W=0;W<V;W++)/^ *-+: *$/.test(U.align[W])?U.align[W]="right":/^ *:-+: *$/.test(U.align[W])?U.align[W]="center":/^ *:-+ *$/.test(U.align[W])?U.align[W]="left":U.align[W]=null;for(V=U.rows.length,W=0;W<V;W++)U.rows[W]=$(U.rows[W],U.header.length).map(function(Re){return{text:Re}});for(V=U.header.length,ge=0;ge<V;ge++)U.header[ge].tokens=this.lexer.inline(U.header[ge].text);for(V=U.rows.length,ge=0;ge<V;ge++)for(ke=U.rows[ge],Se=0;Se<ke.length;Se++)ke[Se].tokens=this.lexer.inline(ke[Se].text);return U}}},Z.lheading=function(S){var R=this.rules.block.lheading.exec(S);if(R)return{type:"heading",raw:R[0],depth:R[2].charAt(0)==="="?1:2,text:R[1],tokens:this.lexer.inline(R[1])}},Z.paragraph=function(S){var R=this.rules.block.paragraph.exec(S);if(R){var U=R[1].charAt(R[1].length-1)===`
`?R[1].slice(0,-1):R[1];return{type:"paragraph",raw:R[0],text:U,tokens:this.lexer.inline(U)}}},Z.text=function(S){var R=this.rules.block.text.exec(S);if(R)return{type:"text",raw:R[0],text:R[0],tokens:this.lexer.inline(R[0])}},Z.escape=function(S){var R=this.rules.inline.escape.exec(S);if(R)return{type:"escape",raw:R[0],text:T(R[1])}},Z.tag=function(S){var R=this.rules.inline.tag.exec(S);if(R)return!this.lexer.state.inLink&&/^<a /i.test(R[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(R[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(R[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(R[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:R[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(R[0]):T(R[0]):R[0]}},Z.link=function(S){var R=this.rules.inline.link.exec(S);if(R){var U=R[2].trim();if(!this.options.pedantic&&/^</.test(U)){if(!/>$/.test(U))return;var V=ae(U.slice(0,-1),"\\");if((U.length-V.length)%2===0)return}else{var W=re(R[2],"()");if(W>-1){var ge=R[0].indexOf("!")===0?5:4,Se=ge+R[1].length+W;R[2]=R[2].substring(0,W),R[0]=R[0].substring(0,Se).trim(),R[3]=""}}var ke=R[2],Re="";if(this.options.pedantic){var Me=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ke);Me&&(ke=Me[1],Re=Me[3])}else Re=R[3]?R[3].slice(1,-1):"";return ke=ke.trim(),/^</.test(ke)&&(this.options.pedantic&&!/>$/.test(U)?ke=ke.slice(1):ke=ke.slice(1,-1)),B(R,{href:ke&&ke.replace(this.rules.inline._escapes,"$1"),title:Re&&Re.replace(this.rules.inline._escapes,"$1")},R[0],this.lexer)}},Z.reflink=function(S,R){var U;if((U=this.rules.inline.reflink.exec(S))||(U=this.rules.inline.nolink.exec(S))){var V=(U[2]||U[1]).replace(/\s+/g," ");if(V=R[V.toLowerCase()],!V){var W=U[0].charAt(0);return{type:"text",raw:W,text:W}}return B(U,V,U[0],this.lexer)}},Z.emStrong=function(S,R,U){U===void 0&&(U="");var V=this.rules.inline.emStrong.lDelim.exec(S);if(V&&!(V[3]&&U.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var W=V[1]||V[2]||"";if(!W||W&&(U===""||this.rules.inline.punctuation.exec(U))){var ge=V[0].length-1,Se,ke,Re=ge,Me=0,pe=V[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(pe.lastIndex=0,R=R.slice(-1*S.length+ge);(V=pe.exec(R))!=null;)if(Se=V[1]||V[2]||V[3]||V[4]||V[5]||V[6],!!Se){if(ke=Se.length,V[3]||V[4]){Re+=ke;continue}else if((V[5]||V[6])&&ge%3&&!((ge+ke)%3)){Me+=ke;continue}if(Re-=ke,!(Re>0)){ke=Math.min(ke,ke+Re+Me);var Be=S.slice(0,ge+V.index+(V[0].length-Se.length)+ke);if(Math.min(ge,ke)%2){var ne=Be.slice(1,-1);return{type:"em",raw:Be,text:ne,tokens:this.lexer.inlineTokens(ne)}}var mt=Be.slice(2,-2);return{type:"strong",raw:Be,text:mt,tokens:this.lexer.inlineTokens(mt)}}}}}},Z.codespan=function(S){var R=this.rules.inline.code.exec(S);if(R){var U=R[2].replace(/\n/g," "),V=/[^ ]/.test(U),W=/^ /.test(U)&&/ $/.test(U);return V&&W&&(U=U.substring(1,U.length-1)),U=T(U,!0),{type:"codespan",raw:R[0],text:U}}},Z.br=function(S){var R=this.rules.inline.br.exec(S);if(R)return{type:"br",raw:R[0]}},Z.del=function(S){var R=this.rules.inline.del.exec(S);if(R)return{type:"del",raw:R[0],text:R[2],tokens:this.lexer.inlineTokens(R[2])}},Z.autolink=function(S,R){var U=this.rules.inline.autolink.exec(S);if(U){var V,W;return U[2]==="@"?(V=T(this.options.mangle?R(U[1]):U[1]),W="mailto:"+V):(V=T(U[1]),W=V),{type:"link",raw:U[0],text:V,href:W,tokens:[{type:"text",raw:V,text:V}]}}},Z.url=function(S,R){var U;if(U=this.rules.inline.url.exec(S)){var V,W;if(U[2]==="@")V=T(this.options.mangle?R(U[0]):U[0]),W="mailto:"+V;else{var ge;do ge=U[0],U[0]=this.rules.inline._backpedal.exec(U[0])[0];while(ge!==U[0]);V=T(U[0]),U[1]==="www."?W="http://"+U[0]:W=U[0]}return{type:"link",raw:U[0],text:V,href:W,tokens:[{type:"text",raw:V,text:V}]}}},Z.inlineText=function(S,R){var U=this.rules.inline.text.exec(S);if(U){var V;return this.lexer.state.inRawBlock?V=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(U[0]):T(U[0]):U[0]:V=T(this.options.smartypants?R(U[0]):U[0]),{type:"text",raw:U[0],text:V}}},Y}(),w={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ve,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};w._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,w._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,w.def=O(w.def).replace("label",w._label).replace("title",w._title).getRegex(),w.bullet=/(?:[*+-]|\d{1,9}[.)])/,w.listItemStart=O(/^( *)(bull) */).replace("bull",w.bullet).getRegex(),w.list=O(w.list).replace(/bull/g,w.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+w.def.source+")").getRegex(),w._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",w._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,w.html=O(w.html,"i").replace("comment",w._comment).replace("tag",w._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),w.paragraph=O(w._paragraph).replace("hr",w.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w._tag).getRegex(),w.blockquote=O(w.blockquote).replace("paragraph",w.paragraph).getRegex(),w.normal=r({},w),w.gfm=r({},w.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),w.gfm.table=O(w.gfm.table).replace("hr",w.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w._tag).getRegex(),w.gfm.paragraph=O(w._paragraph).replace("hr",w.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",w.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w._tag).getRegex(),w.pedantic=r({},w.normal,{html:O(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",w._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ve,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:O(w.normal._paragraph).replace("hr",w.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",w.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ee={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ve,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ve,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ee._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ee.punctuation=O(ee.punctuation).replace(/punctuation/g,ee._punctuation).getRegex(),ee.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ee.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,ee._comment=O(w._comment).replace("(?:-->|$)","-->").getRegex(),ee.emStrong.lDelim=O(ee.emStrong.lDelim).replace(/punct/g,ee._punctuation).getRegex(),ee.emStrong.rDelimAst=O(ee.emStrong.rDelimAst,"g").replace(/punct/g,ee._punctuation).getRegex(),ee.emStrong.rDelimUnd=O(ee.emStrong.rDelimUnd,"g").replace(/punct/g,ee._punctuation).getRegex(),ee._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ee._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ee._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ee.autolink=O(ee.autolink).replace("scheme",ee._scheme).replace("email",ee._email).getRegex(),ee._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ee.tag=O(ee.tag).replace("comment",ee._comment).replace("attribute",ee._attribute).getRegex(),ee._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ee._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ee._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ee.link=O(ee.link).replace("label",ee._label).replace("href",ee._href).replace("title",ee._title).getRegex(),ee.reflink=O(ee.reflink).replace("label",ee._label).replace("ref",w._label).getRegex(),ee.nolink=O(ee.nolink).replace("ref",w._label).getRegex(),ee.reflinkSearch=O(ee.reflinkSearch,"g").replace("reflink",ee.reflink).replace("nolink",ee.nolink).getRegex(),ee.normal=r({},ee),ee.pedantic=r({},ee.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:O(/^!?\[(label)\]\((.*?)\)/).replace("label",ee._label).getRegex(),reflink:O(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ee._label).getRegex()}),ee.gfm=r({},ee.normal,{escape:O(ee.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ee.gfm.url=O(ee.gfm.url,"i").replace("email",ee.gfm._extended_email).getRegex(),ee.breaks=r({},ee.gfm,{br:O(ee.br).replace("{2,}","*").getRegex(),text:O(ee.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ve(Y){return Y.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Te(Y){var Z="",G,S,R=Y.length;for(G=0;G<R;G++)S=Y.charCodeAt(G),Math.random()>.5&&(S="x"+S.toString(16)),Z+="&#"+S+";";return Z}var rt=function(){function Y(G){this.tokens=[],this.tokens.links=Object.create(null),this.options=G||t.defaults,this.options.tokenizer=this.options.tokenizer||new z,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var S={block:w.normal,inline:ee.normal};this.options.pedantic?(S.block=w.pedantic,S.inline=ee.pedantic):this.options.gfm&&(S.block=w.gfm,this.options.breaks?S.inline=ee.breaks:S.inline=ee.gfm),this.tokenizer.rules=S}Y.lex=function(S,R){var U=new Y(R);return U.lex(S)},Y.lexInline=function(S,R){var U=new Y(R);return U.inlineTokens(S)};var Z=Y.prototype;return Z.lex=function(S){S=S.replace(/\r\n|\r/g,`
`),this.blockTokens(S,this.tokens);for(var R;R=this.inlineQueue.shift();)this.inlineTokens(R.src,R.tokens);return this.tokens},Z.blockTokens=function(S,R){var U=this;R===void 0&&(R=[]),this.options.pedantic?S=S.replace(/\t/g,"    ").replace(/^ +$/gm,""):S=S.replace(/^( *)(\t+)/gm,function(Re,Me,pe){return Me+"    ".repeat(pe.length)});for(var V,W,ge,Se;S;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Re){return(V=Re.call({lexer:U},S,R))?(S=S.substring(V.raw.length),R.push(V),!0):!1}))){if(V=this.tokenizer.space(S)){S=S.substring(V.raw.length),V.raw.length===1&&R.length>0?R[R.length-1].raw+=`
`:R.push(V);continue}if(V=this.tokenizer.code(S)){S=S.substring(V.raw.length),W=R[R.length-1],W&&(W.type==="paragraph"||W.type==="text")?(W.raw+=`
`+V.raw,W.text+=`
`+V.text,this.inlineQueue[this.inlineQueue.length-1].src=W.text):R.push(V);continue}if(V=this.tokenizer.fences(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.heading(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.hr(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.blockquote(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.list(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.html(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.def(S)){S=S.substring(V.raw.length),W=R[R.length-1],W&&(W.type==="paragraph"||W.type==="text")?(W.raw+=`
`+V.raw,W.text+=`
`+V.raw,this.inlineQueue[this.inlineQueue.length-1].src=W.text):this.tokens.links[V.tag]||(this.tokens.links[V.tag]={href:V.href,title:V.title});continue}if(V=this.tokenizer.table(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.lheading(S)){S=S.substring(V.raw.length),R.push(V);continue}if(ge=S,this.options.extensions&&this.options.extensions.startBlock&&function(){var Re=1/0,Me=S.slice(1),pe=void 0;U.options.extensions.startBlock.forEach(function(Be){pe=Be.call({lexer:this},Me),typeof pe=="number"&&pe>=0&&(Re=Math.min(Re,pe))}),Re<1/0&&Re>=0&&(ge=S.substring(0,Re+1))}(),this.state.top&&(V=this.tokenizer.paragraph(ge))){W=R[R.length-1],Se&&W.type==="paragraph"?(W.raw+=`
`+V.raw,W.text+=`
`+V.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=W.text):R.push(V),Se=ge.length!==S.length,S=S.substring(V.raw.length);continue}if(V=this.tokenizer.text(S)){S=S.substring(V.raw.length),W=R[R.length-1],W&&W.type==="text"?(W.raw+=`
`+V.raw,W.text+=`
`+V.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=W.text):R.push(V);continue}if(S){var ke="Infinite loop on byte: "+S.charCodeAt(0);if(this.options.silent){console.error(ke);break}else throw new Error(ke)}}return this.state.top=!0,R},Z.inline=function(S,R){return R===void 0&&(R=[]),this.inlineQueue.push({src:S,tokens:R}),R},Z.inlineTokens=function(S,R){var U=this;R===void 0&&(R=[]);var V,W,ge,Se=S,ke,Re,Me;if(this.tokens.links){var pe=Object.keys(this.tokens.links);if(pe.length>0)for(;(ke=this.tokenizer.rules.inline.reflinkSearch.exec(Se))!=null;)pe.includes(ke[0].slice(ke[0].lastIndexOf("[")+1,-1))&&(Se=Se.slice(0,ke.index)+"["+ue("a",ke[0].length-2)+"]"+Se.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ke=this.tokenizer.rules.inline.blockSkip.exec(Se))!=null;)Se=Se.slice(0,ke.index)+"["+ue("a",ke[0].length-2)+"]"+Se.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ke=this.tokenizer.rules.inline.escapedEmSt.exec(Se))!=null;)Se=Se.slice(0,ke.index+ke[0].length-2)+"++"+Se.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;S;)if(Re||(Me=""),Re=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ne){return(V=ne.call({lexer:U},S,R))?(S=S.substring(V.raw.length),R.push(V),!0):!1}))){if(V=this.tokenizer.escape(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.tag(S)){S=S.substring(V.raw.length),W=R[R.length-1],W&&V.type==="text"&&W.type==="text"?(W.raw+=V.raw,W.text+=V.text):R.push(V);continue}if(V=this.tokenizer.link(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.reflink(S,this.tokens.links)){S=S.substring(V.raw.length),W=R[R.length-1],W&&V.type==="text"&&W.type==="text"?(W.raw+=V.raw,W.text+=V.text):R.push(V);continue}if(V=this.tokenizer.emStrong(S,Se,Me)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.codespan(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.br(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.del(S)){S=S.substring(V.raw.length),R.push(V);continue}if(V=this.tokenizer.autolink(S,Te)){S=S.substring(V.raw.length),R.push(V);continue}if(!this.state.inLink&&(V=this.tokenizer.url(S,Te))){S=S.substring(V.raw.length),R.push(V);continue}if(ge=S,this.options.extensions&&this.options.extensions.startInline&&function(){var ne=1/0,mt=S.slice(1),ht=void 0;U.options.extensions.startInline.forEach(function(dt){ht=dt.call({lexer:this},mt),typeof ht=="number"&&ht>=0&&(ne=Math.min(ne,ht))}),ne<1/0&&ne>=0&&(ge=S.substring(0,ne+1))}(),V=this.tokenizer.inlineText(ge,Ve)){S=S.substring(V.raw.length),V.raw.slice(-1)!=="_"&&(Me=V.raw.slice(-1)),Re=!0,W=R[R.length-1],W&&W.type==="text"?(W.raw+=V.raw,W.text+=V.text):R.push(V);continue}if(S){var Be="Infinite loop on byte: "+S.charCodeAt(0);if(this.options.silent){console.error(Be);break}else throw new Error(Be)}}return R},n(Y,null,[{key:"rules",get:function(){return{block:w,inline:ee}}}]),Y}(),Et=function(){function Y(G){this.options=G||t.defaults}var Z=Y.prototype;return Z.code=function(S,R,U){var V=(R||"").match(/\S*/)[0];if(this.options.highlight){var W=this.options.highlight(S,V);W!=null&&W!==S&&(U=!0,S=W)}return S=S.replace(/\n$/,"")+`
`,V?'<pre><code class="'+this.options.langPrefix+T(V)+'">'+(U?S:T(S,!0))+`</code></pre>
`:"<pre><code>"+(U?S:T(S,!0))+`</code></pre>
`},Z.blockquote=function(S){return`<blockquote>
`+S+`</blockquote>
`},Z.html=function(S){return S},Z.heading=function(S,R,U,V){if(this.options.headerIds){var W=this.options.headerPrefix+V.slug(U);return"<h"+R+' id="'+W+'">'+S+"</h"+R+`>
`}return"<h"+R+">"+S+"</h"+R+`>
`},Z.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Z.list=function(S,R,U){var V=R?"ol":"ul",W=R&&U!==1?' start="'+U+'"':"";return"<"+V+W+`>
`+S+"</"+V+`>
`},Z.listitem=function(S){return"<li>"+S+`</li>
`},Z.checkbox=function(S){return"<input "+(S?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Z.paragraph=function(S){return"<p>"+S+`</p>
`},Z.table=function(S,R){return R&&(R="<tbody>"+R+"</tbody>"),`<table>
<thead>
`+S+`</thead>
`+R+`</table>
`},Z.tablerow=function(S){return`<tr>
`+S+`</tr>
`},Z.tablecell=function(S,R){var U=R.header?"th":"td",V=R.align?"<"+U+' align="'+R.align+'">':"<"+U+">";return V+S+("</"+U+`>
`)},Z.strong=function(S){return"<strong>"+S+"</strong>"},Z.em=function(S){return"<em>"+S+"</em>"},Z.codespan=function(S){return"<code>"+S+"</code>"},Z.br=function(){return this.options.xhtml?"<br/>":"<br>"},Z.del=function(S){return"<del>"+S+"</del>"},Z.link=function(S,R,U){if(S=H(this.options.sanitize,this.options.baseUrl,S),S===null)return U;var V='<a href="'+S+'"';return R&&(V+=' title="'+R+'"'),V+=">"+U+"</a>",V},Z.image=function(S,R,U){if(S=H(this.options.sanitize,this.options.baseUrl,S),S===null)return U;var V='<img src="'+S+'" alt="'+U+'"';return R&&(V+=' title="'+R+'"'),V+=this.options.xhtml?"/>":">",V},Z.text=function(S){return S},Y}(),gt=function(){function Y(){}var Z=Y.prototype;return Z.strong=function(S){return S},Z.em=function(S){return S},Z.codespan=function(S){return S},Z.del=function(S){return S},Z.html=function(S){return S},Z.text=function(S){return S},Z.link=function(S,R,U){return""+U},Z.image=function(S,R,U){return""+U},Z.br=function(){return""},Y}(),Ct=function(){function Y(){this.seen={}}var Z=Y.prototype;return Z.serialize=function(S){return S.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Z.getNextSafeSlug=function(S,R){var U=S,V=0;if(this.seen.hasOwnProperty(U)){V=this.seen[S];do V++,U=S+"-"+V;while(this.seen.hasOwnProperty(U))}return R||(this.seen[S]=V,this.seen[U]=0),U},Z.slug=function(S,R){R===void 0&&(R={});var U=this.serialize(S);return this.getNextSafeSlug(U,R.dryrun)},Y}(),it=function(){function Y(G){this.options=G||t.defaults,this.options.renderer=this.options.renderer||new Et,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new gt,this.slugger=new Ct}Y.parse=function(S,R){var U=new Y(R);return U.parse(S)},Y.parseInline=function(S,R){var U=new Y(R);return U.parseInline(S)};var Z=Y.prototype;return Z.parse=function(S,R){R===void 0&&(R=!0);var U="",V,W,ge,Se,ke,Re,Me,pe,Be,ne,mt,ht,dt,Xe,sn,xn,zr,Vt,ji,$i=S.length;for(V=0;V<$i;V++){if(ne=S[V],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ne.type]&&(ji=this.options.extensions.renderers[ne.type].call({parser:this},ne),ji!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ne.type))){U+=ji||"";continue}switch(ne.type){case"space":continue;case"hr":{U+=this.renderer.hr();continue}case"heading":{U+=this.renderer.heading(this.parseInline(ne.tokens),ne.depth,D(this.parseInline(ne.tokens,this.textRenderer)),this.slugger);continue}case"code":{U+=this.renderer.code(ne.text,ne.lang,ne.escaped);continue}case"table":{for(pe="",Me="",Se=ne.header.length,W=0;W<Se;W++)Me+=this.renderer.tablecell(this.parseInline(ne.header[W].tokens),{header:!0,align:ne.align[W]});for(pe+=this.renderer.tablerow(Me),Be="",Se=ne.rows.length,W=0;W<Se;W++){for(Re=ne.rows[W],Me="",ke=Re.length,ge=0;ge<ke;ge++)Me+=this.renderer.tablecell(this.parseInline(Re[ge].tokens),{header:!1,align:ne.align[ge]});Be+=this.renderer.tablerow(Me)}U+=this.renderer.table(pe,Be);continue}case"blockquote":{Be=this.parse(ne.tokens),U+=this.renderer.blockquote(Be);continue}case"list":{for(mt=ne.ordered,ht=ne.start,dt=ne.loose,Se=ne.items.length,Be="",W=0;W<Se;W++)sn=ne.items[W],xn=sn.checked,zr=sn.task,Xe="",sn.task&&(Vt=this.renderer.checkbox(xn),dt?sn.tokens.length>0&&sn.tokens[0].type==="paragraph"?(sn.tokens[0].text=Vt+" "+sn.tokens[0].text,sn.tokens[0].tokens&&sn.tokens[0].tokens.length>0&&sn.tokens[0].tokens[0].type==="text"&&(sn.tokens[0].tokens[0].text=Vt+" "+sn.tokens[0].tokens[0].text)):sn.tokens.unshift({type:"text",text:Vt}):Xe+=Vt),Xe+=this.parse(sn.tokens,dt),Be+=this.renderer.listitem(Xe,zr,xn);U+=this.renderer.list(Be,mt,ht);continue}case"html":{U+=this.renderer.html(ne.text);continue}case"paragraph":{U+=this.renderer.paragraph(this.parseInline(ne.tokens));continue}case"text":{for(Be=ne.tokens?this.parseInline(ne.tokens):ne.text;V+1<$i&&S[V+1].type==="text";)ne=S[++V],Be+=`
`+(ne.tokens?this.parseInline(ne.tokens):ne.text);U+=R?this.renderer.paragraph(Be):Be;continue}default:{var ei='Token with "'+ne.type+'" type was not found.';if(this.options.silent){console.error(ei);return}else throw new Error(ei)}}}return U},Z.parseInline=function(S,R){R=R||this.renderer;var U="",V,W,ge,Se=S.length;for(V=0;V<Se;V++){if(W=S[V],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[W.type]&&(ge=this.options.extensions.renderers[W.type].call({parser:this},W),ge!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(W.type))){U+=ge||"";continue}switch(W.type){case"escape":{U+=R.text(W.text);break}case"html":{U+=R.html(W.text);break}case"link":{U+=R.link(W.href,W.title,this.parseInline(W.tokens,R));break}case"image":{U+=R.image(W.href,W.title,W.text);break}case"strong":{U+=R.strong(this.parseInline(W.tokens,R));break}case"em":{U+=R.em(this.parseInline(W.tokens,R));break}case"codespan":{U+=R.codespan(W.text);break}case"br":{U+=R.br();break}case"del":{U+=R.del(this.parseInline(W.tokens,R));break}case"text":{U+=R.text(W.text);break}default:{var ke='Token with "'+W.type+'" type was not found.';if(this.options.silent){console.error(ke);return}else throw new Error(ke)}}}return U},Y}(),ft=function(){function Y(G){this.options=G||t.defaults}var Z=Y.prototype;return Z.preprocess=function(S){return S},Z.postprocess=function(S){return S},Y}();ft.passThroughHooks=new Set(["preprocess","postprocess"]);function Ut(Y,Z,G){return function(S){if(S.message+=`
Please report this to https://github.com/markedjs/marked.`,Y){var R="<p>An error occurred:</p><pre>"+T(S.message+"",!0)+"</pre>";if(Z)return Promise.resolve(R);if(G){G(null,R);return}return R}if(Z)return Promise.reject(S);if(G){G(S);return}throw S}}function on(Y,Z){return function(G,S,R){typeof S=="function"&&(R=S,S=null);var U=r({},S);S=r({},Fe.defaults,U);var V=Ut(S.silent,S.async,R);if(typeof G>"u"||G===null)return V(new Error("marked(): input parameter is undefined or null"));if(typeof G!="string")return V(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(G)+", string expected"));if(te(S),S.hooks&&(S.hooks.options=S),R){var W=S.highlight,ge;try{S.hooks&&(G=S.hooks.preprocess(G)),ge=Y(G,S)}catch(pe){return V(pe)}var Se=function(Be){var ne;if(!Be)try{S.walkTokens&&Fe.walkTokens(ge,S.walkTokens),ne=Z(ge,S),S.hooks&&(ne=S.hooks.postprocess(ne))}catch(mt){Be=mt}return S.highlight=W,Be?V(Be):R(null,ne)};if(!W||W.length<3||(delete S.highlight,!ge.length))return Se();var ke=0;Fe.walkTokens(ge,function(pe){pe.type==="code"&&(ke++,setTimeout(function(){W(pe.text,pe.lang,function(Be,ne){if(Be)return Se(Be);ne!=null&&ne!==pe.text&&(pe.text=ne,pe.escaped=!0),ke--,ke===0&&Se()})},0))}),ke===0&&Se();return}if(S.async)return Promise.resolve(S.hooks?S.hooks.preprocess(G):G).then(function(pe){return Y(pe,S)}).then(function(pe){return S.walkTokens?Promise.all(Fe.walkTokens(pe,S.walkTokens)).then(function(){return pe}):pe}).then(function(pe){return Z(pe,S)}).then(function(pe){return S.hooks?S.hooks.postprocess(pe):pe}).catch(V);try{S.hooks&&(G=S.hooks.preprocess(G));var Re=Y(G,S);S.walkTokens&&Fe.walkTokens(Re,S.walkTokens);var Me=Z(Re,S);return S.hooks&&(Me=S.hooks.postprocess(Me)),Me}catch(pe){return V(pe)}}}function Fe(Y,Z,G){return on(rt.lex,it.parse)(Y,Z,G)}Fe.options=Fe.setOptions=function(Y){return Fe.defaults=r({},Fe.defaults,Y),m(Fe.defaults),Fe},Fe.getDefaults=p,Fe.defaults=t.defaults,Fe.use=function(){for(var Y=Fe.defaults.extensions||{renderers:{},childTokens:{}},Z=arguments.length,G=new Array(Z),S=0;S<Z;S++)G[S]=arguments[S];G.forEach(function(R){var U=r({},R);if(U.async=Fe.defaults.async||U.async||!1,R.extensions&&(R.extensions.forEach(function(W){if(!W.name)throw new Error("extension name required");if(W.renderer){var ge=Y.renderers[W.name];ge?Y.renderers[W.name]=function(){for(var Se=arguments.length,ke=new Array(Se),Re=0;Re<Se;Re++)ke[Re]=arguments[Re];var Me=W.renderer.apply(this,ke);return Me===!1&&(Me=ge.apply(this,ke)),Me}:Y.renderers[W.name]=W.renderer}if(W.tokenizer){if(!W.level||W.level!=="block"&&W.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Y[W.level]?Y[W.level].unshift(W.tokenizer):Y[W.level]=[W.tokenizer],W.start&&(W.level==="block"?Y.startBlock?Y.startBlock.push(W.start):Y.startBlock=[W.start]:W.level==="inline"&&(Y.startInline?Y.startInline.push(W.start):Y.startInline=[W.start]))}W.childTokens&&(Y.childTokens[W.name]=W.childTokens)}),U.extensions=Y),R.renderer&&function(){var W=Fe.defaults.renderer||new Et,ge=function(Re){var Me=W[Re];W[Re]=function(){for(var pe=arguments.length,Be=new Array(pe),ne=0;ne<pe;ne++)Be[ne]=arguments[ne];var mt=R.renderer[Re].apply(W,Be);return mt===!1&&(mt=Me.apply(W,Be)),mt}};for(var Se in R.renderer)ge(Se);U.renderer=W}(),R.tokenizer&&function(){var W=Fe.defaults.tokenizer||new z,ge=function(Re){var Me=W[Re];W[Re]=function(){for(var pe=arguments.length,Be=new Array(pe),ne=0;ne<pe;ne++)Be[ne]=arguments[ne];var mt=R.tokenizer[Re].apply(W,Be);return mt===!1&&(mt=Me.apply(W,Be)),mt}};for(var Se in R.tokenizer)ge(Se);U.tokenizer=W}(),R.hooks&&function(){var W=Fe.defaults.hooks||new ft,ge=function(Re){var Me=W[Re];ft.passThroughHooks.has(Re)?W[Re]=function(pe){if(Fe.defaults.async)return Promise.resolve(R.hooks[Re].call(W,pe)).then(function(ne){return Me.call(W,ne)});var Be=R.hooks[Re].call(W,pe);return Me.call(W,Be)}:W[Re]=function(){for(var pe=arguments.length,Be=new Array(pe),ne=0;ne<pe;ne++)Be[ne]=arguments[ne];var mt=R.hooks[Re].apply(W,Be);return mt===!1&&(mt=Me.apply(W,Be)),mt}};for(var Se in R.hooks)ge(Se);U.hooks=W}(),R.walkTokens){var V=Fe.defaults.walkTokens;U.walkTokens=function(W){var ge=[];return ge.push(R.walkTokens.call(this,W)),V&&(ge=ge.concat(V.call(this,W))),ge}}Fe.setOptions(U)})},Fe.walkTokens=function(Y,Z){for(var G=[],S=function(){var W=U.value;switch(G=G.concat(Z.call(Fe,W)),W.type){case"table":{for(var ge=a(W.header),Se;!(Se=ge()).done;){var ke=Se.value;G=G.concat(Fe.walkTokens(ke.tokens,Z))}for(var Re=a(W.rows),Me;!(Me=Re()).done;)for(var pe=Me.value,Be=a(pe),ne;!(ne=Be()).done;){var mt=ne.value;G=G.concat(Fe.walkTokens(mt.tokens,Z))}break}case"list":{G=G.concat(Fe.walkTokens(W.items,Z));break}default:Fe.defaults.extensions&&Fe.defaults.extensions.childTokens&&Fe.defaults.extensions.childTokens[W.type]?Fe.defaults.extensions.childTokens[W.type].forEach(function(ht){G=G.concat(Fe.walkTokens(W[ht],Z))}):W.tokens&&(G=G.concat(Fe.walkTokens(W.tokens,Z)))}},R=a(Y),U;!(U=R()).done;)S();return G},Fe.parseInline=on(rt.lexInline,it.parseInline),Fe.Parser=it,Fe.parser=it.parse,Fe.Renderer=Et,Fe.TextRenderer=gt,Fe.Lexer=rt,Fe.lexer=rt.lex,Fe.Tokenizer=z,Fe.Slugger=Ct,Fe.Hooks=ft,Fe.parse=Fe;var Zn=Fe.options,er=Fe.setOptions,Un=Fe.use,Ur=Fe.walkTokens,nt=Fe.parseInline,Vn=Fe,Vr=it.parse,wo=rt.lex;t.Hooks=ft,t.Lexer=rt,t.Parser=it,t.Renderer=Et,t.Slugger=Ct,t.TextRenderer=gt,t.Tokenizer=z,t.getDefaults=p,t.lexer=wo,t.marked=Fe,t.options=Zn,t.parse=Vn,t.parseInline=nt,t.parser=Vr,t.setOptions=er,t.use=Un,t.walkTokens=Ur})(X2);var Za=Br,oq=iq,Cy=X2.marked,Y2=/Mac/.test(navigator.platform),sq=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),yf={toggleBold:Yg,toggleItalic:Jg,drawLink:um,toggleHeadingSmaller:_f,toggleHeadingBigger:nm,drawImage:cm,toggleBlockquote:tm,toggleOrderedList:am,toggleUnorderedList:sm,toggleCodeBlock:em,togglePreview:gm,toggleStrikethrough:Zg,toggleHeading1:rm,toggleHeading2:im,toggleHeading3:om,toggleHeading4:eE,toggleHeading5:tE,toggleHeading6:nE,cleanBlock:lm,drawTable:fm,drawHorizontalRule:hm,undo:dm,redo:pm,toggleSideBySide:uu,toggleFullScreen:_a},aq={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},lq=function(t){for(var e in yf)if(yf[e]===t)return e;return null},v1=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t};function uq(t){for(var e;(e=sq.exec(t))!==null;){var n=e[0];if(n.indexOf("target=")===-1){var r=n.replace(/>$/,' target="_blank">');t=t.replace(n,r)}}return t}function cq(t){for(var e=new DOMParser,n=e.parseFromString(t,"text/html"),r=n.getElementsByTagName("li"),i=0;i<r.length;i++)for(var s=r[i],a=0;a<s.children.length;a++){var u=s.children[a];u instanceof HTMLInputElement&&u.type==="checkbox"&&(s.style.marginLeft="-1.5em",s.style.listStyleType="none")}return n.documentElement.innerHTML}function J2(t){return Y2?t=t.replace("Ctrl","Cmd"):t=t.replace("Cmd","Ctrl"),t}function fq(t,e,n,r){var i=Pd(t,!1,e,n,"button",r);i.classList.add("easymde-dropdown"),i.onclick=function(){i.focus()};var s=document.createElement("div");s.className="easymde-dropdown-content";for(var a=0;a<t.children.length;a++){var u=t.children[a],h;typeof u=="string"&&u in oa?h=Pd(oa[u],!0,e,n,"button",r):h=Pd(u,!0,e,n,"button",r),h.addEventListener("click",function(p){p.stopPropagation()},!1),s.appendChild(h)}return i.appendChild(s),i}function Pd(t,e,n,r,i,s){t=t||{};var a=document.createElement(i);if(t.attributes)for(var u in t.attributes)Object.prototype.hasOwnProperty.call(t.attributes,u)&&a.setAttribute(u,t.attributes[u]);var h=s.options.toolbarButtonClassPrefix?s.options.toolbarButtonClassPrefix+"-":"";a.className=h+t.name,a.setAttribute("type",i),n=n??!0,t.text&&(a.innerText=t.text),t.name&&t.name in r&&(yf[t.name]=t.action),t.title&&n&&(a.title=dq(t.title,t.action,r),Y2&&(a.title=a.title.replace("Ctrl",""),a.title=a.title.replace("Alt",""))),t.title&&a.setAttribute("aria-label",t.title),t.noDisable&&a.classList.add("no-disable"),t.noMobile&&a.classList.add("no-mobile");var p=[];typeof t.className<"u"&&(p=t.className.split(" "));for(var m=[],v=0;v<p.length;v++){var _=p[v];_.match(/^fa([srlb]|(-[\w-]*)|$)/)?m.push(_):a.classList.add(_)}if(a.tabIndex=-1,m.length>0){for(var E=document.createElement("i"),b=0;b<m.length;b++){var I=m[b];E.classList.add(I)}a.appendChild(E)}return typeof t.icon<"u"&&(a.innerHTML=t.icon),t.action&&e&&(typeof t.action=="function"?a.onclick=function(P){P.preventDefault(),t.action(s)}:typeof t.action=="string"&&(a.onclick=function(P){P.preventDefault(),window.open(t.action,"_blank")})),a}function hq(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function dq(t,e,n){var r,i=t;return e&&(r=lq(e),n[r]&&(i+=" ("+J2(n[r])+")")),i}function Ss(t,e){e=e||t.getCursor("start");var n=t.getTokenAt(e);if(!n.type)return{};for(var r=n.type.split(" "),i={},s,a,u=0;u<r.length;u++)s=r[u],s==="strong"?i.bold=!0:s==="variable-2"?(a=t.getLine(e.line),/^\s*\d+\.\s/.test(a)?i["ordered-list"]=!0:i["unordered-list"]=!0):s==="atom"?i.quote=!0:s==="em"?i.italic=!0:s==="quote"?i.quote=!0:s==="strikethrough"?i.strikethrough=!0:s==="comment"?i.code=!0:s==="link"&&!i.image?i.link=!0:s==="image"?i.image=!0:s.match(/^header(-[1-6])?$/)&&(i[s.replace("header","heading")]=!0);return i}var JC="";function _a(t){var e=t.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(JC=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=JC;var n=e.getWrapperElement(),r=n.nextSibling;if(r.classList.contains("editor-preview-active-side"))if(t.options.sideBySideFullscreen===!1){var i=n.parentNode;e.getOption("fullScreen")?i.classList.remove("sided--no-fullscreen"):i.classList.add("sided--no-fullscreen")}else uu(t);if(t.options.onToggleFullScreen&&t.options.onToggleFullScreen(e.getOption("fullScreen")||!1),typeof t.options.maxHeight<"u"&&(e.getOption("fullScreen")?(e.getScrollerElement().style.removeProperty("height"),r.style.removeProperty("height")):(e.getScrollerElement().style.height=t.options.maxHeight,t.setPreviewMaxHeight())),t.toolbar_div.classList.toggle("fullscreen"),t.toolbarElements&&t.toolbarElements.fullscreen){var s=t.toolbarElements.fullscreen;s.classList.toggle("active")}}function Yg(t){oE(t,"bold",t.options.blockStyles.bold)}function Jg(t){oE(t,"italic",t.options.blockStyles.italic)}function Zg(t){oE(t,"strikethrough","~~")}function em(t){var e=t.options.blockStyles.code;function n(ve){if(typeof ve!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof ve+": "+ve;return ve.styles&&ve.styles[2]&&ve.styles[2].indexOf("formatting-code-block")!==-1}function r(ve){return ve.state.base.base||ve.state.base}function i(ve,$,ae,re,te){ae=ae||ve.getLineHandle($),re=re||ve.getTokenAt({line:$,ch:1}),te=te||!!ae.text&&ve.getTokenAt({line:$,ch:ae.text.length-1});var ue=re.type?re.type.split(" "):[];return te&&r(te).indentedCode?"indented":ue.indexOf("comment")===-1?!1:r(re).fencedChars||r(te).fencedChars||n(ae)?"fenced":"single"}function s(ve,$,ae,re){var te=$.line+1,ue=ae.line+1,B=$.line!==ae.line,je=re+`
`,z=`
`+re;B&&ue++,B&&ae.ch===0&&(z=re+`
`,ue--),wa(ve,!1,[je,z]),ve.setSelection({line:te,ch:0},{line:ue,ch:0})}var a=t.codemirror,u=a.getCursor("start"),h=a.getCursor("end"),p=a.getTokenAt({line:u.line,ch:u.ch||1}),m=a.getLineHandle(u.line),v=i(a,u.line,m,p),_,E,b;if(v==="single"){var I=m.text.slice(0,u.ch).replace("`",""),P=m.text.slice(u.ch).replace("`","");a.replaceRange(I+P,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),u.ch--,u!==h&&h.ch--,a.setSelection(u,h),a.focus()}else if(v==="fenced")if(u.line!==h.line||u.ch!==h.ch){for(_=u.line;_>=0&&(m=a.getLineHandle(_),!n(m));_--);var T=a.getTokenAt({line:_,ch:1}),C=r(T).fencedChars,D,N,O,L;n(a.getLineHandle(u.line))?(D="",N=u.line):n(a.getLineHandle(u.line-1))?(D="",N=u.line-1):(D=C+`
`,N=u.line),n(a.getLineHandle(h.line))?(O="",L=h.line,h.ch===0&&(L+=1)):h.ch!==0&&n(a.getLineHandle(h.line+1))?(O="",L=h.line+1):(O=C+`
`,L=h.line+1),h.ch===0&&(L-=1),a.operation(function(){a.replaceRange(O,{line:L,ch:0},{line:L+(O?0:1),ch:0}),a.replaceRange(D,{line:N,ch:0},{line:N+(D?0:1),ch:0})}),a.setSelection({line:N+(D?1:0),ch:0},{line:L+(D?1:-1),ch:0}),a.focus()}else{var M=u.line;if(n(a.getLineHandle(u.line))&&(i(a,u.line+1)==="fenced"?(_=u.line,M=u.line+1):(E=u.line,M=u.line-1)),_===void 0)for(_=M;_>=0&&(m=a.getLineHandle(_),!n(m));_--);if(E===void 0)for(b=a.lineCount(),E=M;E<b&&(m=a.getLineHandle(E),!n(m));E++);a.operation(function(){a.replaceRange("",{line:_,ch:0},{line:_+1,ch:0}),a.replaceRange("",{line:E-1,ch:0},{line:E,ch:0})}),a.focus()}else if(v==="indented"){if(u.line!==h.line||u.ch!==h.ch)_=u.line,E=h.line,h.ch===0&&E--;else{for(_=u.line;_>=0;_--)if(m=a.getLineHandle(_),!m.text.match(/^\s*$/)&&i(a,_,m)!=="indented"){_+=1;break}for(b=a.lineCount(),E=u.line;E<b;E++)if(m=a.getLineHandle(E),!m.text.match(/^\s*$/)&&i(a,E,m)!=="indented"){E-=1;break}}var H=a.getLineHandle(E+1),J=H&&a.getTokenAt({line:E+1,ch:H.text.length-1}),le=J&&r(J).indentedCode;le&&a.replaceRange(`
`,{line:E+1,ch:0});for(var K=_;K<=E;K++)a.indentLine(K,"subtract");a.focus()}else{var se=u.line===h.line&&u.ch===h.ch&&u.ch===0,we=u.line!==h.line;se||we?s(a,u,h,e):wa(a,!1,["`","`"])}}function tm(t){iE(t.codemirror,"quote")}function _f(t){Ts(t.codemirror,"smaller")}function nm(t){Ts(t.codemirror,"bigger")}function rm(t){Ts(t.codemirror,void 0,1)}function im(t){Ts(t.codemirror,void 0,2)}function om(t){Ts(t.codemirror,void 0,3)}function eE(t){Ts(t.codemirror,void 0,4)}function tE(t){Ts(t.codemirror,void 0,5)}function nE(t){Ts(t.codemirror,void 0,6)}function sm(t){var e=t.codemirror,n="*";["-","+","*"].includes(t.options.unorderedListStyle)&&(n=t.options.unorderedListStyle),iE(e,"unordered-list",n)}function am(t){iE(t.codemirror,"ordered-list")}function lm(t){pq(t.codemirror)}function um(t){var e=t.options,n="https://";if(e.promptURLs){var r=prompt(e.promptTexts.link,n);if(!r)return!1;n=Z2(r)}tL(t,"link",e.insertTexts.link,n)}function cm(t){var e=t.options,n="https://";if(e.promptURLs){var r=prompt(e.promptTexts.image,n);if(!r)return!1;n=Z2(r)}tL(t,"image",e.insertTexts.image,n)}function Z2(t){return encodeURI(t).replace(/([\\()])/g,"\\$1")}function rE(t){t.openBrowseFileWindow()}function eL(t,e){var n=t.codemirror,r=Ss(n),i=t.options,s=e.substr(e.lastIndexOf("/")+1),a=s.substring(s.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(a))wa(n,r.image,i.insertTexts.uploadedImage,e);else{var u=i.insertTexts.link;u[0]="["+s,wa(n,r.link,u,e)}t.updateStatusBar("upload-image",t.options.imageTexts.sbOnUploaded.replace("#image_name#",s)),setTimeout(function(){t.updateStatusBar("upload-image",t.options.imageTexts.sbInit)},1e3)}function fm(t){var e=t.codemirror,n=Ss(e),r=t.options;wa(e,n.table,r.insertTexts.table)}function hm(t){var e=t.codemirror,n=Ss(e),r=t.options;wa(e,n.image,r.insertTexts.horizontalRule)}function dm(t){var e=t.codemirror;e.undo(),e.focus()}function pm(t){var e=t.codemirror;e.redo(),e.focus()}function uu(t){var e=t.codemirror,n=e.getWrapperElement(),r=n.nextSibling,i=t.toolbarElements&&t.toolbarElements["side-by-side"],s=!1,a=n.parentNode;r.classList.contains("editor-preview-active-side")?(t.options.sideBySideFullscreen===!1&&a.classList.remove("sided--no-fullscreen"),r.classList.remove("editor-preview-active-side"),i&&i.classList.remove("active"),n.classList.remove("CodeMirror-sided")):(setTimeout(function(){e.getOption("fullScreen")||(t.options.sideBySideFullscreen===!1?a.classList.add("sided--no-fullscreen"):_a(t)),r.classList.add("editor-preview-active-side")},1),i&&i.classList.add("active"),n.classList.add("CodeMirror-sided"),s=!0);var u=n.lastChild;if(u.classList.contains("editor-preview-active")){u.classList.remove("editor-preview-active");var h=t.toolbarElements.preview,p=t.toolbar_div;h.classList.remove("active"),p.classList.remove("disabled-for-preview")}var m=function(){var _=t.options.previewRender(t.value(),r);_!=null&&(r.innerHTML=_)};if(e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=m),s){var v=t.options.previewRender(t.value(),r);v!=null&&(r.innerHTML=v),e.on("update",e.sideBySideRenderingFunction)}else e.off("update",e.sideBySideRenderingFunction);e.refresh()}function gm(t){var e=t.codemirror,n=e.getWrapperElement(),r=t.toolbar_div,i=t.options.toolbar?t.toolbarElements.preview:!1,s=n.lastChild,a=e.getWrapperElement().nextSibling;if(a.classList.contains("editor-preview-active-side")&&uu(t),!s||!s.classList.contains("editor-preview-full")){if(s=document.createElement("div"),s.className="editor-preview-full",t.options.previewClass)if(Array.isArray(t.options.previewClass))for(var u=0;u<t.options.previewClass.length;u++)s.classList.add(t.options.previewClass[u]);else typeof t.options.previewClass=="string"&&s.classList.add(t.options.previewClass);n.appendChild(s)}s.classList.contains("editor-preview-active")?(s.classList.remove("editor-preview-active"),i&&(i.classList.remove("active"),r.classList.remove("disabled-for-preview"))):(setTimeout(function(){s.classList.add("editor-preview-active")},1),i&&(i.classList.add("active"),r.classList.add("disabled-for-preview")));var h=t.options.previewRender(t.value(),s);h!==null&&(s.innerHTML=h)}function wa(t,e,n,r){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var i,s=n[0],a=n[1],u={},h={};Object.assign(u,t.getCursor("start")),Object.assign(h,t.getCursor("end")),r&&(s=s.replace("#url#",r),a=a.replace("#url#",r)),e?(i=t.getLine(u.line),s=i.slice(0,u.ch),a=i.slice(u.ch),t.replaceRange(s+a,{line:u.line,ch:0})):(i=t.getSelection(),t.replaceSelection(s+i+a),u.ch+=s.length,u!==h&&(h.ch+=s.length)),t.setSelection(u,h),t.focus()}}function Ts(t,e,n){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var r=t.getCursor("start"),i=t.getCursor("end"),s=r.line;s<=i.line;s++)(function(a){var u=t.getLine(a),h=u.search(/[^#]/);e!==void 0?h<=0?e=="bigger"?u="###### "+u:u="# "+u:h==6&&e=="smaller"?u=u.substr(7):h==1&&e=="bigger"?u=u.substr(2):e=="bigger"?u=u.substr(1):u="#"+u:h<=0?u="#".repeat(n)+" "+u:h==n?u=u.substr(h+1):u="#".repeat(n)+" "+u.substr(h+1),t.replaceRange(u,{line:a,ch:0},{line:a,ch:99999999999999})})(s);t.focus()}}function iE(t,e,n){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var r=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,i=/^\s*/,s=Ss(t),a=t.getCursor("start"),u=t.getCursor("end"),h={quote:/^(\s*)>\s+/,"unordered-list":r,"ordered-list":r},p=function(b,I){var P={quote:">","unordered-list":n,"ordered-list":"%%i."};return P[b].replace("%%i",I)},m=function(b,I){var P={quote:">","unordered-list":"\\"+n,"ordered-list":"\\d+."},T=new RegExp(P[b]);return I&&T.test(I)},v=function(b,I,P){var T=r.exec(I),C=p(b,_);return T!==null?(m(b,T[2])&&(C=""),I=T[1]+C+T[3]+I.replace(i,"").replace(h[b],"$1")):P==!1&&(I=C+" "+I),I},_=1,E=a.line;E<=u.line;E++)(function(b){var I=t.getLine(b);s[e]?I=I.replace(h[e],"$1"):(e=="unordered-list"&&(I=v("ordered-list",I,!0)),I=v(e,I,!1),_+=1),t.replaceRange(I,{line:b,ch:0},{line:b,ch:99999999999999})})(E);t.focus()}}function tL(t,e,n,r){if(!(!t.codemirror||t.isPreviewActive())){var i=t.codemirror,s=Ss(i),a=s[e];if(!a){wa(i,a,n,r);return}var u=i.getCursor("start"),h=i.getCursor("end"),p=i.getLine(u.line),m=p.slice(0,u.ch),v=p.slice(u.ch);e=="link"?m=m.replace(/(.*)[^!]\[/,"$1"):e=="image"&&(m=m.replace(/(.*)!\[$/,"$1")),v=v.replace(/]\(.*?\)/,""),i.replaceRange(m+v,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),u.ch-=n[0].length,u!==h&&(h.ch-=n[0].length),i.setSelection(u,h),i.focus()}}function oE(t,e,n,r){if(!(!t.codemirror||t.isPreviewActive())){r=typeof r>"u"?n:r;var i=t.codemirror,s=Ss(i),a,u=n,h=r,p=i.getCursor("start"),m=i.getCursor("end");s[e]?(a=i.getLine(p.line),u=a.slice(0,p.ch),h=a.slice(p.ch),e=="bold"?(u=u.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),h=h.replace(/(\*\*|__)/,"")):e=="italic"?(u=u.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),h=h.replace(/(\*|_)/,"")):e=="strikethrough"&&(u=u.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),h=h.replace(/(\*\*|~~)/,"")),i.replaceRange(u+h,{line:p.line,ch:0},{line:p.line,ch:99999999999999}),e=="bold"||e=="strikethrough"?(p.ch-=2,p!==m&&(m.ch-=2)):e=="italic"&&(p.ch-=1,p!==m&&(m.ch-=1))):(a=i.getSelection(),e=="bold"?(a=a.split("**").join(""),a=a.split("__").join("")):e=="italic"?(a=a.split("*").join(""),a=a.split("_").join("")):e=="strikethrough"&&(a=a.split("~~").join("")),i.replaceSelection(u+a+h),p.ch+=n.length,m.ch=p.ch+a.length),i.setSelection(p,m),i.focus()}}function pq(t){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var e=t.getCursor("start"),n=t.getCursor("end"),r,i=e.line;i<=n.line;i++)r=t.getLine(i),r=r.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}function Rp(t,e){if(Math.abs(t)<1024)return""+t+e[0];var n=0;do t/=1024,++n;while(Math.abs(t)>=1024&&n<e.length);return""+t.toFixed(1)+e[n]}function nL(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]instanceof Array?t[n]=e[n].concat(t[n]instanceof Array?t[n]:[]):e[n]!==null&&typeof e[n]=="object"&&e[n].constructor===Object?t[n]=nL(t[n]||{},e[n]):t[n]=e[n]);return t}function Xi(t){for(var e=1;e<arguments.length;e++)t=nL(t,arguments[e]);return t}function ZC(t){var e=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=t.match(e),r=0;if(n===null)return r;for(var i=0;i<n.length;i++)n[i].charCodeAt(0)>=19968?r+=n[i].length:r+=1;return r}var Dt={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},oa={bold:{name:"bold",action:Yg,className:Dt.bold,title:"Bold",default:!0},italic:{name:"italic",action:Jg,className:Dt.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:Zg,className:Dt.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:_f,className:Dt.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:_f,className:Dt["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:nm,className:Dt["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:rm,className:Dt["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:im,className:Dt["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:om,className:Dt["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:em,className:Dt.code,title:"Code"},quote:{name:"quote",action:tm,className:Dt.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:sm,className:Dt["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:am,className:Dt["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:lm,className:Dt["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:um,className:Dt.link,title:"Create Link",default:!0},image:{name:"image",action:cm,className:Dt.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:rE,className:Dt["upload-image"],title:"Import an image"},table:{name:"table",action:fm,className:Dt.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:hm,className:Dt["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:gm,className:Dt.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:uu,className:Dt["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:_a,className:Dt.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:Dt.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:dm,className:Dt.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:pm,className:Dt.redo,noDisable:!0,title:"Redo"}},gq={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},mq={link:"URL for the link:",image:"URL of the image:"},vq={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},yq={bold:"**",code:"```",italic:"*"},_q={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},wq={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function be(t){t=t||{},t.parent=this;var e=!0;if(t.autoDownloadFontAwesome===!1&&(e=!1),t.autoDownloadFontAwesome!==!0)for(var n=document.styleSheets,r=0;r<n.length;r++)n[r].href&&n[r].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(e=!1);if(e){var i=document.createElement("link");i.rel="stylesheet",i.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(i)}if(t.element)this.element=t.element;else if(t.element===null){console.log("EasyMDE: Error. No element was found.");return}if(t.toolbar===void 0){t.toolbar=[];for(var s in oa)Object.prototype.hasOwnProperty.call(oa,s)&&(s.indexOf("separator-")!=-1&&t.toolbar.push("|"),(oa[s].default===!0||t.showIcons&&t.showIcons.constructor===Array&&t.showIcons.indexOf(s)!=-1)&&t.toolbar.push(s))}if(Object.prototype.hasOwnProperty.call(t,"previewClass")||(t.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(t,"status")||(t.status=["autosave","lines","words","cursor"],t.uploadImage&&t.status.unshift("upload-image")),t.previewRender||(t.previewRender=function(u){return this.parent.markdown(u)}),t.parsingConfig=Xi({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=Xi({},gq,t.insertTexts||{}),t.promptTexts=Xi({},mq,t.promptTexts||{}),t.blockStyles=Xi({},yq,t.blockStyles||{}),t.autosave!=null&&(t.autosave.timeFormat=Xi({},vq,t.autosave.timeFormat||{})),t.iconClassMap=Xi({},Dt,t.iconClassMap||{}),t.shortcuts=Xi({},aq,t.shortcuts||{}),t.maxHeight=t.maxHeight||void 0,t.direction=t.direction||"ltr",typeof t.maxHeight<"u"?t.minHeight=t.maxHeight:t.minHeight=t.minHeight||"300px",t.errorCallback=t.errorCallback||function(u){alert(u)},t.uploadImage=t.uploadImage||!1,t.imageMaxSize=t.imageMaxSize||2097152,t.imageAccept=t.imageAccept||"image/png, image/jpeg, image/gif, image/avif",t.imageTexts=Xi({},_q,t.imageTexts||{}),t.errorMessages=Xi({},wq,t.errorMessages||{}),t.imagePathAbsolute=t.imagePathAbsolute||!1,t.imageCSRFName=t.imageCSRFName||"csrfmiddlewaretoken",t.imageCSRFHeader=t.imageCSRFHeader||!1,t.autosave!=null&&t.autosave.unique_id!=null&&t.autosave.unique_id!=""&&(t.autosave.uniqueId=t.autosave.unique_id),t.overlayMode&&t.overlayMode.combine===void 0&&(t.overlayMode.combine=!0),this.options=t,this.render(),t.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(t.initialValue),t.uploadImage){var a=this;this.codemirror.on("dragenter",function(u,h){a.updateStatusBar("upload-image",a.options.imageTexts.sbOnDragEnter),h.stopPropagation(),h.preventDefault()}),this.codemirror.on("dragend",function(u,h){a.updateStatusBar("upload-image",a.options.imageTexts.sbInit),h.stopPropagation(),h.preventDefault()}),this.codemirror.on("dragleave",function(u,h){a.updateStatusBar("upload-image",a.options.imageTexts.sbInit),h.stopPropagation(),h.preventDefault()}),this.codemirror.on("dragover",function(u,h){a.updateStatusBar("upload-image",a.options.imageTexts.sbOnDragEnter),h.stopPropagation(),h.preventDefault()}),this.codemirror.on("drop",function(u,h){h.stopPropagation(),h.preventDefault(),t.imageUploadFunction?a.uploadImagesUsingCustomFunction(t.imageUploadFunction,h.dataTransfer.files):a.uploadImages(h.dataTransfer.files)}),this.codemirror.on("paste",function(u,h){t.imageUploadFunction?a.uploadImagesUsingCustomFunction(t.imageUploadFunction,h.clipboardData.files):a.uploadImages(h.clipboardData.files)})}}be.prototype.uploadImages=function(t,e,n){if(t.length!==0){for(var r=[],i=0;i<t.length;i++)r.push(t[i].name),this.uploadImage(t[i],e,n);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",r.join(", ")))}};be.prototype.uploadImagesUsingCustomFunction=function(t,e){if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(e[r].name),this.uploadImageUsingCustomFunction(t,e[r]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",n.join(", ")))}};be.prototype.updateStatusBar=function(t,e){if(this.gui.statusbar){var n=this.gui.statusbar.getElementsByClassName(t);n.length===1?this.gui.statusbar.getElementsByClassName(t)[0].textContent=e:n.length===0?console.log("EasyMDE: status bar item "+t+" was not found."):console.log("EasyMDE: Several status bar items named "+t+" was found.")}};be.prototype.markdown=function(t){if(Cy){var e;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?e=this.options.renderingConfig.markedOptions:e={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var n=this.options.renderingConfig.hljs||window.hljs;n&&(e.highlight=function(i,s){return s&&n.getLanguage(s)?n.highlight(s,i).value:n.highlightAuto(i).value})}Cy.setOptions(e);var r=Cy.parse(t);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(r=this.options.renderingConfig.sanitizerFunction.call(this,r)),r=uq(r),r=cq(r),r}};be.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===t)return;this.element=t;var e=this.options,n=this,r={};for(var i in e.shortcuts)e.shortcuts[i]!==null&&yf[i]!==null&&function(P){r[J2(e.shortcuts[P])]=function(){var T=yf[P];typeof T=="function"?T(n):typeof T=="string"&&window.open(T,"_blank")}}(i);r.Enter="newlineAndIndentContinueMarkdownList",r.Tab="tabAndIndentMarkdownList",r["Shift-Tab"]="shiftTabAndUnindentMarkdownList",r.Esc=function(P){P.getOption("fullScreen")&&_a(n)},this.documentOnKeyDown=function(P){P=P||window.event,P.keyCode==27&&n.codemirror.getOption("fullScreen")&&_a(n)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var s,a;e.overlayMode?(Za.defineMode("overlay-mode",function(P){return Za.overlayMode(Za.getMode(P,e.spellChecker!==!1?"spell-checker":"gfm"),e.overlayMode.mode,e.overlayMode.combine)}),s="overlay-mode",a=e.parsingConfig,a.gitHubSpice=!1):(s=e.parsingConfig,s.name="gfm",s.gitHubSpice=!1),e.spellChecker!==!1&&(s="spell-checker",a=e.parsingConfig,a.name="gfm",a.gitHubSpice=!1,typeof e.spellChecker=="function"?e.spellChecker({codeMirrorInstance:Za}):oq({codeMirrorInstance:Za}));function u(P,T,C){return{addNew:!1}}if(this.codemirror=Za.fromTextArea(t,{mode:s,backdrop:a,theme:e.theme!=null?e.theme:"easymde",tabSize:e.tabSize!=null?e.tabSize:2,indentUnit:e.tabSize!=null?e.tabSize:2,indentWithTabs:e.indentWithTabs!==!1,lineNumbers:e.lineNumbers===!0,autofocus:e.autofocus===!0,extraKeys:r,direction:e.direction,lineWrapping:e.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:e.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:e.styleSelectedText!=null?e.styleSelectedText:!v1(),scrollbarStyle:e.scrollbarStyle!=null?e.scrollbarStyle:"native",configureMouse:u,inputStyle:e.inputStyle!=null?e.inputStyle:v1()?"contenteditable":"textarea",spellcheck:e.nativeSpellcheck!=null?e.nativeSpellcheck:!0,autoRefresh:e.autoRefresh!=null?e.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=e.minHeight,typeof e.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=e.maxHeight),e.forceSync===!0){var h=this.codemirror;h.on("change",function(){h.save()})}this.gui={};var p=document.createElement("div");p.classList.add("EasyMDEContainer"),p.setAttribute("role","application");var m=this.codemirror.getWrapperElement();m.parentNode.insertBefore(p,m),p.appendChild(m),e.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),e.status!==!1&&(this.gui.statusbar=this.createStatusbar()),e.autosave!=null&&e.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(n._autosave_timeout),n._autosave_timeout=setTimeout(function(){n.autosave()},n.options.autosave.submit_delay||n.options.autosave.delay||1e3)}));function v(P,T){var C,D=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return P<D?C=T+"px":C=T/P*100+"%",C}var _=this;function E(P,T){P.setAttribute("data-img-src",T.url),P.setAttribute("style","--bg-image:url("+T.url+");--width:"+T.naturalWidth+"px;--height:"+v(T.naturalWidth,T.naturalHeight)),_.codemirror.setSize()}function b(){e.previewImagesInEditor&&p.querySelectorAll(".cm-image-marker").forEach(function(P){var T=P.parentElement;if(T.innerText.match(/^!\[.*?\]\(.*\)/g)&&!T.hasAttribute("data-img-src")){var C=T.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),C&&C.length>=2){var D=C[1];if(e.imagesPreviewHandler){var N=e.imagesPreviewHandler(C[1]);typeof N=="string"&&(D=N)}if(window.EMDEimagesCache[D])E(T,window.EMDEimagesCache[D]);else{var O=document.createElement("img");O.onload=function(){window.EMDEimagesCache[D]={naturalWidth:O.naturalWidth,naturalHeight:O.naturalHeight,url:D},E(T,window.EMDEimagesCache[D])},O.src=D}}}})}this.codemirror.on("update",function(){b()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(e.autofocus===!0||t.autofocus)&&this.codemirror.focus();var I=this.codemirror;setTimeout((function(){I.refresh()}).bind(I),0)};be.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function rL(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}be.prototype.autosave=function(){if(rL()){var t=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(t.element.form!=null&&t.element.form!=null&&t.element.form.addEventListener("submit",function(){clearTimeout(t.autosaveTimeoutId),t.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+t.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var e=t.value();e!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,e):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var n=document.getElementById("autosaved");if(n!=null&&n!=null&&n!=""){var r=new Date,i=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(r),s=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;n.innerHTML=s+i}}else console.log("EasyMDE: localStorage not available, cannot autosave")};be.prototype.clearAutosavedValue=function(){if(rL()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};be.prototype.openBrowseFileWindow=function(t,e){var n=this,r=this.gui.toolbar.getElementsByClassName("imageInput")[0];r.click();function i(s){n.options.imageUploadFunction?n.uploadImagesUsingCustomFunction(n.options.imageUploadFunction,s.target.files):n.uploadImages(s.target.files,t,e),r.removeEventListener("change",i)}r.addEventListener("change",i)};be.prototype.uploadImage=function(t,e,n){var r=this;e=e||function(p){eL(r,p)};function i(h){r.updateStatusBar("upload-image",h),setTimeout(function(){r.updateStatusBar("upload-image",r.options.imageTexts.sbInit)},1e4),n&&typeof n=="function"&&n(h),r.options.errorCallback(h)}function s(h){var p=r.options.imageTexts.sizeUnits.split(",");return h.replace("#image_name#",t.name).replace("#image_size#",Rp(t.size,p)).replace("#image_max_size#",Rp(r.options.imageMaxSize,p))}if(t.size>this.options.imageMaxSize){i(s(this.options.errorMessages.fileTooLarge));return}var a=new FormData;a.append("image",t),r.options.imageCSRFToken&&!r.options.imageCSRFHeader&&a.append(r.options.imageCSRFName,r.options.imageCSRFToken);var u=new XMLHttpRequest;u.upload.onprogress=function(h){if(h.lengthComputable){var p=""+Math.round(h.loaded*100/h.total);r.updateStatusBar("upload-image",r.options.imageTexts.sbProgress.replace("#file_name#",t.name).replace("#progress#",p))}},u.open("POST",this.options.imageUploadEndpoint),r.options.imageCSRFToken&&r.options.imageCSRFHeader&&u.setRequestHeader(r.options.imageCSRFName,r.options.imageCSRFToken),u.onload=function(){try{var h=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),i(s(r.options.errorMessages.importError));return}this.status===200&&h&&!h.error&&h.data&&h.data.filePath?e((r.options.imagePathAbsolute?"":window.location.origin+"/")+h.data.filePath):h.error&&h.error in r.options.errorMessages?i(s(r.options.errorMessages[h.error])):h.error?i(s(h.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),i(s(r.options.errorMessages.importError)))},u.onerror=function(h){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+h.target.status+" ("+h.target.statusText+")"),i(r.options.errorMessages.importError)},u.send(a)};be.prototype.uploadImageUsingCustomFunction=function(t,e){var n=this;function r(a){eL(n,a)}function i(a){var u=s(a);n.updateStatusBar("upload-image",u),setTimeout(function(){n.updateStatusBar("upload-image",n.options.imageTexts.sbInit)},1e4),n.options.errorCallback(u)}function s(a){var u=n.options.imageTexts.sizeUnits.split(",");return a.replace("#image_name#",e.name).replace("#image_size#",Rp(e.size,u)).replace("#image_max_size#",Rp(n.options.imageMaxSize,u))}t.apply(this,[e,r,i])};be.prototype.setPreviewMaxHeight=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.nextSibling,r=parseInt(window.getComputedStyle(e).paddingTop),i=parseInt(window.getComputedStyle(e).borderTopWidth),s=parseInt(this.options.maxHeight),a=s+r*2+i*2,u=a.toString()+"px";n.style.height=u};be.prototype.createSideBySide=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.nextSibling;if(!n||!n.classList.contains("editor-preview-side")){if(n=document.createElement("div"),n.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var r=0;r<this.options.previewClass.length;r++)n.classList.add(this.options.previewClass[r]);else typeof this.options.previewClass=="string"&&n.classList.add(this.options.previewClass);e.parentNode.insertBefore(n,e.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return n;var i=!1,s=!1;return t.on("scroll",function(a){if(i){i=!1;return}s=!0;var u=a.getScrollInfo().height-a.getScrollInfo().clientHeight,h=parseFloat(a.getScrollInfo().top)/u,p=(n.scrollHeight-n.clientHeight)*h;n.scrollTop=p}),n.onscroll=function(){if(s){s=!1;return}i=!0;var a=n.scrollHeight-n.clientHeight,u=parseFloat(n.scrollTop)/a,h=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*u;t.scrollTo(0,h)},n};be.prototype.createToolbar=function(t){if(t=t||this.options.toolbar,!(!t||t.length===0)){var e;for(e=0;e<t.length;e++)oa[t[e]]!=null&&(t[e]=oa[t[e]]);var n=document.createElement("div");n.className="editor-toolbar",n.setAttribute("role","toolbar");var r=this,i={};for(r.toolbar=t,e=0;e<t.length;e++)if(!(t[e].name=="guide"&&r.options.toolbarGuideIcon===!1)&&!(r.options.hideIcons&&r.options.hideIcons.indexOf(t[e].name)!=-1)&&!((t[e].name=="fullscreen"||t[e].name=="side-by-side")&&v1())){if(t[e]==="|"){for(var s=!1,a=e+1;a<t.length;a++)t[a]!=="|"&&(!r.options.hideIcons||r.options.hideIcons.indexOf(t[a].name)==-1)&&(s=!0);if(!s)continue}(function(p){var m;if(p==="|"?m=hq():p.children?m=fq(p,r.options.toolbarTips,r.options.shortcuts,r):m=Pd(p,!0,r.options.toolbarTips,r.options.shortcuts,"button",r),i[p.name||p]=m,n.appendChild(m),p.name==="upload-image"){var v=document.createElement("input");v.className="imageInput",v.type="file",v.multiple=!0,v.name="image",v.accept=r.options.imageAccept,v.style.display="none",v.style.opacity=0,n.appendChild(v)}})(t[e])}r.toolbar_div=n,r.toolbarElements=i;var u=this.codemirror;u.on("cursorActivity",function(){var p=Ss(u);for(var m in i)(function(v){var _=i[v];p[v]?_.classList.add("active"):v!="fullscreen"&&v!="side-by-side"&&_.classList.remove("active")})(m)});var h=u.getWrapperElement();return h.parentNode.insertBefore(n,h),n}};be.prototype.createStatusbar=function(t){t=t||this.options.status;var e=this.options,n=this.codemirror;if(!(!t||t.length===0)){var r=[],i,s,a,u;for(i=0;i<t.length;i++)if(s=void 0,a=void 0,u=void 0,typeof t[i]=="object")r.push({className:t[i].className,defaultValue:t[i].defaultValue,onUpdate:t[i].onUpdate,onActivity:t[i].onActivity});else{var h=t[i];h==="words"?(u=function(E){E.innerHTML=ZC(n.getValue())},s=function(E){E.innerHTML=ZC(n.getValue())}):h==="lines"?(u=function(E){E.innerHTML=n.lineCount()},s=function(E){E.innerHTML=n.lineCount()}):h==="cursor"?(u=function(E){E.innerHTML="1:1"},a=function(E){var b=n.getCursor(),I=b.line+1,P=b.ch+1;E.innerHTML=I+":"+P}):h==="autosave"?u=function(E){e.autosave!=null&&e.autosave.enabled===!0&&E.setAttribute("id","autosaved")}:h==="upload-image"&&(u=function(E){E.innerHTML=e.imageTexts.sbInit}),r.push({className:h,defaultValue:u,onUpdate:s,onActivity:a})}var p=document.createElement("div");for(p.className="editor-statusbar",i=0;i<r.length;i++){var m=r[i],v=document.createElement("span");v.className=m.className,typeof m.defaultValue=="function"&&m.defaultValue(v),typeof m.onUpdate=="function"&&this.codemirror.on("update",function(E,b){return function(){b.onUpdate(E)}}(v,m)),typeof m.onActivity=="function"&&this.codemirror.on("cursorActivity",function(E,b){return function(){b.onActivity(E)}}(v,m)),p.appendChild(v)}var _=this.codemirror.getWrapperElement();return _.parentNode.insertBefore(p,_.nextSibling),p}};be.prototype.value=function(t){var e=this.codemirror;if(t===void 0)return e.getValue();if(e.getDoc().setValue(t),this.isPreviewActive()){var n=e.getWrapperElement(),r=n.lastChild,i=this.options.previewRender(t,r);i!==null&&(r.innerHTML=i)}return this};be.toggleBold=Yg;be.toggleItalic=Jg;be.toggleStrikethrough=Zg;be.toggleBlockquote=tm;be.toggleHeadingSmaller=_f;be.toggleHeadingBigger=nm;be.toggleHeading1=rm;be.toggleHeading2=im;be.toggleHeading3=om;be.toggleHeading4=eE;be.toggleHeading5=tE;be.toggleHeading6=nE;be.toggleCodeBlock=em;be.toggleUnorderedList=sm;be.toggleOrderedList=am;be.cleanBlock=lm;be.drawLink=um;be.drawImage=cm;be.drawUploadedImage=rE;be.drawTable=fm;be.drawHorizontalRule=hm;be.undo=dm;be.redo=pm;be.togglePreview=gm;be.toggleSideBySide=uu;be.toggleFullScreen=_a;be.prototype.toggleBold=function(){Yg(this)};be.prototype.toggleItalic=function(){Jg(this)};be.prototype.toggleStrikethrough=function(){Zg(this)};be.prototype.toggleBlockquote=function(){tm(this)};be.prototype.toggleHeadingSmaller=function(){_f(this)};be.prototype.toggleHeadingBigger=function(){nm(this)};be.prototype.toggleHeading1=function(){rm(this)};be.prototype.toggleHeading2=function(){im(this)};be.prototype.toggleHeading3=function(){om(this)};be.prototype.toggleHeading4=function(){eE(this)};be.prototype.toggleHeading5=function(){tE(this)};be.prototype.toggleHeading6=function(){nE(this)};be.prototype.toggleCodeBlock=function(){em(this)};be.prototype.toggleUnorderedList=function(){sm(this)};be.prototype.toggleOrderedList=function(){am(this)};be.prototype.cleanBlock=function(){lm(this)};be.prototype.drawLink=function(){um(this)};be.prototype.drawImage=function(){cm(this)};be.prototype.drawUploadedImage=function(){rE(this)};be.prototype.drawTable=function(){fm(this)};be.prototype.drawHorizontalRule=function(){hm(this)};be.prototype.undo=function(){dm(this)};be.prototype.redo=function(){pm(this)};be.prototype.togglePreview=function(){gm(this)};be.prototype.toggleSideBySide=function(){uu(this)};be.prototype.toggleFullScreen=function(){_a(this)};be.prototype.isPreviewActive=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.lastChild;return n.classList.contains("editor-preview-active")};be.prototype.isSideBySideActive=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.nextSibling;return n.classList.contains("editor-preview-active-side")};be.prototype.isFullscreenActive=function(){var t=this.codemirror;return t.getOption("fullScreen")};be.prototype.getState=function(){var t=this.codemirror;return Ss(t)};be.prototype.toTextArea=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.parentNode;n&&(this.gui.toolbar&&n.removeChild(this.gui.toolbar),this.gui.statusbar&&n.removeChild(this.gui.statusbar),this.gui.sideBySide&&n.removeChild(this.gui.sideBySide)),n.parentNode.insertBefore(e,n),n.remove(),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var Eq=be;const xq=ps(Eq);var kq=0,Sq=()=>`simplemde-editor-${++kq}`,Tq=({options:t,id:e,currentValueRef:n,textRef:r})=>{const[i,s]=oe.useState(null),a=oe.useCallback((p,m,v)=>{const _=t==null?void 0:t.imageUploadFunction;_&&_(p,b=>{m(b)},v)},[t==null?void 0:t.imageUploadFunction]),u=oe.useRef(i);u.current=i,oe.useEffect(()=>{let p;if(r){const m={element:r,initialValue:n.current},v=t!=null&&t.imageUploadFunction?a:void 0;p=new xq(Object.assign({},m,t,{imageUploadFunction:v})),s(p)}return()=>{p==null||p.toTextArea(),p==null||p.cleanup()}},[r,n,e,a,t]);const h=oe.useMemo(()=>i==null?void 0:i.codemirror,[i==null?void 0:i.codemirror]);return{editor:i,codemirror:h}},iL=$e.forwardRef((t,e)=>{const{events:n,value:r,options:i,children:s,extraKeys:a,getLineAndCursor:u,getMdeInstance:h,getCodemirrorInstance:p,onChange:m,id:v,placeholder:_,textareaProps:E,...b}=t,I=oe.useMemo(()=>v??Sq(),[v]),P=oe.useRef(null),T=oe.useRef(!0),C=oe.useRef(r);C.current=r;const[D,N]=oe.useState(null),{editor:O,codemirror:L}=Tq({options:i,id:I,currentValueRef:C,textRef:D});oe.useEffect(()=>{T.current&&(O==null||O.value(r??"")),T.current=!0},[O,r]);const M=oe.useCallback((le,K)=>{(O==null?void 0:O.value())!==C.current&&(T.current=!1,m==null||m((O==null?void 0:O.value())??"",K))},[O,m]);oe.useEffect(()=>{i!=null&&i.autofocus&&(L==null||L.focus(),L==null||L.setCursor(L==null?void 0:L.lineCount(),0))},[L,i==null?void 0:i.autofocus]);const H=oe.useCallback(()=>{L&&(u==null||u(L.getDoc().getCursor()))},[L,u]);oe.useEffect(()=>{H()},[H]),oe.useEffect(()=>{O&&(h==null||h(O))},[O,h]),oe.useEffect(()=>{L&&(p==null||p(L))},[L,p,h]),oe.useEffect(()=>{a&&L&&L.setOption("extraKeys",Object.assign({},L.getOption("extraKeys"),a))},[L,a]),oe.useEffect(()=>{var le;const K=(le=P.current)==null?void 0:le.getElementsByClassName("editor-toolbarNode")[0],se=L&&M;return se?(K==null||K.addEventListener("click",se),()=>{K==null||K.removeEventListener("click",se)}):()=>{}},[L,M]),oe.useEffect(()=>(L==null||L.on("change",M),L==null||L.on("cursorActivity",H),()=>{L==null||L.off("change",M),L==null||L.off("cursorActivity",H)}),[L,H,M]);const J=oe.useRef(n);return oe.useEffect(()=>(n!==J.current&&J.current&&Object.entries(J.current).forEach(([K,se])=>{se&&(L==null||L.off(K,se))}),n&&Object.entries(n).forEach(([K,se])=>{se&&(L==null||L.on(K,se))}),J.current=n,()=>{n&&Object.entries(n).forEach(([K,se])=>{se&&(L==null||L.off(K,se))})}),[L,n]),$e.createElement("div",{id:`${I}-wrapper`,...b,ref:le=>{typeof e=="function"?e(le):e&&(e.current=le),P.current=le}},$e.createElement("textarea",{...E,id:I,placeholder:_,ref:N,style:{display:"none"}}))});iL.displayName="SimpleMdeReact";var Cq=iL;function eD({user:t,setActive:e}){const n={title:"",tags:[],category:"",description:"",comments:[],likes:[]},r=["","","","",""],i=oe.useMemo(()=>({spellChecker:!1,maxHeight:"400px",autofocus:!0,placeholder:" ...",status:!1,autosave:{enabled:!0,delay:1e3}}),[]),[s,a]=oe.useState(n),[u,h]=oe.useState(null),[p,m]=oe.useState(null),{id:v}=m_(),_=Jl(),{title:E,tags:b,category:I,description:P}=s,T=async M=>{if(M.preventDefault(),I&&b&&E&&P)if(v)try{await EV(df(ao,"blogs",v),{...s,timestamp:LT(),author:t.displayName,userId:t.uid}),ut.success(" ",ia)}catch(H){console.log(H)}else try{await kV(hf(ao,"blogs"),{...s,timestamp:LT(),author:t.displayName,userId:t.uid}),ut.success(" ",ia)}catch(H){console.log(H)}else return ut.error("  ",ia);_("/")},C=M=>{a({...s,[M.target.name]:M.target.value})},D=M=>{a({...s,description:M})},N=M=>{a({...s,category:M.target.value})},O=M=>{a({...s,tags:M})};oe.useEffect(()=>{u&&(()=>{const H=Q8(EW,u.name),J=G8(H,u);J.on("state_changed",le=>{const K=le.bytesTransferred/le.totalBytes*100;switch(console.log("Upload is "+K+"% done"),m(K),le.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}},le=>{console.log(le)},()=>{K8(J.snapshot.ref).then(le=>{a(K=>({...K,imgUrl:le})),ut.success(" ",{autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"})})})})()},[u]),oe.useEffect(()=>{v&&L()},[v]);const L=async()=>{const M=df(ao,"blogs",v),H=await eP(M);H.exists()&&a({...H.data()}),e(null)};return Q.jsx("div",{className:"container-fluid mb-4",children:Q.jsxs("div",{className:"container",children:[Q.jsx("div",{className:"col-12",children:Q.jsx("div",{className:"text-center heading py-2",children:v?"Update Blog":"Create Blog"})}),Q.jsx("div",{className:"row h-100 justify-content-center align-items-center",children:Q.jsx("div",{className:"col-10 col-md-8 col-lg-6",children:Q.jsxs("form",{className:"row blog-form",onSubmit:T,children:[Q.jsx("div",{className:"col-12 py-3",children:Q.jsx("input",{type:"text",className:"form-control input-text-box",placeholder:"",name:"title",value:E,onChange:C})}),Q.jsx("div",{className:"col-12 py-3",children:Q.jsx(WW,{tags:b,placeholder:"",onChange:O})}),Q.jsx("div",{className:"col-12 py-3",children:Q.jsxs("select",{value:I,onChange:N,className:"catg-dropdown",children:[Q.jsx("option",{children:" "}),r.map((M,H)=>Q.jsx("option",{value:M||"",children:M},H))]})}),Q.jsx("div",{className:"col-12 py-3"}),Q.jsx(Cq,{className:"editor",value:P,onChange:D,options:i}),Q.jsx("div",{className:"mb-3",children:Q.jsx("input",{type:"file",className:"form-control",onChange:M=>h(M.target.files[0])})}),Q.jsx("div",{className:"col-12 py-3 text-center",children:Q.jsx("button",{className:"btn btn-add",type:"submit",disabled:p!==null&&p<100,children:v?"":""})})]})})})]})})}function Dq(){return Q.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:Q.jsx("div",{className:"container padding",children:Q.jsx("div",{className:"row mx-0",children:Q.jsx("div",{className:"col-md-8",children:Q.jsx("div",{className:"blog-heading text-start py-2 mb-4",style:{borderBottom:0},children:"  "})})})})})}function Aq(){return Q.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:Q.jsx("div",{className:"container padding",children:Q.jsx("div",{className:"row mx-0",children:Q.jsx("div",{className:"col-md-8",children:Q.jsx("div",{className:"blog-heading text-start py-2 mb-4",style:{borderBottom:0},children:" "})})})})})}function bq({active:t,setActive:e,user:n,handleLogout:r}){const i=n==null?void 0:n.uid;return Q.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Q.jsx("div",{className:"container-fluid bg-faded padding-media",children:Q.jsx("div",{className:"container padding-media",children:Q.jsxs("nav",{className:"navbar navbar-toggleable-md navbar-light",children:[Q.jsx("button",{className:"navbar-toggler mt-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","data-bs-parent":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"true","aria-label":"Toggle Navigation",children:"button"}),Q.jsxs("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Q.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",style:{display:"flex"},children:[Q.jsx(Gs,{to:"/",style:{textDecoration:"none"},children:Q.jsx("li",{className:`nav-item nav-link ${t==="home"?"active":""}`,onClick:()=>e("home"),children:""})}),i&&Q.jsx(Gs,{to:"/create",style:{textDecoration:"none"},children:Q.jsx("li",{className:`nav-item nav-link ${t==="create"?"active":""}`,onClick:()=>e("create"),children:" "})}),Q.jsx(Gs,{to:"/about",style:{textDecoration:"none"},children:Q.jsx("li",{className:`nav-item nav-link ${t==="about"?"active":""}`,onClick:()=>e("about"),children:" "})})]}),Q.jsx("div",{className:"row g-3",children:Q.jsx("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:i?Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:"profile-logo",children:Q.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"logo",style:{width:"30px",height:"30px",borderRadius:"50%",marginTop:"12px"}})}),Q.jsx("p",{style:{marginTop:"12px",marginLeft:"5px"},children:n==null?void 0:n.displayName}),Q.jsx("li",{className:"nav-item nav-link",onClick:r,children:""})]}):Q.jsx(Gs,{to:"/auth",style:{textDecoration:"none"},children:Q.jsx("li",{className:`nav-item nav-link ${t==="login"?"active":""}`,onClick:()=>e("login"),children:""})})})})]})]})})})})}const Iq={firstName:"",lastName:"",email:"",password:"",confirmPassword:""};function Rq({setActive:t,setUser:e}){const[n,r]=oe.useState(Iq),[i,s]=oe.useState(!1),{email:a,password:u,firstName:h,lastName:p,confirmPassword:m}=n,v=Jl(),_=b=>{r({...n,[b.target.name]:b.target.value})},E=async b=>{if(b.preventDefault(),i){if(u!==m)return ut.error("  ",ia);if(h&&p&&a&&u){const{user:I}=await e7(bp,a,u);await r7(I,{displayName:`${h} ${p}`}),t("home")}else return ut.error("   ",ia)}else if(a&&u){const{user:I}=await t7(bp,a,u);e(I),t("home")}else return ut.error("   ",ia);v("/")};return Q.jsx("div",{className:"container-fluid mb-4",children:Q.jsxs("div",{className:"container",children:[Q.jsx("div",{className:"col-12 text-center",children:Q.jsx("div",{className:"text-center heading py-2",children:i?"":""})}),Q.jsx("div",{className:"row h-100 justify-content-center align-items-center",children:Q.jsxs("div",{className:"col-10 col-md-8 col-lg-6",children:[Q.jsxs("form",{className:"row",onSubmit:E,children:[i&&Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:"col-6 py-3",children:Q.jsx("input",{type:"text",className:"form-control input-text-box",placeholder:"",name:"firstName",minLength:3,value:h,onChange:_})}),Q.jsx("div",{className:"col-6 py-3",children:Q.jsx("input",{type:"text",className:"form-control input-text-box",placeholder:"",name:"lastName",minLength:2,value:p,onChange:_})})]}),Q.jsx("div",{className:"col-12 py-3",children:Q.jsx("input",{type:"email",className:"form-control input-text-box",placeholder:"Email",pattern:"^\\S+@\\S+\\.\\S+$",name:"email",value:a,onChange:_})}),Q.jsx("div",{className:"col-12 py-3",children:Q.jsx("input",{type:"password",className:"form-control input-text-box",placeholder:"",name:"password",value:u,pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,16}$",onChange:_})}),i&&Q.jsx("div",{className:"col-12 py-3",children:Q.jsx("input",{type:"password",className:"form-control input-text-box",placeholder:" ",name:"confirmPassword",value:m,minLength:6,onChange:_})}),Q.jsx("div",{className:"col-12 py-3 text-center",children:Q.jsx("button",{className:`btn ${i?"btn-sign-up":"btn-sign-in"}`,type:"submit",children:i?"":""})})]}),Q.jsx("div",{children:i?Q.jsx(Q.Fragment,{children:Q.jsx("div",{className:"text-center justify-content-center mt-2 pt-2",children:Q.jsxs("p",{className:"small fw-bold mt-2 pt-1 mb-0",children:[" ?",Q.jsx("span",{style:{textDecoration:"none",cursor:"pointer",color:"#298af2"},onClick:()=>s(!1),children:""})]})})}):Q.jsx(Q.Fragment,{children:Q.jsx("div",{className:"text-center justify-content-center mt-2 pt-2",children:Q.jsxs("p",{className:"small fw-bold mt-2 pt-1 mb-0",children:[" ?",Q.jsx("span",{className:"link-danger",style:{textDecoration:"none",cursor:"pointer"},onClick:()=>s(!0),children:""})]})})})})]})})]})})}const Pq=({setActive:t})=>{const[e,n]=oe.useState([]),[r,i]=oe.useState(!1),{tag:s}=m_(),a=async()=>{i(!0);const u=hf(ao,"blogs"),h=Z0(u,XR("tags","array-contains",s)),p=await Sd(h);let m=[];p.forEach(v=>{m.push({id:v.id,...v.data()})}),n(m),i(!1)};return oe.useEffect(()=>{a(),t(null)},[]),r?Q.jsx($P,{}):Q.jsx("div",{children:Q.jsx("div",{className:"container",children:Q.jsxs("div",{className:"row",children:[Q.jsxs("div",{className:"blog-heading text-center py-2 mb-4",children:[": ",Q.jsx("strong",{children:s.toLocaleUpperCase()})]}),e==null?void 0:e.map(u=>Q.jsx("div",{className:"col-md-6",children:Q.jsx(jP,{...u},u.id)}))]})})})};function Lq(){const[t,e]=oe.useState("home"),[n,r]=oe.useState(null),i=Jl();oe.useEffect(()=>{bp.onAuthStateChanged(a=>{r(a||null)})},[]);const s=()=>{s7(bp).then(()=>{r(null),e("login"),i("/auth")})};return Q.jsxs("div",{className:"App",children:[Q.jsx(bq,{setActive:e,active:t,user:n,handleLogout:s}),Q.jsx(LW,{position:"top-center",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),Q.jsxs(I3,{children:[Q.jsx(Yi,{path:"/",element:Q.jsx(NW,{setActive:e,active:t,user:n})}),Q.jsx(Yi,{path:"/detail/:id",element:Q.jsx(FW,{setActive:e,user:n})}),Q.jsx(Yi,{path:"/create",element:n!=null&&n.uid?Q.jsx(eD,{user:n}):Q.jsx(wS,{to:"/"})}),Q.jsx(Yi,{path:"/update/:id",element:n!=null&&n.uid?Q.jsx(eD,{user:n}):Q.jsx(wS,{to:"/"})}),Q.jsx(Yi,{path:"/about",element:Q.jsx(Aq,{})}),Q.jsx(Yi,{path:"/auth",element:Q.jsx(Rq,{setActive:e,setUser:r})}),Q.jsx(Yi,{path:"/tag/:tag",element:Q.jsx(Pq,{setActive:e})}),Q.jsx(Yi,{path:"*",element:Q.jsx(Dq,{})})]})]})}Dy.createRoot(document.getElementById("root")).render(Q.jsx($e.StrictMode,{children:Q.jsx(M3,{children:Q.jsx(Lq,{})})}));
