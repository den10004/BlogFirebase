function c5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function f5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var fD={exports:{}},ry={},hD={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=Symbol.for("react.element"),h5=Symbol.for("react.portal"),d5=Symbol.for("react.fragment"),p5=Symbol.for("react.strict_mode"),g5=Symbol.for("react.profiler"),m5=Symbol.for("react.provider"),v5=Symbol.for("react.context"),y5=Symbol.for("react.forward_ref"),_5=Symbol.for("react.suspense"),w5=Symbol.for("react.memo"),x5=Symbol.for("react.lazy"),vk=Symbol.iterator;function E5(t){return t===null||typeof t!="object"?null:(t=vk&&t[vk]||t["@@iterator"],typeof t=="function"?t:null)}var dD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pD=Object.assign,gD={};function qh(t,e,n){this.props=t,this.context=e,this.refs=gD,this.updater=n||dD}qh.prototype.isReactComponent={};qh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mD(){}mD.prototype=qh.prototype;function YC(t,e,n){this.props=t,this.context=e,this.refs=gD,this.updater=n||dD}var JC=YC.prototype=new mD;JC.constructor=YC;pD(JC,qh.prototype);JC.isPureReactComponent=!0;var yk=Array.isArray,vD=Object.prototype.hasOwnProperty,ZC={current:null},yD={key:!0,ref:!0,__self:!0,__source:!0};function _D(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)vD.call(e,r)&&!yD.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var p=Array(c),m=0;m<c;m++)p[m]=arguments[m+2];i.children=p}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:tm,type:t,key:s,ref:a,props:i,_owner:ZC.current}}function C5(t,e){return{$$typeof:tm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function e2(t){return typeof t=="object"&&t!==null&&t.$$typeof===tm}function S5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _k=/\/+/g;function Zw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?S5(""+t.key):e.toString(36)}function D0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case tm:case h5:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Zw(a,0):r,yk(i)?(n="",t!=null&&(n=t.replace(_k,"$&/")+"/"),D0(i,e,n,"",function(m){return m})):i!=null&&(e2(i)&&(i=C5(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(_k,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",yk(t))for(var c=0;c<t.length;c++){s=t[c];var p=r+Zw(s,c);a+=D0(s,e,n,p,i)}else if(p=E5(t),typeof p=="function")for(t=p.call(t),c=0;!(s=t.next()).done;)s=s.value,p=r+Zw(s,c++),a+=D0(s,e,n,p,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Yv(t,e,n){if(t==null)return t;var r=[],i=0;return D0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function T5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xi={current:null},R0={transition:null},k5={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:R0,ReactCurrentOwner:ZC};Mt.Children={map:Yv,forEach:function(t,e,n){Yv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yv(t,function(){e++}),e},toArray:function(t){return Yv(t,function(e){return e})||[]},only:function(t){if(!e2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Mt.Component=qh;Mt.Fragment=d5;Mt.Profiler=g5;Mt.PureComponent=YC;Mt.StrictMode=p5;Mt.Suspense=_5;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k5;Mt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pD({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=ZC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(p in e)vD.call(e,p)&&!yD.hasOwnProperty(p)&&(r[p]=e[p]===void 0&&c!==void 0?c[p]:e[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){c=Array(p);for(var m=0;m<p;m++)c[m]=arguments[m+2];r.children=c}return{$$typeof:tm,type:t.type,key:i,ref:s,props:r,_owner:a}};Mt.createContext=function(t){return t={$$typeof:v5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m5,_context:t},t.Consumer=t};Mt.createElement=_D;Mt.createFactory=function(t){var e=_D.bind(null,t);return e.type=t,e};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(t){return{$$typeof:y5,render:t}};Mt.isValidElement=e2;Mt.lazy=function(t){return{$$typeof:x5,_payload:{_status:-1,_result:t},_init:T5}};Mt.memo=function(t,e){return{$$typeof:w5,type:t,compare:e===void 0?null:e}};Mt.startTransition=function(t){var e=R0.transition;R0.transition={};try{t()}finally{R0.transition=e}};Mt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Mt.useCallback=function(t,e){return xi.current.useCallback(t,e)};Mt.useContext=function(t){return xi.current.useContext(t)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(t){return xi.current.useDeferredValue(t)};Mt.useEffect=function(t,e){return xi.current.useEffect(t,e)};Mt.useId=function(){return xi.current.useId()};Mt.useImperativeHandle=function(t,e,n){return xi.current.useImperativeHandle(t,e,n)};Mt.useInsertionEffect=function(t,e){return xi.current.useInsertionEffect(t,e)};Mt.useLayoutEffect=function(t,e){return xi.current.useLayoutEffect(t,e)};Mt.useMemo=function(t,e){return xi.current.useMemo(t,e)};Mt.useReducer=function(t,e,n){return xi.current.useReducer(t,e,n)};Mt.useRef=function(t){return xi.current.useRef(t)};Mt.useState=function(t){return xi.current.useState(t)};Mt.useSyncExternalStore=function(t,e,n){return xi.current.useSyncExternalStore(t,e,n)};Mt.useTransition=function(){return xi.current.useTransition()};Mt.version="18.2.0";hD.exports=Mt;var de=hD.exports;const ct=jc(de),A5=c5({__proto__:null,default:ct},[de]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I5=de,b5=Symbol.for("react.element"),D5=Symbol.for("react.fragment"),R5=Object.prototype.hasOwnProperty,P5=I5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L5={key:!0,ref:!0,__self:!0,__source:!0};function wD(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)R5.call(e,r)&&!L5.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:b5,type:t,key:s,ref:a,props:i,_owner:P5.current}}ry.Fragment=D5;ry.jsx=wD;ry.jsxs=wD;fD.exports=ry;var W=fD.exports,sE={},xD={exports:{}},go={},ED={exports:{}},CD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(he,Pe){var q=he.length;he.push(Pe);e:for(;0<q;){var tt=q-1>>>1,Q=he[tt];if(0<i(Q,Pe))he[tt]=Pe,he[q]=Q,q=tt;else break e}}function n(he){return he.length===0?null:he[0]}function r(he){if(he.length===0)return null;var Pe=he[0],q=he.pop();if(q!==Pe){he[0]=q;e:for(var tt=0,Q=he.length,C=Q>>>1;tt<C;){var fe=2*(tt+1)-1,nt=he[fe],Ve=fe+1,At=he[Ve];if(0>i(nt,q))Ve<Q&&0>i(At,nt)?(he[tt]=At,he[Ve]=q,tt=Ve):(he[tt]=nt,he[fe]=q,tt=fe);else if(Ve<Q&&0>i(At,q))he[tt]=At,he[Ve]=q,tt=Ve;else break e}}return Pe}function i(he,Pe){var q=he.sortIndex-Pe.sortIndex;return q!==0?q:he.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var p=[],m=[],y=1,w=null,E=3,S=!1,L=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(he){for(var Pe=n(m);Pe!==null;){if(Pe.callback===null)r(m);else if(Pe.startTime<=he)r(m),Pe.sortIndex=Pe.expirationTime,e(p,Pe);else break;Pe=n(m)}}function B(he){if(O=!1,D(he),!L)if(n(p)!==null)L=!0,_e(j);else{var Pe=n(m);Pe!==null&&me(B,Pe.startTime-he)}}function j(he,Pe){L=!1,O&&(O=!1,R(Y),Y=-1),S=!0;var q=E;try{for(D(Pe),w=n(p);w!==null&&(!(w.expirationTime>Pe)||he&&!ie());){var tt=w.callback;if(typeof tt=="function"){w.callback=null,E=w.priorityLevel;var Q=tt(w.expirationTime<=Pe);Pe=t.unstable_now(),typeof Q=="function"?w.callback=Q:w===n(p)&&r(p),D(Pe)}else r(p);w=n(p)}if(w!==null)var C=!0;else{var fe=n(m);fe!==null&&me(B,fe.startTime-Pe),C=!1}return C}finally{w=null,E=q,S=!1}}var U=!1,$=null,Y=-1,ae=5,xe=-1;function ie(){return!(t.unstable_now()-xe<ae)}function ye(){if($!==null){var he=t.unstable_now();xe=he;var Pe=!0;try{Pe=$(!0,he)}finally{Pe?Ue():(U=!1,$=null)}}else U=!1}var Ue;if(typeof b=="function")Ue=function(){b(ye)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,J=Le.port2;Le.port1.onmessage=ye,Ue=function(){J.postMessage(null)}}else Ue=function(){M(ye,0)};function _e(he){$=he,U||(U=!0,Ue())}function me(he,Pe){Y=M(function(){he(t.unstable_now())},Pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(he){he.callback=null},t.unstable_continueExecution=function(){L||S||(L=!0,_e(j))},t.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<he?Math.floor(1e3/he):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(he){switch(E){case 1:case 2:case 3:var Pe=3;break;default:Pe=E}var q=E;E=Pe;try{return he()}finally{E=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(he,Pe){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var q=E;E=he;try{return Pe()}finally{E=q}},t.unstable_scheduleCallback=function(he,Pe,q){var tt=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?tt+q:tt):q=tt,he){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=q+Q,he={id:y++,callback:Pe,priorityLevel:he,startTime:q,expirationTime:Q,sortIndex:-1},q>tt?(he.sortIndex=q,e(m,he),n(p)===null&&he===n(m)&&(O?(R(Y),Y=-1):O=!0,me(B,q-tt))):(he.sortIndex=Q,e(p,he),L||S||(L=!0,_e(j))),he},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(he){var Pe=E;return function(){var q=E;E=Pe;try{return he.apply(this,arguments)}finally{E=q}}}})(CD);ED.exports=CD;var N5=ED.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SD=de,ho=N5;function Ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TD=new Set,dg={};function Wc(t,e){Ih(t,e),Ih(t+"Capture",e)}function Ih(t,e){for(dg[t]=e,t=0;t<e.length;t++)TD.add(e[t])}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aE=Object.prototype.hasOwnProperty,F5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wk={},xk={};function O5(t){return aE.call(xk,t)?!0:aE.call(wk,t)?!1:F5.test(t)?xk[t]=!0:(wk[t]=!0,!1)}function M5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B5(t,e,n,r){if(e===null||typeof e>"u"||M5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ei(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qr[t]=new Ei(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qr[e]=new Ei(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qr[t]=new Ei(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qr[t]=new Ei(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qr[t]=new Ei(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qr[t]=new Ei(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qr[t]=new Ei(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qr[t]=new Ei(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qr[t]=new Ei(t,5,!1,t.toLowerCase(),null,!1,!1)});var t2=/[\-:]([a-z])/g;function n2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(t2,n2);Qr[e]=new Ei(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(t2,n2);Qr[e]=new Ei(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(t2,n2);Qr[e]=new Ei(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qr[t]=new Ei(t,1,!1,t.toLowerCase(),null,!1,!1)});Qr.xlinkHref=new Ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qr[t]=new Ei(t,1,!1,t.toLowerCase(),null,!0,!0)});function r2(t,e,n,r){var i=Qr.hasOwnProperty(e)?Qr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(B5(e,n,i,r)&&(n=null),r||i===null?O5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ja=SD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jv=Symbol.for("react.element"),th=Symbol.for("react.portal"),nh=Symbol.for("react.fragment"),i2=Symbol.for("react.strict_mode"),lE=Symbol.for("react.profiler"),kD=Symbol.for("react.provider"),AD=Symbol.for("react.context"),o2=Symbol.for("react.forward_ref"),uE=Symbol.for("react.suspense"),cE=Symbol.for("react.suspense_list"),s2=Symbol.for("react.memo"),Bl=Symbol.for("react.lazy"),ID=Symbol.for("react.offscreen"),Ek=Symbol.iterator;function Ep(t){return t===null||typeof t!="object"?null:(t=Ek&&t[Ek]||t["@@iterator"],typeof t=="function"?t:null)}var Gn=Object.assign,ex;function Fp(t){if(ex===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ex=e&&e[1]||""}return`
`+ex+t}var tx=!1;function nx(t,e){if(!t||tx)return"";tx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var r=m}Reflect.construct(t,[],e)}else{try{e.call()}catch(m){r=m}t.call(e.prototype)}else{try{throw Error()}catch(m){r=m}t()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var p=`
`+i[a].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=a&&0<=c);break}}}finally{tx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fp(t):""}function U5(t){switch(t.tag){case 5:return Fp(t.type);case 16:return Fp("Lazy");case 13:return Fp("Suspense");case 19:return Fp("SuspenseList");case 0:case 2:case 15:return t=nx(t.type,!1),t;case 11:return t=nx(t.type.render,!1),t;case 1:return t=nx(t.type,!0),t;default:return""}}function fE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nh:return"Fragment";case th:return"Portal";case lE:return"Profiler";case i2:return"StrictMode";case uE:return"Suspense";case cE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AD:return(t.displayName||"Context")+".Consumer";case kD:return(t._context.displayName||"Context")+".Provider";case o2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case s2:return e=t.displayName||null,e!==null?e:fE(t.type)||"Memo";case Bl:e=t._payload,t=t._init;try{return fE(t(e))}catch{}}return null}function z5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fE(e);case 8:return e===i2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V5(t){var e=bD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zv(t){t._valueTracker||(t._valueTracker=V5(t))}function DD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function e1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hE(t,e){var n=e.checked;return Gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ck(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RD(t,e){e=e.checked,e!=null&&r2(t,"checked",e,!1)}function dE(t,e){RD(t,e);var n=hu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pE(t,e.type,n):e.hasOwnProperty("defaultValue")&&pE(t,e.type,hu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pE(t,e,n){(e!=="number"||e1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Op=Array.isArray;function gh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return Gn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ne(92));if(Op(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hu(n)}}function PD(t,e){var n=hu(e.value),r=hu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var e0,ND=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(e0=e0||document.createElement("div"),e0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=e0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$5=["Webkit","ms","Moz","O"];Object.keys(qp).forEach(function(t){$5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qp[e]=qp[t]})});function FD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qp.hasOwnProperty(t)&&qp[t]?(""+e).trim():e+"px"}function OD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=FD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var H5=Gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vE(t,e){if(e){if(H5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function yE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _E=null;function a2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wE=null,mh=null,vh=null;function Ak(t){if(t=im(t)){if(typeof wE!="function")throw Error(Ne(280));var e=t.stateNode;e&&(e=ly(e),wE(t.stateNode,t.type,e))}}function MD(t){mh?vh?vh.push(t):vh=[t]:mh=t}function BD(){if(mh){var t=mh,e=vh;if(vh=mh=null,Ak(t),e)for(t=0;t<e.length;t++)Ak(e[t])}}function UD(t,e){return t(e)}function zD(){}var rx=!1;function VD(t,e,n){if(rx)return t(e,n);rx=!0;try{return UD(t,e,n)}finally{rx=!1,(mh!==null||vh!==null)&&(zD(),BD())}}function gg(t,e){var n=t.stateNode;if(n===null)return null;var r=ly(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ne(231,e,typeof n));return n}var xE=!1;if(Wa)try{var Cp={};Object.defineProperty(Cp,"passive",{get:function(){xE=!0}}),window.addEventListener("test",Cp,Cp),window.removeEventListener("test",Cp,Cp)}catch{xE=!1}function j5(t,e,n,r,i,s,a,c,p){var m=Array.prototype.slice.call(arguments,3);try{e.apply(n,m)}catch(y){this.onError(y)}}var Gp=!1,t1=null,n1=!1,EE=null,W5={onError:function(t){Gp=!0,t1=t}};function q5(t,e,n,r,i,s,a,c,p){Gp=!1,t1=null,j5.apply(W5,arguments)}function G5(t,e,n,r,i,s,a,c,p){if(q5.apply(this,arguments),Gp){if(Gp){var m=t1;Gp=!1,t1=null}else throw Error(Ne(198));n1||(n1=!0,EE=m)}}function qc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $D(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ik(t){if(qc(t)!==t)throw Error(Ne(188))}function K5(t){var e=t.alternate;if(!e){if(e=qc(t),e===null)throw Error(Ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ik(i),t;if(s===r)return Ik(i),e;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?t:e}function HD(t){return t=K5(t),t!==null?jD(t):null}function jD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jD(t);if(e!==null)return e;t=t.sibling}return null}var WD=ho.unstable_scheduleCallback,bk=ho.unstable_cancelCallback,Q5=ho.unstable_shouldYield,X5=ho.unstable_requestPaint,hr=ho.unstable_now,Y5=ho.unstable_getCurrentPriorityLevel,l2=ho.unstable_ImmediatePriority,qD=ho.unstable_UserBlockingPriority,r1=ho.unstable_NormalPriority,J5=ho.unstable_LowPriority,GD=ho.unstable_IdlePriority,iy=null,Xs=null;function Z5(t){if(Xs&&typeof Xs.onCommitFiberRoot=="function")try{Xs.onCommitFiberRoot(iy,t,void 0,(t.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:n8,e8=Math.log,t8=Math.LN2;function n8(t){return t>>>=0,t===0?32:31-(e8(t)/t8|0)|0}var t0=64,n0=4194304;function Mp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function i1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=Mp(c):(s&=a,s!==0&&(r=Mp(s)))}else a=n&~i,a!==0?r=Mp(a):s!==0&&(r=Mp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hs(e),i=1<<n,r|=t[n],e&=~i;return r}function r8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-hs(s),c=1<<a,p=i[a];p===-1?(!(c&n)||c&r)&&(i[a]=r8(c,e)):p<=e&&(t.expiredLanes|=c),s&=~c}}function CE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KD(){var t=t0;return t0<<=1,!(t0&4194240)&&(t0=64),t}function ix(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hs(e),t[e]=n}function o8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function u2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var cn=0;function QD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XD,c2,YD,JD,ZD,SE=!1,r0=[],eu=null,tu=null,nu=null,mg=new Map,vg=new Map,Vl=[],s8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dk(t,e){switch(t){case"focusin":case"focusout":eu=null;break;case"dragenter":case"dragleave":tu=null;break;case"mouseover":case"mouseout":nu=null;break;case"pointerover":case"pointerout":mg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vg.delete(e.pointerId)}}function Sp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=im(e),e!==null&&c2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function a8(t,e,n,r,i){switch(e){case"focusin":return eu=Sp(eu,t,e,n,r,i),!0;case"dragenter":return tu=Sp(tu,t,e,n,r,i),!0;case"mouseover":return nu=Sp(nu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return mg.set(s,Sp(mg.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vg.set(s,Sp(vg.get(s)||null,t,e,n,r,i)),!0}return!1}function eR(t){var e=dc(t.target);if(e!==null){var n=qc(e);if(n!==null){if(e=n.tag,e===13){if(e=$D(n),e!==null){t.blockedOn=e,ZD(t.priority,function(){YD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function P0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=TE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_E=r,n.target.dispatchEvent(r),_E=null}else return e=im(n),e!==null&&c2(e),t.blockedOn=n,!1;e.shift()}return!0}function Rk(t,e,n){P0(t)&&n.delete(e)}function l8(){SE=!1,eu!==null&&P0(eu)&&(eu=null),tu!==null&&P0(tu)&&(tu=null),nu!==null&&P0(nu)&&(nu=null),mg.forEach(Rk),vg.forEach(Rk)}function Tp(t,e){t.blockedOn===e&&(t.blockedOn=null,SE||(SE=!0,ho.unstable_scheduleCallback(ho.unstable_NormalPriority,l8)))}function yg(t){function e(i){return Tp(i,t)}if(0<r0.length){Tp(r0[0],t);for(var n=1;n<r0.length;n++){var r=r0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(eu!==null&&Tp(eu,t),tu!==null&&Tp(tu,t),nu!==null&&Tp(nu,t),mg.forEach(e),vg.forEach(e),n=0;n<Vl.length;n++)r=Vl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vl.length&&(n=Vl[0],n.blockedOn===null);)eR(n),n.blockedOn===null&&Vl.shift()}var yh=Ja.ReactCurrentBatchConfig,o1=!0;function u8(t,e,n,r){var i=cn,s=yh.transition;yh.transition=null;try{cn=1,f2(t,e,n,r)}finally{cn=i,yh.transition=s}}function c8(t,e,n,r){var i=cn,s=yh.transition;yh.transition=null;try{cn=4,f2(t,e,n,r)}finally{cn=i,yh.transition=s}}function f2(t,e,n,r){if(o1){var i=TE(t,e,n,r);if(i===null)px(t,e,r,s1,n),Dk(t,r);else if(a8(i,t,e,n,r))r.stopPropagation();else if(Dk(t,r),e&4&&-1<s8.indexOf(t)){for(;i!==null;){var s=im(i);if(s!==null&&XD(s),s=TE(t,e,n,r),s===null&&px(t,e,r,s1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else px(t,e,r,null,n)}}var s1=null;function TE(t,e,n,r){if(s1=null,t=a2(r),t=dc(t),t!==null)if(e=qc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$D(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return s1=t,null}function tR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y5()){case l2:return 1;case qD:return 4;case r1:case J5:return 16;case GD:return 536870912;default:return 16}default:return 16}}var Kl=null,h2=null,L0=null;function nR(){if(L0)return L0;var t,e=h2,n=e.length,r,i="value"in Kl?Kl.value:Kl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return L0=i.slice(t,1<r?1-r:void 0)}function N0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function i0(){return!0}function Pk(){return!1}function mo(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?i0:Pk,this.isPropagationStopped=Pk,this}return Gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=i0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=i0)},persist:function(){},isPersistent:i0}),e}var Gh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d2=mo(Gh),rm=Gn({},Gh,{view:0,detail:0}),f8=mo(rm),ox,sx,kp,oy=Gn({},rm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kp&&(kp&&t.type==="mousemove"?(ox=t.screenX-kp.screenX,sx=t.screenY-kp.screenY):sx=ox=0,kp=t),ox)},movementY:function(t){return"movementY"in t?t.movementY:sx}}),Lk=mo(oy),h8=Gn({},oy,{dataTransfer:0}),d8=mo(h8),p8=Gn({},rm,{relatedTarget:0}),ax=mo(p8),g8=Gn({},Gh,{animationName:0,elapsedTime:0,pseudoElement:0}),m8=mo(g8),v8=Gn({},Gh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y8=mo(v8),_8=Gn({},Gh,{data:0}),Nk=mo(_8),w8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=E8[t])?!!e[t]:!1}function p2(){return C8}var S8=Gn({},rm,{key:function(t){if(t.key){var e=w8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=N0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?x8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p2,charCode:function(t){return t.type==="keypress"?N0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?N0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T8=mo(S8),k8=Gn({},oy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fk=mo(k8),A8=Gn({},rm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p2}),I8=mo(A8),b8=Gn({},Gh,{propertyName:0,elapsedTime:0,pseudoElement:0}),D8=mo(b8),R8=Gn({},oy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P8=mo(R8),L8=[9,13,27,32],g2=Wa&&"CompositionEvent"in window,Kp=null;Wa&&"documentMode"in document&&(Kp=document.documentMode);var N8=Wa&&"TextEvent"in window&&!Kp,rR=Wa&&(!g2||Kp&&8<Kp&&11>=Kp),Ok=" ",Mk=!1;function iR(t,e){switch(t){case"keyup":return L8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rh=!1;function F8(t,e){switch(t){case"compositionend":return oR(e);case"keypress":return e.which!==32?null:(Mk=!0,Ok);case"textInput":return t=e.data,t===Ok&&Mk?null:t;default:return null}}function O8(t,e){if(rh)return t==="compositionend"||!g2&&iR(t,e)?(t=nR(),L0=h2=Kl=null,rh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rR&&e.locale!=="ko"?null:e.data;default:return null}}var M8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M8[t.type]:e==="textarea"}function sR(t,e,n,r){MD(r),e=a1(e,"onChange"),0<e.length&&(n=new d2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qp=null,_g=null;function B8(t){vR(t,0)}function sy(t){var e=sh(t);if(DD(e))return t}function U8(t,e){if(t==="change")return e}var aR=!1;if(Wa){var lx;if(Wa){var ux="oninput"in document;if(!ux){var Uk=document.createElement("div");Uk.setAttribute("oninput","return;"),ux=typeof Uk.oninput=="function"}lx=ux}else lx=!1;aR=lx&&(!document.documentMode||9<document.documentMode)}function zk(){Qp&&(Qp.detachEvent("onpropertychange",lR),_g=Qp=null)}function lR(t){if(t.propertyName==="value"&&sy(_g)){var e=[];sR(e,_g,t,a2(t)),VD(B8,e)}}function z8(t,e,n){t==="focusin"?(zk(),Qp=e,_g=n,Qp.attachEvent("onpropertychange",lR)):t==="focusout"&&zk()}function V8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sy(_g)}function $8(t,e){if(t==="click")return sy(e)}function H8(t,e){if(t==="input"||t==="change")return sy(e)}function j8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gs=typeof Object.is=="function"?Object.is:j8;function wg(t,e){if(gs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!aE.call(e,i)||!gs(t[i],e[i]))return!1}return!0}function Vk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $k(t,e){var n=Vk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vk(n)}}function uR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cR(){for(var t=window,e=e1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=e1(t.document)}return e}function m2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W8(t){var e=cR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uR(n.ownerDocument.documentElement,n)){if(r!==null&&m2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$k(n,s);var a=$k(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var q8=Wa&&"documentMode"in document&&11>=document.documentMode,ih=null,kE=null,Xp=null,AE=!1;function Hk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;AE||ih==null||ih!==e1(r)||(r=ih,"selectionStart"in r&&m2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xp&&wg(Xp,r)||(Xp=r,r=a1(kE,"onSelect"),0<r.length&&(e=new d2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ih)))}function o0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oh={animationend:o0("Animation","AnimationEnd"),animationiteration:o0("Animation","AnimationIteration"),animationstart:o0("Animation","AnimationStart"),transitionend:o0("Transition","TransitionEnd")},cx={},fR={};Wa&&(fR=document.createElement("div").style,"AnimationEvent"in window||(delete oh.animationend.animation,delete oh.animationiteration.animation,delete oh.animationstart.animation),"TransitionEvent"in window||delete oh.transitionend.transition);function ay(t){if(cx[t])return cx[t];if(!oh[t])return t;var e=oh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fR)return cx[t]=e[n];return t}var hR=ay("animationend"),dR=ay("animationiteration"),pR=ay("animationstart"),gR=ay("transitionend"),mR=new Map,jk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _u(t,e){mR.set(t,e),Wc(e,[t])}for(var fx=0;fx<jk.length;fx++){var hx=jk[fx],G8=hx.toLowerCase(),K8=hx[0].toUpperCase()+hx.slice(1);_u(G8,"on"+K8)}_u(hR,"onAnimationEnd");_u(dR,"onAnimationIteration");_u(pR,"onAnimationStart");_u("dblclick","onDoubleClick");_u("focusin","onFocus");_u("focusout","onBlur");_u(gR,"onTransitionEnd");Ih("onMouseEnter",["mouseout","mouseover"]);Ih("onMouseLeave",["mouseout","mouseover"]);Ih("onPointerEnter",["pointerout","pointerover"]);Ih("onPointerLeave",["pointerout","pointerover"]);Wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bp));function Wk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,G5(r,e,void 0,t),t.currentTarget=null}function vR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],p=c.instance,m=c.currentTarget;if(c=c.listener,p!==s&&i.isPropagationStopped())break e;Wk(i,c,m),s=p}else for(a=0;a<r.length;a++){if(c=r[a],p=c.instance,m=c.currentTarget,c=c.listener,p!==s&&i.isPropagationStopped())break e;Wk(i,c,m),s=p}}}if(n1)throw t=EE,n1=!1,EE=null,t}function Dn(t,e){var n=e[PE];n===void 0&&(n=e[PE]=new Set);var r=t+"__bubble";n.has(r)||(yR(e,t,2,!1),n.add(r))}function dx(t,e,n){var r=0;e&&(r|=4),yR(n,t,r,e)}var s0="_reactListening"+Math.random().toString(36).slice(2);function xg(t){if(!t[s0]){t[s0]=!0,TD.forEach(function(n){n!=="selectionchange"&&(Q8.has(n)||dx(n,!1,t),dx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[s0]||(e[s0]=!0,dx("selectionchange",!1,e))}}function yR(t,e,n,r){switch(tR(e)){case 1:var i=u8;break;case 4:i=c8;break;default:i=f2}n=i.bind(null,e,n,t),i=void 0,!xE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function px(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var p=a.tag;if((p===3||p===4)&&(p=a.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;a=a.return}for(;c!==null;){if(a=dc(c),a===null)return;if(p=a.tag,p===5||p===6){r=s=a;continue e}c=c.parentNode}}r=r.return}VD(function(){var m=s,y=a2(n),w=[];e:{var E=mR.get(t);if(E!==void 0){var S=d2,L=t;switch(t){case"keypress":if(N0(n)===0)break e;case"keydown":case"keyup":S=T8;break;case"focusin":L="focus",S=ax;break;case"focusout":L="blur",S=ax;break;case"beforeblur":case"afterblur":S=ax;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Lk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=d8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=I8;break;case hR:case dR:case pR:S=m8;break;case gR:S=D8;break;case"scroll":S=f8;break;case"wheel":S=P8;break;case"copy":case"cut":case"paste":S=y8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Fk}var O=(e&4)!==0,M=!O&&t==="scroll",R=O?E!==null?E+"Capture":null:E;O=[];for(var b=m,D;b!==null;){D=b;var B=D.stateNode;if(D.tag===5&&B!==null&&(D=B,R!==null&&(B=gg(b,R),B!=null&&O.push(Eg(b,B,D)))),M)break;b=b.return}0<O.length&&(E=new S(E,L,null,n,y),w.push({event:E,listeners:O}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",E&&n!==_E&&(L=n.relatedTarget||n.fromElement)&&(dc(L)||L[qa]))break e;if((S||E)&&(E=y.window===y?y:(E=y.ownerDocument)?E.defaultView||E.parentWindow:window,S?(L=n.relatedTarget||n.toElement,S=m,L=L?dc(L):null,L!==null&&(M=qc(L),L!==M||L.tag!==5&&L.tag!==6)&&(L=null)):(S=null,L=m),S!==L)){if(O=Lk,B="onMouseLeave",R="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(O=Fk,B="onPointerLeave",R="onPointerEnter",b="pointer"),M=S==null?E:sh(S),D=L==null?E:sh(L),E=new O(B,b+"leave",S,n,y),E.target=M,E.relatedTarget=D,B=null,dc(y)===m&&(O=new O(R,b+"enter",L,n,y),O.target=D,O.relatedTarget=M,B=O),M=B,S&&L)t:{for(O=S,R=L,b=0,D=O;D;D=qf(D))b++;for(D=0,B=R;B;B=qf(B))D++;for(;0<b-D;)O=qf(O),b--;for(;0<D-b;)R=qf(R),D--;for(;b--;){if(O===R||R!==null&&O===R.alternate)break t;O=qf(O),R=qf(R)}O=null}else O=null;S!==null&&qk(w,E,S,O,!1),L!==null&&M!==null&&qk(w,M,L,O,!0)}}e:{if(E=m?sh(m):window,S=E.nodeName&&E.nodeName.toLowerCase(),S==="select"||S==="input"&&E.type==="file")var j=U8;else if(Bk(E))if(aR)j=H8;else{j=V8;var U=z8}else(S=E.nodeName)&&S.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(j=$8);if(j&&(j=j(t,m))){sR(w,j,n,y);break e}U&&U(t,E,m),t==="focusout"&&(U=E._wrapperState)&&U.controlled&&E.type==="number"&&pE(E,"number",E.value)}switch(U=m?sh(m):window,t){case"focusin":(Bk(U)||U.contentEditable==="true")&&(ih=U,kE=m,Xp=null);break;case"focusout":Xp=kE=ih=null;break;case"mousedown":AE=!0;break;case"contextmenu":case"mouseup":case"dragend":AE=!1,Hk(w,n,y);break;case"selectionchange":if(q8)break;case"keydown":case"keyup":Hk(w,n,y)}var $;if(g2)e:{switch(t){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else rh?iR(t,n)&&(Y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Y="onCompositionStart");Y&&(rR&&n.locale!=="ko"&&(rh||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&rh&&($=nR()):(Kl=y,h2="value"in Kl?Kl.value:Kl.textContent,rh=!0)),U=a1(m,Y),0<U.length&&(Y=new Nk(Y,t,null,n,y),w.push({event:Y,listeners:U}),$?Y.data=$:($=oR(n),$!==null&&(Y.data=$)))),($=N8?F8(t,n):O8(t,n))&&(m=a1(m,"onBeforeInput"),0<m.length&&(y=new Nk("onBeforeInput","beforeinput",null,n,y),w.push({event:y,listeners:m}),y.data=$))}vR(w,e)})}function Eg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function a1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gg(t,n),s!=null&&r.unshift(Eg(t,s,i)),s=gg(t,e),s!=null&&r.push(Eg(t,s,i))),t=t.return}return r}function qf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qk(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var c=n,p=c.alternate,m=c.stateNode;if(p!==null&&p===r)break;c.tag===5&&m!==null&&(c=m,i?(p=gg(n,s),p!=null&&a.unshift(Eg(n,p,c))):i||(p=gg(n,s),p!=null&&a.push(Eg(n,p,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var X8=/\r\n?/g,Y8=/\u0000|\uFFFD/g;function Gk(t){return(typeof t=="string"?t:""+t).replace(X8,`
`).replace(Y8,"")}function a0(t,e,n){if(e=Gk(e),Gk(t)!==e&&n)throw Error(Ne(425))}function l1(){}var IE=null,bE=null;function DE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var RE=typeof setTimeout=="function"?setTimeout:void 0,J8=typeof clearTimeout=="function"?clearTimeout:void 0,Kk=typeof Promise=="function"?Promise:void 0,Z8=typeof queueMicrotask=="function"?queueMicrotask:typeof Kk<"u"?function(t){return Kk.resolve(null).then(t).catch(eM)}:RE;function eM(t){setTimeout(function(){throw t})}function gx(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yg(e)}function ru(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kh=Math.random().toString(36).slice(2),js="__reactFiber$"+Kh,Cg="__reactProps$"+Kh,qa="__reactContainer$"+Kh,PE="__reactEvents$"+Kh,tM="__reactListeners$"+Kh,nM="__reactHandles$"+Kh;function dc(t){var e=t[js];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qa]||n[js]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qk(t);t!==null;){if(n=t[js])return n;t=Qk(t)}return e}t=n,n=t.parentNode}return null}function im(t){return t=t[js]||t[qa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ne(33))}function ly(t){return t[Cg]||null}var LE=[],ah=-1;function wu(t){return{current:t}}function Nn(t){0>ah||(t.current=LE[ah],LE[ah]=null,ah--)}function Cn(t,e){ah++,LE[ah]=t.current,t.current=e}var du={},si=wu(du),Bi=wu(!1),bc=du;function bh(t,e){var n=t.type.contextTypes;if(!n)return du;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ui(t){return t=t.childContextTypes,t!=null}function u1(){Nn(Bi),Nn(si)}function Xk(t,e,n){if(si.current!==du)throw Error(Ne(168));Cn(si,e),Cn(Bi,n)}function _R(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ne(108,z5(t)||"Unknown",i));return Gn({},n,r)}function c1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||du,bc=si.current,Cn(si,t),Cn(Bi,Bi.current),!0}function Yk(t,e,n){var r=t.stateNode;if(!r)throw Error(Ne(169));n?(t=_R(t,e,bc),r.__reactInternalMemoizedMergedChildContext=t,Nn(Bi),Nn(si),Cn(si,t)):Nn(Bi),Cn(Bi,n)}var Ma=null,uy=!1,mx=!1;function wR(t){Ma===null?Ma=[t]:Ma.push(t)}function rM(t){uy=!0,wR(t)}function xu(){if(!mx&&Ma!==null){mx=!0;var t=0,e=cn;try{var n=Ma;for(cn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ma=null,uy=!1}catch(i){throw Ma!==null&&(Ma=Ma.slice(t+1)),WD(l2,xu),i}finally{cn=e,mx=!1}}return null}var lh=[],uh=0,f1=null,h1=0,No=[],Fo=0,Dc=null,Ba=1,Ua="";function lc(t,e){lh[uh++]=h1,lh[uh++]=f1,f1=t,h1=e}function xR(t,e,n){No[Fo++]=Ba,No[Fo++]=Ua,No[Fo++]=Dc,Dc=t;var r=Ba;t=Ua;var i=32-hs(r)-1;r&=~(1<<i),n+=1;var s=32-hs(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ba=1<<32-hs(e)+i|n<<i|r,Ua=s+t}else Ba=1<<s|n<<i|r,Ua=t}function v2(t){t.return!==null&&(lc(t,1),xR(t,1,0))}function y2(t){for(;t===f1;)f1=lh[--uh],lh[uh]=null,h1=lh[--uh],lh[uh]=null;for(;t===Dc;)Dc=No[--Fo],No[Fo]=null,Ua=No[--Fo],No[Fo]=null,Ba=No[--Fo],No[Fo]=null}var fo=null,so=null,Bn=!1,fs=null;function ER(t,e){var n=Uo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fo=t,so=ru(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fo=t,so=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Dc!==null?{id:Ba,overflow:Ua}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Uo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fo=t,so=null,!0):!1;default:return!1}}function NE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function FE(t){if(Bn){var e=so;if(e){var n=e;if(!Jk(t,e)){if(NE(t))throw Error(Ne(418));e=ru(n.nextSibling);var r=fo;e&&Jk(t,e)?ER(r,n):(t.flags=t.flags&-4097|2,Bn=!1,fo=t)}}else{if(NE(t))throw Error(Ne(418));t.flags=t.flags&-4097|2,Bn=!1,fo=t}}}function Zk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fo=t}function l0(t){if(t!==fo)return!1;if(!Bn)return Zk(t),Bn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!DE(t.type,t.memoizedProps)),e&&(e=so)){if(NE(t))throw CR(),Error(Ne(418));for(;e;)ER(t,e),e=ru(e.nextSibling)}if(Zk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){so=ru(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}so=null}}else so=fo?ru(t.stateNode.nextSibling):null;return!0}function CR(){for(var t=so;t;)t=ru(t.nextSibling)}function Dh(){so=fo=null,Bn=!1}function _2(t){fs===null?fs=[t]:fs.push(t)}var iM=Ja.ReactCurrentBatchConfig;function us(t,e){if(t&&t.defaultProps){e=Gn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var d1=wu(null),p1=null,ch=null,w2=null;function x2(){w2=ch=p1=null}function E2(t){var e=d1.current;Nn(d1),t._currentValue=e}function OE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _h(t,e){p1=t,w2=ch=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mi=!0),t.firstContext=null)}function $o(t){var e=t._currentValue;if(w2!==t)if(t={context:t,memoizedValue:e,next:null},ch===null){if(p1===null)throw Error(Ne(308));ch=t,p1.dependencies={lanes:0,firstContext:t}}else ch=ch.next=t;return e}var pc=null;function C2(t){pc===null?pc=[t]:pc.push(t)}function SR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,C2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ga(t,r)}function Ga(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ul=!1;function S2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ha(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function iu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ga(t,n)}return i=r.interleaved,i===null?(e.next=e,C2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ga(t,n)}function F0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u2(t,n)}}function eA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function g1(t,e,n,r){var i=t.updateQueue;Ul=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var p=c,m=p.next;p.next=null,a===null?s=m:a.next=m,a=p;var y=t.alternate;y!==null&&(y=y.updateQueue,c=y.lastBaseUpdate,c!==a&&(c===null?y.firstBaseUpdate=m:c.next=m,y.lastBaseUpdate=p))}if(s!==null){var w=i.baseState;a=0,y=m=p=null,c=s;do{var E=c.lane,S=c.eventTime;if((r&E)===E){y!==null&&(y=y.next={eventTime:S,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var L=t,O=c;switch(E=e,S=n,O.tag){case 1:if(L=O.payload,typeof L=="function"){w=L.call(S,w,E);break e}w=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=O.payload,E=typeof L=="function"?L.call(S,w,E):L,E==null)break e;w=Gn({},w,E);break e;case 2:Ul=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,E=i.effects,E===null?i.effects=[c]:E.push(c))}else S={eventTime:S,lane:E,tag:c.tag,payload:c.payload,callback:c.callback,next:null},y===null?(m=y=S,p=w):y=y.next=S,a|=E;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;E=c,c=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(y===null&&(p=w),i.baseState=p,i.firstBaseUpdate=m,i.lastBaseUpdate=y,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pc|=a,t.lanes=a,t.memoizedState=w}}function tA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var kR=new SD.Component().refs;function ME(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cy={isMounted:function(t){return(t=t._reactInternals)?qc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_i(),i=su(t),s=Ha(r,i);s.payload=e,n!=null&&(s.callback=n),e=iu(t,s,i),e!==null&&(ds(e,t,i,r),F0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_i(),i=su(t),s=Ha(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=iu(t,s,i),e!==null&&(ds(e,t,i,r),F0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_i(),r=su(t),i=Ha(n,r);i.tag=2,e!=null&&(i.callback=e),e=iu(t,i,r),e!==null&&(ds(e,t,r,n),F0(e,t,r))}};function nA(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!wg(n,r)||!wg(i,s):!0}function AR(t,e,n){var r=!1,i=du,s=e.contextType;return typeof s=="object"&&s!==null?s=$o(s):(i=Ui(e)?bc:si.current,r=e.contextTypes,s=(r=r!=null)?bh(t,i):du),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cy.enqueueReplaceState(e,e.state,null)}function BE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=kR,S2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$o(s):(s=Ui(e)?bc:si.current,i.context=bh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ME(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cy.enqueueReplaceState(i,i.state,null),g1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ap(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var c=i.refs;c===kR&&(c=i.refs={}),a===null?delete c[s]:c[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,t))}return t}function u0(t,e){throw t=Object.prototype.toString.call(e),Error(Ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iA(t){var e=t._init;return e(t._payload)}function IR(t){function e(R,b){if(t){var D=R.deletions;D===null?(R.deletions=[b],R.flags|=16):D.push(b)}}function n(R,b){if(!t)return null;for(;b!==null;)e(R,b),b=b.sibling;return null}function r(R,b){for(R=new Map;b!==null;)b.key!==null?R.set(b.key,b):R.set(b.index,b),b=b.sibling;return R}function i(R,b){return R=au(R,b),R.index=0,R.sibling=null,R}function s(R,b,D){return R.index=D,t?(D=R.alternate,D!==null?(D=D.index,D<b?(R.flags|=2,b):D):(R.flags|=2,b)):(R.flags|=1048576,b)}function a(R){return t&&R.alternate===null&&(R.flags|=2),R}function c(R,b,D,B){return b===null||b.tag!==6?(b=Cx(D,R.mode,B),b.return=R,b):(b=i(b,D),b.return=R,b)}function p(R,b,D,B){var j=D.type;return j===nh?y(R,b,D.props.children,B,D.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Bl&&iA(j)===b.type)?(B=i(b,D.props),B.ref=Ap(R,b,D),B.return=R,B):(B=V0(D.type,D.key,D.props,null,R.mode,B),B.ref=Ap(R,b,D),B.return=R,B)}function m(R,b,D,B){return b===null||b.tag!==4||b.stateNode.containerInfo!==D.containerInfo||b.stateNode.implementation!==D.implementation?(b=Sx(D,R.mode,B),b.return=R,b):(b=i(b,D.children||[]),b.return=R,b)}function y(R,b,D,B,j){return b===null||b.tag!==7?(b=Ec(D,R.mode,B,j),b.return=R,b):(b=i(b,D),b.return=R,b)}function w(R,b,D){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Cx(""+b,R.mode,D),b.return=R,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jv:return D=V0(b.type,b.key,b.props,null,R.mode,D),D.ref=Ap(R,null,b),D.return=R,D;case th:return b=Sx(b,R.mode,D),b.return=R,b;case Bl:var B=b._init;return w(R,B(b._payload),D)}if(Op(b)||Ep(b))return b=Ec(b,R.mode,D,null),b.return=R,b;u0(R,b)}return null}function E(R,b,D,B){var j=b!==null?b.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return j!==null?null:c(R,b,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Jv:return D.key===j?p(R,b,D,B):null;case th:return D.key===j?m(R,b,D,B):null;case Bl:return j=D._init,E(R,b,j(D._payload),B)}if(Op(D)||Ep(D))return j!==null?null:y(R,b,D,B,null);u0(R,D)}return null}function S(R,b,D,B,j){if(typeof B=="string"&&B!==""||typeof B=="number")return R=R.get(D)||null,c(b,R,""+B,j);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Jv:return R=R.get(B.key===null?D:B.key)||null,p(b,R,B,j);case th:return R=R.get(B.key===null?D:B.key)||null,m(b,R,B,j);case Bl:var U=B._init;return S(R,b,D,U(B._payload),j)}if(Op(B)||Ep(B))return R=R.get(D)||null,y(b,R,B,j,null);u0(b,B)}return null}function L(R,b,D,B){for(var j=null,U=null,$=b,Y=b=0,ae=null;$!==null&&Y<D.length;Y++){$.index>Y?(ae=$,$=null):ae=$.sibling;var xe=E(R,$,D[Y],B);if(xe===null){$===null&&($=ae);break}t&&$&&xe.alternate===null&&e(R,$),b=s(xe,b,Y),U===null?j=xe:U.sibling=xe,U=xe,$=ae}if(Y===D.length)return n(R,$),Bn&&lc(R,Y),j;if($===null){for(;Y<D.length;Y++)$=w(R,D[Y],B),$!==null&&(b=s($,b,Y),U===null?j=$:U.sibling=$,U=$);return Bn&&lc(R,Y),j}for($=r(R,$);Y<D.length;Y++)ae=S($,R,Y,D[Y],B),ae!==null&&(t&&ae.alternate!==null&&$.delete(ae.key===null?Y:ae.key),b=s(ae,b,Y),U===null?j=ae:U.sibling=ae,U=ae);return t&&$.forEach(function(ie){return e(R,ie)}),Bn&&lc(R,Y),j}function O(R,b,D,B){var j=Ep(D);if(typeof j!="function")throw Error(Ne(150));if(D=j.call(D),D==null)throw Error(Ne(151));for(var U=j=null,$=b,Y=b=0,ae=null,xe=D.next();$!==null&&!xe.done;Y++,xe=D.next()){$.index>Y?(ae=$,$=null):ae=$.sibling;var ie=E(R,$,xe.value,B);if(ie===null){$===null&&($=ae);break}t&&$&&ie.alternate===null&&e(R,$),b=s(ie,b,Y),U===null?j=ie:U.sibling=ie,U=ie,$=ae}if(xe.done)return n(R,$),Bn&&lc(R,Y),j;if($===null){for(;!xe.done;Y++,xe=D.next())xe=w(R,xe.value,B),xe!==null&&(b=s(xe,b,Y),U===null?j=xe:U.sibling=xe,U=xe);return Bn&&lc(R,Y),j}for($=r(R,$);!xe.done;Y++,xe=D.next())xe=S($,R,Y,xe.value,B),xe!==null&&(t&&xe.alternate!==null&&$.delete(xe.key===null?Y:xe.key),b=s(xe,b,Y),U===null?j=xe:U.sibling=xe,U=xe);return t&&$.forEach(function(ye){return e(R,ye)}),Bn&&lc(R,Y),j}function M(R,b,D,B){if(typeof D=="object"&&D!==null&&D.type===nh&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Jv:e:{for(var j=D.key,U=b;U!==null;){if(U.key===j){if(j=D.type,j===nh){if(U.tag===7){n(R,U.sibling),b=i(U,D.props.children),b.return=R,R=b;break e}}else if(U.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Bl&&iA(j)===U.type){n(R,U.sibling),b=i(U,D.props),b.ref=Ap(R,U,D),b.return=R,R=b;break e}n(R,U);break}else e(R,U);U=U.sibling}D.type===nh?(b=Ec(D.props.children,R.mode,B,D.key),b.return=R,R=b):(B=V0(D.type,D.key,D.props,null,R.mode,B),B.ref=Ap(R,b,D),B.return=R,R=B)}return a(R);case th:e:{for(U=D.key;b!==null;){if(b.key===U)if(b.tag===4&&b.stateNode.containerInfo===D.containerInfo&&b.stateNode.implementation===D.implementation){n(R,b.sibling),b=i(b,D.children||[]),b.return=R,R=b;break e}else{n(R,b);break}else e(R,b);b=b.sibling}b=Sx(D,R.mode,B),b.return=R,R=b}return a(R);case Bl:return U=D._init,M(R,b,U(D._payload),B)}if(Op(D))return L(R,b,D,B);if(Ep(D))return O(R,b,D,B);u0(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,b!==null&&b.tag===6?(n(R,b.sibling),b=i(b,D),b.return=R,R=b):(n(R,b),b=Cx(D,R.mode,B),b.return=R,R=b),a(R)):n(R,b)}return M}var Rh=IR(!0),bR=IR(!1),om={},Ys=wu(om),Sg=wu(om),Tg=wu(om);function gc(t){if(t===om)throw Error(Ne(174));return t}function T2(t,e){switch(Cn(Tg,e),Cn(Sg,t),Cn(Ys,om),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mE(e,t)}Nn(Ys),Cn(Ys,e)}function Ph(){Nn(Ys),Nn(Sg),Nn(Tg)}function DR(t){gc(Tg.current);var e=gc(Ys.current),n=mE(e,t.type);e!==n&&(Cn(Sg,t),Cn(Ys,n))}function k2(t){Sg.current===t&&(Nn(Ys),Nn(Sg))}var jn=wu(0);function m1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vx=[];function A2(){for(var t=0;t<vx.length;t++)vx[t]._workInProgressVersionPrimary=null;vx.length=0}var O0=Ja.ReactCurrentDispatcher,yx=Ja.ReactCurrentBatchConfig,Rc=0,Wn=null,Ar=null,Fr=null,v1=!1,Yp=!1,kg=0,oM=0;function Jr(){throw Error(Ne(321))}function I2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gs(t[n],e[n]))return!1;return!0}function b2(t,e,n,r,i,s){if(Rc=s,Wn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,O0.current=t===null||t.memoizedState===null?uM:cM,t=n(r,i),Yp){s=0;do{if(Yp=!1,kg=0,25<=s)throw Error(Ne(301));s+=1,Fr=Ar=null,e.updateQueue=null,O0.current=fM,t=n(r,i)}while(Yp)}if(O0.current=y1,e=Ar!==null&&Ar.next!==null,Rc=0,Fr=Ar=Wn=null,v1=!1,e)throw Error(Ne(300));return t}function D2(){var t=kg!==0;return kg=0,t}function $s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?Wn.memoizedState=Fr=t:Fr=Fr.next=t,Fr}function Ho(){if(Ar===null){var t=Wn.alternate;t=t!==null?t.memoizedState:null}else t=Ar.next;var e=Fr===null?Wn.memoizedState:Fr.next;if(e!==null)Fr=e,Ar=t;else{if(t===null)throw Error(Ne(310));Ar=t,t={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Fr===null?Wn.memoizedState=Fr=t:Fr=Fr.next=t}return Fr}function Ag(t,e){return typeof e=="function"?e(t):e}function _x(t){var e=Ho(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=Ar,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=a=null,p=null,m=s;do{var y=m.lane;if((Rc&y)===y)p!==null&&(p=p.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:t(r,m.action);else{var w={lane:y,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};p===null?(c=p=w,a=r):p=p.next=w,Wn.lanes|=y,Pc|=y}m=m.next}while(m!==null&&m!==s);p===null?a=r:p.next=c,gs(r,e.memoizedState)||(Mi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=p,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Wn.lanes|=s,Pc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wx(t){var e=Ho(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);gs(s,e.memoizedState)||(Mi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function RR(){}function PR(t,e){var n=Wn,r=Ho(),i=e(),s=!gs(r.memoizedState,i);if(s&&(r.memoizedState=i,Mi=!0),r=r.queue,R2(FR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Fr!==null&&Fr.memoizedState.tag&1){if(n.flags|=2048,Ig(9,NR.bind(null,n,r,i,e),void 0,null),Or===null)throw Error(Ne(349));Rc&30||LR(n,e,i)}return i}function LR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Wn.updateQueue,e===null?(e={lastEffect:null,stores:null},Wn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NR(t,e,n,r){e.value=n,e.getSnapshot=r,OR(e)&&MR(t)}function FR(t,e,n){return n(function(){OR(e)&&MR(t)})}function OR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gs(t,n)}catch{return!0}}function MR(t){var e=Ga(t,1);e!==null&&ds(e,t,1,-1)}function oA(t){var e=$s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:t},e.queue=t,t=t.dispatch=lM.bind(null,Wn,t),[e.memoizedState,t]}function Ig(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Wn.updateQueue,e===null?(e={lastEffect:null,stores:null},Wn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BR(){return Ho().memoizedState}function M0(t,e,n,r){var i=$s();Wn.flags|=t,i.memoizedState=Ig(1|e,n,void 0,r===void 0?null:r)}function fy(t,e,n,r){var i=Ho();r=r===void 0?null:r;var s=void 0;if(Ar!==null){var a=Ar.memoizedState;if(s=a.destroy,r!==null&&I2(r,a.deps)){i.memoizedState=Ig(e,n,s,r);return}}Wn.flags|=t,i.memoizedState=Ig(1|e,n,s,r)}function sA(t,e){return M0(8390656,8,t,e)}function R2(t,e){return fy(2048,8,t,e)}function UR(t,e){return fy(4,2,t,e)}function zR(t,e){return fy(4,4,t,e)}function VR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $R(t,e,n){return n=n!=null?n.concat([t]):null,fy(4,4,VR.bind(null,e,t),n)}function P2(){}function HR(t,e){var n=Ho();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jR(t,e){var n=Ho();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WR(t,e,n){return Rc&21?(gs(n,e)||(n=KD(),Wn.lanes|=n,Pc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mi=!0),t.memoizedState=n)}function sM(t,e){var n=cn;cn=n!==0&&4>n?n:4,t(!0);var r=yx.transition;yx.transition={};try{t(!1),e()}finally{cn=n,yx.transition=r}}function qR(){return Ho().memoizedState}function aM(t,e,n){var r=su(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GR(t))KR(e,n);else if(n=SR(t,e,n,r),n!==null){var i=_i();ds(n,t,r,i),QR(n,e,r)}}function lM(t,e,n){var r=su(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GR(t))KR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,n);if(i.hasEagerState=!0,i.eagerState=c,gs(c,a)){var p=e.interleaved;p===null?(i.next=i,C2(e)):(i.next=p.next,p.next=i),e.interleaved=i;return}}catch{}finally{}n=SR(t,e,i,r),n!==null&&(i=_i(),ds(n,t,r,i),QR(n,e,r))}}function GR(t){var e=t.alternate;return t===Wn||e!==null&&e===Wn}function KR(t,e){Yp=v1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u2(t,n)}}var y1={readContext:$o,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useInsertionEffect:Jr,useLayoutEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useMutableSource:Jr,useSyncExternalStore:Jr,useId:Jr,unstable_isNewReconciler:!1},uM={readContext:$o,useCallback:function(t,e){return $s().memoizedState=[t,e===void 0?null:e],t},useContext:$o,useEffect:sA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,M0(4194308,4,VR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return M0(4194308,4,t,e)},useInsertionEffect:function(t,e){return M0(4,2,t,e)},useMemo:function(t,e){var n=$s();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$s();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aM.bind(null,Wn,t),[r.memoizedState,t]},useRef:function(t){var e=$s();return t={current:t},e.memoizedState=t},useState:oA,useDebugValue:P2,useDeferredValue:function(t){return $s().memoizedState=t},useTransition:function(){var t=oA(!1),e=t[0];return t=sM.bind(null,t[1]),$s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Wn,i=$s();if(Bn){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=e(),Or===null)throw Error(Ne(349));Rc&30||LR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sA(FR.bind(null,r,s,t),[t]),r.flags|=2048,Ig(9,NR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$s(),e=Or.identifierPrefix;if(Bn){var n=Ua,r=Ba;n=(r&~(1<<32-hs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cM={readContext:$o,useCallback:HR,useContext:$o,useEffect:R2,useImperativeHandle:$R,useInsertionEffect:UR,useLayoutEffect:zR,useMemo:jR,useReducer:_x,useRef:BR,useState:function(){return _x(Ag)},useDebugValue:P2,useDeferredValue:function(t){var e=Ho();return WR(e,Ar.memoizedState,t)},useTransition:function(){var t=_x(Ag)[0],e=Ho().memoizedState;return[t,e]},useMutableSource:RR,useSyncExternalStore:PR,useId:qR,unstable_isNewReconciler:!1},fM={readContext:$o,useCallback:HR,useContext:$o,useEffect:R2,useImperativeHandle:$R,useInsertionEffect:UR,useLayoutEffect:zR,useMemo:jR,useReducer:wx,useRef:BR,useState:function(){return wx(Ag)},useDebugValue:P2,useDeferredValue:function(t){var e=Ho();return Ar===null?e.memoizedState=t:WR(e,Ar.memoizedState,t)},useTransition:function(){var t=wx(Ag)[0],e=Ho().memoizedState;return[t,e]},useMutableSource:RR,useSyncExternalStore:PR,useId:qR,unstable_isNewReconciler:!1};function Lh(t,e){try{var n="",r=e;do n+=U5(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function UE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hM=typeof WeakMap=="function"?WeakMap:Map;function XR(t,e,n){n=Ha(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){w1||(w1=!0,QE=r),UE(t,e)},n}function YR(t,e,n){n=Ha(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){UE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){UE(t,e),typeof r!="function"&&(ou===null?ou=new Set([this]):ou.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function aA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kM.bind(null,t,e,n),e.then(t,t))}function lA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ha(-1,1),e.tag=2,iu(n,e,1))),n.lanes|=1),t)}var dM=Ja.ReactCurrentOwner,Mi=!1;function mi(t,e,n,r){e.child=t===null?bR(e,null,n,r):Rh(e,t.child,n,r)}function cA(t,e,n,r,i){n=n.render;var s=e.ref;return _h(e,i),r=b2(t,e,n,r,s,i),n=D2(),t!==null&&!Mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ka(t,e,i)):(Bn&&n&&v2(e),e.flags|=1,mi(t,e,r,i),e.child)}function fA(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!z2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JR(t,e,s,r,i)):(t=V0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:wg,n(a,r)&&t.ref===e.ref)return Ka(t,e,i)}return e.flags|=1,t=au(s,r),t.ref=e.ref,t.return=e,e.child=t}function JR(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wg(s,r)&&t.ref===e.ref)if(Mi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Mi=!0);else return e.lanes=t.lanes,Ka(t,e,i)}return zE(t,e,n,r,i)}function ZR(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(hh,oo),oo|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cn(hh,oo),oo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Cn(hh,oo),oo|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Cn(hh,oo),oo|=r;return mi(t,e,i,n),e.child}function eP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zE(t,e,n,r,i){var s=Ui(n)?bc:si.current;return s=bh(e,s),_h(e,i),n=b2(t,e,n,r,s,i),r=D2(),t!==null&&!Mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ka(t,e,i)):(Bn&&r&&v2(e),e.flags|=1,mi(t,e,n,i),e.child)}function hA(t,e,n,r,i){if(Ui(n)){var s=!0;c1(e)}else s=!1;if(_h(e,i),e.stateNode===null)B0(t,e),AR(e,n,r),BE(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var p=a.context,m=n.contextType;typeof m=="object"&&m!==null?m=$o(m):(m=Ui(n)?bc:si.current,m=bh(e,m));var y=n.getDerivedStateFromProps,w=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function";w||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||p!==m)&&rA(e,a,r,m),Ul=!1;var E=e.memoizedState;a.state=E,g1(e,r,a,i),p=e.memoizedState,c!==r||E!==p||Bi.current||Ul?(typeof y=="function"&&(ME(e,n,y,r),p=e.memoizedState),(c=Ul||nA(e,n,c,r,E,p,m))?(w||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=m,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,TR(t,e),c=e.memoizedProps,m=e.type===e.elementType?c:us(e.type,c),a.props=m,w=e.pendingProps,E=a.context,p=n.contextType,typeof p=="object"&&p!==null?p=$o(p):(p=Ui(n)?bc:si.current,p=bh(e,p));var S=n.getDerivedStateFromProps;(y=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==w||E!==p)&&rA(e,a,r,p),Ul=!1,E=e.memoizedState,a.state=E,g1(e,r,a,i);var L=e.memoizedState;c!==w||E!==L||Bi.current||Ul?(typeof S=="function"&&(ME(e,n,S,r),L=e.memoizedState),(m=Ul||nA(e,n,m,r,E,L,p)||!1)?(y||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,L,p),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,L,p)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=L),a.props=r,a.state=L,a.context=p,r=m):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),r=!1)}return VE(t,e,n,r,s,i)}function VE(t,e,n,r,i,s){eP(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Yk(e,n,!1),Ka(t,e,s);r=e.stateNode,dM.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Rh(e,t.child,null,s),e.child=Rh(e,null,c,s)):mi(t,e,c,s),e.memoizedState=r.state,i&&Yk(e,n,!0),e.child}function tP(t){var e=t.stateNode;e.pendingContext?Xk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xk(t,e.context,!1),T2(t,e.containerInfo)}function dA(t,e,n,r,i){return Dh(),_2(i),e.flags|=256,mi(t,e,n,r),e.child}var $E={dehydrated:null,treeContext:null,retryLane:0};function HE(t){return{baseLanes:t,cachePool:null,transitions:null}}function nP(t,e,n){var r=e.pendingProps,i=jn.current,s=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Cn(jn,i&1),t===null)return FE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=py(a,r,0,null),t=Ec(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=HE(n),e.memoizedState=$E,t):L2(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return pM(t,e,a,r,c,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,c=i.sibling;var p={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=p,e.deletions=null):(r=au(i,p),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=au(c,s):(s=Ec(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?HE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=$E,r}return s=t.child,t=s.sibling,r=au(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function L2(t,e){return e=py({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function c0(t,e,n,r){return r!==null&&_2(r),Rh(e,t.child,null,n),t=L2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pM(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=xx(Error(Ne(422))),c0(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=py({mode:"visible",children:r.children},i,0,null),s=Ec(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Rh(e,t.child,null,a),e.child.memoizedState=HE(a),e.memoizedState=$E,s);if(!(e.mode&1))return c0(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(Ne(419)),r=xx(s,r,void 0),c0(t,e,a,r)}if(c=(a&t.childLanes)!==0,Mi||c){if(r=Or,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ga(t,i),ds(r,t,i,-1))}return U2(),r=xx(Error(Ne(421))),c0(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,so=ru(i.nextSibling),fo=e,Bn=!0,fs=null,t!==null&&(No[Fo++]=Ba,No[Fo++]=Ua,No[Fo++]=Dc,Ba=t.id,Ua=t.overflow,Dc=e),e=L2(e,r.children),e.flags|=4096,e)}function pA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),OE(t.return,e,n)}function Ex(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mi(t,e,r.children,n),r=jn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pA(t,n,e);else if(t.tag===19)pA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Cn(jn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&m1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ex(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&m1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ex(e,!0,n,null,s);break;case"together":Ex(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function B0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ka(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ne(153));if(e.child!==null){for(t=e.child,n=au(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=au(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gM(t,e,n){switch(e.tag){case 3:tP(e),Dh();break;case 5:DR(e);break;case 1:Ui(e.type)&&c1(e);break;case 4:T2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Cn(d1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Cn(jn,jn.current&1),e.flags|=128,null):n&e.child.childLanes?nP(t,e,n):(Cn(jn,jn.current&1),t=Ka(t,e,n),t!==null?t.sibling:null);Cn(jn,jn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Cn(jn,jn.current),r)break;return null;case 22:case 23:return e.lanes=0,ZR(t,e,n)}return Ka(t,e,n)}var iP,jE,oP,sP;iP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jE=function(){};oP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gc(Ys.current);var s=null;switch(n){case"input":i=hE(t,i),r=hE(t,r),s=[];break;case"select":i=Gn({},i,{value:void 0}),r=Gn({},r,{value:void 0}),s=[];break;case"textarea":i=gE(t,i),r=gE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=l1)}vE(n,r);var a;n=null;for(m in i)if(!r.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var c=i[m];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(dg.hasOwnProperty(m)?s||(s=[]):(s=s||[]).push(m,null));for(m in r){var p=r[m];if(c=i!=null?i[m]:void 0,r.hasOwnProperty(m)&&p!==c&&(p!=null||c!=null))if(m==="style")if(c){for(a in c)!c.hasOwnProperty(a)||p&&p.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in p)p.hasOwnProperty(a)&&c[a]!==p[a]&&(n||(n={}),n[a]=p[a])}else n||(s||(s=[]),s.push(m,n)),n=p;else m==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,c=c?c.__html:void 0,p!=null&&c!==p&&(s=s||[]).push(m,p)):m==="children"?typeof p!="string"&&typeof p!="number"||(s=s||[]).push(m,""+p):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(dg.hasOwnProperty(m)?(p!=null&&m==="onScroll"&&Dn("scroll",t),s||c===p||(s=[])):(s=s||[]).push(m,p))}n&&(s=s||[]).push("style",n);var m=s;(e.updateQueue=m)&&(e.flags|=4)}};sP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ip(t,e){if(!Bn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mM(t,e,n){var r=e.pendingProps;switch(y2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(e),null;case 1:return Ui(e.type)&&u1(),Zr(e),null;case 3:return r=e.stateNode,Ph(),Nn(Bi),Nn(si),A2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(l0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fs!==null&&(JE(fs),fs=null))),jE(t,e),Zr(e),null;case 5:k2(e);var i=gc(Tg.current);if(n=e.type,t!==null&&e.stateNode!=null)oP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ne(166));return Zr(e),null}if(t=gc(Ys.current),l0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[js]=e,r[Cg]=s,t=(e.mode&1)!==0,n){case"dialog":Dn("cancel",r),Dn("close",r);break;case"iframe":case"object":case"embed":Dn("load",r);break;case"video":case"audio":for(i=0;i<Bp.length;i++)Dn(Bp[i],r);break;case"source":Dn("error",r);break;case"img":case"image":case"link":Dn("error",r),Dn("load",r);break;case"details":Dn("toggle",r);break;case"input":Ck(r,s),Dn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Dn("invalid",r);break;case"textarea":Tk(r,s),Dn("invalid",r)}vE(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&a0(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&a0(r.textContent,c,t),i=["children",""+c]):dg.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Dn("scroll",r)}switch(n){case"input":Zv(r),Sk(r,s,!0);break;case"textarea":Zv(r),kk(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=l1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[js]=e,t[Cg]=r,iP(t,e,!1,!1),e.stateNode=t;e:{switch(a=yE(n,r),n){case"dialog":Dn("cancel",t),Dn("close",t),i=r;break;case"iframe":case"object":case"embed":Dn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bp.length;i++)Dn(Bp[i],t);i=r;break;case"source":Dn("error",t),i=r;break;case"img":case"image":case"link":Dn("error",t),Dn("load",t),i=r;break;case"details":Dn("toggle",t),i=r;break;case"input":Ck(t,r),i=hE(t,r),Dn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Gn({},r,{value:void 0}),Dn("invalid",t);break;case"textarea":Tk(t,r),i=gE(t,r),Dn("invalid",t);break;default:i=r}vE(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var p=c[s];s==="style"?OD(t,p):s==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&ND(t,p)):s==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&pg(t,p):typeof p=="number"&&pg(t,""+p):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dg.hasOwnProperty(s)?p!=null&&s==="onScroll"&&Dn("scroll",t):p!=null&&r2(t,s,p,a))}switch(n){case"input":Zv(t),Sk(t,r,!1);break;case"textarea":Zv(t),kk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hu(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gh(t,!!r.multiple,s,!1):r.defaultValue!=null&&gh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=l1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zr(e),null;case 6:if(t&&e.stateNode!=null)sP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ne(166));if(n=gc(Tg.current),gc(Ys.current),l0(e)){if(r=e.stateNode,n=e.memoizedProps,r[js]=e,(s=r.nodeValue!==n)&&(t=fo,t!==null))switch(t.tag){case 3:a0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&a0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[js]=e,e.stateNode=r}return Zr(e),null;case 13:if(Nn(jn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Bn&&so!==null&&e.mode&1&&!(e.flags&128))CR(),Dh(),e.flags|=98560,s=!1;else if(s=l0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[js]=e}else Dh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zr(e),s=!1}else fs!==null&&(JE(fs),fs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||jn.current&1?Ir===0&&(Ir=3):U2())),e.updateQueue!==null&&(e.flags|=4),Zr(e),null);case 4:return Ph(),jE(t,e),t===null&&xg(e.stateNode.containerInfo),Zr(e),null;case 10:return E2(e.type._context),Zr(e),null;case 17:return Ui(e.type)&&u1(),Zr(e),null;case 19:if(Nn(jn),s=e.memoizedState,s===null)return Zr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ip(s,!1);else{if(Ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=m1(t),a!==null){for(e.flags|=128,Ip(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Cn(jn,jn.current&1|2),e.child}t=t.sibling}s.tail!==null&&hr()>Nh&&(e.flags|=128,r=!0,Ip(s,!1),e.lanes=4194304)}else{if(!r)if(t=m1(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ip(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Bn)return Zr(e),null}else 2*hr()-s.renderingStartTime>Nh&&n!==1073741824&&(e.flags|=128,r=!0,Ip(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=hr(),e.sibling=null,n=jn.current,Cn(jn,r?n&1|2:n&1),e):(Zr(e),null);case 22:case 23:return B2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?oo&1073741824&&(Zr(e),e.subtreeFlags&6&&(e.flags|=8192)):Zr(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function vM(t,e){switch(y2(e),e.tag){case 1:return Ui(e.type)&&u1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ph(),Nn(Bi),Nn(si),A2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return k2(e),null;case 13:if(Nn(jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));Dh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nn(jn),null;case 4:return Ph(),null;case 10:return E2(e.type._context),null;case 22:case 23:return B2(),null;case 24:return null;default:return null}}var f0=!1,ni=!1,yM=typeof WeakSet=="function"?WeakSet:Set,Je=null;function fh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nr(t,e,r)}else n.current=null}function WE(t,e,n){try{n()}catch(r){nr(t,e,r)}}var gA=!1;function _M(t,e){if(IE=o1,t=cR(),m2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,p=-1,m=0,y=0,w=t,E=null;t:for(;;){for(var S;w!==n||i!==0&&w.nodeType!==3||(c=a+i),w!==s||r!==0&&w.nodeType!==3||(p=a+r),w.nodeType===3&&(a+=w.nodeValue.length),(S=w.firstChild)!==null;)E=w,w=S;for(;;){if(w===t)break t;if(E===n&&++m===i&&(c=a),E===s&&++y===r&&(p=a),(S=w.nextSibling)!==null)break;w=E,E=w.parentNode}w=S}n=c===-1||p===-1?null:{start:c,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(bE={focusedElem:t,selectionRange:n},o1=!1,Je=e;Je!==null;)if(e=Je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Je=t;else for(;Je!==null;){e=Je;try{var L=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var O=L.memoizedProps,M=L.memoizedState,R=e.stateNode,b=R.getSnapshotBeforeUpdate(e.elementType===e.type?O:us(e.type,O),M);R.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var D=e.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(B){nr(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}return L=gA,gA=!1,L}function Jp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&WE(e,n,s)}i=i.next}while(i!==r)}}function hy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aP(t){var e=t.alternate;e!==null&&(t.alternate=null,aP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[js],delete e[Cg],delete e[PE],delete e[tM],delete e[nM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lP(t){return t.tag===5||t.tag===3||t.tag===4}function mA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function GE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=l1));else if(r!==4&&(t=t.child,t!==null))for(GE(t,e,n),t=t.sibling;t!==null;)GE(t,e,n),t=t.sibling}function KE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(KE(t,e,n),t=t.sibling;t!==null;)KE(t,e,n),t=t.sibling}var $r=null,cs=!1;function Fl(t,e,n){for(n=n.child;n!==null;)uP(t,e,n),n=n.sibling}function uP(t,e,n){if(Xs&&typeof Xs.onCommitFiberUnmount=="function")try{Xs.onCommitFiberUnmount(iy,n)}catch{}switch(n.tag){case 5:ni||fh(n,e);case 6:var r=$r,i=cs;$r=null,Fl(t,e,n),$r=r,cs=i,$r!==null&&(cs?(t=$r,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$r.removeChild(n.stateNode));break;case 18:$r!==null&&(cs?(t=$r,n=n.stateNode,t.nodeType===8?gx(t.parentNode,n):t.nodeType===1&&gx(t,n),yg(t)):gx($r,n.stateNode));break;case 4:r=$r,i=cs,$r=n.stateNode.containerInfo,cs=!0,Fl(t,e,n),$r=r,cs=i;break;case 0:case 11:case 14:case 15:if(!ni&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&WE(n,e,a),i=i.next}while(i!==r)}Fl(t,e,n);break;case 1:if(!ni&&(fh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){nr(n,e,c)}Fl(t,e,n);break;case 21:Fl(t,e,n);break;case 22:n.mode&1?(ni=(r=ni)||n.memoizedState!==null,Fl(t,e,n),ni=r):Fl(t,e,n);break;default:Fl(t,e,n)}}function vA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yM),e.forEach(function(r){var i=IM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ls(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:$r=c.stateNode,cs=!1;break e;case 3:$r=c.stateNode.containerInfo,cs=!0;break e;case 4:$r=c.stateNode.containerInfo,cs=!0;break e}c=c.return}if($r===null)throw Error(Ne(160));uP(s,a,i),$r=null,cs=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(m){nr(i,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cP(e,t),e=e.sibling}function cP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ls(e,t),zs(t),r&4){try{Jp(3,t,t.return),hy(3,t)}catch(O){nr(t,t.return,O)}try{Jp(5,t,t.return)}catch(O){nr(t,t.return,O)}}break;case 1:ls(e,t),zs(t),r&512&&n!==null&&fh(n,n.return);break;case 5:if(ls(e,t),zs(t),r&512&&n!==null&&fh(n,n.return),t.flags&32){var i=t.stateNode;try{pg(i,"")}catch(O){nr(t,t.return,O)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,c=t.type,p=t.updateQueue;if(t.updateQueue=null,p!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&RD(i,s),yE(c,a);var m=yE(c,s);for(a=0;a<p.length;a+=2){var y=p[a],w=p[a+1];y==="style"?OD(i,w):y==="dangerouslySetInnerHTML"?ND(i,w):y==="children"?pg(i,w):r2(i,y,w,m)}switch(c){case"input":dE(i,s);break;case"textarea":PD(i,s);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?gh(i,!!s.multiple,S,!1):E!==!!s.multiple&&(s.defaultValue!=null?gh(i,!!s.multiple,s.defaultValue,!0):gh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cg]=s}catch(O){nr(t,t.return,O)}}break;case 6:if(ls(e,t),zs(t),r&4){if(t.stateNode===null)throw Error(Ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(O){nr(t,t.return,O)}}break;case 3:if(ls(e,t),zs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yg(e.containerInfo)}catch(O){nr(t,t.return,O)}break;case 4:ls(e,t),zs(t);break;case 13:ls(e,t),zs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(O2=hr())),r&4&&vA(t);break;case 22:if(y=n!==null&&n.memoizedState!==null,t.mode&1?(ni=(m=ni)||y,ls(e,t),ni=m):ls(e,t),zs(t),r&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!y&&t.mode&1)for(Je=t,y=t.child;y!==null;){for(w=Je=y;Je!==null;){switch(E=Je,S=E.child,E.tag){case 0:case 11:case 14:case 15:Jp(4,E,E.return);break;case 1:fh(E,E.return);var L=E.stateNode;if(typeof L.componentWillUnmount=="function"){r=E,n=E.return;try{e=r,L.props=e.memoizedProps,L.state=e.memoizedState,L.componentWillUnmount()}catch(O){nr(r,n,O)}}break;case 5:fh(E,E.return);break;case 22:if(E.memoizedState!==null){_A(w);continue}}S!==null?(S.return=E,Je=S):_A(w)}y=y.sibling}e:for(y=null,w=t;;){if(w.tag===5){if(y===null){y=w;try{i=w.stateNode,m?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=w.stateNode,p=w.memoizedProps.style,a=p!=null&&p.hasOwnProperty("display")?p.display:null,c.style.display=FD("display",a))}catch(O){nr(t,t.return,O)}}}else if(w.tag===6){if(y===null)try{w.stateNode.nodeValue=m?"":w.memoizedProps}catch(O){nr(t,t.return,O)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===t)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;y===w&&(y=null),w=w.return}y===w&&(y=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:ls(e,t),zs(t),r&4&&vA(t);break;case 21:break;default:ls(e,t),zs(t)}}function zs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lP(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pg(i,""),r.flags&=-33);var s=mA(t);KE(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=mA(t);GE(t,c,a);break;default:throw Error(Ne(161))}}catch(p){nr(t,t.return,p)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wM(t,e,n){Je=t,fP(t)}function fP(t,e,n){for(var r=(t.mode&1)!==0;Je!==null;){var i=Je,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||f0;if(!a){var c=i.alternate,p=c!==null&&c.memoizedState!==null||ni;c=f0;var m=ni;if(f0=a,(ni=p)&&!m)for(Je=i;Je!==null;)a=Je,p=a.child,a.tag===22&&a.memoizedState!==null?wA(i):p!==null?(p.return=a,Je=p):wA(i);for(;s!==null;)Je=s,fP(s),s=s.sibling;Je=i,f0=c,ni=m}yA(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Je=s):yA(t)}}function yA(t){for(;Je!==null;){var e=Je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ni||hy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ni)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:us(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tA(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tA(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var p=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var w=y.dehydrated;w!==null&&yg(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}ni||e.flags&512&&qE(e)}catch(E){nr(e,e.return,E)}}if(e===t){Je=null;break}if(n=e.sibling,n!==null){n.return=e.return,Je=n;break}Je=e.return}}function _A(t){for(;Je!==null;){var e=Je;if(e===t){Je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Je=n;break}Je=e.return}}function wA(t){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hy(4,e)}catch(p){nr(e,n,p)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(p){nr(e,i,p)}}var s=e.return;try{qE(e)}catch(p){nr(e,s,p)}break;case 5:var a=e.return;try{qE(e)}catch(p){nr(e,a,p)}}}catch(p){nr(e,e.return,p)}if(e===t){Je=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Je=c;break}Je=e.return}}var xM=Math.ceil,_1=Ja.ReactCurrentDispatcher,N2=Ja.ReactCurrentOwner,zo=Ja.ReactCurrentBatchConfig,Yt=0,Or=null,wr=null,qr=0,oo=0,hh=wu(0),Ir=0,bg=null,Pc=0,dy=0,F2=0,Zp=null,Fi=null,O2=0,Nh=1/0,Oa=null,w1=!1,QE=null,ou=null,h0=!1,Ql=null,x1=0,eg=0,XE=null,U0=-1,z0=0;function _i(){return Yt&6?hr():U0!==-1?U0:U0=hr()}function su(t){return t.mode&1?Yt&2&&qr!==0?qr&-qr:iM.transition!==null?(z0===0&&(z0=KD()),z0):(t=cn,t!==0||(t=window.event,t=t===void 0?16:tR(t.type)),t):1}function ds(t,e,n,r){if(50<eg)throw eg=0,XE=null,Error(Ne(185));nm(t,n,r),(!(Yt&2)||t!==Or)&&(t===Or&&(!(Yt&2)&&(dy|=n),Ir===4&&$l(t,qr)),zi(t,r),n===1&&Yt===0&&!(e.mode&1)&&(Nh=hr()+500,uy&&xu()))}function zi(t,e){var n=t.callbackNode;i8(t,e);var r=i1(t,t===Or?qr:0);if(r===0)n!==null&&bk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bk(n),e===1)t.tag===0?rM(xA.bind(null,t)):wR(xA.bind(null,t)),Z8(function(){!(Yt&6)&&xu()}),n=null;else{switch(QD(r)){case 1:n=l2;break;case 4:n=qD;break;case 16:n=r1;break;case 536870912:n=GD;break;default:n=r1}n=_P(n,hP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hP(t,e){if(U0=-1,z0=0,Yt&6)throw Error(Ne(327));var n=t.callbackNode;if(wh()&&t.callbackNode!==n)return null;var r=i1(t,t===Or?qr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=E1(t,r);else{e=r;var i=Yt;Yt|=2;var s=pP();(Or!==t||qr!==e)&&(Oa=null,Nh=hr()+500,xc(t,e));do try{SM();break}catch(c){dP(t,c)}while(!0);x2(),_1.current=s,Yt=i,wr!==null?e=0:(Or=null,qr=0,e=Ir)}if(e!==0){if(e===2&&(i=CE(t),i!==0&&(r=i,e=YE(t,i))),e===1)throw n=bg,xc(t,0),$l(t,r),zi(t,hr()),n;if(e===6)$l(t,r);else{if(i=t.current.alternate,!(r&30)&&!EM(i)&&(e=E1(t,r),e===2&&(s=CE(t),s!==0&&(r=s,e=YE(t,s))),e===1))throw n=bg,xc(t,0),$l(t,r),zi(t,hr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ne(345));case 2:uc(t,Fi,Oa);break;case 3:if($l(t,r),(r&130023424)===r&&(e=O2+500-hr(),10<e)){if(i1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_i(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=RE(uc.bind(null,t,Fi,Oa),e);break}uc(t,Fi,Oa);break;case 4:if($l(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-hs(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=hr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xM(r/1960))-r,10<r){t.timeoutHandle=RE(uc.bind(null,t,Fi,Oa),r);break}uc(t,Fi,Oa);break;case 5:uc(t,Fi,Oa);break;default:throw Error(Ne(329))}}}return zi(t,hr()),t.callbackNode===n?hP.bind(null,t):null}function YE(t,e){var n=Zp;return t.current.memoizedState.isDehydrated&&(xc(t,e).flags|=256),t=E1(t,e),t!==2&&(e=Fi,Fi=n,e!==null&&JE(e)),t}function JE(t){Fi===null?Fi=t:Fi.push.apply(Fi,t)}function EM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $l(t,e){for(e&=~F2,e&=~dy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hs(e),r=1<<n;t[n]=-1,e&=~r}}function xA(t){if(Yt&6)throw Error(Ne(327));wh();var e=i1(t,0);if(!(e&1))return zi(t,hr()),null;var n=E1(t,e);if(t.tag!==0&&n===2){var r=CE(t);r!==0&&(e=r,n=YE(t,r))}if(n===1)throw n=bg,xc(t,0),$l(t,e),zi(t,hr()),n;if(n===6)throw Error(Ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,uc(t,Fi,Oa),zi(t,hr()),null}function M2(t,e){var n=Yt;Yt|=1;try{return t(e)}finally{Yt=n,Yt===0&&(Nh=hr()+500,uy&&xu())}}function Lc(t){Ql!==null&&Ql.tag===0&&!(Yt&6)&&wh();var e=Yt;Yt|=1;var n=zo.transition,r=cn;try{if(zo.transition=null,cn=1,t)return t()}finally{cn=r,zo.transition=n,Yt=e,!(Yt&6)&&xu()}}function B2(){oo=hh.current,Nn(hh)}function xc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,J8(n)),wr!==null)for(n=wr.return;n!==null;){var r=n;switch(y2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&u1();break;case 3:Ph(),Nn(Bi),Nn(si),A2();break;case 5:k2(r);break;case 4:Ph();break;case 13:Nn(jn);break;case 19:Nn(jn);break;case 10:E2(r.type._context);break;case 22:case 23:B2()}n=n.return}if(Or=t,wr=t=au(t.current,null),qr=oo=e,Ir=0,bg=null,F2=dy=Pc=0,Fi=Zp=null,pc!==null){for(e=0;e<pc.length;e++)if(n=pc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}pc=null}return t}function dP(t,e){do{var n=wr;try{if(x2(),O0.current=y1,v1){for(var r=Wn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}v1=!1}if(Rc=0,Fr=Ar=Wn=null,Yp=!1,kg=0,N2.current=null,n===null||n.return===null){Ir=1,bg=e,wr=null;break}e:{var s=t,a=n.return,c=n,p=e;if(e=qr,c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var m=p,y=c,w=y.tag;if(!(y.mode&1)&&(w===0||w===11||w===15)){var E=y.alternate;E?(y.updateQueue=E.updateQueue,y.memoizedState=E.memoizedState,y.lanes=E.lanes):(y.updateQueue=null,y.memoizedState=null)}var S=lA(a);if(S!==null){S.flags&=-257,uA(S,a,c,s,e),S.mode&1&&aA(s,m,e),e=S,p=m;var L=e.updateQueue;if(L===null){var O=new Set;O.add(p),e.updateQueue=O}else L.add(p);break e}else{if(!(e&1)){aA(s,m,e),U2();break e}p=Error(Ne(426))}}else if(Bn&&c.mode&1){var M=lA(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),uA(M,a,c,s,e),_2(Lh(p,c));break e}}s=p=Lh(p,c),Ir!==4&&(Ir=2),Zp===null?Zp=[s]:Zp.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var R=XR(s,p,e);eA(s,R);break e;case 1:c=p;var b=s.type,D=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(ou===null||!ou.has(D)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=YR(s,c,e);eA(s,B);break e}}s=s.return}while(s!==null)}mP(n)}catch(j){e=j,wr===n&&n!==null&&(wr=n=n.return);continue}break}while(!0)}function pP(){var t=_1.current;return _1.current=y1,t===null?y1:t}function U2(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Or===null||!(Pc&268435455)&&!(dy&268435455)||$l(Or,qr)}function E1(t,e){var n=Yt;Yt|=2;var r=pP();(Or!==t||qr!==e)&&(Oa=null,xc(t,e));do try{CM();break}catch(i){dP(t,i)}while(!0);if(x2(),Yt=n,_1.current=r,wr!==null)throw Error(Ne(261));return Or=null,qr=0,Ir}function CM(){for(;wr!==null;)gP(wr)}function SM(){for(;wr!==null&&!Q5();)gP(wr)}function gP(t){var e=yP(t.alternate,t,oo);t.memoizedProps=t.pendingProps,e===null?mP(t):wr=e,N2.current=null}function mP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vM(n,e),n!==null){n.flags&=32767,wr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ir=6,wr=null;return}}else if(n=mM(n,e,oo),n!==null){wr=n;return}if(e=e.sibling,e!==null){wr=e;return}wr=e=t}while(e!==null);Ir===0&&(Ir=5)}function uc(t,e,n){var r=cn,i=zo.transition;try{zo.transition=null,cn=1,TM(t,e,n,r)}finally{zo.transition=i,cn=r}return null}function TM(t,e,n,r){do wh();while(Ql!==null);if(Yt&6)throw Error(Ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(o8(t,s),t===Or&&(wr=Or=null,qr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||h0||(h0=!0,_P(r1,function(){return wh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zo.transition,zo.transition=null;var a=cn;cn=1;var c=Yt;Yt|=4,N2.current=null,_M(t,n),cP(n,t),W8(bE),o1=!!IE,bE=IE=null,t.current=n,wM(n),X5(),Yt=c,cn=a,zo.transition=s}else t.current=n;if(h0&&(h0=!1,Ql=t,x1=i),s=t.pendingLanes,s===0&&(ou=null),Z5(n.stateNode),zi(t,hr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(w1)throw w1=!1,t=QE,QE=null,t;return x1&1&&t.tag!==0&&wh(),s=t.pendingLanes,s&1?t===XE?eg++:(eg=0,XE=t):eg=0,xu(),null}function wh(){if(Ql!==null){var t=QD(x1),e=zo.transition,n=cn;try{if(zo.transition=null,cn=16>t?16:t,Ql===null)var r=!1;else{if(t=Ql,Ql=null,x1=0,Yt&6)throw Error(Ne(331));var i=Yt;for(Yt|=4,Je=t.current;Je!==null;){var s=Je,a=s.child;if(Je.flags&16){var c=s.deletions;if(c!==null){for(var p=0;p<c.length;p++){var m=c[p];for(Je=m;Je!==null;){var y=Je;switch(y.tag){case 0:case 11:case 15:Jp(8,y,s)}var w=y.child;if(w!==null)w.return=y,Je=w;else for(;Je!==null;){y=Je;var E=y.sibling,S=y.return;if(aP(y),y===m){Je=null;break}if(E!==null){E.return=S,Je=E;break}Je=S}}}var L=s.alternate;if(L!==null){var O=L.child;if(O!==null){L.child=null;do{var M=O.sibling;O.sibling=null,O=M}while(O!==null)}}Je=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Je=a;else e:for(;Je!==null;){if(s=Je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Jp(9,s,s.return)}var R=s.sibling;if(R!==null){R.return=s.return,Je=R;break e}Je=s.return}}var b=t.current;for(Je=b;Je!==null;){a=Je;var D=a.child;if(a.subtreeFlags&2064&&D!==null)D.return=a,Je=D;else e:for(a=b;Je!==null;){if(c=Je,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:hy(9,c)}}catch(j){nr(c,c.return,j)}if(c===a){Je=null;break e}var B=c.sibling;if(B!==null){B.return=c.return,Je=B;break e}Je=c.return}}if(Yt=i,xu(),Xs&&typeof Xs.onPostCommitFiberRoot=="function")try{Xs.onPostCommitFiberRoot(iy,t)}catch{}r=!0}return r}finally{cn=n,zo.transition=e}}return!1}function EA(t,e,n){e=Lh(n,e),e=XR(t,e,1),t=iu(t,e,1),e=_i(),t!==null&&(nm(t,1,e),zi(t,e))}function nr(t,e,n){if(t.tag===3)EA(t,t,n);else for(;e!==null;){if(e.tag===3){EA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ou===null||!ou.has(r))){t=Lh(n,t),t=YR(e,t,1),e=iu(e,t,1),t=_i(),e!==null&&(nm(e,1,t),zi(e,t));break}}e=e.return}}function kM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_i(),t.pingedLanes|=t.suspendedLanes&n,Or===t&&(qr&n)===n&&(Ir===4||Ir===3&&(qr&130023424)===qr&&500>hr()-O2?xc(t,0):F2|=n),zi(t,e)}function vP(t,e){e===0&&(t.mode&1?(e=n0,n0<<=1,!(n0&130023424)&&(n0=4194304)):e=1);var n=_i();t=Ga(t,e),t!==null&&(nm(t,e,n),zi(t,n))}function AM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vP(t,n)}function IM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(e),vP(t,n)}var yP;yP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bi.current)Mi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mi=!1,gM(t,e,n);Mi=!!(t.flags&131072)}else Mi=!1,Bn&&e.flags&1048576&&xR(e,h1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;B0(t,e),t=e.pendingProps;var i=bh(e,si.current);_h(e,n),i=b2(null,e,r,t,i,n);var s=D2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ui(r)?(s=!0,c1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,S2(e),i.updater=cy,e.stateNode=i,i._reactInternals=e,BE(e,r,t,n),e=VE(null,e,r,!0,s,n)):(e.tag=0,Bn&&s&&v2(e),mi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(B0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DM(r),t=us(r,t),i){case 0:e=zE(null,e,r,t,n);break e;case 1:e=hA(null,e,r,t,n);break e;case 11:e=cA(null,e,r,t,n);break e;case 14:e=fA(null,e,r,us(r.type,t),n);break e}throw Error(Ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),zE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),hA(t,e,r,i,n);case 3:e:{if(tP(e),t===null)throw Error(Ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,TR(t,e),g1(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Lh(Error(Ne(423)),e),e=dA(t,e,r,n,i);break e}else if(r!==i){i=Lh(Error(Ne(424)),e),e=dA(t,e,r,n,i);break e}else for(so=ru(e.stateNode.containerInfo.firstChild),fo=e,Bn=!0,fs=null,n=bR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dh(),r===i){e=Ka(t,e,n);break e}mi(t,e,r,n)}e=e.child}return e;case 5:return DR(e),t===null&&FE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,DE(r,i)?a=null:s!==null&&DE(r,s)&&(e.flags|=32),eP(t,e),mi(t,e,a,n),e.child;case 6:return t===null&&FE(e),null;case 13:return nP(t,e,n);case 4:return T2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rh(e,null,r,n):mi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),cA(t,e,r,i,n);case 7:return mi(t,e,e.pendingProps,n),e.child;case 8:return mi(t,e,e.pendingProps.children,n),e.child;case 12:return mi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Cn(d1,r._currentValue),r._currentValue=a,s!==null)if(gs(s.value,a)){if(s.children===i.children&&!Bi.current){e=Ka(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var p=c.firstContext;p!==null;){if(p.context===r){if(s.tag===1){p=Ha(-1,n&-n),p.tag=2;var m=s.updateQueue;if(m!==null){m=m.shared;var y=m.pending;y===null?p.next=p:(p.next=y.next,y.next=p),m.pending=p}}s.lanes|=n,p=s.alternate,p!==null&&(p.lanes|=n),OE(s.return,n,e),c.lanes|=n;break}p=p.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ne(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),OE(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}mi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_h(e,n),i=$o(i),r=r(i),e.flags|=1,mi(t,e,r,n),e.child;case 14:return r=e.type,i=us(r,e.pendingProps),i=us(r.type,i),fA(t,e,r,i,n);case 15:return JR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),B0(t,e),e.tag=1,Ui(r)?(t=!0,c1(e)):t=!1,_h(e,n),AR(e,r,i),BE(e,r,i,n),VE(null,e,r,!0,t,n);case 19:return rP(t,e,n);case 22:return ZR(t,e,n)}throw Error(Ne(156,e.tag))};function _P(t,e){return WD(t,e)}function bM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uo(t,e,n,r){return new bM(t,e,n,r)}function z2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DM(t){if(typeof t=="function")return z2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===o2)return 11;if(t===s2)return 14}return 2}function au(t,e){var n=t.alternate;return n===null?(n=Uo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function V0(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")z2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case nh:return Ec(n.children,i,s,e);case i2:a=8,i|=8;break;case lE:return t=Uo(12,n,e,i|2),t.elementType=lE,t.lanes=s,t;case uE:return t=Uo(13,n,e,i),t.elementType=uE,t.lanes=s,t;case cE:return t=Uo(19,n,e,i),t.elementType=cE,t.lanes=s,t;case ID:return py(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kD:a=10;break e;case AD:a=9;break e;case o2:a=11;break e;case s2:a=14;break e;case Bl:a=16,r=null;break e}throw Error(Ne(130,t==null?t:typeof t,""))}return e=Uo(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ec(t,e,n,r){return t=Uo(7,t,r,e),t.lanes=n,t}function py(t,e,n,r){return t=Uo(22,t,r,e),t.elementType=ID,t.lanes=n,t.stateNode={isHidden:!1},t}function Cx(t,e,n){return t=Uo(6,t,null,e),t.lanes=n,t}function Sx(t,e,n){return e=Uo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ix(0),this.expirationTimes=ix(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ix(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function V2(t,e,n,r,i,s,a,c,p){return t=new RM(t,e,n,c,p),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Uo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},S2(s),t}function PM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:th,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wP(t){if(!t)return du;t=t._reactInternals;e:{if(qc(t)!==t||t.tag!==1)throw Error(Ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(t.tag===1){var n=t.type;if(Ui(n))return _R(t,n,e)}return e}function xP(t,e,n,r,i,s,a,c,p){return t=V2(n,r,!0,t,i,s,a,c,p),t.context=wP(null),n=t.current,r=_i(),i=su(n),s=Ha(r,i),s.callback=e??null,iu(n,s,i),t.current.lanes=i,nm(t,i,r),zi(t,r),t}function gy(t,e,n,r){var i=e.current,s=_i(),a=su(i);return n=wP(n),e.context===null?e.context=n:e.pendingContext=n,e=Ha(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=iu(i,e,a),t!==null&&(ds(t,i,a,s),F0(t,i,a)),a}function C1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function CA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $2(t,e){CA(t,e),(t=t.alternate)&&CA(t,e)}function LM(){return null}var EP=typeof reportError=="function"?reportError:function(t){console.error(t)};function H2(t){this._internalRoot=t}my.prototype.render=H2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ne(409));gy(t,e,null,null)};my.prototype.unmount=H2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lc(function(){gy(null,t,null,null)}),e[qa]=null}};function my(t){this._internalRoot=t}my.prototype.unstable_scheduleHydration=function(t){if(t){var e=JD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vl.length&&e!==0&&e<Vl[n].priority;n++);Vl.splice(n,0,t),n===0&&eR(t)}};function j2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SA(){}function NM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var m=C1(a);s.call(m)}}var a=xP(e,r,t,0,null,!1,!1,"",SA);return t._reactRootContainer=a,t[qa]=a.current,xg(t.nodeType===8?t.parentNode:t),Lc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var m=C1(p);c.call(m)}}var p=V2(t,0,!1,null,null,!1,!1,"",SA);return t._reactRootContainer=p,t[qa]=p.current,xg(t.nodeType===8?t.parentNode:t),Lc(function(){gy(e,p,n,r)}),p}function yy(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var p=C1(a);c.call(p)}}gy(e,a,t,i)}else a=NM(n,e,t,i,r);return C1(a)}XD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mp(e.pendingLanes);n!==0&&(u2(e,n|1),zi(e,hr()),!(Yt&6)&&(Nh=hr()+500,xu()))}break;case 13:Lc(function(){var r=Ga(t,1);if(r!==null){var i=_i();ds(r,t,1,i)}}),$2(t,1)}};c2=function(t){if(t.tag===13){var e=Ga(t,134217728);if(e!==null){var n=_i();ds(e,t,134217728,n)}$2(t,134217728)}};YD=function(t){if(t.tag===13){var e=su(t),n=Ga(t,e);if(n!==null){var r=_i();ds(n,t,e,r)}$2(t,e)}};JD=function(){return cn};ZD=function(t,e){var n=cn;try{return cn=t,e()}finally{cn=n}};wE=function(t,e,n){switch(e){case"input":if(dE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ly(r);if(!i)throw Error(Ne(90));DD(r),dE(r,i)}}}break;case"textarea":PD(t,n);break;case"select":e=n.value,e!=null&&gh(t,!!n.multiple,e,!1)}};UD=M2;zD=Lc;var FM={usingClientEntryPoint:!1,Events:[im,sh,ly,MD,BD,M2]},bp={findFiberByHostInstance:dc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},OM={bundleType:bp.bundleType,version:bp.version,rendererPackageName:bp.rendererPackageName,rendererConfig:bp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ja.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HD(t),t===null?null:t.stateNode},findFiberByHostInstance:bp.findFiberByHostInstance||LM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{iy=d0.inject(OM),Xs=d0}catch{}}go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FM;go.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j2(e))throw Error(Ne(200));return PM(t,e,null,n)};go.createRoot=function(t,e){if(!j2(t))throw Error(Ne(299));var n=!1,r="",i=EP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=V2(t,1,!1,null,null,n,!1,r,i),t[qa]=e.current,xg(t.nodeType===8?t.parentNode:t),new H2(e)};go.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ne(188)):(t=Object.keys(t).join(","),Error(Ne(268,t)));return t=HD(e),t=t===null?null:t.stateNode,t};go.flushSync=function(t){return Lc(t)};go.hydrate=function(t,e,n){if(!vy(e))throw Error(Ne(200));return yy(null,t,e,!0,n)};go.hydrateRoot=function(t,e,n){if(!j2(t))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=EP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=xP(e,null,t,1,n??null,i,!1,s,a),t[qa]=e.current,xg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new my(e)};go.render=function(t,e,n){if(!vy(e))throw Error(Ne(200));return yy(null,t,e,!1,n)};go.unmountComponentAtNode=function(t){if(!vy(t))throw Error(Ne(40));return t._reactRootContainer?(Lc(function(){yy(null,null,t,!1,function(){t._reactRootContainer=null,t[qa]=null})}),!0):!1};go.unstable_batchedUpdates=M2;go.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vy(n))throw Error(Ne(200));if(t==null||t._reactInternals===void 0)throw Error(Ne(38));return yy(t,e,n,!1,r)};go.version="18.2.0-next-9e3b772b8-20220608";function CP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CP)}catch(t){console.error(t)}}CP(),xD.exports=go;var MM=xD.exports,TA=MM;sE.createRoot=TA.createRoot,sE.hydrateRoot=TA.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}var Xl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xl||(Xl={}));const kA="popstate";function BM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return ZE("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:S1(i)}return zM(e,n,null,t)}function qn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UM(){return Math.random().toString(36).substr(2,8)}function AA(t,e){return{usr:t.state,key:t.key,idx:e}}function ZE(t,e,n,r){return n===void 0&&(n=null),Dg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qh(e):e,{state:n,key:e&&e.key||r||UM()})}function S1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c=Xl.Pop,p=null,m=y();m==null&&(m=0,a.replaceState(Dg({},a.state,{idx:m}),""));function y(){return(a.state||{idx:null}).idx}function w(){c=Xl.Pop;let M=y(),R=M==null?null:M-m;m=M,p&&p({action:c,location:O.location,delta:R})}function E(M,R){c=Xl.Push;let b=ZE(O.location,M,R);n&&n(b,M),m=y()+1;let D=AA(b,m),B=O.createHref(b);try{a.pushState(D,"",B)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(B)}s&&p&&p({action:c,location:O.location,delta:1})}function S(M,R){c=Xl.Replace;let b=ZE(O.location,M,R);n&&n(b,M),m=y();let D=AA(b,m),B=O.createHref(b);a.replaceState(D,"",B),s&&p&&p({action:c,location:O.location,delta:0})}function L(M){let R=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof M=="string"?M:S1(M);return b=b.replace(/ $/,"%20"),qn(R,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,R)}let O={get action(){return c},get location(){return t(i,a)},listen(M){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(kA,w),p=M,()=>{i.removeEventListener(kA,w),p=null}},createHref(M){return e(i,M)},createURL:L,encodeLocation(M){let R=L(M);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:E,replace:S,go(M){return a.go(M)}};return O}var IA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(IA||(IA={}));function VM(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Qh(e):e,i=Fh(r.pathname||"/",n);if(i==null)return null;let s=TP(t);$M(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let p=ZM(i);a=YM(s[c],p)}return a}function TP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,c)=>{let p={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};p.relativePath.startsWith("/")&&(qn(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let m=lu([r,p.relativePath]),y=n.concat(p);s.children&&s.children.length>0&&(qn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),TP(s.children,e,y,m)),!(s.path==null&&!s.index)&&e.push({path:m,score:QM(m,s.index),routesMeta:y})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let p of kP(s.path))i(s,a,p)}),e}function kP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=kP(r.join("/")),c=[];return c.push(...a.map(p=>p===""?s:[s,p].join("/"))),i&&c.push(...a),c.map(p=>t.startsWith("/")&&p===""?"/":p)}function $M(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HM=/^:[\w-]+$/,jM=3,WM=2,qM=1,GM=10,KM=-2,bA=t=>t==="*";function QM(t,e){let n=t.split("/"),r=n.length;return n.some(bA)&&(r+=KM),e&&(r+=WM),n.filter(i=>!bA(i)).reduce((i,s)=>i+(HM.test(s)?jM:s===""?qM:GM),r)}function XM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YM(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let c=n[a],p=a===n.length-1,m=i==="/"?e:e.slice(i.length)||"/",y=eC({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},m);if(!y)return null;Object.assign(r,y.params);let w=c.route;s.push({params:r,pathname:lu([i,y.pathname]),pathnameBase:r7(lu([i,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(i=lu([i,y.pathnameBase]))}return s}function eC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((m,y,w)=>{let{paramName:E,isOptional:S}=y;if(E==="*"){let O=c[w]||"";a=s.slice(0,s.length-O.length).replace(/(.)\/+$/,"$1")}const L=c[w];return S&&!L?m[E]=void 0:m[E]=(L||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:a,pattern:t}}function JM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),SP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,p)=>(r.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return SP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function e7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qh(t):t;return{pathname:n?n.startsWith("/")?n:t7(n,e):e,search:i7(r),hash:o7(i)}}function t7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W2(t,e){let n=n7(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function q2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qh(t):(i=Dg({},t),qn(!i.pathname||!i.pathname.includes("?"),Tx("?","pathname","search",i)),qn(!i.pathname||!i.pathname.includes("#"),Tx("#","pathname","hash",i)),qn(!i.search||!i.search.includes("#"),Tx("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=n;else{let w=e.length-1;if(!r&&a.startsWith("..")){let E=a.split("/");for(;E[0]==="..";)E.shift(),w-=1;i.pathname=E.join("/")}c=w>=0?e[w]:"/"}let p=e7(i,c),m=a&&a!=="/"&&a.endsWith("/"),y=(s||a===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}const lu=t=>t.join("/").replace(/\/\/+/g,"/"),r7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),i7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function s7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AP=["post","put","patch","delete"];new Set(AP);const a7=["get",...AP];new Set(a7);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}const _y=de.createContext(null),IP=de.createContext(null),Za=de.createContext(null),wy=de.createContext(null),el=de.createContext({outlet:null,matches:[],isDataRoute:!1}),bP=de.createContext(null);function l7(t,e){let{relative:n}=e===void 0?{}:e;Xh()||qn(!1);let{basename:r,navigator:i}=de.useContext(Za),{hash:s,pathname:a,search:c}=Ey(t,{relative:n}),p=a;return r!=="/"&&(p=a==="/"?r:lu([r,a])),i.createHref({pathname:p,search:c,hash:s})}function Xh(){return de.useContext(wy)!=null}function Yh(){return Xh()||qn(!1),de.useContext(wy).location}function DP(t){de.useContext(Za).static||de.useLayoutEffect(t)}function Eu(){let{isDataRoute:t}=de.useContext(el);return t?x7():u7()}function u7(){Xh()||qn(!1);let t=de.useContext(_y),{basename:e,future:n,navigator:r}=de.useContext(Za),{matches:i}=de.useContext(el),{pathname:s}=Yh(),a=JSON.stringify(W2(i,n.v7_relativeSplatPath)),c=de.useRef(!1);return DP(()=>{c.current=!0}),de.useCallback(function(m,y){if(y===void 0&&(y={}),!c.current)return;if(typeof m=="number"){r.go(m);return}let w=q2(m,JSON.parse(a),s,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:lu([e,w.pathname])),(y.replace?r.replace:r.push)(w,y.state,y)},[e,r,a,s,t])}function xy(){let{matches:t}=de.useContext(el),e=t[t.length-1];return e?e.params:{}}function Ey(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=de.useContext(Za),{matches:i}=de.useContext(el),{pathname:s}=Yh(),a=JSON.stringify(W2(i,r.v7_relativeSplatPath));return de.useMemo(()=>q2(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function c7(t,e){return f7(t,e)}function f7(t,e,n,r){Xh()||qn(!1);let{navigator:i}=de.useContext(Za),{matches:s}=de.useContext(el),a=s[s.length-1],c=a?a.params:{};a&&a.pathname;let p=a?a.pathnameBase:"/";a&&a.route;let m=Yh(),y;if(e){var w;let M=typeof e=="string"?Qh(e):e;p==="/"||(w=M.pathname)!=null&&w.startsWith(p)||qn(!1),y=M}else y=m;let E=y.pathname||"/",S=E;if(p!=="/"){let M=p.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(M.length).join("/")}let L=VM(t,{pathname:S}),O=m7(L&&L.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:lu([p,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:lu([p,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),s,n,r);return e&&O?de.createElement(wy.Provider,{value:{location:Rg({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Xl.Pop}},O):O}function h7(){let t=w7(),e=s7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),n?de.createElement("pre",{style:i},n):null,null)}const d7=de.createElement(h7,null);class p7 extends de.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?de.createElement(el.Provider,{value:this.props.routeContext},de.createElement(bP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g7(t){let{routeContext:e,match:n,children:r}=t,i=de.useContext(_y);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),de.createElement(el.Provider,{value:e},r)}function m7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let y=a.findIndex(w=>w.route.id&&(c==null?void 0:c[w.route.id]));y>=0||qn(!1),a=a.slice(0,Math.min(a.length,y+1))}let p=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<a.length;y++){let w=a[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=y),w.route.id){let{loaderData:E,errors:S}=n,L=w.route.loader&&E[w.route.id]===void 0&&(!S||S[w.route.id]===void 0);if(w.route.lazy||L){p=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((y,w,E)=>{let S,L=!1,O=null,M=null;n&&(S=c&&w.route.id?c[w.route.id]:void 0,O=w.route.errorElement||d7,p&&(m<0&&E===0?(E7("route-fallback",!1),L=!0,M=null):m===E&&(L=!0,M=w.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,E+1)),b=()=>{let D;return S?D=O:L?D=M:w.route.Component?D=de.createElement(w.route.Component,null):w.route.element?D=w.route.element:D=y,de.createElement(g7,{match:w,routeContext:{outlet:y,matches:R,isDataRoute:n!=null},children:D})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?de.createElement(p7,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:b(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):b()},null)}var RP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RP||{}),T1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(T1||{});function v7(t){let e=de.useContext(_y);return e||qn(!1),e}function y7(t){let e=de.useContext(IP);return e||qn(!1),e}function _7(t){let e=de.useContext(el);return e||qn(!1),e}function PP(t){let e=_7(),n=e.matches[e.matches.length-1];return n.route.id||qn(!1),n.route.id}function w7(){var t;let e=de.useContext(bP),n=y7(T1.UseRouteError),r=PP(T1.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function x7(){let{router:t}=v7(RP.UseNavigateStable),e=PP(T1.UseNavigateStable),n=de.useRef(!1);return DP(()=>{n.current=!0}),de.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rg({fromRouteId:e},s)))},[t,e])}const DA={};function E7(t,e,n){!e&&!DA[t]&&(DA[t]=!0)}function RA(t){let{to:e,replace:n,state:r,relative:i}=t;Xh()||qn(!1);let{future:s,static:a}=de.useContext(Za),{matches:c}=de.useContext(el),{pathname:p}=Yh(),m=Eu(),y=q2(e,W2(c,s.v7_relativeSplatPath),p,i==="path"),w=JSON.stringify(y);return de.useEffect(()=>m(JSON.parse(w),{replace:n,state:r,relative:i}),[m,w,i,n,r]),null}function Vs(t){qn(!1)}function C7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xl.Pop,navigator:s,static:a=!1,future:c}=t;Xh()&&qn(!1);let p=e.replace(/^\/*/,"/"),m=de.useMemo(()=>({basename:p,navigator:s,static:a,future:Rg({v7_relativeSplatPath:!1},c)}),[p,c,s,a]);typeof r=="string"&&(r=Qh(r));let{pathname:y="/",search:w="",hash:E="",state:S=null,key:L="default"}=r,O=de.useMemo(()=>{let M=Fh(y,p);return M==null?null:{location:{pathname:M,search:w,hash:E,state:S,key:L},navigationType:i}},[p,y,w,E,S,L,i]);return O==null?null:de.createElement(Za.Provider,{value:m},de.createElement(wy.Provider,{children:n,value:O}))}function S7(t){let{children:e,location:n}=t;return c7(tC(e),n)}new Promise(()=>{});function tC(t,e){e===void 0&&(e=[]);let n=[];return de.Children.forEach(t,(r,i)=>{if(!de.isValidElement(r))return;let s=[...e,i];if(r.type===de.Fragment){n.push.apply(n,tC(r.props.children,s));return}r.type!==Vs&&qn(!1),!r.props.index||!r.props.children||qn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=tC(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k1.apply(this,arguments)}function LP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function T7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function k7(t,e){return t.button===0&&(!e||e==="_self")&&!T7(t)}const A7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],I7=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],b7="6";try{window.__reactRouterVersion=b7}catch{}const D7=de.createContext({isTransitioning:!1}),R7="startTransition",PA=A5[R7];function P7(t){let{basename:e,children:n,future:r,window:i}=t,s=de.useRef();s.current==null&&(s.current=BM({window:i,v5Compat:!0}));let a=s.current,[c,p]=de.useState({action:a.action,location:a.location}),{v7_startTransition:m}=r||{},y=de.useCallback(w=>{m&&PA?PA(()=>p(w)):p(w)},[p,m]);return de.useLayoutEffect(()=>a.listen(y),[a,y]),de.createElement(C7,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const L7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F7=de.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:c,target:p,to:m,preventScrollReset:y,unstable_viewTransition:w}=e,E=LP(e,A7),{basename:S}=de.useContext(Za),L,O=!1;if(typeof m=="string"&&N7.test(m)&&(L=m,L7))try{let D=new URL(window.location.href),B=m.startsWith("//")?new URL(D.protocol+m):new URL(m),j=Fh(B.pathname,S);B.origin===D.origin&&j!=null?m=j+B.search+B.hash:O=!0}catch{}let M=l7(m,{relative:i}),R=M7(m,{replace:a,state:c,target:p,preventScrollReset:y,relative:i,unstable_viewTransition:w});function b(D){r&&r(D),D.defaultPrevented||R(D)}return de.createElement("a",k1({},E,{href:L||M,onClick:O||s?r:b,ref:n,target:p}))}),Yl=de.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:c,to:p,unstable_viewTransition:m,children:y}=e,w=LP(e,I7),E=Ey(p,{relative:w.relative}),S=Yh(),L=de.useContext(IP),{navigator:O,basename:M}=de.useContext(Za),R=L!=null&&B7(E)&&m===!0,b=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,D=S.pathname,B=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(D=D.toLowerCase(),B=B?B.toLowerCase():null,b=b.toLowerCase()),B&&M&&(B=Fh(B,M)||B);const j=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let U=D===b||!a&&D.startsWith(b)&&D.charAt(j)==="/",$=B!=null&&(B===b||!a&&B.startsWith(b)&&B.charAt(b.length)==="/"),Y={isActive:U,isPending:$,isTransitioning:R},ae=U?r:void 0,xe;typeof s=="function"?xe=s(Y):xe=[s,U?"active":null,$?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ie=typeof c=="function"?c(Y):c;return de.createElement(F7,k1({},w,{"aria-current":ae,className:xe,ref:n,style:ie,to:p,unstable_viewTransition:m}),typeof y=="function"?y(Y):y)});var nC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nC||(nC={}));var LA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(LA||(LA={}));function O7(t){let e=de.useContext(_y);return e||qn(!1),e}function M7(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c}=e===void 0?{}:e,p=Eu(),m=Yh(),y=Ey(t,{relative:a});return de.useCallback(w=>{if(k7(w,n)){w.preventDefault();let E=r!==void 0?r:S1(m)===S1(y);p(t,{replace:E,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c})}},[m,p,y,r,i,n,t,s,a,c])}function B7(t,e){e===void 0&&(e={});let n=de.useContext(D7);n==null&&qn(!1);let{basename:r}=O7(nC.useViewTransitionState),i=Ey(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Fh(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Fh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return eC(i.pathname,a)!=null||eC(i.pathname,s)!=null}var NA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},U7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],c=t[n++],p=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},FP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,p=i+2<t.length,m=p?t[i+2]:0,y=s>>2,w=(s&3)<<4|c>>4;let E=(c&15)<<2|m>>6,S=m&63;p||(S=64,a||(E=64)),r.push(n[y],n[w],n[E],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const w=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||m==null||w==null)throw new z7;const E=s<<2|c>>4;if(r.push(E),m!==64){const S=c<<4&240|m>>2;if(r.push(S),w!==64){const L=m<<6&192|w;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V7=function(t){const e=NP(t);return FP.encodeByteArray(e,!0)},A1=function(t){return V7(t).replace(/\./g,"")},OP=function(t){try{return FP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=()=>$7().__FIREBASE_DEFAULTS__,j7=()=>{if(typeof process>"u"||typeof NA>"u")return;const t=NA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OP(t[1]);return e&&JSON.parse(e)},Cy=()=>{try{return H7()||j7()||W7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MP=t=>{var e,n;return(n=(e=Cy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BP=t=>{const e=MP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UP=()=>{var t;return(t=Cy())===null||t===void 0?void 0:t.config},zP=t=>{var e;return(e=Cy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[A1(JSON.stringify(n)),A1(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function K7(){var t;const e=(t=Cy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function X7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y7(){const t=Cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J7(){return!K7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $P(){try{return typeof indexedDB=="object"}catch{return!1}}function Z7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="FirebaseError";class aa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eB,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sm.prototype.create)}}class sm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?tB(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new aa(i,c,r)}}function tB(t,e){return t.replace(nB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nB=/\{\$([^}]+)}/g;function rB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function I1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(FA(s)&&FA(a)){if(!I1(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Up(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zp(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iB(t,e){const n=new oB(t,e);return n.subscribe.bind(n)}class oB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kx),i.error===void 0&&(i.error=kx),i.complete===void 0&&(i.complete=kx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){return t&&t._delegate?t._delegate:t}class pu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uB(e))try{this.getOrInitializeService({instanceIdentifier:cc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=cc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cc){return this.instances.has(e)}getOptions(e=cc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cc){return this.component?this.component.multipleInstances?e:cc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lB(t){return t===cc?void 0:t}function uB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jt||(jt={}));const fB={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},hB=jt.INFO,dB={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},pB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class G2{constructor(e){this.name=e,this._logLevel=hB,this._logHandler=pB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const gB=(t,e)=>e.some(n=>t instanceof n);let OA,MA;function mB(){return OA||(OA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vB(){return MA||(MA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HP=new WeakMap,rC=new WeakMap,jP=new WeakMap,Ax=new WeakMap,K2=new WeakMap;function yB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(uu(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&HP.set(n,t)}).catch(()=>{}),K2.set(e,t),e}function _B(t){if(rC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});rC.set(t,e)}let iC={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wB(t){iC=t(iC)}function xB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ix(this),e,...n);return jP.set(r,e.sort?e.sort():[e]),uu(r)}:vB().includes(t)?function(...e){return t.apply(Ix(this),e),uu(HP.get(this))}:function(...e){return uu(t.apply(Ix(this),e))}}function EB(t){return typeof t=="function"?xB(t):(t instanceof IDBTransaction&&_B(t),gB(t,mB())?new Proxy(t,iC):t)}function uu(t){if(t instanceof IDBRequest)return yB(t);if(Ax.has(t))return Ax.get(t);const e=EB(t);return e!==t&&(Ax.set(t,e),K2.set(e,t)),e}const Ix=t=>K2.get(t);function CB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=uu(a);return r&&a.addEventListener("upgradeneeded",p=>{r(uu(a.result),p.oldVersion,p.newVersion,uu(a.transaction),p)}),n&&a.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),c.then(p=>{s&&p.addEventListener("close",()=>s()),i&&p.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}const SB=["get","getKey","getAll","getAllKeys","count"],TB=["put","add","delete","clear"],bx=new Map;function BA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bx.get(e))return bx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SB.includes(n)))return;const s=async function(a,...c){const p=this.transaction(a,i?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(c.shift())),(await Promise.all([m[n](...c),i&&p.done]))[0]};return bx.set(e,s),s}wB(t=>({...t,get:(e,n,r)=>BA(e,n)||t.get(e,n,r),has:(e,n)=>!!BA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oC="@firebase/app",UA="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new G2("@firebase/app"),IB="@firebase/app-compat",bB="@firebase/analytics-compat",DB="@firebase/analytics",RB="@firebase/app-check-compat",PB="@firebase/app-check",LB="@firebase/auth",NB="@firebase/auth-compat",FB="@firebase/database",OB="@firebase/database-compat",MB="@firebase/functions",BB="@firebase/functions-compat",UB="@firebase/installations",zB="@firebase/installations-compat",VB="@firebase/messaging",$B="@firebase/messaging-compat",HB="@firebase/performance",jB="@firebase/performance-compat",WB="@firebase/remote-config",qB="@firebase/remote-config-compat",GB="@firebase/storage",KB="@firebase/storage-compat",QB="@firebase/firestore",XB="@firebase/firestore-compat",YB="firebase",JB="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="[DEFAULT]",ZB={[oC]:"fire-core",[IB]:"fire-core-compat",[DB]:"fire-analytics",[bB]:"fire-analytics-compat",[PB]:"fire-app-check",[RB]:"fire-app-check-compat",[LB]:"fire-auth",[NB]:"fire-auth-compat",[FB]:"fire-rtdb",[OB]:"fire-rtdb-compat",[MB]:"fire-fn",[BB]:"fire-fn-compat",[UB]:"fire-iid",[zB]:"fire-iid-compat",[VB]:"fire-fcm",[$B]:"fire-fcm-compat",[HB]:"fire-perf",[jB]:"fire-perf-compat",[WB]:"fire-rc",[qB]:"fire-rc-compat",[GB]:"fire-gcs",[KB]:"fire-gcs-compat",[QB]:"fire-fst",[XB]:"fire-fst-compat","fire-js":"fire-js",[YB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new Map,aC=new Map;function eU(t,e){try{t.container.addComponent(e)}catch(n){Nc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fc(t){const e=t.name;if(aC.has(e))return Nc.debug(`There were multiple attempts to register component ${e}.`),!1;aC.set(e,t);for(const n of b1.values())eU(n,t);return!0}function Sy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},cu=new sm("app","Firebase",tU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=JB;function WP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sC,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cu.create("bad-app-name",{appName:String(i)});if(n||(n=UP()),!n)throw cu.create("no-options");const s=b1.get(i);if(s){if(I1(n,s.options)&&I1(r,s.config))return s;throw cu.create("duplicate-app",{appName:i})}const a=new cB(i);for(const p of aC.values())a.addComponent(p);const c=new nU(n,r,a);return b1.set(i,c),c}function Q2(t=sC){const e=b1.get(t);if(!e&&t===sC&&UP())return WP();if(!e)throw cu.create("no-app",{appName:t});return e}function Js(t,e,n){var r;let i=(r=ZB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nc.warn(c.join(" "));return}Fc(new pu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="firebase-heartbeat-database",iU=1,Pg="firebase-heartbeat-store";let Dx=null;function qP(){return Dx||(Dx=CB(rU,iU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pg)}catch(n){console.warn(n)}}}}).catch(t=>{throw cu.create("idb-open",{originalErrorMessage:t.message})})),Dx}async function oU(t){try{const n=(await qP()).transaction(Pg),r=await n.objectStore(Pg).get(GP(t));return await n.done,r}catch(e){if(e instanceof aa)Nc.warn(e.message);else{const n=cu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nc.warn(n.message)}}}async function zA(t,e){try{const r=(await qP()).transaction(Pg,"readwrite");await r.objectStore(Pg).put(e,GP(t)),await r.done}catch(n){if(n instanceof aa)Nc.warn(n.message);else{const r=cu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nc.warn(r.message)}}}function GP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=1024,aU=30*24*60*60*1e3;class lU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=VA();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=aU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VA(),{heartbeatsToSend:r,unsentEntries:i}=uU(this._heartbeatsCache.heartbeats),s=A1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function VA(){return new Date().toISOString().substring(0,10)}function uU(t,e=sU){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),$A(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$A(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $P()?Z7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $A(t){return A1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){Fc(new pu("platform-logger",e=>new kB(e),"PRIVATE")),Fc(new pu("heartbeat",e=>new lU(e),"PRIVATE")),Js(oC,UA,t),Js(oC,UA,"esm2017"),Js("fire-js","")}fU("");var hU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ge,X2=X2||{},Et=hU||self;function Ty(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function lm(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function dU(t){return Object.prototype.hasOwnProperty.call(t,Rx)&&t[Rx]||(t[Rx]=++pU)}var Rx="closure_uid_"+(1e9*Math.random()>>>0),pU=0;function gU(t,e,n){return t.call.apply(t.bind,arguments)}function mU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ii(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ii=gU:ii=mU,ii.apply(null,arguments)}function p0(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Br(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function Cu(){this.s=this.s,this.o=this.o}var vU=0;Cu.prototype.s=!1;Cu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),vU!=0)&&dU(this)};Cu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Y2(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function HA(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ty(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function oi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}oi.prototype.h=function(){this.defaultPrevented=!0};var yU=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Et.addEventListener("test",n,e),Et.removeEventListener("test",n,e)}catch{}return t}();function Lg(t){return/^[\s\xa0]*$/.test(t)}function ky(){var t=Et.navigator;return t&&(t=t.userAgent)?t:""}function Ws(t){return ky().indexOf(t)!=-1}function J2(t){return J2[" "](t),t}J2[" "]=function(){};function _U(t,e){var n=fz;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var wU=Ws("Opera"),Oh=Ws("Trident")||Ws("MSIE"),QP=Ws("Edge"),lC=QP||Oh,XP=Ws("Gecko")&&!(ky().toLowerCase().indexOf("webkit")!=-1&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),xU=ky().toLowerCase().indexOf("webkit")!=-1&&!Ws("Edge");function YP(){var t=Et.document;return t?t.documentMode:void 0}var uC;e:{var Px="",Lx=function(){var t=ky();if(XP)return/rv:([^\);]+)(\)|;)/.exec(t);if(QP)return/Edge\/([\d\.]+)/.exec(t);if(Oh)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xU)return/WebKit\/(\S+)/.exec(t);if(wU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Lx&&(Px=Lx?Lx[1]:""),Oh){var Nx=YP();if(Nx!=null&&Nx>parseFloat(Px)){uC=String(Nx);break e}}uC=Px}var cC;if(Et.document&&Oh){var jA=YP();cC=jA||parseInt(uC,10)||void 0}else cC=void 0;var EU=cC;function Ng(t,e){if(oi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XP){e:{try{J2(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:CU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ng.$.h.call(this)}}Br(Ng,oi);var CU={2:"touch",3:"pen",4:"mouse"};Ng.prototype.h=function(){Ng.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var um="closure_listenable_"+(1e6*Math.random()|0),SU=0;function TU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++SU,this.fa=this.ia=!1}function Ay(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Z2(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function kU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function JP(t){const e={};for(const n in t)e[n]=t[n];return e}const WA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<WA.length;s++)n=WA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Iy(t){this.src=t,this.g={},this.h=0}Iy.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=hC(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new TU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function fC(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=KP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ay(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function hC(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var eS="closure_lm_"+(1e6*Math.random()|0),Fx={};function e3(t,e,n,r,i){if(r&&r.once)return n3(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)e3(t,e[s],n,r,i);return null}return n=rS(n),t&&t[um]?t.O(e,n,lm(r)?!!r.capture:!!r,i):t3(t,e,n,!1,r,i)}function t3(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=lm(i)?!!i.capture:!!i,c=nS(t);if(c||(t[eS]=c=new Iy(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=AU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)yU||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(i3(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AU(){function t(n){return e.call(t.src,t.listener,n)}const e=IU;return t}function n3(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)n3(t,e[s],n,r,i);return null}return n=rS(n),t&&t[um]?t.P(e,n,lm(r)?!!r.capture:!!r,i):t3(t,e,n,!0,r,i)}function r3(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)r3(t,e[s],n,r,i);else r=lm(r)?!!r.capture:!!r,n=rS(n),t&&t[um]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=hC(s,n,r,i),-1<n&&(Ay(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=nS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hC(e,n,r,i)),(n=-1<t?e[t]:null)&&tS(n))}function tS(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[um])fC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(i3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=nS(e))?(fC(n,t),n.h==0&&(n.src=null,e[eS]=null)):Ay(t)}}}function i3(t){return t in Fx?Fx[t]:Fx[t]="on"+t}function IU(t,e){if(t.fa)t=!0;else{e=new Ng(e,this);var n=t.listener,r=t.la||t.src;t.ia&&tS(t),t=n.call(r,e)}return t}function nS(t){return t=t[eS],t instanceof Iy?t:null}var Ox="__closure_events_fn_"+(1e9*Math.random()>>>0);function rS(t){return typeof t=="function"?t:(t[Ox]||(t[Ox]=function(e){return t.handleEvent(e)}),t[Ox])}function Mr(){Cu.call(this),this.i=new Iy(this),this.S=this,this.J=null}Br(Mr,Cu);Mr.prototype[um]=!0;Mr.prototype.removeEventListener=function(t,e,n,r){r3(this,t,e,n,r)};function Gr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new oi(e,t);else if(e instanceof oi)e.target=e.target||t;else{var i=e;e=new oi(r,t),ZP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=g0(a,r,!0,e)&&i}if(a=e.g=t,i=g0(a,r,!0,e)&&i,i=g0(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.g=n[s],i=g0(a,r,!1,e)&&i}Mr.prototype.N=function(){if(Mr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ay(n[r]);delete t.g[e],t.h--}}this.J=null};Mr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Mr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function g0(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var c=a.listener,p=a.la||a.src;a.ia&&fC(t.i,a),i=c.call(p,r)!==!1&&i}}return i&&!r.defaultPrevented}var iS=Et.JSON.stringify;class bU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function DU(){var t=oS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class RU{constructor(){this.h=this.g=null}add(e,n){const r=o3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var o3=new bU(()=>new PU,t=>t.reset());class PU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function NU(t){Et.setTimeout(()=>{throw t},0)}let Fg,Og=!1,oS=new RU,s3=()=>{const t=Et.Promise.resolve(void 0);Fg=()=>{t.then(FU)}};var FU=()=>{for(var t;t=DU();){try{t.h.call(t.g)}catch(n){NU(n)}var e=o3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Og=!1};function by(t,e){Mr.call(this),this.h=t||1,this.g=e||Et,this.j=ii(this.qb,this),this.l=Date.now()}Br(by,Mr);Ge=by.prototype;Ge.ga=!1;Ge.T=null;Ge.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gr(this,"tick"),this.ga&&(sS(this),this.start()))}};Ge.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ge.N=function(){by.$.N.call(this),sS(this),delete this.g};function aS(t,e,n){if(typeof t=="function")n&&(t=ii(t,n));else if(t&&typeof t.handleEvent=="function")t=ii(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Et.setTimeout(t,e||0)}function a3(t){t.g=aS(()=>{t.g=null,t.i&&(t.i=!1,a3(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class OU extends Cu{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:a3(this)}N(){super.N(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mg(t){Cu.call(this),this.h=t,this.g={}}Br(Mg,Cu);var qA=[];function l3(t,e,n,r){Array.isArray(n)||(n&&(qA[0]=n.toString()),n=qA);for(var i=0;i<n.length;i++){var s=e3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function u3(t){Z2(t.g,function(e,n){this.g.hasOwnProperty(n)&&tS(e)},t),t.g={}}Mg.prototype.N=function(){Mg.$.N.call(this),u3(this)};Mg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Dy(){this.g=!0}Dy.prototype.Ea=function(){this.g=!1};function MU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",c=s.split("&"),p=0;p<c.length;p++){var m=c[p].split("=");if(1<m.length){var y=m[0];m=m[1];var w=y.split("_");a=2<=w.length&&w[1]=="type"?a+(y+"="+m+"&"):a+(y+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function BU(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function dh(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zU(t,n)+(r?" "+r:"")})}function UU(t,e){t.info(function(){return"TIMEOUT: "+e})}Dy.prototype.info=function(){};function zU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return iS(n)}catch{return e}}var Kc={},GA=null;function Ry(){return GA=GA||new Mr}Kc.Ta="serverreachability";function c3(t){oi.call(this,Kc.Ta,t)}Br(c3,oi);function Bg(t){const e=Ry();Gr(e,new c3(e))}Kc.STAT_EVENT="statevent";function f3(t,e){oi.call(this,Kc.STAT_EVENT,t),this.stat=e}Br(f3,oi);function yi(t){const e=Ry();Gr(e,new f3(e,t))}Kc.Ua="timingevent";function h3(t,e){oi.call(this,Kc.Ua,t),this.size=e}Br(h3,oi);function cm(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){t()},e)}var Py={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},d3={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lS(){}lS.prototype.h=null;function KA(t){return t.h||(t.h=t.i())}function p3(){}var fm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function uS(){oi.call(this,"d")}Br(uS,oi);function cS(){oi.call(this,"c")}Br(cS,oi);var dC;function Ly(){}Br(Ly,lS);Ly.prototype.g=function(){return new XMLHttpRequest};Ly.prototype.i=function(){return{}};dC=new Ly;function hm(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Mg(this),this.P=VU,t=lC?125:void 0,this.V=new by(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new g3}function g3(){this.i=null,this.g="",this.h=!1}var VU=45e3,m3={},pC={};Ge=hm.prototype;Ge.setTimeout=function(t){this.P=t};function gC(t,e,n){t.L=1,t.A=Fy(Qa(e)),t.u=n,t.S=!0,v3(t,null)}function v3(t,e){t.G=Date.now(),dm(t),t.B=Qa(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),T3(n.i,"t",r),t.o=0,n=t.l.J,t.h=new g3,t.g=q3(t.l,n?e:null,!t.u),0<t.O&&(t.M=new OU(ii(t.Pa,t,t.g),t.O)),l3(t.U,t.g,"readystatechange",t.nb),e=t.I?JP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Bg(),MU(t.j,t.v,t.B,t.m,t.W,t.u)}Ge.nb=function(t){t=t.target;const e=this.M;e&&Gs(t)==3?e.l():this.Pa(t)};Ge.Pa=function(t){try{if(t==this.g)e:{const y=Gs(this.g);var e=this.g.Ia();const w=this.g.da();if(!(3>y)&&(y!=3||lC||this.g&&(this.h.h||this.g.ja()||JA(this.g)))){this.J||y!=4||e==7||(e==8||0>=w?Bg(3):Bg(2)),Ny(this);var n=this.g.da();this.ca=n;t:if(y3(this)){var r=JA(this.g);t="";var i=r.length,s=Gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mc(this),tg(this);var a="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,BU(this.j,this.v,this.B,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,p=this.g;if((c=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lg(c)){var m=c;break t}}m=null}if(n=m)dh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mC(this,n);else{this.i=!1,this.s=3,yi(12),mc(this),tg(this);break e}}this.S?(_3(this,y,a),lC&&this.i&&y==3&&(l3(this.U,this.V,"tick",this.mb),this.V.start())):(dh(this.j,this.m,a,null),mC(this,a)),y==4&&mc(this),this.i&&!this.J&&(y==4?$3(this.l,this):(this.i=!1,dm(this)))}else lz(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,yi(12)):(this.s=0,yi(13)),mc(this),tg(this)}}}catch{}finally{}};function y3(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function _3(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=$U(t,n),i==pC){e==4&&(t.s=4,yi(14),r=!1),dh(t.j,t.m,null,"[Incomplete Response]");break}else if(i==m3){t.s=4,yi(15),dh(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else dh(t.j,t.m,i,null),mC(t,i);y3(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,yi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mS(e),e.M=!0,yi(11))):(dh(t.j,t.m,n,"[Invalid Chunked Response]"),mc(t),tg(t))}Ge.mb=function(){if(this.g){var t=Gs(this.g),e=this.g.ja();this.o<e.length&&(Ny(this),_3(this,t,e),this.i&&t!=4&&dm(this))}};function $U(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?pC:(n=Number(e.substring(n,r)),isNaN(n)?m3:(r+=1,r+n>e.length?pC:(e=e.slice(r,r+n),t.o=r+n,e)))}Ge.cancel=function(){this.J=!0,mc(this)};function dm(t){t.Y=Date.now()+t.P,w3(t,t.P)}function w3(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=cm(ii(t.lb,t),e)}function Ny(t){t.C&&(Et.clearTimeout(t.C),t.C=null)}Ge.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(UU(this.j,this.B),this.L!=2&&(Bg(),yi(17)),mc(this),this.s=2,tg(this)):w3(this,this.Y-t)};function tg(t){t.l.H==0||t.J||$3(t.l,t)}function mc(t){Ny(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,sS(t.V),u3(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function mC(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||vC(n.i,t))){if(!t.K&&vC(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)P1(n),Uy(n);else break e;gS(n),yi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=cm(ii(n.ib,n),6e3));if(1>=I3(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vc(n,11)}else if((t.K||n.g==t)&&P1(n),!Lg(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let m=i[e];if(n.V=m[0],m=m[1],n.H==2)if(m[0]=="c"){n.K=m[1],n.pa=m[2];const y=m[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const w=m[4];w!=null&&(n.Ga=w,n.l.info("SVER="+n.Ga));const E=m[5];E!=null&&typeof E=="number"&&0<E&&(r=1.5*E,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const S=t.g;if(S){const L=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var s=r.i;s.g||L.indexOf("spdy")==-1&&L.indexOf("quic")==-1&&L.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(fS(s,s.h),s.h=null))}if(r.F){const O=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;O&&(r.Da=O,Pn(r.I,r.F,O))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=W3(r,r.J?r.pa:null,r.Y),a.K){b3(r.i,a);var c=a,p=r.L;p&&c.setTimeout(p),c.C&&(Ny(c),dm(c)),r.g=a}else z3(r);0<n.j.length&&zy(n)}else m[0]!="stop"&&m[0]!="close"||vc(n,7);else n.H==3&&(m[0]=="stop"||m[0]=="close"?m[0]=="stop"?vc(n,7):pS(n):m[0]!="noop"&&n.h&&n.h.Aa(m),n.A=0)}}Bg(4)}catch{}}function HU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ty(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function jU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ty(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function x3(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ty(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=jU(t),r=HU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var E3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Cc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Cc){this.h=t.h,D1(this,t.j),this.s=t.s,this.g=t.g,R1(this,t.m),this.l=t.l;var e=t.i,n=new Ug;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),QA(this,n),this.o=t.o}else t&&(e=String(t).match(E3))?(this.h=!1,D1(this,e[1]||"",!0),this.s=Vp(e[2]||""),this.g=Vp(e[3]||"",!0),R1(this,e[4]),this.l=Vp(e[5]||"",!0),QA(this,e[6]||"",!0),this.o=Vp(e[7]||"")):(this.h=!1,this.i=new Ug(null,this.h))}Cc.prototype.toString=function(){var t=[],e=this.j;e&&t.push($p(e,XA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($p(e,XA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($p(n,n.charAt(0)=="/"?KU:GU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$p(n,XU)),t.join("")};function Qa(t){return new Cc(t)}function D1(t,e,n){t.j=n?Vp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function R1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function QA(t,e,n){e instanceof Ug?(t.i=e,YU(t.i,t.h)):(n||(e=$p(e,QU)),t.i=new Ug(e,t.h))}function Pn(t,e,n){t.i.set(e,n)}function Fy(t){return Pn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $p(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,qU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var XA=/[#\/\?@]/g,GU=/[#\?:]/g,KU=/[#\?]/g,QU=/[#\?@]/g,XU=/#/g;function Ug(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Su(t){t.g||(t.g=new Map,t.h=0,t.i&&WU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ge=Ug.prototype;Ge.add=function(t,e){Su(this),this.i=null,t=Jh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function C3(t,e){Su(t),e=Jh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function S3(t,e){return Su(t),e=Jh(t,e),t.g.has(e)}Ge.forEach=function(t,e){Su(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ge.ta=function(){Su(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ge.Z=function(t){Su(this);let e=[];if(typeof t=="string")S3(this,t)&&(e=e.concat(this.g.get(Jh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ge.set=function(t,e){return Su(this),this.i=null,t=Jh(this,t),S3(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ge.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function T3(t,e,n){C3(t,e),0<n.length&&(t.i=null,t.g.set(Jh(t,e),Y2(n)),t.h+=n.length)}Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};function Jh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function YU(t,e){e&&!t.j&&(Su(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(C3(this,r),T3(this,i,n))},t)),t.j=e}var JU=class{constructor(t,e){this.g=t,this.map=e}};function k3(t){this.l=t||ZU,Et.PerformanceNavigationTiming?(t=Et.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Et.g&&Et.g.Ka&&Et.g.Ka()&&Et.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ZU=10;function A3(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function I3(t){return t.h?1:t.g?t.g.size:0}function vC(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fS(t,e){t.g?t.g.add(e):t.h=e}function b3(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}k3.prototype.cancel=function(){if(this.i=D3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function D3(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Y2(t.i)}var ez=class{stringify(t){return Et.JSON.stringify(t,void 0)}parse(t){return Et.JSON.parse(t,void 0)}};function tz(){this.g=new ez}function nz(t,e,n){const r=n||"";try{x3(t,function(i,s){let a=i;lm(i)&&(a=iS(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rz(t,e){const n=new Dy;if(Et.Image){const r=new Image;r.onload=p0(m0,n,r,"TestLoadImage: loaded",!0,e),r.onerror=p0(m0,n,r,"TestLoadImage: error",!1,e),r.onabort=p0(m0,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=p0(m0,n,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function m0(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Oy(t){this.l=t.ec||null,this.j=t.ob||!1}Br(Oy,lS);Oy.prototype.g=function(){return new My(this.l,this.j)};Oy.prototype.i=function(t){return function(){return t}}({});function My(t,e){Mr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Br(My,Mr);var hS=0;Ge=My.prototype;Ge.open=function(t,e){if(this.readyState!=hS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,zg(this)};Ge.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pm(this)),this.readyState=hS};Ge.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,zg(this)),this.g&&(this.readyState=3,zg(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;R3(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function R3(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ge.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pm(this):zg(this),this.readyState==3&&R3(this)}};Ge.Za=function(t){this.g&&(this.response=this.responseText=t,pm(this))};Ge.Ya=function(t){this.g&&(this.response=t,pm(this))};Ge.ka=function(){this.g&&pm(this)};function pm(t){t.readyState=4,t.l=null,t.j=null,t.A=null,zg(t)}Ge.setRequestHeader=function(t,e){this.v.append(t,e)};Ge.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ge.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function zg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(My.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var iz=Et.JSON.parse;function rr(t){Mr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=P3,this.L=this.M=!1}Br(rr,Mr);var P3="",oz=/^https?$/i,sz=["POST","PUT"];Ge=rr.prototype;Ge.Oa=function(t){this.M=t};Ge.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dC.g(),this.C=this.u?KA(this.u):KA(dC),this.g.onreadystatechange=ii(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){YA(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Et.FormData&&t instanceof Et.FormData,!(0<=KP(sz,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{F3(this),0<this.B&&((this.L=az(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ii(this.ua,this)):this.A=aS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){YA(this,s)}};function az(t){return Oh&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ge.ua=function(){typeof X2<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))};function YA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,L3(t),By(t)}function L3(t){t.F||(t.F=!0,Gr(t,"complete"),Gr(t,"error"))}Ge.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gr(this,"complete"),Gr(this,"abort"),By(this))};Ge.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),By(this,!0)),rr.$.N.call(this)};Ge.La=function(){this.s||(this.G||this.v||this.l?N3(this):this.kb())};Ge.kb=function(){N3(this)};function N3(t){if(t.h&&typeof X2<"u"&&(!t.C[1]||Gs(t)!=4||t.da()!=2)){if(t.v&&Gs(t)==4)aS(t.La,0,t);else if(Gr(t,"readystatechange"),Gs(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(E3)[1]||null;!i&&Et.self&&Et.self.location&&(i=Et.self.location.protocol.slice(0,-1)),r=!oz.test(i?i.toLowerCase():"")}n=r}if(n)Gr(t,"complete"),Gr(t,"success");else{t.m=6;try{var s=2<Gs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",L3(t)}}finally{By(t)}}}}function By(t,e){if(t.g){F3(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Gr(t,"ready");try{n.onreadystatechange=r}catch{}}}function F3(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Et.clearTimeout(t.A),t.A=null)}Ge.isActive=function(){return!!this.g};function Gs(t){return t.g?t.g.readyState:0}Ge.da=function(){try{return 2<Gs(this)?this.g.status:-1}catch{return-1}};Ge.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ge.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),iz(e)}};function JA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case P3:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function lz(t){const e={};t=(t.g&&2<=Gs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Lg(t[r]))continue;var n=LU(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}kU(e,function(r){return r.join(", ")})}Ge.Ia=function(){return this.m};Ge.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function O3(t){let e="";return Z2(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function dS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=O3(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Pn(t,e,n))}function Dp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function M3(t){this.Ga=0,this.j=[],this.l=new Dy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dp("baseRetryDelayMs",5e3,t),this.hb=Dp("retryDelaySeedMs",1e4,t),this.eb=Dp("forwardChannelMaxRetries",2,t),this.xa=Dp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new k3(t&&t.concurrentRequestLimit),this.Ja=new tz,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ge=M3.prototype;Ge.ra=8;Ge.H=1;function pS(t){if(B3(t),t.H==3){var e=t.W++,n=Qa(t.I);if(Pn(n,"SID",t.K),Pn(n,"RID",e),Pn(n,"TYPE","terminate"),gm(t,n),e=new hm(t,t.l,e),e.L=2,e.A=Fy(Qa(n)),n=!1,Et.navigator&&Et.navigator.sendBeacon)try{n=Et.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Et.Image&&(new Image().src=e.A,n=!0),n||(e.g=q3(e.l,null),e.g.ha(e.A)),e.G=Date.now(),dm(e)}j3(t)}function Uy(t){t.g&&(mS(t),t.g.cancel(),t.g=null)}function B3(t){Uy(t),t.u&&(Et.clearTimeout(t.u),t.u=null),P1(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Et.clearTimeout(t.m),t.m=null)}function zy(t){if(!A3(t.i)&&!t.m){t.m=!0;var e=t.Na;Fg||s3(),Og||(Fg(),Og=!0),oS.add(e,t),t.C=0}}function uz(t,e){return I3(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=cm(ii(t.Na,t,e),H3(t,t.C)),t.C++,!0)}Ge.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new hm(this,this.l,t);let s=this.s;if(this.U&&(s?(s=JP(s),ZP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=U3(this,i,e),n=Qa(this.I),Pn(n,"RID",t),Pn(n,"CVER",22),this.F&&Pn(n,"X-HTTP-Session-Id",this.F),gm(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(O3(s)))+"&"+e:this.o&&dS(n,this.o,s)),fS(this.i,i),this.bb&&Pn(n,"TYPE","init"),this.P?(Pn(n,"$req",e),Pn(n,"SID","null"),i.aa=!0,gC(i,n,null)):gC(i,n,e),this.H=2}}else this.H==3&&(t?ZA(this,t):this.j.length==0||A3(this.i)||ZA(this))};function ZA(t,e){var n;e?n=e.m:n=t.W++;const r=Qa(t.I);Pn(r,"SID",t.K),Pn(r,"RID",n),Pn(r,"AID",t.V),gm(t,r),t.o&&t.s&&dS(r,t.o,t.s),n=new hm(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=U3(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fS(t.i,n),gC(n,r,e)}function gm(t,e){t.na&&Z2(t.na,function(n,r){Pn(e,r,n)}),t.h&&x3({},function(n,r){Pn(e,r,n)})}function U3(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ii(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let p=0;p<n;p++){let m=i[p].g;const y=i[p].map;if(m-=s,0>m)s=Math.max(0,i[p].g-100),c=!1;else try{nz(y,a,"req"+m+"_")}catch{r&&r(y)}}if(c){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function z3(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Fg||s3(),Og||(Fg(),Og=!0),oS.add(e,t),t.A=0}}function gS(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=cm(ii(t.Ma,t),H3(t,t.A)),t.A++,!0)}Ge.Ma=function(){if(this.u=null,V3(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=cm(ii(this.jb,this),t)}};Ge.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yi(10),Uy(this),V3(this))};function mS(t){t.B!=null&&(Et.clearTimeout(t.B),t.B=null)}function V3(t){t.g=new hm(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Qa(t.wa);Pn(e,"RID","rpc"),Pn(e,"SID",t.K),Pn(e,"AID",t.V),Pn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pn(e,"TO",t.qa),Pn(e,"TYPE","xmlhttp"),gm(t,e),t.o&&t.s&&dS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Fy(Qa(e)),n.u=null,n.S=!0,v3(n,t)}Ge.ib=function(){this.v!=null&&(this.v=null,Uy(this),gS(this),yi(19))};function P1(t){t.v!=null&&(Et.clearTimeout(t.v),t.v=null)}function $3(t,e){var n=null;if(t.g==e){P1(t),mS(t),t.g=null;var r=2}else if(vC(t.i,e))n=e.F,b3(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ry(),Gr(r,new h3(r,n)),zy(t)}else z3(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&uz(t,e)||r==2&&gS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:vc(t,5);break;case 4:vc(t,10);break;case 3:vc(t,6);break;default:vc(t,2)}}}function H3(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vc(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ii(t.pb,t);n||(n=new Cc("//www.google.com/images/cleardot.gif"),Et.location&&Et.location.protocol=="http"||D1(n,"https"),Fy(n)),rz(n.toString(),r)}else yi(2);t.H=0,t.h&&t.h.za(e),j3(t),B3(t)}Ge.pb=function(t){t?(this.l.info("Successfully pinged google.com"),yi(2)):(this.l.info("Failed to ping google.com"),yi(1))};function j3(t){if(t.H=0,t.ma=[],t.h){const e=D3(t.i);(e.length!=0||t.j.length!=0)&&(HA(t.ma,e),HA(t.ma,t.j),t.i.i.length=0,Y2(t.j),t.j.length=0),t.h.ya()}}function W3(t,e,n){var r=n instanceof Cc?Qa(n):new Cc(n);if(r.g!="")e&&(r.g=e+"."+r.g),R1(r,r.m);else{var i=Et.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Cc(null);r&&D1(s,r),e&&(s.g=e),i&&R1(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Pn(r,n,e),Pn(r,"VER",t.ra),gm(t,r),r}function q3(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new rr(new Oy({ob:n})):new rr(t.va),e.Oa(t.J),e}Ge.isActive=function(){return!!this.h&&this.h.isActive(this)};function G3(){}Ge=G3.prototype;Ge.Ba=function(){};Ge.Aa=function(){};Ge.za=function(){};Ge.ya=function(){};Ge.isActive=function(){return!0};Ge.Va=function(){};function L1(){if(Oh&&!(10<=Number(EU)))throw Error("Environmental error: no available transport.")}L1.prototype.g=function(t,e){return new po(t,e)};function po(t,e){Mr.call(this),this.g=new M3(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Lg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lg(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Zh(this)}Br(po,Mr);po.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;yi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=W3(t,null,t.Y),zy(t)};po.prototype.close=function(){pS(this.g)};po.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=iS(t),t=n);e.j.push(new JU(e.fb++,t)),e.H==3&&zy(e)};po.prototype.N=function(){this.g.h=null,delete this.j,pS(this.g),delete this.g,po.$.N.call(this)};function K3(t){uS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Br(K3,uS);function Q3(){cS.call(this),this.status=1}Br(Q3,cS);function Zh(t){this.g=t}Br(Zh,G3);Zh.prototype.Ba=function(){Gr(this.g,"a")};Zh.prototype.Aa=function(t){Gr(this.g,new K3(t))};Zh.prototype.za=function(t){Gr(this.g,new Q3)};Zh.prototype.ya=function(){Gr(this.g,"b")};function cz(){this.blockSize=-1}function ms(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Br(ms,cz);ms.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Mx(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],a=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ms.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Mx(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Mx(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Mx(this,r),i=0;break}}this.h=i,this.i+=e};ms.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function fn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var fz={};function vS(t){return-128<=t&&128>t?_U(t,function(e){return new fn([e|0],0>e?-1:0)}):new fn([t|0],0>t?-1:0)}function Ks(t){if(isNaN(t)||!isFinite(t))return xh;if(0>t)return jr(Ks(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=yC;return new fn(e,0)}function X3(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return jr(X3(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ks(Math.pow(e,8)),r=xh,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=Ks(Math.pow(e,s)),r=r.R(s).add(Ks(a))):(r=r.R(n),r=r.add(Ks(a)))}return r}var yC=4294967296,xh=vS(0),_C=vS(1),eI=vS(16777216);Ge=fn.prototype;Ge.ea=function(){if(Bo(this))return-jr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:yC+r)*e,e*=yC}return t};Ge.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(za(this))return"0";if(Bo(this))return"-"+jr(this).toString(t);for(var e=Ks(Math.pow(t,6)),n=this,r="";;){var i=F1(n,e).g;n=N1(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,za(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ge.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function za(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Bo(t){return t.h==-1}Ge.X=function(t){return t=N1(this,t),Bo(t)?-1:za(t)?0:1};function jr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new fn(n,~t.h).add(_C)}Ge.abs=function(){return Bo(this)?jr(this):this};Ge.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new fn(n,n[n.length-1]&-2147483648?-1:0)};function N1(t,e){return t.add(jr(e))}Ge.R=function(t){if(za(this)||za(t))return xh;if(Bo(this))return Bo(t)?jr(this).R(jr(t)):jr(jr(this).R(t));if(Bo(t))return jr(this.R(jr(t)));if(0>this.X(eI)&&0>t.X(eI))return Ks(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=this.D(r)&65535,c=t.D(i)>>>16,p=t.D(i)&65535;n[2*r+2*i]+=a*p,v0(n,2*r+2*i),n[2*r+2*i+1]+=s*p,v0(n,2*r+2*i+1),n[2*r+2*i+1]+=a*c,v0(n,2*r+2*i+1),n[2*r+2*i+2]+=s*c,v0(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new fn(n,0)};function v0(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Rp(t,e){this.g=t,this.h=e}function F1(t,e){if(za(e))throw Error("division by zero");if(za(t))return new Rp(xh,xh);if(Bo(t))return e=F1(jr(t),e),new Rp(jr(e.g),jr(e.h));if(Bo(e))return e=F1(t,jr(e)),new Rp(jr(e.g),e.h);if(30<t.g.length){if(Bo(t)||Bo(e))throw Error("slowDivide_ only works with positive integers.");for(var n=_C,r=e;0>=r.X(t);)n=tI(n),r=tI(r);var i=Gf(n,1),s=Gf(r,1);for(r=Gf(r,2),n=Gf(n,2);!za(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=Gf(r,1),n=Gf(n,1)}return e=N1(t,i.R(e)),new Rp(i,e)}for(i=xh;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ks(n),a=s.R(e);Bo(a)||0<a.X(t);)n-=r,s=Ks(n),a=s.R(e);za(s)&&(s=_C),i=i.add(s),t=N1(t,a)}return new Rp(i,t)}Ge.gb=function(t){return F1(this,t).h};Ge.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new fn(n,this.h&t.h)};Ge.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new fn(n,this.h|t.h)};Ge.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new fn(n,this.h^t.h)};function tI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new fn(n,t.h)}function Gf(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new fn(i,t.h)}L1.prototype.createWebChannel=L1.prototype.g;po.prototype.send=po.prototype.u;po.prototype.open=po.prototype.m;po.prototype.close=po.prototype.close;Py.NO_ERROR=0;Py.TIMEOUT=8;Py.HTTP_ERROR=6;d3.COMPLETE="complete";p3.EventType=fm;fm.OPEN="a";fm.CLOSE="b";fm.ERROR="c";fm.MESSAGE="d";Mr.prototype.listen=Mr.prototype.O;rr.prototype.listenOnce=rr.prototype.P;rr.prototype.getLastError=rr.prototype.Sa;rr.prototype.getLastErrorCode=rr.prototype.Ia;rr.prototype.getStatus=rr.prototype.da;rr.prototype.getResponseJson=rr.prototype.Wa;rr.prototype.getResponseText=rr.prototype.ja;rr.prototype.send=rr.prototype.ha;rr.prototype.setWithCredentials=rr.prototype.Oa;ms.prototype.digest=ms.prototype.l;ms.prototype.reset=ms.prototype.reset;ms.prototype.update=ms.prototype.j;fn.prototype.add=fn.prototype.add;fn.prototype.multiply=fn.prototype.R;fn.prototype.modulo=fn.prototype.gb;fn.prototype.compare=fn.prototype.X;fn.prototype.toNumber=fn.prototype.ea;fn.prototype.toString=fn.prototype.toString;fn.prototype.getBits=fn.prototype.D;fn.fromNumber=Ks;fn.fromString=X3;var hz=function(){return new L1},dz=function(){return Ry()},Bx=Py,pz=d3,gz=Kc,nI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},y0=p3,mz=rr,vz=ms,Eh=fn;const rI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new G2("@firebase/firestore");function Pp(){return Oc.logLevel}function qe(t,...e){if(Oc.logLevel<=jt.DEBUG){const n=e.map(yS);Oc.debug(`Firestore (${ed}): ${t}`,...n)}}function ia(t,...e){if(Oc.logLevel<=jt.ERROR){const n=e.map(yS);Oc.error(`Firestore (${ed}): ${t}`,...n)}}function Mh(t,...e){if(Oc.logLevel<=jt.WARN){const n=e.map(yS);Oc.warn(`Firestore (${ed}): ${t}`,...n)}}function yS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t="Unexpected state"){const e=`FIRESTORE (${ed}) INTERNAL ASSERTION FAILED: `+t;throw ia(e),new Error(e)}function Tn(t,e){t||wt()}function kt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends aa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ti.UNAUTHENTICATED))}shutdown(){}}class _z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wz{constructor(e){this.t=e,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let s=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zs,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const p=s;e.enqueueRetryable(async()=>{await p.promise,await i(this.currentUser)})},c=p=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(p=>c(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?c(p):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tn(typeof r.accessToken=="string"),new Y3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tn(e===null||typeof e=="string"),new ti(e)}}class xz{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ti.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ez{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xz(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sz{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,qe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tn(typeof n.token=="string"),this.R=n.token,new Cz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Tz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function nn(t,e){return t<e?-1:t>e?1:0}function Bh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Er.fromMillis(Date.now())}static fromDate(e){return Er.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Er(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Er(0,0))}static max(){return new St(new Er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r){n===void 0?n=0:n>e.length&&wt(),r===void 0?r=e.length-n:r>e.length-n&&wt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vg.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vg?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ln extends Vg{construct(e,n,r){return new Ln(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ln(n)}static emptyPath(){return new Ln([])}}const kz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends Vg{construct(e,n,r){return new Wr(e,n,r)}static isValidIdentifier(e){return kz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Qe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Qe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new Qe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wr(n)}static emptyPath(){return new Wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.path=e}static fromPath(e){return new lt(Ln.fromString(e))}static fromName(e){return new lt(Ln.fromString(e).popFirst(5))}static empty(){return new lt(Ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new Ln(e.slice()))}}function Az(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=St.fromTimestamp(r===1e9?new Er(n+1,0):new Er(n,r));return new gu(i,lt.empty(),e)}function Iz(t){return new gu(t.readTime,t.key,-1)}class gu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gu(St.min(),lt.empty(),-1)}static max(){return new gu(St.max(),lt.empty(),-1)}}function bz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=lt.comparator(t.documentKey,e.documentKey),n!==0?n:nn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==Dz)throw t;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ie?n:Ie.resolve(n)}catch(n){return Ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.reject(n)}static resolve(e){return new Ie((n,r)=>{n(e)})}static reject(e){return new Ie((n,r)=>{r(e)})}static waitFor(e){return new Ie((n,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&n()},p=>r(p))}),a=!0,s===i&&n()})}static or(e){let n=Ie.resolve(!1);for(const r of e)n=n.next(i=>i?Ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ie((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let p=0;p<s;p++){const m=p;n(e[m]).next(y=>{a[m]=y,++c,c===s&&r(a)},y=>i(y))}})}static doWhile(e,n){return new Ie((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Zs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ng(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=wS(r.target.error);this.V.reject(new ng(e,i))}}static open(e,n,r,i){try{return new _S(n,e.transaction(i,r))}catch(s){throw new ng(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Lz(n)}}class yc{constructor(e,n,r){this.name=e,this.version=n,this.p=r,yc.S(Cr())===12.2&&ia("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qe("SimpleDb","Removing database:",e),fc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!$P())return!1;if(yc.C())return!0;const e=Cr(),n=yc.S(e),r=0<n&&n<10,i=yc.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(qe("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new ng(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new Qe(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Qe(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new ng(e,a))},i.onupgradeneeded=s=>{qe("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.N(a,i.transaction,s.oldVersion,this.version).next(()=>{qe("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const c=_S.open(this.db,e,s?"readonly":"readwrite",r),p=i(c).next(m=>(c.g(),m)).catch(m=>(c.abort(m),Ie.reject(m))).toPromise();return p.catch(()=>{}),await c.m,p}catch(c){const p=c,m=p.name!=="FirebaseError"&&a<3;if(qe("SimpleDb","Transaction failed with error:",p.message,"Retrying:",m),this.close(),!m)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Pz{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return fc(this.k.delete())}}class ng extends Qe{constructor(e,n){super(Te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function vm(t){return t.name==="IndexedDbTransactionError"}class Lz{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(qe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),fc(r)}add(e){return qe("SimpleDb","ADD",this.store.name,e,e),fc(this.store.add(e))}get(e){return fc(this.store.get(e)).next(n=>(n===void 0&&(n=null),qe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return qe("SimpleDb","DELETE",this.store.name,e),fc(this.store.delete(e))}count(){return qe("SimpleDb","COUNT",this.store.name),fc(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Ie((a,c)=>{s.onerror=p=>{c(p.target.error)},s.onsuccess=p=>{a(p.target.result)}})}{const s=this.cursor(r),a=[];return this.G(s,(c,p)=>{a.push(p)}).next(()=>a)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Ie((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}H(e,n){qe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,a,c)=>c.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new Ie((r,i)=>{n.onerror=s=>{const a=wS(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(c=>{c?a.continue():r()}):r()}})}G(e,n){const r=[];return new Ie((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void i();const p=new Pz(c),m=n(c.primaryKey,c.value,p);if(m instanceof Ie){const y=m.catch(w=>(p.done(),Ie.reject(w)));r.push(y)}p.isDone?i():p.$===null?c.continue():c.continue(p.$)}}).next(()=>Ie.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function fc(t){return new Ie((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=wS(r.target.error);n(i)}})}let iI=!1;function wS(t){const e=yc.S(Cr());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iI||(iI=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}xS._e=-1;function Vy(t){return t==null}function O1(t){return t===0&&1/t==-1/0}function Nz(t){return typeof t=="number"&&Number.isInteger(t)&&!O1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Z3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){this.comparator=e,this.root=n||Hr.EMPTY}insert(e,n){return new Qn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new Qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _0(this.root,e,this.comparator,!1)}getReverseIterator(){return new _0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _0(this.root,e,this.comparator,!0)}}class _0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Hr.RED,this.left=i??Hr.EMPTY,this.right=s??Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Hr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Hr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1;Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Hr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.comparator=e,this.data=new Qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sI(this.data.getIterator())}getIteratorFrom(e){return new sI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kr(this.comparator);return n.data=e,n}}class sI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.fields=e,e.sort(Wr.comparator)}static empty(){return new ao([])}unionWith(e){let n=new Kr(Wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ao(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new e4("Invalid base64 string: "+s):s}}(e);return new ai(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new ai(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const Fz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mu(t){if(Tn(!!t),typeof t=="string"){let e=0;const n=Fz.exec(t);if(Tn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_r(t.seconds),nanos:_r(t.nanos)}}function _r(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mc(t){return typeof t=="string"?ai.fromBase64String(t):ai.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function CS(t){const e=t.mapValue.fields.__previous_value__;return ES(e)?CS(e):e}function $g(t){const e=mu(t.mapValue.fields.__local_write_time__.timestampValue);return new Er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,n,r,i,s,a,c,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=p,this.useFetchStreams=m}}class Hg{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hg("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ES(t)?4:Mz(t)?9007199254740991:10:wt()}function oa(t,e){if(t===e)return!0;const n=Bc(t);if(n!==Bc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $g(t).isEqual($g(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=mu(i.timestampValue),c=mu(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Mc(i.bytesValue).isEqual(Mc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _r(i.geoPointValue.latitude)===_r(s.geoPointValue.latitude)&&_r(i.geoPointValue.longitude)===_r(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _r(i.integerValue)===_r(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=_r(i.doubleValue),c=_r(s.doubleValue);return a===c?O1(a)===O1(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Bh(t.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:return function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(oI(a)!==oI(c))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(c[p]===void 0||!oa(a[p],c[p])))return!1;return!0}(t,e);default:return wt()}}function jg(t,e){return(t.values||[]).find(n=>oa(n,e))!==void 0}function Uh(t,e){if(t===e)return 0;const n=Bc(t),r=Bc(e);if(n!==r)return nn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nn(t.booleanValue,e.booleanValue);case 2:return function(s,a){const c=_r(s.integerValue||s.doubleValue),p=_r(a.integerValue||a.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(t,e);case 3:return aI(t.timestampValue,e.timestampValue);case 4:return aI($g(t),$g(e));case 5:return nn(t.stringValue,e.stringValue);case 6:return function(s,a){const c=Mc(s),p=Mc(a);return c.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),p=a.split("/");for(let m=0;m<c.length&&m<p.length;m++){const y=nn(c[m],p[m]);if(y!==0)return y}return nn(c.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const c=nn(_r(s.latitude),_r(a.latitude));return c!==0?c:nn(_r(s.longitude),_r(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const c=s.values||[],p=a.values||[];for(let m=0;m<c.length&&m<p.length;++m){const y=Uh(c[m],p[m]);if(y)return y}return nn(c.length,p.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===w0.mapValue&&a===w0.mapValue)return 0;if(s===w0.mapValue)return 1;if(a===w0.mapValue)return-1;const c=s.fields||{},p=Object.keys(c),m=a.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const E=nn(p[w],y[w]);if(E!==0)return E;const S=Uh(c[p[w]],m[y[w]]);if(S!==0)return S}return nn(p.length,y.length)}(t.mapValue,e.mapValue);default:throw wt()}}function aI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nn(t,e);const n=mu(t),r=mu(e),i=nn(n.seconds,r.seconds);return i!==0?i:nn(n.nanos,r.nanos)}function zh(t){return wC(t)}function wC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return lt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=wC(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${wC(n.fields[a])}`;return i+"}"}(t.mapValue):wt()}function lI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xC(t){return!!t&&"integerValue"in t}function SS(t){return!!t&&"arrayValue"in t}function uI(t){return!!t&&"nullValue"in t}function cI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $0(t){return!!t&&"mapValue"in t}function rg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Mz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rg(n)}setAll(e){let n=Wr.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const p=this.getFieldsMap(n);this.applyChanges(p,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=rg(a):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Oi(rg(this.value))}}function t4(t){const e=[];return Qc(t.fields,(n,r)=>{const i=new Wr([n]);if($0(r)){const s=t4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new ao(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r,i,s,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new ri(e,0,St.min(),St.min(),St.min(),Oi.empty(),0)}static newFoundDocument(e,n,r,i){return new ri(e,1,n,St.min(),r,i,0)}static newNoDocument(e,n){return new ri(e,2,n,St.min(),St.min(),Oi.empty(),0)}static newUnknownDocument(e,n){return new ri(e,3,n,St.min(),St.min(),Oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ri&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.position=e,this.inclusive=n}}function fI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=lt.comparator(lt.fromName(a.referenceValue),n.key):r=Uh(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function hI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n="asc"){this.field=e,this.dir=n}}function Bz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{}class xr extends n4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zz(e,n,r):n==="array-contains"?new Hz(e,r):n==="in"?new jz(e,r):n==="not-in"?new Wz(e,r):n==="array-contains-any"?new qz(e,r):new xr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vz(e,r):new $z(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Uh(n,this.value)):n!==null&&Bc(this.value)===Bc(n)&&this.matchesComparison(Uh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends n4{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new vs(e,n)}matches(e){return r4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function r4(t){return t.op==="and"}function i4(t){return Uz(t)&&r4(t)}function Uz(t){for(const e of t.filters)if(e instanceof vs)return!1;return!0}function EC(t){if(t instanceof xr)return t.field.canonicalString()+t.op.toString()+zh(t.value);if(i4(t))return t.filters.map(e=>EC(e)).join(",");{const e=t.filters.map(n=>EC(n)).join(",");return`${t.op}(${e})`}}function o4(t,e){return t instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.field.isEqual(i.field)&&oa(r.value,i.value)}(t,e):t instanceof vs?function(r,i){return i instanceof vs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,c)=>s&&o4(a,i.filters[c]),!0):!1}(t,e):void wt()}function s4(t){return t instanceof xr?function(n){return`${n.field.canonicalString()} ${n.op} ${zh(n.value)}`}(t):t instanceof vs?function(n){return n.op.toString()+" {"+n.getFilters().map(s4).join(" ,")+"}"}(t):"Filter"}class zz extends xr{constructor(e,n,r){super(e,n,r),this.key=lt.fromName(r.referenceValue)}matches(e){const n=lt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vz extends xr{constructor(e,n){super(e,"in",n),this.keys=a4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $z extends xr{constructor(e,n){super(e,"not-in",n),this.keys=a4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function a4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>lt.fromName(r.referenceValue))}class Hz extends xr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return SS(n)&&jg(n.arrayValue,this.value)}}class jz extends xr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jg(this.value.arrayValue,n)}}class Wz extends xr{constructor(e,n){super(e,"not-in",n)}matches(e){if(jg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jg(this.value.arrayValue,n)}}class qz extends xr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!SS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ce=null}}function dI(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Gz(t,e,n,r,i,s,a)}function TS(t){const e=kt(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>EC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zh(r)).join(",")),e.ce=n}return e.ce}function kS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Bz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!o4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hI(t.startAt,e.startAt)&&hI(t.endAt,e.endAt)}function CC(t){return lt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n=null,r=[],i=[],s=null,a="F",c=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=p,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Kz(t,e,n,r,i,s,a,c){return new td(t,e,n,r,i,s,a,c)}function $y(t){return new td(t)}function pI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l4(t){return t.collectionGroup!==null}function ig(t){const e=kt(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Kr(Wr.comparator);return a.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(c=c.add(m.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Wg(s,r))}),n.has(Wr.keyField().canonicalString())||e.le.push(new Wg(Wr.keyField(),r))}return e.le}function ea(t){const e=kt(t);return e.he||(e.he=Qz(e,ig(t))),e.he}function Qz(t,e){if(t.limitType==="F")return dI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wg(i.field,s)});const n=t.endAt?new M1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new M1(t.startAt.position,t.startAt.inclusive):null;return dI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function SC(t,e){const n=t.filters.concat([e]);return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function B1(t,e,n){return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hy(t,e){return kS(ea(t),ea(e))&&t.limitType===e.limitType}function u4(t){return`${TS(ea(t))}|lt:${t.limitType}`}function Yf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>s4(i)).join(", ")}]`),Vy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zh(i)).join(",")),`Target(${r})`}(ea(t))}; limitType=${t.limitType})`}function jy(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):lt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ig(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,p){const m=fI(a,c,p);return a.inclusive?m<=0:m<0}(r.startAt,ig(r),i)||r.endAt&&!function(a,c,p){const m=fI(a,c,p);return a.inclusive?m>=0:m>0}(r.endAt,ig(r),i))}(t,e)}function Xz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function c4(t){return(e,n)=>{let r=!1;for(const i of ig(t)){const s=Yz(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Yz(t,e,n){const r=t.field.isKeyField()?lt.comparator(e.key,n.key):function(s,a,c){const p=a.data.field(s),m=c.data.field(s);return p!==null&&m!==null?Uh(p,m):wt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Z3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=new Qn(lt.comparator);function Xa(){return Jz}const f4=new Qn(lt.comparator);function Hp(...t){let e=f4;for(const n of t)e=e.insert(n.key,n);return e}function h4(t){let e=f4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _c(){return og()}function d4(){return og()}function og(){return new nd(t=>t.toString(),(t,e)=>t.isEqual(e))}const Zz=new Qn(lt.comparator),eV=new Kr(lt.comparator);function Ot(...t){let e=eV;for(const n of t)e=e.add(n);return e}const tV=new Kr(nn);function nV(){return tV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:O1(e)?"-0":e}}function g4(t){return{integerValue:""+t}}function rV(t,e){return Nz(e)?g4(e):p4(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this._=void 0}}function iV(t,e,n){return t instanceof qg?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ES(s)&&(s=CS(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Gg?v4(t,e):t instanceof Kg?y4(t,e):function(i,s){const a=m4(i,s),c=gI(a)+gI(i.Ie);return xC(a)&&xC(i.Ie)?g4(c):p4(i.serializer,c)}(t,e)}function oV(t,e,n){return t instanceof Gg?v4(t,e):t instanceof Kg?y4(t,e):n}function m4(t,e){return t instanceof U1?function(r){return xC(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qg extends Wy{}class Gg extends Wy{constructor(e){super(),this.elements=e}}function v4(t,e){const n=_4(e);for(const r of t.elements)n.some(i=>oa(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kg extends Wy{constructor(e){super(),this.elements=e}}function y4(t,e){let n=_4(e);for(const r of t.elements)n=n.filter(i=>!oa(i,r));return{arrayValue:{values:n}}}class U1 extends Wy{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function gI(t){return _r(t.integerValue||t.doubleValue)}function _4(t){return SS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n){this.field=e,this.transform=n}}function aV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gg&&i instanceof Gg||r instanceof Kg&&i instanceof Kg?Bh(r.elements,i.elements,oa):r instanceof U1&&i instanceof U1?oa(r.Ie,i.Ie):r instanceof qg&&i instanceof qg}(t.transform,e.transform)}class lV{constructor(e,n){this.version=e,this.transformResults=n}}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function H0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qy{}function w4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new AS(t.key,ps.none()):new ym(t.key,t.data,ps.none());{const n=t.data,r=Oi.empty();let i=new Kr(Wr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Tu(t.key,r,new ao(i.toArray()),ps.none())}}function uV(t,e,n){t instanceof ym?function(i,s,a){const c=i.value.clone(),p=vI(i.fieldTransforms,s,a.transformResults);c.setAll(p),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Tu?function(i,s,a){if(!H0(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=vI(i.fieldTransforms,s,a.transformResults),p=s.data;p.setAll(x4(i)),p.setAll(c),s.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function sg(t,e,n,r){return t instanceof ym?function(s,a,c,p){if(!H0(s.precondition,a))return c;const m=s.value.clone(),y=yI(s.fieldTransforms,p,a);return m.setAll(y),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Tu?function(s,a,c,p){if(!H0(s.precondition,a))return c;const m=yI(s.fieldTransforms,p,a),y=a.data;return y.setAll(x4(s)),y.setAll(m),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(w=>w.field))}(t,e,n,r):function(s,a,c){return H0(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function cV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=m4(r.transform,i||null);s!=null&&(n===null&&(n=Oi.empty()),n.set(r.field,s))}return n||null}function mI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bh(r,i,(s,a)=>aV(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ym extends qy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tu extends qy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function x4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vI(t,e,n){const r=new Map;Tn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,oV(a,c,n[i]))}return r}function yI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,iV(s,a,e))}return r}class AS extends qy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fV extends qy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=d4();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(i.key)?null:c;const p=w4(a,c);p!==null&&r.set(i.key,p),a.isValidDocument()||a.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ot())}isEqual(e){return this.batchId===e.batchId&&Bh(this.mutations,e.mutations,(n,r)=>mI(n,r))&&Bh(this.baseMutations,e.baseMutations,(n,r)=>mI(n,r))}}class IS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Tn(e.mutations.length===r.length);let i=function(){return Zz}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new IS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr,Gt;function gV(t){switch(t){default:return wt();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function E4(t){if(t===void 0)return ia("GRPC error has no .code"),Te.UNKNOWN;switch(t){case vr.OK:return Te.OK;case vr.CANCELLED:return Te.CANCELLED;case vr.UNKNOWN:return Te.UNKNOWN;case vr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case vr.INTERNAL:return Te.INTERNAL;case vr.UNAVAILABLE:return Te.UNAVAILABLE;case vr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case vr.NOT_FOUND:return Te.NOT_FOUND;case vr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case vr.ABORTED:return Te.ABORTED;case vr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case vr.DATA_LOSS:return Te.DATA_LOSS;default:return wt()}}(Gt=vr||(vr={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=new Eh([4294967295,4294967295],0);function _I(t){const e=mV().encode(t),n=new vz;return n.update(e),new Uint8Array(n.digest())}function wI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Eh([n,r],0),new Eh([i,s],0)]}class bS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jp(`Invalid padding: ${n}`);if(r<0)throw new jp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jp(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Eh.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Eh.fromNumber(r)));return i.compare(vV)===1&&(i=new Eh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=_I(e),[r,i]=wI(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);if(!this.Ae(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new bS(s,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Te===0)return;const n=_I(e),[r,i]=wI(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);this.Re(a)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_m.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gy(St.min(),i,new Qn(nn),Xa(),Ot())}}class _m{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _m(r,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class C4{constructor(e,n){this.targetId=e,this.fe=n}}class S4{constructor(e,n,r=ai.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xI{constructor(){this.ge=0,this.pe=CI(),this.ye=ai.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ot(),n=Ot(),r=Ot();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:wt()}}),new _m(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=CI()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Tn(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class yV{constructor(e){this.Be=e,this.ke=new Map,this.qe=Xa(),this.Qe=EI(),this.Ke=new Qn(nn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:wt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(CC(s))if(r===0){const a=new lt(s.path);this.We(n,a,ri.newNoDocument(a,St.min()))}else Tn(r===1);else{const a=this.Ze(n);if(a!==r){const c=this.Xe(e),p=c?this.et(c,e,a):1;if(p!==0){this.He(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,m)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,c;try{a=Mc(r).toUint8Array()}catch(p){if(p instanceof e4)return Mh("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{c=new bS(a,i,s)}catch(p){return Mh(p instanceof jp?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return c.Te===0?null:c}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Be.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,a)=>{const c=this.Ye(a);if(c){if(s.current&&CC(c.target)){const p=new lt(c.target.path);this.qe.get(p)!==null||this.st(a,p)||this.We(a,p,ri.newNoDocument(p,e))}s.De&&(n.set(a,s.ve()),s.Fe())}});let r=Ot();this.Qe.forEach((s,a)=>{let c=!0;a.forEachWhile(p=>{const m=this.Ye(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.qe.forEach((s,a)=>a.setReadTime(e));const i=new Gy(e,n,this.Ke,this.qe,r);return this.qe=Xa(),this.Qe=EI(),this.Ke=new Qn(nn),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new xI,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Kr(nn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||qe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new xI),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function EI(){return new Qn(lt.comparator)}function CI(){return new Qn(lt.comparator)}const _V={asc:"ASCENDING",desc:"DESCENDING"},wV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xV={and:"AND",or:"OR"};class EV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function TC(t,e){return t.useProto3Json||Vy(e)?e:{value:e}}function z1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CV(t,e){return z1(t,e.toTimestamp())}function ta(t){return Tn(!!t),St.fromTimestamp(function(n){const r=mu(n);return new Er(r.seconds,r.nanos)}(t))}function DS(t,e){return kC(t,e).canonicalString()}function kC(t,e){const n=function(i){return new Ln(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function k4(t){const e=Ln.fromString(t);return Tn(R4(e)),e}function AC(t,e){return DS(t.databaseId,e.path)}function Ux(t,e){const n=k4(e);if(n.get(1)!==t.databaseId.projectId)throw new Qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new lt(I4(n))}function A4(t,e){return DS(t.databaseId,e)}function SV(t){const e=k4(t);return e.length===4?Ln.emptyPath():I4(e)}function IC(t){return new Ln(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function I4(t){return Tn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function SI(t,e,n){return{name:AC(t,e),fields:n.value.mapValue.fields}}function TV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:wt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(m,y){return m.useProto3Json?(Tn(y===void 0||typeof y=="string"),ai.fromBase64String(y||"")):(Tn(y===void 0||y instanceof Uint8Array),ai.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(m){const y=m.code===void 0?Te.UNKNOWN:E4(m.code);return new Qe(y,m.message||"")}(a);n=new S4(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ux(t,r.document.name),s=ta(r.document.updateTime),a=r.document.createTime?ta(r.document.createTime):St.min(),c=new Oi({mapValue:{fields:r.document.fields}}),p=ri.newFoundDocument(i,s,a,c),m=r.targetIds||[],y=r.removedTargetIds||[];n=new j0(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ux(t,r.document),s=r.readTime?ta(r.readTime):St.min(),a=ri.newNoDocument(i,s),c=r.removedTargetIds||[];n=new j0([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ux(t,r.document),s=r.removedTargetIds||[];n=new j0([],s,i,null)}else{if(!("filter"in e))return wt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new pV(i,s),c=r.targetId;n=new C4(c,a)}}return n}function kV(t,e){let n;if(e instanceof ym)n={update:SI(t,e.key,e.value)};else if(e instanceof AS)n={delete:AC(t,e.key)};else if(e instanceof Tu)n={update:SI(t,e.key,e.data),updateMask:FV(e.fieldMask)};else{if(!(e instanceof fV))return wt();n={verify:AC(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const c=a.transform;if(c instanceof qg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Kg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof U1)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw wt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:CV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:wt()}(t,e.precondition)),n}function AV(t,e){return t&&t.length>0?(Tn(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?ta(i.updateTime):ta(s);return a.isEqual(St.min())&&(a=ta(s)),new lV(a,i.transformResults||[])}(n,e))):[]}function IV(t,e){return{documents:[A4(t,e.path)]}}function bV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=A4(t,i);const s=function(m){if(m.length!==0)return D4(vs.create(m,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(m){if(m.length!==0)return m.map(y=>function(E){return{field:Jf(E.field),direction:PV(E.dir)}}(y))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=TC(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ut:n,parent:i}}function DV(t){let e=SV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tn(r===1);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let s=[];n.where&&(s=function(w){const E=b4(w);return E instanceof vs&&i4(E)?E.getFilters():[E]}(n.where));let a=[];n.orderBy&&(a=function(w){return w.map(E=>function(L){return new Wg(Zf(L.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(E))}(n.orderBy));let c=null;n.limit&&(c=function(w){let E;return E=typeof w=="object"?w.value:w,Vy(E)?null:E}(n.limit));let p=null;n.startAt&&(p=function(w){const E=!!w.before,S=w.values||[];return new M1(S,E)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const E=!w.before,S=w.values||[];return new M1(S,E)}(n.endAt)),Kz(e,i,a,s,c,"F",p,m)}function RV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function b4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zf(n.unaryFilter.field);return xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zf(n.unaryFilter.field);return xr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zf(n.unaryFilter.field);return xr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Zf(n.unaryFilter.field);return xr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(t):t.fieldFilter!==void 0?function(n){return xr.create(Zf(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vs.create(n.compositeFilter.filters.map(r=>b4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(t):wt()}function PV(t){return _V[t]}function LV(t){return wV[t]}function NV(t){return xV[t]}function Jf(t){return{fieldPath:t.canonicalString()}}function Zf(t){return Wr.fromServerFormat(t.fieldPath)}function D4(t){return t instanceof xr?function(n){if(n.op==="=="){if(cI(n.value))return{unaryFilter:{field:Jf(n.field),op:"IS_NAN"}};if(uI(n.value))return{unaryFilter:{field:Jf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cI(n.value))return{unaryFilter:{field:Jf(n.field),op:"IS_NOT_NAN"}};if(uI(n.value))return{unaryFilter:{field:Jf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jf(n.field),op:LV(n.op),value:n.value}}}(t):t instanceof vs?function(n){const r=n.getFilters().map(i=>D4(i));return r.length===1?r[0]:{compositeFilter:{op:NV(n.op),filters:r}}}(t):wt()}function FV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function R4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r,i,s=St.min(),a=St.min(),c=ai.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=p}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.ct=e}}function MV(t){const e=DV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?B1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this._n=new UV}addToCollectionParentIndex(e,n){return this._n.add(n),Ie.resolve()}getCollectionParents(e,n){return Ie.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Ie.resolve()}deleteFieldIndex(e,n){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,n){return Ie.resolve()}getDocumentsMatchingTarget(e,n){return Ie.resolve(null)}getIndexType(e,n){return Ie.resolve(0)}getFieldIndexes(e,n){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,n){return Ie.resolve(gu.min())}getMinOffsetFromCollectionGroup(e,n){return Ie.resolve(gu.min())}updateCollectionGroup(e,n,r){return Ie.resolve()}updateIndexEntries(e,n){return Ie.resolve()}}class UV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kr(Ln.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kr(Ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Vh(0)}static Ln(){return new Vh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.changes=new nd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ri.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sg(r.mutation,i,ao.empty(),Er.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ot()){const i=_c();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Hp();return s.forEach((c,p)=>{a=a.insert(c,p.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=_c();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let s=Xa();const a=og(),c=function(){return og()}();return n.forEach((p,m)=>{const y=r.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof Tu)?s=s.insert(m.key,m):y!==void 0?(a.set(m.key,y.mutation.getFieldMask()),sg(y.mutation,m,y.mutation.getFieldMask(),Er.now())):a.set(m.key,ao.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((m,y)=>a.set(m,y)),n.forEach((m,y)=>{var w;return c.set(m,new VV(y,(w=a.get(m))!==null&&w!==void 0?w:null))}),c))}recalculateAndSaveOverlays(e,n){const r=og();let i=new Qn((a,c)=>a-c),s=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let y=r.get(p)||ao.empty();y=c.applyToLocalView(m,y),r.set(p,y);const w=(i.get(c.batchId)||Ot()).add(p);i=i.insert(c.batchId,w)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const p=c.getNext(),m=p.key,y=p.value,w=d4();y.forEach(E=>{if(!s.has(E)){const S=w4(n.get(E),r.get(E));S!==null&&w.set(E,S),s=s.add(E)}}),a.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Ie.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return lt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):l4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ie.resolve(_c());let c=-1,p=s;return a.next(m=>Ie.forEach(m,(y,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),s.get(y)?Ie.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{p=p.insert(y,E)}))).next(()=>this.populateOverlays(e,m,s)).next(()=>this.computeViews(e,p,m,Ot())).next(y=>({batchId:c,changes:h4(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new lt(n)).next(r=>{let i=Hp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Hp();return this.indexManager.getCollectionParents(e,s).next(c=>Ie.forEach(c,p=>{const m=function(w,E){return new td(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(y=>{y.forEach((w,E)=>{a=a.insert(w,E)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((p,m)=>{const y=m.getKey();a.get(y)===null&&(a=a.insert(y,ri.newInvalidDocument(y)))});let c=Hp();return a.forEach((p,m)=>{const y=s.get(p);y!==void 0&&sg(y.mutation,m,ao.empty(),Er.now()),jy(n,m)&&(c=c.insert(p,m))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Ie.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ta(i.createTime)}}(n)),Ie.resolve()}getNamedQuery(e,n){return Ie.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:MV(i.bundledQuery),readTime:ta(i.readTime)}}(n)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.overlays=new Qn(lt.comparator),this.hr=new Map}getOverlay(e,n){return Ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_c();return Ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Ie.resolve()}getOverlaysForCollection(e,n,r){const i=_c(),s=n.length+1,a=new lt(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const p=c.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===s&&p.largestBatchId>r&&i.set(p.getKey(),p)}return Ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qn((m,y)=>m-y);const a=this.overlays.getIterator();for(;a.hasNext();){const m=a.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=s.get(m.largestBatchId);y===null&&(y=_c(),s=s.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const c=_c(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>c.set(m,y)),!(c.size()>=i)););return Ie.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new dV(n,r));let s=this.hr.get(n);s===void 0&&(s=Ot(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Pr=new Kr(Nr.Ir),this.Tr=new Kr(Nr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Nr(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Nr(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new lt(new Ln([])),r=new Nr(n,e),i=new Nr(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new lt(new Ln([])),r=new Nr(n,e),i=new Nr(n,e+1);let s=Ot();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Nr(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nr{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return lt.comparator(e.key,n.key)||nn(e.pr,n.pr)}static Er(e,n){return nn(e.pr,n.pr)||lt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Kr(Nr.Ir)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new hV(s,n,r,i);this.mutationQueue.push(a);for(const c of i)this.wr=this.wr.add(new Nr(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ie.resolve(a)}lookupMutationBatch(e,n){return Ie.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return Ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nr(n,0),i=new Nr(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const c=this.Sr(a.pr);s.push(c)}),Ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kr(nn);return n.forEach(i=>{const s=new Nr(i,0),a=new Nr(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],c=>{r=r.add(c.pr)})}),Ie.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;lt.isDocumentKey(s)||(s=s.child(""));const a=new Nr(new lt(s),0);let c=new Kr(nn);return this.wr.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(c=c.add(p.pr)),!0)},a),Ie.resolve(this.Dr(c))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Tn(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Ie.forEach(n.mutations,i=>{const s=new Nr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Nr(n,0),i=this.wr.firstAfterOrEqual(r);return Ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.vr=e,this.docs=function(){return new Qn(lt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ie.resolve(r?r.document.mutableCopy():ri.newInvalidDocument(n))}getEntries(e,n){let r=Xa();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ri.newInvalidDocument(i))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xa();const a=n.path,c=new lt(a.child("")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!a.isPrefixOf(m.path))break;m.path.length>a.length+1||bz(Iz(y),r)<=0||(i.has(y.key)||jy(n,y))&&(s=s.insert(y.key,y.mutableCopy()))}return Ie.resolve(s)}getAllFromCollectionGroup(e,n,r,i){wt()}Fr(e,n){return Ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GV(this)}getSize(e){return Ie.resolve(this.size)}}class GV extends zV{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Ie.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.persistence=e,this.Mr=new nd(n=>TS(n),kS),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Or=0,this.Nr=new RS,this.targetCount=0,this.Lr=Vh.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Ie.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Vh(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Ie.resolve()}updateTargetData(e,n){return this.qn(n),Ie.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Ie.waitFor(s).next(()=>i)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Ie.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Ie.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Ie.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Ie.resolve(r)}containsKey(e,n){return Ie.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.Br={},this.overlays={},this.kr=new xS(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new KV(this),this.indexManager=new BV,this.remoteDocumentCache=function(i){return new qV(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new OV(n),this.$r=new HV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new WV(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){qe("MemoryPersistence","Starting transaction:",e);const i=new XV(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return Ie.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class XV extends Rz{constructor(e){super(),this.currentSequenceNumber=e}}class PS{constructor(e){this.persistence=e,this.zr=new RS,this.jr=null}static Hr(e){return new PS(e)}get Jr(){if(this.jr)return this.jr;throw wt()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Ie.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Ie.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Jr,r=>{const i=lt.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,St.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Ie.or([()=>Ie.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ot(),i=Ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new LS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return J7()?8:yc.v(Cr())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new YV;return this.Ji(e,n,a).next(c=>{if(s.result=c,this.Ui)return this.Yi(e,n,a,c.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Pp()<=jt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",Yf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ie.resolve()):(Pp()<=jt.DEBUG&&qe("QueryEngine","Query:",Yf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Pp()<=jt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",Yf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ea(n))):Ie.resolve())}ji(e,n){if(pI(n))return Ie.resolve(null);let r=ea(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=B1(n,null,"F"),r=ea(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ot(...s);return this.zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(p=>{const m=this.Zi(n,c);return this.Xi(n,m,a,p.readTime)?this.ji(e,B1(n,null,"F")):this.es(e,m,n,p)}))})))}Hi(e,n,r,i){return pI(n)||i.isEqual(St.min())?Ie.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?Ie.resolve(null):(Pp()<=jt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yf(n)),this.es(e,a,n,Az(i,-1)).next(c=>c))})}Zi(e,n){let r=new Kr(c4(e));return n.forEach((i,s)=>{jy(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Pp()<=jt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",Yf(n)),this.zi.getDocumentsMatchingQuery(e,n,gu.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Qn(nn),this.rs=new nd(s=>TS(s),kS),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $V(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function e$(t,e,n,r){return new ZV(t,e,n,r)}async function P4(t,e){const n=kt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let p=Ot();for(const m of i){a.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of s){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(r,p).next(m=>({us:m,removedBatchIds:a,addedBatchIds:c}))})})}function t$(t,e){const n=kt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(c,p,m,y){const w=m.batch,E=w.keys();let S=Ie.resolve();return E.forEach(L=>{S=S.next(()=>y.getEntry(p,L)).next(O=>{const M=m.docVersions.get(L);Tn(M!==null),O.version.compareTo(M)<0&&(w.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),y.addEntry(O)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(p,w))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=Ot();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(p=p.add(c.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function L4(t){const e=kt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function n$(t,e){const n=kt(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const c=[];e.targetChanges.forEach((y,w)=>{const E=i.get(w);if(!E)return;c.push(n.Qr.removeMatchingKeys(s,y.removedDocuments,w).next(()=>n.Qr.addMatchingKeys(s,y.addedDocuments,w)));let S=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(ai.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),i=i.insert(w,S),function(O,M,R){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(E,S,y)&&c.push(n.Qr.updateTargetData(s,S))});let p=Xa(),m=Ot();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,y))}),c.push(r$(s,a,e.documentUpdates).next(y=>{p=y.cs,m=y.ls})),!r.isEqual(St.min())){const y=n.Qr.getLastRemoteSnapshotVersion(s).next(w=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(y)}return Ie.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,p,m)).next(()=>p)}).then(s=>(n.ns=i,s))}function r$(t,e,n){let r=Ot(),i=Ot();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Xa();return n.forEach((c,p)=>{const m=s.get(c);p.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(c)),p.isNoDocument()&&p.version.isEqual(St.min())?(e.removeEntry(c,p.readTime),a=a.insert(c,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),a=a.insert(c,p)):qe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",m.version," Watch version:",p.version)}),{cs:a,ls:i}})}function i$(t,e){const n=kt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function o$(t,e){const n=kt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,Ie.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new Jl(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function bC(t,e,n){const r=kt(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!vm(a))throw a;qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function TI(t,e,n){const r=kt(t);let i=St.min(),s=Ot();return r.persistence.runTransaction("Execute query","readwrite",a=>function(p,m,y){const w=kt(p),E=w.rs.get(y);return E!==void 0?Ie.resolve(w.ns.get(E)):w.Qr.getTargetData(m,y)}(r,a,ea(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,c.targetId).next(p=>{s=p})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:St.min(),n?s:Ot())).next(c=>(s$(r,Xz(e),c),{documents:c,hs:s})))}function s$(t,e,n){let r=t.ss.get(e)||St.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class kI{constructor(){this.activeTargetIds=nV()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a${constructor(){this.no=new kI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new kI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x0=null;function zx(){return x0===null?x0=function(){return 268435456+Math.round(2147483648*Math.random())}():x0++,"0x"+x0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="WebChannelConnection";class f$ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,a){const c=zx(),p=this.bo(n,r.toUriEncodedString());qe("RestConnection",`Sending RPC '${n}' ${c}:`,p,i);const m={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(m,s,a),this.Co(n,p,m,i).then(y=>(qe("RestConnection",`Received RPC '${n}' ${c}: `,y),y),y=>{throw Mh("RestConnection",`RPC '${n}' ${c} failed with error: `,y,"url: ",p,"request:",i),y})}vo(n,r,i,s,a,c){return this.So(n,r,i,s,a)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ed}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}bo(n,r){const i=u$[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=zx();return new Promise((a,c)=>{const p=new mz;p.setWithCredentials(!0),p.listenOnce(pz.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Bx.NO_ERROR:const y=p.getResponseJson();qe(ei,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),a(y);break;case Bx.TIMEOUT:qe(ei,`RPC '${e}' ${s} timed out`),c(new Qe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Bx.HTTP_ERROR:const w=p.getStatus();if(qe(ei,`RPC '${e}' ${s} failed with status:`,w,"response text:",p.getResponseText()),w>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const L=function(M){const R=M.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(R)>=0?R:Te.UNKNOWN}(S.status);c(new Qe(L,S.message))}else c(new Qe(Te.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Qe(Te.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{qe(ei,`RPC '${e}' ${s} completed.`)}});const m=JSON.stringify(i);qe(ei,`RPC '${e}' ${s} sending request:`,i),p.send(n,"POST",m,r,15)})}Fo(e,n,r){const i=zx(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=hz(),c=dz(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=s.join("");qe(ei,`Creating RPC '${e}' stream ${i}: ${y}`,p);const w=a.createWebChannel(y,p);let E=!1,S=!1;const L=new c$({lo:M=>{S?qe(ei,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(E||(qe(ei,`Opening RPC '${e}' stream ${i} transport.`),w.open(),E=!0),qe(ei,`RPC '${e}' stream ${i} sending:`,M),w.send(M))},ho:()=>w.close()}),O=(M,R,b)=>{M.listen(R,D=>{try{b(D)}catch(B){setTimeout(()=>{throw B},0)}})};return O(w,y0.EventType.OPEN,()=>{S||qe(ei,`RPC '${e}' stream ${i} transport opened.`)}),O(w,y0.EventType.CLOSE,()=>{S||(S=!0,qe(ei,`RPC '${e}' stream ${i} transport closed`),L.Vo())}),O(w,y0.EventType.ERROR,M=>{S||(S=!0,Mh(ei,`RPC '${e}' stream ${i} transport errored:`,M),L.Vo(new Qe(Te.UNAVAILABLE,"The operation could not be completed")))}),O(w,y0.EventType.MESSAGE,M=>{var R;if(!S){const b=M.data[0];Tn(!!b);const D=b,B=D.error||((R=D[0])===null||R===void 0?void 0:R.error);if(B){qe(ei,`RPC '${e}' stream ${i} received error:`,B);const j=B.status;let U=function(ae){const xe=vr[ae];if(xe!==void 0)return E4(xe)}(j),$=B.message;U===void 0&&(U=Te.INTERNAL,$="Unknown error status: "+j+" with message "+B.message),S=!0,L.Vo(new Qe(U,$)),w.close()}else qe(ei,`RPC '${e}' stream ${i} received:`,b),L.mo(b)}}),O(c,gz.STAT_EVENT,M=>{M.stat===nI.PROXY?qe(ei,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===nI.NOPROXY&&qe(ei,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.Ro()},0),L}}function Vx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){return new EV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,r,i,s,a,c,p){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=p,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new N4(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(ia(n.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new Qe(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h$ extends F4{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=TV(this.serializer,e),r=function(s){if(!("targetChange"in s))return St.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?St.min():a.readTime?ta(a.readTime):St.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=IC(this.serializer),n.addTarget=function(s,a){let c;const p=a.target;if(c=CC(p)?{documents:IV(s,p)}:{query:bV(s,p).ut},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=T4(s,a.resumeToken);const m=TC(s,a.expectedCount);m!==null&&(c.expectedCount=m)}else if(a.snapshotVersion.compareTo(St.min())>0){c.readTime=z1(s,a.snapshotVersion.toTimestamp());const m=TC(s,a.expectedCount);m!==null&&(c.expectedCount=m)}return c}(this.serializer,e);const r=RV(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=IC(this.serializer),n.removeTarget=e,this.t_(n)}}class d$ extends F4{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=AV(e.writeResults,e.commitTime),r=ta(e.commitTime);return this.listener.T_(r,n)}return Tn(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=IC(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kV(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p$ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(e,kC(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Qe(Te.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,kC(n,r),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Qe(Te.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class g${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ia(n),this.g_=!1):qe("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget(async()=>{Xc(this)&&(qe("RemoteStore","Restarting streams for network reachability change."),await async function(p){const m=kt(p);m.v_.add(4),await wm(m),m.x_.set("Unknown"),m.v_.delete(4),await Qy(m)}(this))})}),this.x_=new g$(r,i)}}async function Qy(t){if(Xc(t))for(const e of t.F_)await e(!0)}async function wm(t){for(const e of t.F_)await e(!1)}function O4(t,e){const n=kt(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),MS(n)?OS(n):rd(n).Jo()&&FS(n,e))}function NS(t,e){const n=kt(t),r=rd(n);n.C_.delete(e),r.Jo()&&M4(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Xc(n)&&n.x_.set("Unknown"))}function FS(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rd(t).c_(e)}function M4(t,e){t.O_.Oe(e),rd(t).l_(e)}function OS(t){t.O_=new yV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),rd(t).start(),t.x_.p_()}function MS(t){return Xc(t)&&!rd(t).Ho()&&t.C_.size>0}function Xc(t){return kt(t).v_.size===0}function B4(t){t.O_=void 0}async function v$(t){t.C_.forEach((e,n)=>{FS(t,e)})}async function y$(t,e){B4(t),MS(t)?(t.x_.S_(e),OS(t)):t.x_.set("Unknown")}async function _$(t,e,n){if(t.x_.set("Online"),e instanceof S4&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const c of s.targetIds)i.C_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.C_.delete(c),i.O_.removeTarget(c))}(t,e)}catch(r){qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await V1(t,r)}else if(e instanceof j0?t.O_.$e(e):e instanceof C4?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(St.min()))try{const r=await L4(t.localStore);n.compareTo(r)>=0&&await function(s,a){const c=s.O_.it(a);return c.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=s.C_.get(m);y&&s.C_.set(m,y.withResumeToken(p.resumeToken,a))}}),c.targetMismatches.forEach((p,m)=>{const y=s.C_.get(p);if(!y)return;s.C_.set(p,y.withResumeToken(ai.EMPTY_BYTE_STRING,y.snapshotVersion)),M4(s,p);const w=new Jl(y.target,p,m,y.sequenceNumber);FS(s,w)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){qe("RemoteStore","Failed to raise snapshot:",r),await V1(t,r)}}async function V1(t,e,n){if(!vm(e))throw e;t.v_.add(1),await wm(t),t.x_.set("Offline"),n||(n=()=>L4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{qe("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Qy(t)})}function U4(t,e){return e().catch(n=>V1(t,n,e))}async function Xy(t){const e=kt(t),n=vu(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;w$(e);)try{const i=await i$(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,x$(e,i)}catch(i){await V1(e,i)}z4(e)&&V4(e)}function w$(t){return Xc(t)&&t.D_.length<10}function x$(t,e){t.D_.push(e);const n=vu(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function z4(t){return Xc(t)&&!vu(t).Ho()&&t.D_.length>0}function V4(t){vu(t).start()}async function E$(t){vu(t).d_()}async function C$(t){const e=vu(t);for(const n of t.D_)e.I_(n.mutations)}async function S$(t,e,n){const r=t.D_.shift(),i=IS.from(r,e,n);await U4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xy(t)}async function T$(t,e){e&&vu(t).P_&&await async function(r,i){if(function(a){return gV(a)&&a!==Te.ABORTED}(i.code)){const s=r.D_.shift();vu(r).Zo(),await U4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xy(r)}}(t,e),z4(t)&&V4(t)}async function II(t,e){const n=kt(t);n.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const r=Xc(n);n.v_.add(3),await wm(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Qy(n)}async function k$(t,e){const n=kt(t);e?(n.v_.delete(2),await Qy(n)):e||(n.v_.add(2),await wm(n),n.x_.set("Unknown"))}function rd(t){return t.N_||(t.N_=function(n,r,i){const s=kt(n);return s.R_(),new h$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:v$.bind(null,t),To:y$.bind(null,t),u_:_$.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),MS(t)?OS(t):t.x_.set("Unknown")):(await t.N_.stop(),B4(t))})),t.N_}function vu(t){return t.L_||(t.L_=function(n,r,i){const s=kt(n);return s.R_(),new d$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:E$.bind(null,t),To:T$.bind(null,t),E_:C$.bind(null,t),T_:S$.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Xy(t)):(await t.L_.stop(),t.D_.length>0&&(qe("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new BS(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function US(t,e){if(ia("AsyncQueue",`${e}: ${t}`),vm(t))return new Qe(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.comparator=e?(n,r)=>e(n,r)||lt.comparator(n.key,r.key):(n,r)=>lt.comparator(n.key,r.key),this.keyedMap=Hp(),this.sortedSet=new Qn(this.comparator)}static emptySet(e){return new Ch(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ch)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ch;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.B_=new Qn(lt.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):wt():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $h{constructor(e,n,r,i,s,a,c,p,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new $h(e,n,Ch.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class I${constructor(){this.queries=new nd(e=>u4(e),Hy),this.onlineState="Unknown",this.W_=new Set}}async function zS(t,e){const n=kt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new A$,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const c=US(a,`Initialization of query '${Yf(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&$S(n)}async function VS(t,e){const n=kt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Q_.indexOf(e);a>=0&&(s.Q_.splice(a,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function b$(t,e){const n=kt(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const c of a.Q_)c.z_(i)&&(r=!0);a.q_=i}}r&&$S(n)}function D$(t,e,n){const r=kt(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function $S(t){t.W_.forEach(e=>{e.next()})}var DC,DI;(DI=DC||(DC={})).j_="default",DI.Cache="cache";class HS{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $h(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=$h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==DC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.key=e}}class H4{constructor(e){this.key=e}}class R${constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Ot(),this.mutatedKeys=Ot(),this.ha=c4(e),this.Pa=new Ch(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new bI,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,w)=>{const E=i.get(y),S=jy(this.query,w)?w:null,L=!!E&&this.mutatedKeys.has(E.key),O=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;E&&S?E.data.isEqual(S.data)?L!==O&&(r.track({type:3,doc:S}),M=!0):this.da(E,S)||(r.track({type:2,doc:S}),M=!0,(p&&this.ha(S,p)>0||m&&this.ha(S,m)<0)&&(c=!0)):!E&&S?(r.track({type:0,doc:S}),M=!0):E&&!S&&(r.track({type:1,doc:E}),M=!0,(p||m)&&(c=!0)),M&&(S?(a=a.add(S),s=O?s.add(y):s.delete(y)):(a=a.delete(y),s=s.delete(y)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const y=this.query.limitType==="F"?a.last():a.first();a=a.delete(y.key),s=s.delete(y.key),r.track({type:1,doc:y})}return{Pa:a,Ea:r,Xi:c,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const a=e.Ea.k_();a.sort((y,w)=>function(S,L){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return O(S)-O(L)}(y.type,w.type)||this.ha(y.doc,w.doc)),this.Aa(r),i=i!=null&&i;const c=n&&!i?this.Ra():[],p=this.la.size===0&&this.current&&!i?1:0,m=p!==this.ca;return this.ca=p,a.length!==0||m?{snapshot:new $h(this.query,e.Pa,s,a,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:c}:{Va:c}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new bI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Ot(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new H4(r))}),this.la.forEach(r=>{e.has(r)||n.push(new $4(r))}),n}fa(e){this.ua=e.hs,this.la=Ot();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return $h.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class P${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class L${constructor(e){this.key=e,this.pa=!1}}class N${constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new nd(c=>u4(c),Hy),this.Sa=new Map,this.ba=new Set,this.Da=new Qn(lt.comparator),this.Ca=new Map,this.va=new RS,this.Fa={},this.Ma=new Map,this.xa=Vh.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function F$(t,e,n=!0){const r=Q4(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await j4(r,e,n,!0),i}async function O$(t,e){const n=Q4(t);await j4(n,e,!0,!1)}async function j4(t,e,n,r){const i=await o$(t.localStore,ea(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let c;return r&&(c=await M$(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&O4(t.remoteStore,i),c}async function M$(t,e,n,r,i){t.Na=(w,E,S)=>async function(O,M,R,b){let D=M.view.Ta(R);D.Xi&&(D=await TI(O.localStore,M.query,!1).then(({documents:$})=>M.view.Ta($,D)));const B=b&&b.targetChanges.get(M.targetId),j=b&&b.targetMismatches.get(M.targetId)!=null,U=M.view.applyChanges(D,O.isPrimaryClient,B,j);return PI(O,M.targetId,U.Va),U.snapshot}(t,w,E,S);const s=await TI(t.localStore,e,!0),a=new R$(e,s.hs),c=a.Ta(s.documents),p=_m.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=a.applyChanges(c,t.isPrimaryClient,p);PI(t,n,m.Va);const y=new P$(e,n,a);return t.wa.set(e,y),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),m.snapshot}async function B$(t,e,n){const r=kt(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(a=>!Hy(a,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&NS(r.remoteStore,i.targetId),RC(r,i.targetId)}).catch(mm)):(RC(r,i.targetId),await bC(r.localStore,i.targetId,!0))}async function U$(t,e){const n=kt(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),NS(n.remoteStore,r.targetId))}async function z$(t,e,n){const r=G$(t);try{const i=await function(a,c){const p=kt(a),m=Er.now(),y=c.reduce((S,L)=>S.add(L.key),Ot());let w,E;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let L=Xa(),O=Ot();return p.os.getEntries(S,y).next(M=>{L=M,L.forEach((R,b)=>{b.isValidDocument()||(O=O.add(R))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,L)).next(M=>{w=M;const R=[];for(const b of c){const D=cV(b,w.get(b.key).overlayedDocument);D!=null&&R.push(new Tu(b.key,D,t4(D.value.mapValue),ps.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,R,c)}).next(M=>{E=M;const R=M.applyToLocalDocumentSet(w,O);return p.documentOverlayCache.saveOverlays(S,M.batchId,R)})}).then(()=>({batchId:E.batchId,changes:h4(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,p){let m=a.Fa[a.currentUser.toKey()];m||(m=new Qn(nn)),m=m.insert(c,p),a.Fa[a.currentUser.toKey()]=m}(r,i.batchId,n),await xm(r,i.changes),await Xy(r.remoteStore)}catch(i){const s=US(i,"Failed to persist write");n.reject(s)}}async function W4(t,e){const n=kt(t);try{const r=await n$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Ca.get(s);a&&(Tn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.pa=!0:i.modifiedDocuments.size>0?Tn(a.pa):i.removedDocuments.size>0&&(Tn(a.pa),a.pa=!1))}),await xm(n,r,e)}catch(r){await mm(r)}}function RI(t,e,n){const r=kt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,a)=>{const c=a.view.G_(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){const p=kt(a);p.onlineState=c;let m=!1;p.queries.forEach((y,w)=>{for(const E of w.Q_)E.G_(c)&&(m=!0)}),m&&$S(p)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V$(t,e,n){const r=kt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let a=new Qn(lt.comparator);a=a.insert(s,ri.newNoDocument(s,St.min()));const c=Ot().add(s),p=new Gy(St.min(),new Map,new Qn(nn),a,c);await W4(r,p),r.Da=r.Da.remove(s),r.Ca.delete(e),jS(r)}else await bC(r.localStore,e,!1).then(()=>RC(r,e,n)).catch(mm)}async function $$(t,e){const n=kt(t),r=e.batch.batchId;try{const i=await t$(n.localStore,e);G4(n,r,null),q4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xm(n,i)}catch(i){await mm(i)}}async function H$(t,e,n){const r=kt(t);try{const i=await function(a,c){const p=kt(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,c).next(w=>(Tn(w!==null),y=w.keys(),p.mutationQueue.removeMutationBatch(m,w))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(r.localStore,e);G4(r,e,n),q4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xm(r,i)}catch(i){await mm(i)}}function q4(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function G4(t,e,n){const r=kt(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function RC(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||K4(t,r)})}function K4(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(NS(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),jS(t))}function PI(t,e,n){for(const r of n)r instanceof $4?(t.va.addReference(r.key,e),j$(t,r)):r instanceof H4?(qe("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||K4(t,r.key)):wt()}function j$(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(qe("SyncEngine","New document in limbo: "+n),t.ba.add(r),jS(t))}function jS(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new lt(Ln.fromString(e)),r=t.xa.next();t.Ca.set(r,new L$(n)),t.Da=t.Da.insert(n,r),O4(t.remoteStore,new Jl(ea($y(n.path)),r,"TargetPurposeLimboResolution",xS._e))}}async function xm(t,e,n){const r=kt(t),i=[],s=[],a=[];r.wa.isEmpty()||(r.wa.forEach((c,p)=>{a.push(r.Na(p,e,n).then(m=>{if((m||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,m!=null&&m.fromCache?"not-current":"current"),m){i.push(m);const y=LS.Ki(p.targetId,m);s.push(y)}}))}),await Promise.all(a),r.ya.u_(i),await async function(p,m){const y=kt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Ie.forEach(m,E=>Ie.forEach(E.qi,S=>y.persistence.referenceDelegate.addReference(w,E.targetId,S)).next(()=>Ie.forEach(E.Qi,S=>y.persistence.referenceDelegate.removeReference(w,E.targetId,S)))))}catch(w){if(!vm(w))throw w;qe("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const S=y.ns.get(E),L=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(L);y.ns=y.ns.insert(E,O)}}}(r.localStore,s))}async function W$(t,e){const n=kt(t);if(!n.currentUser.isEqual(e)){qe("SyncEngine","User change. New user:",e.toKey());const r=await P4(n.localStore,e);n.currentUser=e,function(s,a){s.Ma.forEach(c=>{c.forEach(p=>{p.reject(new Qe(Te.CANCELLED,a))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xm(n,r.us)}}function q$(t,e){const n=kt(t),r=n.Ca.get(e);if(r&&r.pa)return Ot().add(r.key);{let i=Ot();const s=n.Sa.get(e);if(!s)return i;for(const a of s){const c=n.wa.get(a);i=i.unionWith(c.view.Ia)}return i}}function Q4(t){const e=kt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=W4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V$.bind(null,e),e.ya.u_=b$.bind(null,e.eventManager),e.ya.La=D$.bind(null,e.eventManager),e}function G$(t){const e=kt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H$.bind(null,e),e}class LI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ky(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return e$(this.persistence,new JV,e.initialUser,this.serializer)}createPersistence(e){return new QV(PS.Hr,this.serializer)}createSharedClientState(e){return new a$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class K${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W$.bind(null,this.syncEngine),await k$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I$}()}createDatastore(e){const n=Ky(e.databaseInfo.databaseId),r=function(s){return new f$(s)}(e.databaseInfo);return function(s,a,c,p){return new p$(s,a,c,p)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,c){return new m$(r,i,s,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>RI(this.syncEngine,n,0),function(){return AI.D()?new AI:new l$}())}createSyncEngine(e,n){return function(i,s,a,c,p,m,y){const w=new N$(i,s,a,c,p,m);return y&&(w.Oa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=kt(r);qe("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await wm(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ti.UNAUTHENTICATED,this.clientId=J3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{qe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(qe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=US(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $x(t,e){t.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await P4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Y$(t);qe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>II(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>II(e.remoteStore,i)),t._onlineComponents=e}function X$(t){return t.name==="FirebaseError"?t.code===Te.FAILED_PRECONDITION||t.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Y$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe("FirestoreClient","Using user provided OfflineComponentProvider");try{await $x(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!X$(n))throw n;Mh("Error using user provided cache. Falling back to memory cache: "+n),await $x(t,new LI)}}else qe("FirestoreClient","Using default OfflineComponentProvider"),await $x(t,new LI);return t._offlineComponents}async function X4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe("FirestoreClient","Using user provided OnlineComponentProvider"),await NI(t,t._uninitializedComponentsProvider._online)):(qe("FirestoreClient","Using default OnlineComponentProvider"),await NI(t,new K$))),t._onlineComponents}function J$(t){return X4(t).then(e=>e.syncEngine)}async function $1(t){const e=await X4(t),n=e.eventManager;return n.onListen=F$.bind(null,e.syncEngine),n.onUnlisten=B$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U$.bind(null,e.syncEngine),n}function Z$(t,e,n={}){const r=new Zs;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,p,m){const y=new WS({next:E=>{a.enqueueAndForget(()=>VS(s,w));const S=E.docs.has(c);!S&&E.fromCache?m.reject(new Qe(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&p&&p.source==="server"?m.reject(new Qe(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new HS($y(c.path),y,{includeMetadataChanges:!0,ta:!0});return zS(s,w)}(await $1(t),t.asyncQueue,e,n,r)),r.promise}function eH(t,e,n={}){const r=new Zs;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,p,m){const y=new WS({next:E=>{a.enqueueAndForget(()=>VS(s,w)),E.fromCache&&p.source==="server"?m.reject(new Qe(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new HS(c,y,{includeMetadataChanges:!0,ta:!0});return zS(s,w)}(await $1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t,e,n){if(!n)throw new Qe(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tH(t,e,n,r){if(e===!0&&r===!0)throw new Qe(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OI(t){if(!lt.isDocumentKey(t))throw new Qe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MI(t){if(lt.isDocumentKey(t))throw new Qe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":wt()}function Vo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yy(t);throw new Qe(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function nH(t,e){if(e<=0)throw new Qe(Te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Qe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Qe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Qe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yz;switch(r.type){case"firstParty":return new Ez(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Qe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FI.get(n);r&&(qe("ComponentProvider","Removing Datastore"),FI.delete(n),r.terminate())}(this),Promise.resolve()}}function rH(t,e,n,r={}){var i;const s=(t=Vo(t,Jy))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Mh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,p;if(typeof r.mockUserToken=="string")c=r.mockUserToken,p=ti.MOCK_USER;else{c=VP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Qe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ti(m)}t._authCredentials=new _z(new Y3(c,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tl(this.firestore,e,this._query)}}class wi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wi(this.firestore,e,this._key)}}class fu extends tl{constructor(e,n,r){super(e,n,$y(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wi(this.firestore,null,new lt(e))}withConverter(e){return new fu(this.firestore,e,this._path)}}function Hh(t,e,...n){if(t=Kn(t),J4("collection","path",e),t instanceof Jy){const r=Ln.fromString(e,...n);return MI(r),new fu(t,null,r)}{if(!(t instanceof wi||t instanceof fu))throw new Qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ln.fromString(e,...n));return MI(r),new fu(t.firestore,null,r)}}function wc(t,e,...n){if(t=Kn(t),arguments.length===1&&(e=J3.newId()),J4("doc","path",e),t instanceof Jy){const r=Ln.fromString(e,...n);return OI(r),new wi(t,null,new lt(r))}{if(!(t instanceof wi||t instanceof fu))throw new Qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ln.fromString(e,...n));return OI(r),new wi(t.firestore,t instanceof fu?t.converter:null,new lt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new N4(this,"async_queue_retry"),this.cu=()=>{const n=Vx();n&&qe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Vx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Vx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Zs;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!vm(e))throw e;qe("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw ia("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=BS.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&wt()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function UI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class yu extends Jy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new iH}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z4(this),this._firestoreClient.terminate()}}function oH(t,e){const n=typeof t=="object"?t:Q2(),r=typeof t=="string"?t:e||"(default)",i=Sy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=BP("firestore");s&&rH(i,...s)}return i}function Zy(t){return t._firestoreClient||Z4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Z4(t){var e,n,r;const i=t._freezeSettings(),s=function(c,p,m,y){return new Oz(c,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Y4(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Q$(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jh(ai.fromBase64String(e))}catch(n){throw new Qe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jh(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Qe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Qe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Qe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=/^__.*__$/;class aH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tu(e,this.data,this.fieldMask,n,this.fieldTransforms):new ym(e,this.data,n,this.fieldTransforms)}}class eL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Tu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class GS{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new GS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return H1(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(tL(this.Vu)&&sH.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class lH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ky(e)}Cu(e,n,r,i=!1){return new GS({Vu:e,methodName:n,Du:r,path:Wr.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KS(t){const e=t._freezeSettings(),n=Ky(t._databaseId);return new lH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uH(t,e,n,r,i,s={}){const a=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);XS("Data must be an object, but it was:",a,r);const c=nL(r,a);let p,m;if(s.merge)p=new ao(a.fieldMask),m=a.fieldTransforms;else if(s.mergeFields){const y=[];for(const w of s.mergeFields){const E=PC(e,w,n);if(!a.contains(E))throw new Qe(Te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);iL(y,E)||y.push(E)}p=new ao(y),m=a.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,m=a.fieldTransforms;return new aH(new Oi(c),p,m)}class n_ extends t_{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n_}}class QS extends t_{_toFieldTransform(e){return new sV(e.path,new qg)}isEqual(e){return e instanceof QS}}function cH(t,e,n,r){const i=t.Cu(1,e,n);XS("Data must be an object, but it was:",i,r);const s=[],a=Oi.empty();Qc(r,(p,m)=>{const y=YS(e,p,n);m=Kn(m);const w=i.yu(y);if(m instanceof n_)s.push(y);else{const E=Em(m,w);E!=null&&(s.push(y),a.set(y,E))}});const c=new ao(s);return new eL(a,c,i.fieldTransforms)}function fH(t,e,n,r,i,s){const a=t.Cu(1,e,n),c=[PC(e,r,n)],p=[i];if(s.length%2!=0)throw new Qe(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<s.length;E+=2)c.push(PC(e,s[E])),p.push(s[E+1]);const m=[],y=Oi.empty();for(let E=c.length-1;E>=0;--E)if(!iL(m,c[E])){const S=c[E];let L=p[E];L=Kn(L);const O=a.yu(S);if(L instanceof n_)m.push(S);else{const M=Em(L,O);M!=null&&(m.push(S),y.set(S,M))}}const w=new ao(m);return new eL(y,w,a.fieldTransforms)}function hH(t,e,n,r=!1){return Em(n,t.Cu(r?4:3,e))}function Em(t,e){if(rL(t=Kn(t)))return XS("Unsupported field value:",e,t),nL(t,e);if(t instanceof t_)return function(r,i){if(!tL(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const c of r){let p=Em(c,i.wu(a));p==null&&(p={nullValue:"NULL_VALUE"}),s.push(p),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Er.fromDate(r);return{timestampValue:z1(i.serializer,s)}}if(r instanceof Er){const s=new Er(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:z1(i.serializer,s)}}if(r instanceof qS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jh)return{bytesValue:T4(i.serializer,r._byteString)};if(r instanceof wi){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Su(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:DS(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Yy(r)}`)}(t,e)}function nL(t,e){const n={};return Z3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qc(t,(r,i)=>{const s=Em(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Er||t instanceof qS||t instanceof jh||t instanceof wi||t instanceof t_)}function XS(t,e,n){if(!rL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yy(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function PC(t,e,n){if((e=Kn(e))instanceof e_)return e._internalPath;if(typeof e=="string")return YS(t,e);throw H1("Field path arguments must be of type string or ",t,!1,void 0,n)}const dH=new RegExp("[~\\*/\\[\\]]");function YS(t,e,n){if(e.search(dH)>=0)throw H1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new e_(...e.split("."))._internalPath}catch{throw H1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function H1(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let p="";return(s||a)&&(p+=" (found",s&&(p+=` in field ${r}`),a&&(p+=` in document ${i}`),p+=")"),new Qe(Te.INVALID_ARGUMENT,c+t+p)}function iL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pH extends oL{data(){return super.data()}}function r_(t,e){return typeof e=="string"?YS(t,e):e instanceof e_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Qe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JS{}class ZS extends JS{}function j1(t,e,...n){let r=[];e instanceof JS&&r.push(e),r=r.concat(n),function(s){const a=s.filter(p=>p instanceof tT).length,c=s.filter(p=>p instanceof i_).length;if(a>1||a>0&&c>0)throw new Qe(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class i_ extends ZS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new i_(e,n,r)}_apply(e){const n=this._parse(e);return aL(e._query,n),new tl(e.firestore,e.converter,SC(e._query,n))}_parse(e){const n=KS(e.firestore);return function(s,a,c,p,m,y,w){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Qe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){$I(w,y);const S=[];for(const L of w)S.push(VI(p,s,L));E={arrayValue:{values:S}}}else E=VI(p,s,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||$I(w,y),E=hH(c,a,w,y==="in"||y==="not-in");return xr.create(m,y,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function eT(t,e,n){const r=e,i=r_("where",t);return i_._create(i,r,n)}class tT extends JS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const c=s.getFlattenedFilters();for(const p of c)aL(a,p),a=SC(a,p)}(e._query,n),new tl(e.firestore,e.converter,SC(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nT extends ZS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nT(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wg(s,a)}(e._query,this._field,this._direction);return new tl(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new td(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function gH(t,e="asc"){const n=e,r=r_("orderBy",t);return nT._create(r,n)}class rT extends ZS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rT(e,n,r)}_apply(e){return new tl(e.firestore,e.converter,B1(e._query,this._limit,this._limitType))}}function zI(t){return nH("limit",t),rT._create("limit",t,"F")}function VI(t,e,n){if(typeof(n=Kn(n))=="string"){if(n==="")throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l4(e)&&n.indexOf("/")!==-1)throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ln.fromString(n));if(!lt.isDocumentKey(r))throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lI(t,new lt(r))}if(n instanceof wi)return lI(t,n._key);throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yy(n)}.`)}function $I(t,e){if(!Array.isArray(t)||t.length===0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aL(t,e){const n=function(i,s){for(const a of i)for(const c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mH{convertValue(e,n="none"){switch(Bc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw wt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new qS(_r(e.latitude),_r(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=CS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($g(e));default:return null}}convertTimestamp(e){const n=mu(e);return new Er(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ln.fromString(e);Tn(R4(r));const i=new Hg(r.get(1),r.get(3)),s=new lt(r.popFirst(5));return i.isEqual(n)||ia(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lL extends oL{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new W0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(r_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class W0 extends lL{data(e={}){return super.data(e)}}class uL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new W0(this._firestore,this._userDataWriter,r.key,r,new Wp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Qe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const p=new W0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:p,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const p=new W0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return c.type!==0&&(m=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),y=a.indexOf(c.doc.key)),{type:yH(c.type),doc:p,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){t=Vo(t,wi);const e=Vo(t.firestore,yu);return Z$(Zy(e),t._key).then(n=>fL(e,t,n))}class iT extends mH{constructor(e){super(),this.firestore=e}convertBytes(e){return new jh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wi(this.firestore,null,n)}}function ag(t){t=Vo(t,tl);const e=Vo(t.firestore,yu),n=Zy(e),r=new iT(e);return sL(t._query),eH(n,t._query).then(i=>new uL(e,r,t,i))}function LC(t,e,n,...r){t=Vo(t,wi);const i=Vo(t.firestore,yu),s=KS(i);let a;return a=typeof(e=Kn(e))=="string"||e instanceof e_?fH(s,"updateDoc",t._key,e,n,r):cH(s,"updateDoc",t._key,e),oT(i,[a.toMutation(t._key,ps.exists(!0))])}function _H(t){return oT(Vo(t.firestore,yu),[new AS(t._key,ps.none())])}function wH(t,e){const n=Vo(t.firestore,yu),r=wc(t),i=vH(t.converter,e);return oT(n,[uH(KS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ps.exists(!1))]).then(()=>r)}function xH(t,...e){var n,r,i;t=Kn(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||UI(e[a])||(s=e[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(UI(e[a])){const w=e[a];e[a]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[a+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[a+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}let p,m,y;if(t instanceof wi)m=Vo(t.firestore,yu),y=$y(t._key.path),p={next:w=>{e[a]&&e[a](fL(m,t,w))},error:e[a+1],complete:e[a+2]};else{const w=Vo(t,tl);m=Vo(w.firestore,yu),y=w._query;const E=new iT(m);p={next:S=>{e[a]&&e[a](new uL(m,E,w,S))},error:e[a+1],complete:e[a+2]},sL(t._query)}return function(E,S,L,O){const M=new WS(O),R=new HS(S,M,L);return E.asyncQueue.enqueueAndForget(async()=>zS(await $1(E),R)),()=>{M.Qa(),E.asyncQueue.enqueueAndForget(async()=>VS(await $1(E),R))}}(Zy(m),y,c,p)}function oT(t,e){return function(r,i){const s=new Zs;return r.asyncQueue.enqueueAndForget(async()=>z$(await J$(r),i,s)),s.promise}(Zy(t),e)}function fL(t,e,n){const r=n.docs.get(e._key),i=new iT(t);return new lL(t,i,e._key,r,new Wp(n.hasPendingWrites,n.fromCache),e.converter)}function W1(){return new QS("serverTimestamp")}(function(e,n=!0){(function(i){ed=i})(Gc),Fc(new pu("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),c=new yu(new wz(r.getProvider("auth-internal")),new Sz(r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Qe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hg(m.options.projectId,y)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Js(rI,"4.5.0",e),Js(rI,"4.5.0","esm2017")})();/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var EH=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const hL=jc(EH);function lg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?HI(t.position):"start"in t||"end"in t?HI(t):"line"in t||"column"in t?NC(t):""}function NC(t){return jI(t&&t.line)+":"+jI(t&&t.column)}function HI(t){return NC(t&&t.start)+"-"+NC(t&&t.end)}function jI(t){return t&&typeof t=="number"?t:1}class jo extends Error{constructor(e,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const a=r.indexOf(":");a===-1?i[1]=r:(i[0]=r.slice(0,a),i[1]=r.slice(a+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=lg(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}jo.prototype.file="";jo.prototype.name="";jo.prototype.reason="";jo.prototype.message="";jo.prototype.stack="";jo.prototype.fatal=null;jo.prototype.column=null;jo.prototype.line=null;jo.prototype.source=null;jo.prototype.ruleId=null;jo.prototype.position=null;const Hs={basename:CH,dirname:SH,extname:TH,join:kH,sep:"/"};function CH(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Cm(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,c=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),c>-1&&(t.charCodeAt(i)===e.charCodeAt(c--)?c<0&&(r=i):(c=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function SH(t){if(Cm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function TH(t){Cm(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const c=t.charCodeAt(e);if(c===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),c===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function kH(...t){let e=-1,n;for(;++e<t.length;)Cm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":AH(n)}function AH(t){Cm(t);const e=t.charCodeAt(0)===47;let n=IH(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function IH(t,e){let n="",r=0,i=-1,s=0,a=-1,c,p;for(;++a<=t.length;){if(a<t.length)c=t.charCodeAt(a);else{if(c===47)break;c=47}if(c===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",r=0):(n=n.slice(0,p),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else c===46&&s>-1?s++:s=-1}return n}function Cm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const bH={cwd:DH};function DH(){return"/"}function FC(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function RH(t){if(typeof t=="string")t=new URL(t);else if(!FC(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return PH(t)}function PH(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Hx=["history","path","basename","stem","extname","dirname"];class dL{constructor(e){let n;e?typeof e=="string"||LH(e)?n={value:e}:FC(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=bH.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Hx.length;){const s=Hx[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Hx.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){FC(e)&&(e=RH(e)),Wx(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?Hs.dirname(this.path):void 0}set dirname(e){WI(this.basename,"dirname"),this.path=Hs.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?Hs.basename(this.path):void 0}set basename(e){Wx(e,"basename"),jx(e,"basename"),this.path=Hs.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?Hs.extname(this.path):void 0}set extname(e){if(jx(e,"extname"),WI(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Hs.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?Hs.basename(this.path,this.extname):void 0}set stem(e){Wx(e,"stem"),jx(e,"stem"),this.path=Hs.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,r){const i=new jo(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function jx(t,e){if(t&&t.includes(Hs.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Hs.sep+"`")}function Wx(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function WI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function LH(t){return hL(t)}function qI(t){if(t)throw t}var q0=Object.prototype.hasOwnProperty,pL=Object.prototype.toString,GI=Object.defineProperty,KI=Object.getOwnPropertyDescriptor,QI=function(e){return typeof Array.isArray=="function"?Array.isArray(e):pL.call(e)==="[object Array]"},XI=function(e){if(!e||pL.call(e)!=="[object Object]")return!1;var n=q0.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&q0.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||q0.call(e,i)},YI=function(e,n){GI&&n.name==="__proto__"?GI(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},JI=function(e,n){if(n==="__proto__")if(q0.call(e,n)){if(KI)return KI(e,n).value}else return;return e[n]},NH=function t(){var e,n,r,i,s,a,c=arguments[0],p=1,m=arguments.length,y=!1;for(typeof c=="boolean"&&(y=c,c=arguments[1]||{},p=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});p<m;++p)if(e=arguments[p],e!=null)for(n in e)r=JI(c,n),i=JI(e,n),c!==i&&(y&&i&&(XI(i)||(s=QI(i)))?(s?(s=!1,a=r&&QI(r)?r:[]):a=r&&XI(r)?r:{},YI(c,{name:n,newValue:t(y,a,i)})):typeof i<"u"&&YI(c,{name:n,newValue:i}));return c};const ZI=jc(NH);function OC(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function FH(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);c(null,...i);function c(p,...m){const y=t[++s];let w=-1;if(p){a(p);return}for(;++w<i.length;)(m[w]===null||m[w]===void 0)&&(m[w]=i[w]);i=m,y?OH(y,c)(...m):a(null,...m)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function OH(t,e){let n;return r;function r(...a){const c=t.length>a.length;let p;c&&a.push(i);try{p=t.apply(this,a)}catch(m){const y=m;if(c&&n)throw y;return i(y)}c||(p&&p.then&&typeof p.then=="function"?p.then(s,i):p instanceof Error?i(p):s(p))}function i(a,...c){n||(n=!0,e(a,...c))}function s(a){i(null,a)}}const MH=mL().freeze(),gL={}.hasOwnProperty;function mL(){const t=FH(),e=[];let n={},r,i=-1;return s.data=a,s.Parser=void 0,s.Compiler=void 0,s.freeze=c,s.attachers=e,s.use=p,s.parse=m,s.stringify=y,s.run=w,s.runSync=E,s.process=S,s.processSync=L,s;function s(){const O=mL();let M=-1;for(;++M<e.length;)O.use(...e[M]);return O.data(ZI(!0,{},n)),O}function a(O,M){return typeof O=="string"?arguments.length===2?(Kx("data",r),n[O]=M,s):gL.call(n,O)&&n[O]||null:O?(Kx("data",r),n=O,s):n}function c(){if(r)return s;for(;++i<e.length;){const[O,...M]=e[i];if(M[0]===!1)continue;M[0]===!0&&(M[0]=void 0);const R=O.call(s,...M);typeof R=="function"&&t.use(R)}return r=!0,i=Number.POSITIVE_INFINITY,s}function p(O,...M){let R;if(Kx("use",r),O!=null)if(typeof O=="function")j(O,...M);else if(typeof O=="object")Array.isArray(O)?B(O):D(O);else throw new TypeError("Expected usable value, not `"+O+"`");return R&&(n.settings=Object.assign(n.settings||{},R)),s;function b(U){if(typeof U=="function")j(U);else if(typeof U=="object")if(Array.isArray(U)){const[$,...Y]=U;j($,...Y)}else D(U);else throw new TypeError("Expected usable value, not `"+U+"`")}function D(U){B(U.plugins),U.settings&&(R=Object.assign(R||{},U.settings))}function B(U){let $=-1;if(U!=null)if(Array.isArray(U))for(;++$<U.length;){const Y=U[$];b(Y)}else throw new TypeError("Expected a list of plugins, not `"+U+"`")}function j(U,$){let Y=-1,ae;for(;++Y<e.length;)if(e[Y][0]===U){ae=e[Y];break}ae?(OC(ae[1])&&OC($)&&($=ZI(!0,ae[1],$)),ae[1]=$):e.push([...arguments])}}function m(O){s.freeze();const M=Lp(O),R=s.Parser;return qx("parse",R),eb(R,"parse")?new R(String(M),M).parse():R(String(M),M)}function y(O,M){s.freeze();const R=Lp(M),b=s.Compiler;return Gx("stringify",b),tb(O),eb(b,"compile")?new b(O,R).compile():b(O,R)}function w(O,M,R){if(tb(O),s.freeze(),!R&&typeof M=="function"&&(R=M,M=void 0),!R)return new Promise(b);b(null,R);function b(D,B){t.run(O,Lp(M),j);function j(U,$,Y){$=$||O,U?B(U):D?D($):R(null,$,Y)}}}function E(O,M){let R,b;return s.run(O,M,D),nb("runSync","run",b),R;function D(B,j){qI(B),R=j,b=!0}}function S(O,M){if(s.freeze(),qx("process",s.Parser),Gx("process",s.Compiler),!M)return new Promise(R);R(null,M);function R(b,D){const B=Lp(O);s.run(s.parse(B),B,(U,$,Y)=>{if(U||!$||!Y)j(U);else{const ae=s.stringify($,Y);ae==null||(zH(ae)?Y.value=ae:Y.result=ae),j(U,Y)}});function j(U,$){U||!$?D(U):b?b($):M(null,$)}}}function L(O){let M;s.freeze(),qx("processSync",s.Parser),Gx("processSync",s.Compiler);const R=Lp(O);return s.process(R,b),nb("processSync","process",M),R;function b(D){M=!0,qI(D)}}}function eb(t,e){return typeof t=="function"&&t.prototype&&(BH(t.prototype)||e in t.prototype)}function BH(t){let e;for(e in t)if(gL.call(t,e))return!0;return!1}function qx(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function Gx(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function Kx(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function tb(t){if(!OC(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function nb(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Lp(t){return UH(t)?t:new dL(t)}function UH(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function zH(t){return typeof t=="string"||hL(t)}const VH={};function $H(t,e){const n=e||VH,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return vL(t,r,i)}function vL(t,e,n){if(HH(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return rb(t.children,e,n)}return Array.isArray(t)?rb(t,e,n):""}function rb(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=vL(t[i],e,n);return r.join("")}function HH(t){return!!(t&&typeof t=="object")}function sa(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Oo(t,e){return t.length>0?(sa(t,t.length,0,e),t):e}const ib={}.hasOwnProperty;function jH(t){const e={};let n=-1;for(;++n<t.length;)WH(e,t[n]);return e}function WH(t,e){let n;for(n in e){const i=(ib.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){ib.call(i,a)||(i[a]=[]);const c=s[a];qH(i[a],Array.isArray(c)?c:c?[c]:[])}}}function qH(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);sa(t,0,0,r)}const GH=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,qs=ku(/[A-Za-z]/),lo=ku(/[\dA-Za-z]/),KH=ku(/[#-'*+\--9=?A-Z^-~]/);function MC(t){return t!==null&&(t<32||t===127)}const BC=ku(/\d/),QH=ku(/[\dA-Fa-f]/),XH=ku(/[!-/:-@[-`{-~]/);function vt(t){return t!==null&&t<-2}function Vi(t){return t!==null&&(t<0||t===32)}function rn(t){return t===-2||t===-1||t===32}const YH=ku(GH),JH=ku(/\s/);function ku(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function Sn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(p){return rn(p)?(t.enter(n),c(p)):e(p)}function c(p){return rn(p)&&s++<i?(t.consume(p),c):(t.exit(n),e(p))}}const ZH={tokenize:ej};function ej(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Sn(t,e,"linePrefix")}function i(c){return t.enter("paragraph"),s(c)}function s(c){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,a(c)}function a(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return vt(c)?(t.consume(c),t.exit("chunkText"),s):(t.consume(c),a)}}const tj={tokenize:nj},ob={tokenize:rj};function nj(t){const e=this,n=[];let r=0,i,s,a;return c;function c(D){if(r<n.length){const B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,p,m)(D)}return m(D)}function p(D){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const B=e.events.length;let j=B,U;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){U=e.events[j][1].end;break}R(r);let $=B;for(;$<e.events.length;)e.events[$][1].end=Object.assign({},U),$++;return sa(e.events,j+1,0,e.events.slice(B)),e.events.length=$,m(D)}return c(D)}function m(D){if(r===n.length){if(!i)return E(D);if(i.currentConstruct&&i.currentConstruct.concrete)return L(D);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(ob,y,w)(D)}function y(D){return i&&b(),R(r),E(D)}function w(D){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,L(D)}function E(D){return e.containerState={},t.attempt(ob,S,L)(D)}function S(D){return r++,n.push([e.currentConstruct,e.containerState]),E(D)}function L(D){if(D===null){i&&b(),R(0),t.consume(D);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),O(D)}function O(D){if(D===null){M(t.exit("chunkFlow"),!0),R(0),t.consume(D);return}return vt(D)?(t.consume(D),M(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(D),O)}function M(D,B){const j=e.sliceStream(D);if(B&&j.push(null),D.previous=s,s&&(s.next=D),s=D,i.defineSkip(D.start),i.write(j),e.parser.lazy[D.start.line]){let U=i.events.length;for(;U--;)if(i.events[U][1].start.offset<a&&(!i.events[U][1].end||i.events[U][1].end.offset>a))return;const $=e.events.length;let Y=$,ae,xe;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){if(ae){xe=e.events[Y][1].end;break}ae=!0}for(R(r),U=$;U<e.events.length;)e.events[U][1].end=Object.assign({},xe),U++;sa(e.events,Y+1,0,e.events.slice($)),e.events.length=U}}function R(D){let B=n.length;for(;B-- >D;){const j=n[B];e.containerState=j[1],j[0].exit.call(e,t)}n.length=D}function b(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function rj(t,e,n){return Sn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function sb(t){if(t===null||Vi(t)||JH(t))return 1;if(YH(t))return 2}function sT(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const UC={name:"attention",tokenize:oj,resolveAll:ij};function ij(t,e){let n=-1,r,i,s,a,c,p,m,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const w=Object.assign({},t[r][1].end),E=Object.assign({},t[n][1].start);ab(w,-p),ab(E,p),a={type:p>1?"strongSequence":"emphasisSequence",start:w,end:Object.assign({},t[r][1].end)},c={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:E},s={type:p>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:p>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},c.end)},t[r][1].end=Object.assign({},a.start),t[n][1].start=Object.assign({},c.end),m=[],t[r][1].end.offset-t[r][1].start.offset&&(m=Oo(m,[["enter",t[r][1],e],["exit",t[r][1],e]])),m=Oo(m,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),m=Oo(m,sT(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),m=Oo(m,[["exit",s,e],["enter",c,e],["exit",c,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,m=Oo(m,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,sa(t,r-1,n-r+3,m),n=r+m.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function oj(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=sb(r);let s;return a;function a(p){return s=p,t.enter("attentionSequence"),c(p)}function c(p){if(p===s)return t.consume(p),c;const m=t.exit("attentionSequence"),y=sb(p),w=!y||y===2&&i||n.includes(p),E=!i||i===2&&y||n.includes(r);return m._open=!!(s===42?w:w&&(i||!E)),m._close=!!(s===42?E:E&&(y||!w)),e(p)}}function ab(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const sj={name:"autolink",tokenize:aj};function aj(t,e,n){let r=0;return i;function i(S){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(S){return qs(S)?(t.consume(S),a):m(S)}function a(S){return S===43||S===45||S===46||lo(S)?(r=1,c(S)):m(S)}function c(S){return S===58?(t.consume(S),r=0,p):(S===43||S===45||S===46||lo(S))&&r++<32?(t.consume(S),c):(r=0,m(S))}function p(S){return S===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):S===null||S===32||S===60||MC(S)?n(S):(t.consume(S),p)}function m(S){return S===64?(t.consume(S),y):KH(S)?(t.consume(S),m):n(S)}function y(S){return lo(S)?w(S):n(S)}function w(S){return S===46?(t.consume(S),r=0,y):S===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):E(S)}function E(S){if((S===45||lo(S))&&r++<63){const L=S===45?E:w;return t.consume(S),L}return n(S)}}const o_={tokenize:lj,partial:!0};function lj(t,e,n){return r;function r(s){return rn(s)?Sn(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||vt(s)?e(s):n(s)}}const yL={name:"blockQuote",tokenize:uj,continuation:{tokenize:cj},exit:fj};function uj(t,e,n){const r=this;return i;function i(a){if(a===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return rn(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function cj(t,e,n){const r=this;return i;function i(a){return rn(a)?Sn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(yL,e,n)(a)}}function fj(t){t.exit("blockQuote")}const _L={name:"characterEscape",tokenize:hj};function hj(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return XH(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const lb=document.createElement("i");function aT(t){const e="&"+t+";";lb.innerHTML=e;const n=lb.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const wL={name:"characterReference",tokenize:dj};function dj(t,e,n){const r=this;let i=0,s,a;return c;function c(w){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(w),t.exit("characterReferenceMarker"),p}function p(w){return w===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(w),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),s=31,a=lo,y(w))}function m(w){return w===88||w===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(w),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=QH,y):(t.enter("characterReferenceValue"),s=7,a=BC,y(w))}function y(w){if(w===59&&i){const E=t.exit("characterReferenceValue");return a===lo&&!aT(r.sliceSerialize(E))?n(w):(t.enter("characterReferenceMarker"),t.consume(w),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(w)&&i++<s?(t.consume(w),y):n(w)}}const ub={tokenize:gj,partial:!0},cb={name:"codeFenced",tokenize:pj,concrete:!0};function pj(t,e,n){const r=this,i={tokenize:j,partial:!0};let s=0,a=0,c;return p;function p(U){return m(U)}function m(U){const $=r.events[r.events.length-1];return s=$&&$[1].type==="linePrefix"?$[2].sliceSerialize($[1],!0).length:0,c=U,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(U)}function y(U){return U===c?(a++,t.consume(U),y):a<3?n(U):(t.exit("codeFencedFenceSequence"),rn(U)?Sn(t,w,"whitespace")(U):w(U))}function w(U){return U===null||vt(U)?(t.exit("codeFencedFence"),r.interrupt?e(U):t.check(ub,O,B)(U)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),E(U))}function E(U){return U===null||vt(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),w(U)):rn(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Sn(t,S,"whitespace")(U)):U===96&&U===c?n(U):(t.consume(U),E)}function S(U){return U===null||vt(U)?w(U):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),L(U))}function L(U){return U===null||vt(U)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),w(U)):U===96&&U===c?n(U):(t.consume(U),L)}function O(U){return t.attempt(i,B,M)(U)}function M(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),R}function R(U){return s>0&&rn(U)?Sn(t,b,"linePrefix",s+1)(U):b(U)}function b(U){return U===null||vt(U)?t.check(ub,O,B)(U):(t.enter("codeFlowValue"),D(U))}function D(U){return U===null||vt(U)?(t.exit("codeFlowValue"),b(U)):(t.consume(U),D)}function B(U){return t.exit("codeFenced"),e(U)}function j(U,$,Y){let ae=0;return xe;function xe(J){return U.enter("lineEnding"),U.consume(J),U.exit("lineEnding"),ie}function ie(J){return U.enter("codeFencedFence"),rn(J)?Sn(U,ye,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):ye(J)}function ye(J){return J===c?(U.enter("codeFencedFenceSequence"),Ue(J)):Y(J)}function Ue(J){return J===c?(ae++,U.consume(J),Ue):ae>=a?(U.exit("codeFencedFenceSequence"),rn(J)?Sn(U,Le,"whitespace")(J):Le(J)):Y(J)}function Le(J){return J===null||vt(J)?(U.exit("codeFencedFence"),$(J)):Y(J)}}}function gj(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const Qx={name:"codeIndented",tokenize:vj},mj={tokenize:yj,partial:!0};function vj(t,e,n){const r=this;return i;function i(m){return t.enter("codeIndented"),Sn(t,s,"linePrefix",5)(m)}function s(m){const y=r.events[r.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?a(m):n(m)}function a(m){return m===null?p(m):vt(m)?t.attempt(mj,a,p)(m):(t.enter("codeFlowValue"),c(m))}function c(m){return m===null||vt(m)?(t.exit("codeFlowValue"),a(m)):(t.consume(m),c)}function p(m){return t.exit("codeIndented"),e(m)}}function yj(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):vt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):Sn(t,s,"linePrefix",5)(a)}function s(a){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(a):vt(a)?i(a):n(a)}}const _j={name:"codeText",tokenize:Ej,resolve:wj,previous:xj};function wj(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function xj(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ej(t,e,n){let r=0,i,s;return a;function a(w){return t.enter("codeText"),t.enter("codeTextSequence"),c(w)}function c(w){return w===96?(t.consume(w),r++,c):(t.exit("codeTextSequence"),p(w))}function p(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),p):w===96?(s=t.enter("codeTextSequence"),i=0,y(w)):vt(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):(t.enter("codeTextData"),m(w))}function m(w){return w===null||w===32||w===96||vt(w)?(t.exit("codeTextData"),p(w)):(t.consume(w),m)}function y(w){return w===96?(t.consume(w),i++,y):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(s.type="codeTextData",m(w))}}function xL(t){const e={};let n=-1,r,i,s,a,c,p,m;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,s=0,s<p.length&&p[s][1].type==="lineEndingBlank"&&(s+=2),s<p.length&&p[s][1].type==="content"))for(;++s<p.length&&p[s][1].type!=="content";)p[s][1].type==="chunkText"&&(p[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Cj(t,n)),n=e[n],m=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(a=t[s],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},t[i][1].start),c=t.slice(i,n),c.unshift(r),sa(t,i,n-i+1,c))}}return!m}function Cj(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const s=[],a=n._tokenizer||r.parser[n.contentType](n.start),c=a.events,p=[],m={};let y,w,E=-1,S=n,L=0,O=0;const M=[O];for(;S;){for(;t[++i][1]!==S;);s.push(i),S._tokenizer||(y=r.sliceStream(S),S.next||y.push(null),w&&a.defineSkip(S.start),S._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(y),S._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),w=S,S=S.next}for(S=n;++E<c.length;)c[E][0]==="exit"&&c[E-1][0]==="enter"&&c[E][1].type===c[E-1][1].type&&c[E][1].start.line!==c[E][1].end.line&&(O=E+1,M.push(O),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(a.events=[],S?(S._tokenizer=void 0,S.previous=void 0):M.pop(),E=M.length;E--;){const R=c.slice(M[E],M[E+1]),b=s.pop();p.unshift([b,b+R.length-1]),sa(t,b,2,R)}for(E=-1;++E<p.length;)m[L+p[E][0]]=L+p[E][1],L+=p[E][1]-p[E][0]-1;return m}const Sj={tokenize:Aj,resolve:kj},Tj={tokenize:Ij,partial:!0};function kj(t){return xL(t),t}function Aj(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?s(c):vt(c)?t.check(Tj,a,s)(c):(t.consume(c),i)}function s(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function a(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Ij(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Sn(t,s,"linePrefix")}function s(a){if(a===null||vt(a))return n(a);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function EL(t,e,n,r,i,s,a,c,p){const m=p||Number.POSITIVE_INFINITY;let y=0;return w;function w(R){return R===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(R),t.exit(s),E):R===null||R===32||R===41||MC(R)?n(R):(t.enter(r),t.enter(a),t.enter(c),t.enter("chunkString",{contentType:"string"}),O(R))}function E(R){return R===62?(t.enter(s),t.consume(R),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),S(R))}function S(R){return R===62?(t.exit("chunkString"),t.exit(c),E(R)):R===null||R===60||vt(R)?n(R):(t.consume(R),R===92?L:S)}function L(R){return R===60||R===62||R===92?(t.consume(R),S):S(R)}function O(R){return!y&&(R===null||R===41||Vi(R))?(t.exit("chunkString"),t.exit(c),t.exit(a),t.exit(r),e(R)):y<m&&R===40?(t.consume(R),y++,O):R===41?(t.consume(R),y--,O):R===null||R===32||R===40||MC(R)?n(R):(t.consume(R),R===92?M:O)}function M(R){return R===40||R===41||R===92?(t.consume(R),O):O(R)}}function CL(t,e,n,r,i,s){const a=this;let c=0,p;return m;function m(S){return t.enter(r),t.enter(i),t.consume(S),t.exit(i),t.enter(s),y}function y(S){return c>999||S===null||S===91||S===93&&!p||S===94&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs?n(S):S===93?(t.exit(s),t.enter(i),t.consume(S),t.exit(i),t.exit(r),e):vt(S)?(t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),w(S))}function w(S){return S===null||S===91||S===93||vt(S)||c++>999?(t.exit("chunkString"),y(S)):(t.consume(S),p||(p=!rn(S)),S===92?E:w)}function E(S){return S===91||S===92||S===93?(t.consume(S),c++,w):w(S)}}function SL(t,e,n,r,i,s){let a;return c;function c(E){return E===34||E===39||E===40?(t.enter(r),t.enter(i),t.consume(E),t.exit(i),a=E===40?41:E,p):n(E)}function p(E){return E===a?(t.enter(i),t.consume(E),t.exit(i),t.exit(r),e):(t.enter(s),m(E))}function m(E){return E===a?(t.exit(s),p(a)):E===null?n(E):vt(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),Sn(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===a||E===null||vt(E)?(t.exit("chunkString"),m(E)):(t.consume(E),E===92?w:y)}function w(E){return E===a||E===92?(t.consume(E),y):y(E)}}function ug(t,e){let n;return r;function r(i){return vt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):rn(i)?Sn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function Sh(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const bj={name:"definition",tokenize:Rj},Dj={tokenize:Pj,partial:!0};function Rj(t,e,n){const r=this;let i;return s;function s(S){return t.enter("definition"),a(S)}function a(S){return CL.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function c(S){return i=Sh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),p):n(S)}function p(S){return Vi(S)?ug(t,m)(S):m(S)}function m(S){return EL(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function y(S){return t.attempt(Dj,w,w)(S)}function w(S){return rn(S)?Sn(t,E,"whitespace")(S):E(S)}function E(S){return S===null||vt(S)?(t.exit("definition"),r.parser.defined.push(i),e(S)):n(S)}}function Pj(t,e,n){return r;function r(c){return Vi(c)?ug(t,i)(c):n(c)}function i(c){return SL(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function s(c){return rn(c)?Sn(t,a,"whitespace")(c):a(c)}function a(c){return c===null||vt(c)?e(c):n(c)}}const Lj={name:"hardBreakEscape",tokenize:Nj};function Nj(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return vt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const Fj={name:"headingAtx",tokenize:Mj,resolve:Oj};function Oj(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},sa(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Mj(t,e,n){let r=0;return i;function i(y){return t.enter("atxHeading"),s(y)}function s(y){return t.enter("atxHeadingSequence"),a(y)}function a(y){return y===35&&r++<6?(t.consume(y),a):y===null||Vi(y)?(t.exit("atxHeadingSequence"),c(y)):n(y)}function c(y){return y===35?(t.enter("atxHeadingSequence"),p(y)):y===null||vt(y)?(t.exit("atxHeading"),e(y)):rn(y)?Sn(t,c,"whitespace")(y):(t.enter("atxHeadingText"),m(y))}function p(y){return y===35?(t.consume(y),p):(t.exit("atxHeadingSequence"),c(y))}function m(y){return y===null||y===35||Vi(y)?(t.exit("atxHeadingText"),c(y)):(t.consume(y),m)}}const Bj=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],fb=["pre","script","style","textarea"],Uj={name:"htmlFlow",tokenize:Hj,resolveTo:$j,concrete:!0},zj={tokenize:Wj,partial:!0},Vj={tokenize:jj,partial:!0};function $j(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Hj(t,e,n){const r=this;let i,s,a,c,p;return m;function m(C){return y(C)}function y(C){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(C),w}function w(C){return C===33?(t.consume(C),E):C===47?(t.consume(C),s=!0,O):C===63?(t.consume(C),i=3,r.interrupt?e:q):qs(C)?(t.consume(C),a=String.fromCharCode(C),M):n(C)}function E(C){return C===45?(t.consume(C),i=2,S):C===91?(t.consume(C),i=5,c=0,L):qs(C)?(t.consume(C),i=4,r.interrupt?e:q):n(C)}function S(C){return C===45?(t.consume(C),r.interrupt?e:q):n(C)}function L(C){const fe="CDATA[";return C===fe.charCodeAt(c++)?(t.consume(C),c===fe.length?r.interrupt?e:ye:L):n(C)}function O(C){return qs(C)?(t.consume(C),a=String.fromCharCode(C),M):n(C)}function M(C){if(C===null||C===47||C===62||Vi(C)){const fe=C===47,nt=a.toLowerCase();return!fe&&!s&&fb.includes(nt)?(i=1,r.interrupt?e(C):ye(C)):Bj.includes(a.toLowerCase())?(i=6,fe?(t.consume(C),R):r.interrupt?e(C):ye(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):s?b(C):D(C))}return C===45||lo(C)?(t.consume(C),a+=String.fromCharCode(C),M):n(C)}function R(C){return C===62?(t.consume(C),r.interrupt?e:ye):n(C)}function b(C){return rn(C)?(t.consume(C),b):xe(C)}function D(C){return C===47?(t.consume(C),xe):C===58||C===95||qs(C)?(t.consume(C),B):rn(C)?(t.consume(C),D):xe(C)}function B(C){return C===45||C===46||C===58||C===95||lo(C)?(t.consume(C),B):j(C)}function j(C){return C===61?(t.consume(C),U):rn(C)?(t.consume(C),j):D(C)}function U(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(t.consume(C),p=C,$):rn(C)?(t.consume(C),U):Y(C)}function $(C){return C===p?(t.consume(C),p=null,ae):C===null||vt(C)?n(C):(t.consume(C),$)}function Y(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Vi(C)?j(C):(t.consume(C),Y)}function ae(C){return C===47||C===62||rn(C)?D(C):n(C)}function xe(C){return C===62?(t.consume(C),ie):n(C)}function ie(C){return C===null||vt(C)?ye(C):rn(C)?(t.consume(C),ie):n(C)}function ye(C){return C===45&&i===2?(t.consume(C),_e):C===60&&i===1?(t.consume(C),me):C===62&&i===4?(t.consume(C),tt):C===63&&i===3?(t.consume(C),q):C===93&&i===5?(t.consume(C),Pe):vt(C)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(zj,Q,Ue)(C)):C===null||vt(C)?(t.exit("htmlFlowData"),Ue(C)):(t.consume(C),ye)}function Ue(C){return t.check(Vj,Le,Q)(C)}function Le(C){return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),J}function J(C){return C===null||vt(C)?Ue(C):(t.enter("htmlFlowData"),ye(C))}function _e(C){return C===45?(t.consume(C),q):ye(C)}function me(C){return C===47?(t.consume(C),a="",he):ye(C)}function he(C){if(C===62){const fe=a.toLowerCase();return fb.includes(fe)?(t.consume(C),tt):ye(C)}return qs(C)&&a.length<8?(t.consume(C),a+=String.fromCharCode(C),he):ye(C)}function Pe(C){return C===93?(t.consume(C),q):ye(C)}function q(C){return C===62?(t.consume(C),tt):C===45&&i===2?(t.consume(C),q):ye(C)}function tt(C){return C===null||vt(C)?(t.exit("htmlFlowData"),Q(C)):(t.consume(C),tt)}function Q(C){return t.exit("htmlFlow"),e(C)}}function jj(t,e,n){const r=this;return i;function i(a){return vt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function Wj(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(o_,e,n)}}const qj={name:"htmlText",tokenize:Gj};function Gj(t,e,n){const r=this;let i,s,a;return c;function c(q){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(q),p}function p(q){return q===33?(t.consume(q),m):q===47?(t.consume(q),j):q===63?(t.consume(q),D):qs(q)?(t.consume(q),Y):n(q)}function m(q){return q===45?(t.consume(q),y):q===91?(t.consume(q),s=0,L):qs(q)?(t.consume(q),b):n(q)}function y(q){return q===45?(t.consume(q),S):n(q)}function w(q){return q===null?n(q):q===45?(t.consume(q),E):vt(q)?(a=w,me(q)):(t.consume(q),w)}function E(q){return q===45?(t.consume(q),S):w(q)}function S(q){return q===62?_e(q):q===45?E(q):w(q)}function L(q){const tt="CDATA[";return q===tt.charCodeAt(s++)?(t.consume(q),s===tt.length?O:L):n(q)}function O(q){return q===null?n(q):q===93?(t.consume(q),M):vt(q)?(a=O,me(q)):(t.consume(q),O)}function M(q){return q===93?(t.consume(q),R):O(q)}function R(q){return q===62?_e(q):q===93?(t.consume(q),R):O(q)}function b(q){return q===null||q===62?_e(q):vt(q)?(a=b,me(q)):(t.consume(q),b)}function D(q){return q===null?n(q):q===63?(t.consume(q),B):vt(q)?(a=D,me(q)):(t.consume(q),D)}function B(q){return q===62?_e(q):D(q)}function j(q){return qs(q)?(t.consume(q),U):n(q)}function U(q){return q===45||lo(q)?(t.consume(q),U):$(q)}function $(q){return vt(q)?(a=$,me(q)):rn(q)?(t.consume(q),$):_e(q)}function Y(q){return q===45||lo(q)?(t.consume(q),Y):q===47||q===62||Vi(q)?ae(q):n(q)}function ae(q){return q===47?(t.consume(q),_e):q===58||q===95||qs(q)?(t.consume(q),xe):vt(q)?(a=ae,me(q)):rn(q)?(t.consume(q),ae):_e(q)}function xe(q){return q===45||q===46||q===58||q===95||lo(q)?(t.consume(q),xe):ie(q)}function ie(q){return q===61?(t.consume(q),ye):vt(q)?(a=ie,me(q)):rn(q)?(t.consume(q),ie):ae(q)}function ye(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),i=q,Ue):vt(q)?(a=ye,me(q)):rn(q)?(t.consume(q),ye):(t.consume(q),Le)}function Ue(q){return q===i?(t.consume(q),i=void 0,J):q===null?n(q):vt(q)?(a=Ue,me(q)):(t.consume(q),Ue)}function Le(q){return q===null||q===34||q===39||q===60||q===61||q===96?n(q):q===47||q===62||Vi(q)?ae(q):(t.consume(q),Le)}function J(q){return q===47||q===62||Vi(q)?ae(q):n(q)}function _e(q){return q===62?(t.consume(q),t.exit("htmlTextData"),t.exit("htmlText"),e):n(q)}function me(q){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),he}function he(q){return rn(q)?Sn(t,Pe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):Pe(q)}function Pe(q){return t.enter("htmlTextData"),a(q)}}const lT={name:"labelEnd",tokenize:Zj,resolveTo:Jj,resolveAll:Yj},Kj={tokenize:eW},Qj={tokenize:tW},Xj={tokenize:nW};function Yj(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function Jj(t,e){let n=t.length,r=0,i,s,a,c;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const p={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},m={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[a][1].end)},y={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[a-2][1].start)};return c=[["enter",p,e],["enter",m,e]],c=Oo(c,t.slice(s+1,s+r+3)),c=Oo(c,[["enter",y,e]]),c=Oo(c,sT(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),c=Oo(c,[["exit",y,e],t[a-2],t[a-1],["exit",m,e]]),c=Oo(c,t.slice(a+1)),c=Oo(c,[["exit",p,e]]),sa(t,s,t.length,c),t}function Zj(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return c;function c(E){return s?s._inactive?w(E):(a=r.parser.defined.includes(Sh(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(E),t.exit("labelMarker"),t.exit("labelEnd"),p):n(E)}function p(E){return E===40?t.attempt(Kj,y,a?y:w)(E):E===91?t.attempt(Qj,y,a?m:w)(E):a?y(E):w(E)}function m(E){return t.attempt(Xj,y,w)(E)}function y(E){return e(E)}function w(E){return s._balanced=!0,n(E)}}function eW(t,e,n){return r;function r(w){return t.enter("resource"),t.enter("resourceMarker"),t.consume(w),t.exit("resourceMarker"),i}function i(w){return Vi(w)?ug(t,s)(w):s(w)}function s(w){return w===41?y(w):EL(t,a,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(w)}function a(w){return Vi(w)?ug(t,p)(w):y(w)}function c(w){return n(w)}function p(w){return w===34||w===39||w===40?SL(t,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(w):y(w)}function m(w){return Vi(w)?ug(t,y)(w):y(w)}function y(w){return w===41?(t.enter("resourceMarker"),t.consume(w),t.exit("resourceMarker"),t.exit("resource"),e):n(w)}}function tW(t,e,n){const r=this;return i;function i(c){return CL.call(r,t,s,a,"reference","referenceMarker","referenceString")(c)}function s(c){return r.parser.defined.includes(Sh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function a(c){return n(c)}}function nW(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const rW={name:"labelStartImage",tokenize:iW,resolveAll:lT.resolveAll};function iW(t,e,n){const r=this;return i;function i(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),s}function s(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),a):n(c)}function a(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const oW={name:"labelStartLink",tokenize:sW,resolveAll:lT.resolveAll};function sW(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Xx={name:"lineEnding",tokenize:aW};function aW(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Sn(t,e,"linePrefix")}}const G0={name:"thematicBreak",tokenize:lW};function lW(t,e,n){let r=0,i;return s;function s(m){return t.enter("thematicBreak"),a(m)}function a(m){return i=m,c(m)}function c(m){return m===i?(t.enter("thematicBreakSequence"),p(m)):r>=3&&(m===null||vt(m))?(t.exit("thematicBreak"),e(m)):n(m)}function p(m){return m===i?(t.consume(m),r++,p):(t.exit("thematicBreakSequence"),rn(m)?Sn(t,c,"whitespace")(m):c(m))}}const Li={name:"list",tokenize:fW,continuation:{tokenize:hW},exit:pW},uW={tokenize:gW,partial:!0},cW={tokenize:dW,partial:!0};function fW(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return c;function c(S){const L=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(L==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:BC(S)){if(r.containerState.type||(r.containerState.type=L,t.enter(L,{_container:!0})),L==="listUnordered")return t.enter("listItemPrefix"),S===42||S===45?t.check(G0,n,m)(S):m(S);if(!r.interrupt||S===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(S)}return n(S)}function p(S){return BC(S)&&++a<10?(t.consume(S),p):(!r.interrupt||a<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(t.exit("listItemValue"),m(S)):n(S)}function m(S){return t.enter("listItemMarker"),t.consume(S),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,t.check(o_,r.interrupt?n:y,t.attempt(uW,E,w))}function y(S){return r.containerState.initialBlankLine=!0,s++,E(S)}function w(S){return rn(S)?(t.enter("listItemPrefixWhitespace"),t.consume(S),t.exit("listItemPrefixWhitespace"),E):n(S)}function E(S){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(S)}}function hW(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(o_,i,s);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Sn(t,e,"listItemIndent",r.containerState.size+1)(c)}function s(c){return r.containerState.furtherBlankLines||!rn(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(cW,e,a)(c))}function a(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Sn(t,t.attempt(Li,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function dW(t,e,n){const r=this;return Sn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function pW(t){t.exit(this.containerState.type)}function gW(t,e,n){const r=this;return Sn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!rn(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const hb={name:"setextUnderline",tokenize:vW,resolveTo:mW};function mW(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=a,t.push(["exit",a,e]),t}function vW(t,e,n){const r=this;let i;return s;function s(m){let y=r.events.length,w;for(;y--;)if(r.events[y][1].type!=="lineEnding"&&r.events[y][1].type!=="linePrefix"&&r.events[y][1].type!=="content"){w=r.events[y][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||w)?(t.enter("setextHeadingLine"),i=m,a(m)):n(m)}function a(m){return t.enter("setextHeadingLineSequence"),c(m)}function c(m){return m===i?(t.consume(m),c):(t.exit("setextHeadingLineSequence"),rn(m)?Sn(t,p,"lineSuffix")(m):p(m))}function p(m){return m===null||vt(m)?(t.exit("setextHeadingLine"),e(m)):n(m)}}const yW={tokenize:_W};function _W(t){const e=this,n=t.attempt(o_,r,t.attempt(this.parser.constructs.flowInitial,i,Sn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Sj,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const wW={resolveAll:kL()},xW=TL("string"),EW=TL("text");function TL(t){return{tokenize:e,resolveAll:kL(t==="text"?CW:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,c);return a;function a(y){return m(y)?s(y):c(y)}function c(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),p}function p(y){return m(y)?(n.exit("data"),s(y)):(n.consume(y),p)}function m(y){if(y===null)return!0;const w=i[y];let E=-1;if(w)for(;++E<w.length;){const S=w[E];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function kL(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function CW(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,c=0,p;for(;s--;){const m=i[s];if(typeof m=="string"){for(a=m.length;m.charCodeAt(a-1)===32;)c++,a--;if(a)break;a=-1}else if(m===-2)p=!0,c++;else if(m!==-1){s++;break}}if(c){const m={type:n===t.length||p||c<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-c,offset:r.end.offset-c,_index:r.start._index+s,_bufferIndex:s?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},m.start),r.start.offset===r.end.offset?Object.assign(r,m):(t.splice(n,0,["enter",m,e],["exit",m,e]),n+=2)}n++}return t}function SW(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let a=[],c=[];const p={consume:b,enter:D,exit:B,attempt:$(j),check:$(U),interrupt:$(U,{interrupt:!0})},m={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:S,sliceSerialize:E,now:L,defineSkip:O,write:w};let y=e.tokenize.call(m,p);return e.resolveAll&&s.push(e),m;function w(ie){return a=Oo(a,ie),M(),a[a.length-1]!==null?[]:(Y(e,0),m.events=sT(s,m.events,m),m.events)}function E(ie,ye){return kW(S(ie),ye)}function S(ie){return TW(a,ie)}function L(){const{line:ie,column:ye,offset:Ue,_index:Le,_bufferIndex:J}=r;return{line:ie,column:ye,offset:Ue,_index:Le,_bufferIndex:J}}function O(ie){i[ie.line]=ie.column,xe()}function M(){let ie;for(;r._index<a.length;){const ye=a[r._index];if(typeof ye=="string")for(ie=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ie&&r._bufferIndex<ye.length;)R(ye.charCodeAt(r._bufferIndex));else R(ye)}}function R(ie){y=y(ie)}function b(ie){vt(ie)?(r.line++,r.column=1,r.offset+=ie===-3?2:1,xe()):ie!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=ie}function D(ie,ye){const Ue=ye||{};return Ue.type=ie,Ue.start=L(),m.events.push(["enter",Ue,m]),c.push(Ue),Ue}function B(ie){const ye=c.pop();return ye.end=L(),m.events.push(["exit",ye,m]),ye}function j(ie,ye){Y(ie,ye.from)}function U(ie,ye){ye.restore()}function $(ie,ye){return Ue;function Ue(Le,J,_e){let me,he,Pe,q;return Array.isArray(Le)?Q(Le):"tokenize"in Le?Q([Le]):tt(Le);function tt(Ve){return At;function At(Bt){const Lt=Bt!==null&&Ve[Bt],an=Bt!==null&&Ve.null,bt=[...Array.isArray(Lt)?Lt:Lt?[Lt]:[],...Array.isArray(an)?an:an?[an]:[]];return Q(bt)(Bt)}}function Q(Ve){return me=Ve,he=0,Ve.length===0?_e:C(Ve[he])}function C(Ve){return At;function At(Bt){return q=ae(),Pe=Ve,Ve.partial||(m.currentConstruct=Ve),Ve.name&&m.parser.constructs.disable.null.includes(Ve.name)?nt():Ve.tokenize.call(ye?Object.assign(Object.create(m),ye):m,p,fe,nt)(Bt)}}function fe(Ve){return ie(Pe,q),J}function nt(Ve){return q.restore(),++he<me.length?C(me[he]):_e}}}function Y(ie,ye){ie.resolveAll&&!s.includes(ie)&&s.push(ie),ie.resolve&&sa(m.events,ye,m.events.length-ye,ie.resolve(m.events.slice(ye),m)),ie.resolveTo&&(m.events=ie.resolveTo(m.events,m))}function ae(){const ie=L(),ye=m.previous,Ue=m.currentConstruct,Le=m.events.length,J=Array.from(c);return{restore:_e,from:Le};function _e(){r=ie,m.previous=ye,m.currentConstruct=Ue,m.events.length=Le,c=J,xe()}}function xe(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function TW(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const c=a[0];typeof c=="string"?a[0]=c.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function kW(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}const AW={42:Li,43:Li,45:Li,48:Li,49:Li,50:Li,51:Li,52:Li,53:Li,54:Li,55:Li,56:Li,57:Li,62:yL},IW={91:bj},bW={[-2]:Qx,[-1]:Qx,32:Qx},DW={35:Fj,42:G0,45:[hb,G0],60:Uj,61:hb,95:G0,96:cb,126:cb},RW={38:wL,92:_L},PW={[-5]:Xx,[-4]:Xx,[-3]:Xx,33:rW,38:wL,42:UC,60:[sj,qj],91:oW,92:[Lj,_L],93:lT,95:UC,96:_j},LW={null:[UC,wW]},NW={null:[42,95]},FW={null:[]},OW=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:NW,contentInitial:IW,disable:FW,document:AW,flow:DW,flowInitial:bW,insideSpan:LW,string:RW,text:PW},Symbol.toStringTag,{value:"Module"}));function MW(t){const n=jH([OW,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(ZH),document:i(tj),flow:i(yW),string:i(xW),text:i(EW)};return r;function i(s){return a;function a(c){return SW(r,s,c)}}}const db=/[\0\t\n\r]/g;function BW(){let t=1,e="",n=!0,r;return i;function i(s,a,c){const p=[];let m,y,w,E,S;for(s=e+s.toString(a),w=0,e="",n&&(s.charCodeAt(0)===65279&&w++,n=void 0);w<s.length;){if(db.lastIndex=w,m=db.exec(s),E=m&&m.index!==void 0?m.index:s.length,S=s.charCodeAt(E),!m){e=s.slice(w);break}if(S===10&&w===E&&r)p.push(-3),r=void 0;else switch(r&&(p.push(-5),r=void 0),w<E&&(p.push(s.slice(w,E)),t+=E-w),S){case 0:{p.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,p.push(-2);t++<y;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:r=!0,t=1}w=E+1}return c&&(r&&p.push(-5),e&&p.push(e),p.push(null)),p}}function UW(t){for(;!xL(t););return t}function AL(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const zW=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function VW(t){return t.replace(zW,$W)}function $W(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return AL(n.slice(s?2:1),s?16:10)}return aT(n)||t}const IL={}.hasOwnProperty,HW=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),jW(n)(UW(MW(n).document().write(BW()(t,e,!0))))};function jW(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(mt),autolinkProtocol:ie,autolinkEmail:ie,atxHeading:c(Ur),blockQuote:c(bt),characterEscape:ie,characterReference:ie,codeFenced:c(Nt),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:c(Nt,p),codeText:c(gn,p),codeTextData:ie,data:ie,codeFlowValue:ie,definition:c(Jt),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:c(Ye),hardBreakEscape:c(kn),hardBreakTrailing:c(kn),htmlFlow:c(Sr,p),htmlFlowData:ie,htmlText:c(Sr,p),htmlTextData:ie,image:c(Ci),label:p,link:c(mt),listItem:c(br),listItemValue:L,listOrdered:c(dn,S),listUnordered:c(dn),paragraph:c($i),reference:nt,referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:c(Ur),strong:c(ce),thematicBreak:c(re)},exit:{atxHeading:y(),atxHeadingSequence:$,autolink:y(),autolinkEmail:an,autolinkProtocol:Lt,blockQuote:y(),characterEscapeValue:ye,characterReferenceMarkerHexadecimal:At,characterReferenceMarkerNumeric:At,characterReferenceValue:Bt,codeFenced:y(b),codeFencedFence:R,codeFencedFenceInfo:O,codeFencedFenceMeta:M,codeFlowValue:ye,codeIndented:y(D),codeText:y(me),codeTextData:ye,data:ye,definition:y(),definitionDestinationString:U,definitionLabelString:B,definitionTitleString:j,emphasis:y(),hardBreakEscape:y(Le),hardBreakTrailing:y(Le),htmlFlow:y(J),htmlFlowData:ye,htmlText:y(_e),htmlTextData:ye,image:y(Pe),label:tt,labelText:q,lineEnding:Ue,link:y(he),listItem:y(),listOrdered:y(),listUnordered:y(),paragraph:y(),referenceString:Ve,resourceDestinationString:Q,resourceTitleString:C,resource:fe,setextHeading:y(xe),setextHeadingLineSequence:ae,setextHeadingText:Y,strong:y(),thematicBreak:y()}};bL(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(A){let F={type:"root",children:[]};const G={stack:[F],tokenStack:[],config:e,enter:m,exit:w,buffer:p,resume:E,setData:s,getData:a},K=[];let ee=-1;for(;++ee<A.length;)if(A[ee][1].type==="listOrdered"||A[ee][1].type==="listUnordered")if(A[ee][0]==="enter")K.push(ee);else{const be=K.pop();ee=i(A,be,ee)}for(ee=-1;++ee<A.length;){const be=e[A[ee][0]];IL.call(be,A[ee][1].type)&&be[A[ee][1].type].call(Object.assign({sliceSerialize:A[ee][2].sliceSerialize},G),A[ee][1])}if(G.tokenStack.length>0){const be=G.tokenStack[G.tokenStack.length-1];(be[1]||pb).call(G,void 0,be[0])}for(F.position={start:Ol(A.length>0?A[0][1].start:{line:1,column:1,offset:0}),end:Ol(A.length>0?A[A.length-2][1].end:{line:1,column:1,offset:0})},ee=-1;++ee<e.transforms.length;)F=e.transforms[ee](F)||F;return F}function i(A,F,G){let K=F-1,ee=-1,be=!1,ze,Be,He,it;for(;++K<=G;){const ke=A[K];if(ke[1].type==="listUnordered"||ke[1].type==="listOrdered"||ke[1].type==="blockQuote"?(ke[0]==="enter"?ee++:ee--,it=void 0):ke[1].type==="lineEndingBlank"?ke[0]==="enter"&&(ze&&!it&&!ee&&!He&&(He=K),it=void 0):ke[1].type==="linePrefix"||ke[1].type==="listItemValue"||ke[1].type==="listItemMarker"||ke[1].type==="listItemPrefix"||ke[1].type==="listItemPrefixWhitespace"||(it=void 0),!ee&&ke[0]==="enter"&&ke[1].type==="listItemPrefix"||ee===-1&&ke[0]==="exit"&&(ke[1].type==="listUnordered"||ke[1].type==="listOrdered")){if(ze){let ot=K;for(Be=void 0;ot--;){const ge=A[ot];if(ge[1].type==="lineEnding"||ge[1].type==="lineEndingBlank"){if(ge[0]==="exit")continue;Be&&(A[Be][1].type="lineEndingBlank",be=!0),ge[1].type="lineEnding",Be=ot}else if(!(ge[1].type==="linePrefix"||ge[1].type==="blockQuotePrefix"||ge[1].type==="blockQuotePrefixWhitespace"||ge[1].type==="blockQuoteMarker"||ge[1].type==="listItemIndent"))break}He&&(!Be||He<Be)&&(ze._spread=!0),ze.end=Object.assign({},Be?A[Be][1].start:ke[1].end),A.splice(Be||K,0,["exit",ze,ke[2]]),K++,G++}ke[1].type==="listItemPrefix"&&(ze={type:"listItem",_spread:!1,start:Object.assign({},ke[1].start),end:void 0},A.splice(K,0,["enter",ze,ke[2]]),K++,G++,He=void 0,it=!0)}}return A[F][1]._spread=be,G}function s(A,F){n[A]=F}function a(A){return n[A]}function c(A,F){return G;function G(K){m.call(this,A(K),K),F&&F.call(this,K)}}function p(){this.stack.push({type:"fragment",children:[]})}function m(A,F,G){return this.stack[this.stack.length-1].children.push(A),this.stack.push(A),this.tokenStack.push([F,G]),A.position={start:Ol(F.start)},A}function y(A){return F;function F(G){A&&A.call(this,G),w.call(this,G)}}function w(A,F){const G=this.stack.pop(),K=this.tokenStack.pop();if(K)K[0].type!==A.type&&(F?F.call(this,A,K[0]):(K[1]||pb).call(this,A,K[0]));else throw new Error("Cannot close `"+A.type+"` ("+lg({start:A.start,end:A.end})+"): it’s not open");return G.position.end=Ol(A.end),G}function E(){return $H(this.stack.pop())}function S(){s("expectingFirstListItemValue",!0)}function L(A){if(a("expectingFirstListItemValue")){const F=this.stack[this.stack.length-2];F.start=Number.parseInt(this.sliceSerialize(A),10),s("expectingFirstListItemValue")}}function O(){const A=this.resume(),F=this.stack[this.stack.length-1];F.lang=A}function M(){const A=this.resume(),F=this.stack[this.stack.length-1];F.meta=A}function R(){a("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function b(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function D(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A.replace(/(\r?\n|\r)$/g,"")}function B(A){const F=this.resume(),G=this.stack[this.stack.length-1];G.label=F,G.identifier=Sh(this.sliceSerialize(A)).toLowerCase()}function j(){const A=this.resume(),F=this.stack[this.stack.length-1];F.title=A}function U(){const A=this.resume(),F=this.stack[this.stack.length-1];F.url=A}function $(A){const F=this.stack[this.stack.length-1];if(!F.depth){const G=this.sliceSerialize(A).length;F.depth=G}}function Y(){s("setextHeadingSlurpLineEnding",!0)}function ae(A){const F=this.stack[this.stack.length-1];F.depth=this.sliceSerialize(A).charCodeAt(0)===61?1:2}function xe(){s("setextHeadingSlurpLineEnding")}function ie(A){const F=this.stack[this.stack.length-1];let G=F.children[F.children.length-1];(!G||G.type!=="text")&&(G=ue(),G.position={start:Ol(A.start)},F.children.push(G)),this.stack.push(G)}function ye(A){const F=this.stack.pop();F.value+=this.sliceSerialize(A),F.position.end=Ol(A.end)}function Ue(A){const F=this.stack[this.stack.length-1];if(a("atHardBreak")){const G=F.children[F.children.length-1];G.position.end=Ol(A.end),s("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(F.type)&&(ie.call(this,A),ye.call(this,A))}function Le(){s("atHardBreak",!0)}function J(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function _e(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function me(){const A=this.resume(),F=this.stack[this.stack.length-1];F.value=A}function he(){const A=this.stack[this.stack.length-1];if(a("inReference")){const F=a("referenceType")||"shortcut";A.type+="Reference",A.referenceType=F,delete A.url,delete A.title}else delete A.identifier,delete A.label;s("referenceType")}function Pe(){const A=this.stack[this.stack.length-1];if(a("inReference")){const F=a("referenceType")||"shortcut";A.type+="Reference",A.referenceType=F,delete A.url,delete A.title}else delete A.identifier,delete A.label;s("referenceType")}function q(A){const F=this.sliceSerialize(A),G=this.stack[this.stack.length-2];G.label=VW(F),G.identifier=Sh(F).toLowerCase()}function tt(){const A=this.stack[this.stack.length-1],F=this.resume(),G=this.stack[this.stack.length-1];if(s("inReference",!0),G.type==="link"){const K=A.children;G.children=K}else G.alt=F}function Q(){const A=this.resume(),F=this.stack[this.stack.length-1];F.url=A}function C(){const A=this.resume(),F=this.stack[this.stack.length-1];F.title=A}function fe(){s("inReference")}function nt(){s("referenceType","collapsed")}function Ve(A){const F=this.resume(),G=this.stack[this.stack.length-1];G.label=F,G.identifier=Sh(this.sliceSerialize(A)).toLowerCase(),s("referenceType","full")}function At(A){s("characterReferenceType",A.type)}function Bt(A){const F=this.sliceSerialize(A),G=a("characterReferenceType");let K;G?(K=AL(F,G==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):K=aT(F);const ee=this.stack.pop();ee.value+=K,ee.position.end=Ol(A.end)}function Lt(A){ye.call(this,A);const F=this.stack[this.stack.length-1];F.url=this.sliceSerialize(A)}function an(A){ye.call(this,A);const F=this.stack[this.stack.length-1];F.url="mailto:"+this.sliceSerialize(A)}function bt(){return{type:"blockquote",children:[]}}function Nt(){return{type:"code",lang:null,meta:null,value:""}}function gn(){return{type:"inlineCode",value:""}}function Jt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ye(){return{type:"emphasis",children:[]}}function Ur(){return{type:"heading",depth:void 0,children:[]}}function kn(){return{type:"break"}}function Sr(){return{type:"html",value:""}}function Ci(){return{type:"image",title:null,url:"",alt:null}}function mt(){return{type:"link",title:null,url:"",children:[]}}function dn(A){return{type:"list",ordered:A.type==="listOrdered",start:null,spread:A._spread,children:[]}}function br(A){return{type:"listItem",spread:A._spread,checked:null,children:[]}}function $i(){return{type:"paragraph",children:[]}}function ce(){return{type:"strong",children:[]}}function ue(){return{type:"text",value:""}}function re(){return{type:"thematicBreak"}}}function Ol(t){return{line:t.line,column:t.column,offset:t.offset}}function bL(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?bL(t,r):WW(t,r)}}function WW(t,e){let n;for(n in e)if(IL.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function pb(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+lg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+lg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+lg({start:e.start,end:e.end})+") is still open")}function qW(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return HW(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function GW(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function KW(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function QW(t,e){const n=e.value?e.value+`
`:"",r=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function XW(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function YW(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function id(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&lo(t.charCodeAt(n+1))&&lo(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const c=t.charCodeAt(n+1);s<56320&&c>56319&&c<57344?(a=String.fromCharCode(s,c),i=1):a="�"}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function DL(t,e){const n=String(e.identifier).toUpperCase(),r=id(n.toLowerCase()),i=t.footnoteOrder.indexOf(n);let s;i===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,s=t.footnoteOrder.length):(t.footnoteCounts[n]++,s=i+1);const a=t.footnoteCounts[n],c={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+r,id:t.clobberPrefix+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,c);const p={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,p),t.applyData(e,p)}function JW(t,e){const n=t.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:e.children}],position:e.position},DL(t,{type:"footnoteReference",identifier:i,position:e.position})}function ZW(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function eq(t,e){if(t.dangerous){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}return null}function RL(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+r};const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function tq(t,e){const n=t.definition(e.identifier);if(!n)return RL(t,e);const r={src:id(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function nq(t,e){const n={src:id(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function rq(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function iq(t,e){const n=t.definition(e.identifier);if(!n)return RL(t,e);const r={href:id(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function oq(t,e){const n={href:id(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function sq(t,e,n){const r=t.all(e),i=n?aq(n):PL(e),s={},a=[];if(typeof e.checked=="boolean"){const y=r[0];let w;y&&y.type==="element"&&y.tagName==="p"?w=y:(w={type:"element",tagName:"p",properties:{},children:[]},r.unshift(w)),w.children.length>0&&w.children.unshift({type:"text",value:" "}),w.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const y=r[c];(i||c!==0||y.type!=="element"||y.tagName!=="p")&&a.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!i?a.push(...y.children):a.push(y)}const p=r[r.length-1];p&&(i||p.type!=="element"||p.tagName!=="p")&&a.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,m),t.applyData(e,m)}function aq(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=PL(n[r])}return e}function PL(t){const e=t.spread;return e??t.children.length>1}function lq(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function uq(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function cq(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function fq(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const uT=LL("start"),cT=LL("end");function hq(t){return{start:uT(t),end:cT(t)}}function LL(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function dq(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=uT(e.children[1]),p=cT(e.children[e.children.length-1]);c.line&&p.line&&(a.position={start:c,end:p}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function pq(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,c=a?a.length:e.children.length;let p=-1;const m=[];for(;++p<c;){const w=e.children[p],E={},S=a?a[p]:void 0;S&&(E.align=S);let L={type:"element",tagName:s,properties:E,children:[]};w&&(L.children=t.all(w),t.patch(w,L),L=t.applyData(e,L)),m.push(L)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(e,y),t.applyData(e,y)}function gq(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const gb=9,mb=32;function mq(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(vb(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(vb(e.slice(i),i>0,!1)),s.join("")}function vb(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===gb||s===mb;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===gb||s===mb;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function vq(t,e){const n={type:"text",value:mq(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function yq(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const _q={blockquote:GW,break:KW,code:QW,delete:XW,emphasis:YW,footnoteReference:DL,footnote:JW,heading:ZW,html:eq,imageReference:tq,image:nq,inlineCode:rq,linkReference:iq,link:oq,listItem:sq,list:lq,paragraph:uq,root:cq,strong:fq,table:dq,tableCell:gq,tableRow:pq,text:vq,thematicBreak:yq,toml:E0,yaml:E0,definition:E0,footnoteDefinition:E0};function E0(){return null}const NL=function(t){if(t==null)return Cq;if(typeof t=="string")return Eq(t);if(typeof t=="object")return Array.isArray(t)?wq(t):xq(t);if(typeof t=="function")return s_(t);throw new Error("Expected function, string, or object as test")};function wq(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=NL(t[n]);return s_(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function xq(t){return s_(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function Eq(t){return s_(e);function e(n){return n&&n.type===t}}function s_(t){return e;function e(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...r))}}function Cq(){return!0}const Sq=!0,yb=!1,Tq="skip",kq=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=NL(e),s=r?-1:1;a(t,void 0,[])();function a(c,p,m){const y=c&&typeof c=="object"?c:{};if(typeof y.type=="string"){const E=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(c.type+(E?"<"+E+">":""))+")"})}return w;function w(){let E=[],S,L,O;if((!e||i(c,p,m[m.length-1]||null))&&(E=Aq(n(c,m)),E[0]===yb))return E;if(c.children&&E[0]!==Tq)for(L=(r?c.children.length:-1)+s,O=m.concat(c);L>-1&&L<c.children.length;){if(S=a(c.children[L],L,O)(),S[0]===yb)return S;L=typeof S[1]=="number"?S[1]:L+s}return E}}};function Aq(t){return Array.isArray(t)?t:typeof t=="number"?[Sq,t]:[t]}const fT=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),kq(t,e,i,r);function i(s,a){const c=a[a.length-1];return n(s,c?c.children.indexOf(s):null,c)}};function Iq(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const _b={}.hasOwnProperty;function bq(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return fT(t,"definition",r=>{const i=wb(r.identifier);i&&!_b.call(e,i)&&(e[i]=r)}),n;function n(r){const i=wb(r);return i&&_b.call(e,i)?e[i]:null}}function wb(t){return String(t||"").toUpperCase()}const q1={}.hasOwnProperty;function Dq(t,e){const n=e||{},r=n.allowDangerousHtml||!1,i={};return a.dangerous=r,a.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,a.footnoteLabel=n.footnoteLabel||"Footnotes",a.footnoteLabelTagName=n.footnoteLabelTagName||"h2",a.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=n.footnoteBackLabel||"Back to content",a.unknownHandler=n.unknownHandler,a.passThrough=n.passThrough,a.handlers={..._q,...n.handlers},a.definition=bq(t),a.footnoteById=i,a.footnoteOrder=[],a.footnoteCounts={},a.patch=Rq,a.applyData=Pq,a.one=c,a.all=p,a.wrap=Nq,a.augment=s,fT(t,"footnoteDefinition",m=>{const y=String(m.identifier).toUpperCase();q1.call(i,y)||(i[y]=m)}),a;function s(m,y){if(m&&"data"in m&&m.data){const w=m.data;w.hName&&(y.type!=="element"&&(y={type:"element",tagName:"",properties:{},children:[]}),y.tagName=w.hName),y.type==="element"&&w.hProperties&&(y.properties={...y.properties,...w.hProperties}),"children"in y&&y.children&&w.hChildren&&(y.children=w.hChildren)}if(m){const w="type"in m?m:{position:m};Iq(w)||(y.position={start:uT(w),end:cT(w)})}return y}function a(m,y,w,E){return Array.isArray(w)&&(E=w,w={}),s(m,{type:"element",tagName:y,properties:w||{},children:E||[]})}function c(m,y){return FL(a,m,y)}function p(m){return hT(a,m)}}function Rq(t,e){t.position&&(e.position=hq(t))}function Pq(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function FL(t,e,n){const r=e&&e.type;if(!r)throw new Error("Expected node, got `"+e+"`");return q1.call(t.handlers,r)?t.handlers[r](t,e,n):t.passThrough&&t.passThrough.includes(r)?"children"in e?{...e,children:hT(t,e)}:e:t.unknownHandler?t.unknownHandler(t,e,n):Lq(t,e)}function hT(t,e){const n=[];if("children"in e){const r=e.children;let i=-1;for(;++i<r.length;){const s=FL(t,r[i],e);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const a=s.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function Lq(t,e){const n=e.data||{},r="value"in e&&!(q1.call(n,"hProperties")||q1.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:hT(t,e)};return t.patch(e,r),t.applyData(e,r)}function Nq(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Fq(t){const e=[];let n=-1;for(;++n<t.footnoteOrder.length;){const r=t.footnoteById[t.footnoteOrder[n]];if(!r)continue;const i=t.all(r),s=String(r.identifier).toUpperCase(),a=id(s.toLowerCase());let c=0;const p=[];for(;++c<=t.footnoteCounts[s];){const w={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+a+(c>1?"-"+c:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"↩"}]};c>1&&w.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(c)}]}),p.length>0&&p.push({type:"text",value:" "}),p.push(w)}const m=i[i.length-1];if(m&&m.type==="element"&&m.tagName==="p"){const w=m.children[m.children.length-1];w&&w.type==="text"?w.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...p)}else i.push(...p);const y={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+a},children:t.wrap(i,!0)};t.patch(r,y),e.push(y)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(e,!0)},{type:"text",value:`
`}]}}function OL(t,e){const n=Dq(t,e),r=n.one(t,null),i=Fq(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const Oq=function(t,e){return t&&"run"in t?Bq(t,e):Uq(t||e)},Mq=Oq;function Bq(t,e){return(n,r,i)=>{t.run(OL(n,e),r,s=>{i(s)})}}function Uq(t){return e=>OL(e,t)}var ML={exports:{}},zq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Vq=zq,$q=Vq;function BL(){}function UL(){}UL.resetWarningCache=BL;var Hq=function(){function t(r,i,s,a,c,p){if(p!==$q){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UL,resetWarningCache:BL};return n.PropTypes=n,n};ML.exports=Hq();var jq=ML.exports;const Ct=jc(jq);class Sm{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Sm.prototype.property={};Sm.prototype.normal={};Sm.prototype.space=null;function zL(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Sm(n,r,e)}function zC(t){return t.toLowerCase()}class Wo{constructor(e,n){this.property=e,this.attribute=n}}Wo.prototype.space=null;Wo.prototype.boolean=!1;Wo.prototype.booleanish=!1;Wo.prototype.overloadedBoolean=!1;Wo.prototype.number=!1;Wo.prototype.commaSeparated=!1;Wo.prototype.spaceSeparated=!1;Wo.prototype.commaOrSpaceSeparated=!1;Wo.prototype.mustUseProperty=!1;Wo.prototype.defined=!1;let Wq=0;const It=Yc(),yr=Yc(),VL=Yc(),Fe=Yc(),En=Yc(),Th=Yc(),io=Yc();function Yc(){return 2**++Wq}const VC=Object.freeze(Object.defineProperty({__proto__:null,boolean:It,booleanish:yr,commaOrSpaceSeparated:io,commaSeparated:Th,number:Fe,overloadedBoolean:VL,spaceSeparated:En},Symbol.toStringTag,{value:"Module"})),Yx=Object.keys(VC);class dT extends Wo{constructor(e,n,r,i){let s=-1;if(super(e,n),xb(this,"space",i),typeof r=="number")for(;++s<Yx.length;){const a=Yx[s];xb(this,Yx[s],(r&VC[a])===VC[a])}}}dT.prototype.defined=!0;function xb(t,e,n){n&&(t[e]=n)}const qq={}.hasOwnProperty;function od(t){const e={},n={};let r;for(r in t.properties)if(qq.call(t.properties,r)){const i=t.properties[r],s=new dT(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[zC(r)]=r,n[zC(s.attribute)]=r}return new Sm(e,n,t.space)}const $L=od({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),HL=od({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function jL(t,e){return e in t?t[e]:e}function WL(t,e){return jL(t,e.toLowerCase())}const qL=od({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:WL,properties:{xmlns:null,xmlnsXLink:null}}),GL=od({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:yr,ariaAutoComplete:null,ariaBusy:yr,ariaChecked:yr,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:En,ariaCurrent:null,ariaDescribedBy:En,ariaDetails:null,ariaDisabled:yr,ariaDropEffect:En,ariaErrorMessage:null,ariaExpanded:yr,ariaFlowTo:En,ariaGrabbed:yr,ariaHasPopup:null,ariaHidden:yr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:En,ariaLevel:Fe,ariaLive:null,ariaModal:yr,ariaMultiLine:yr,ariaMultiSelectable:yr,ariaOrientation:null,ariaOwns:En,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:yr,ariaReadOnly:yr,ariaRelevant:null,ariaRequired:yr,ariaRoleDescription:En,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:yr,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null}}),Gq=od({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:WL,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Th,acceptCharset:En,accessKey:En,action:null,allow:null,allowFullScreen:It,allowPaymentRequest:It,allowUserMedia:It,alt:null,as:null,async:It,autoCapitalize:null,autoComplete:En,autoFocus:It,autoPlay:It,blocking:En,capture:null,charSet:null,checked:It,cite:null,className:En,cols:Fe,colSpan:null,content:null,contentEditable:yr,controls:It,controlsList:En,coords:Fe|Th,crossOrigin:null,data:null,dateTime:null,decoding:null,default:It,defer:It,dir:null,dirName:null,disabled:It,download:VL,draggable:yr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:It,formTarget:null,headers:En,height:Fe,hidden:It,high:Fe,href:null,hrefLang:null,htmlFor:En,httpEquiv:En,id:null,imageSizes:null,imageSrcSet:null,inert:It,inputMode:null,integrity:null,is:null,isMap:It,itemId:null,itemProp:En,itemRef:En,itemScope:It,itemType:En,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:It,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:It,muted:It,name:null,nonce:null,noModule:It,noValidate:It,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:It,optimum:Fe,pattern:null,ping:En,placeholder:null,playsInline:It,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:It,referrerPolicy:null,rel:En,required:It,reversed:It,rows:Fe,rowSpan:Fe,sandbox:En,scope:null,scoped:It,seamless:It,selected:It,shadowRootClonable:It,shadowRootDelegatesFocus:It,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:yr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:It,useMap:null,value:yr,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:En,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:It,declare:It,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:It,noHref:It,noShade:It,noWrap:It,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:yr,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:It,disableRemotePlayback:It,prefix:null,property:null,results:Fe,security:null,unselectable:null}}),Kq=od({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:jL,properties:{about:io,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:En,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:It,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Th,g2:Th,glyphName:Th,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:io,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:En,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:io,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:io,rev:io,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:io,requiredFeatures:io,requiredFonts:io,requiredFormats:io,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:io,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:io,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:io,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Qq=/^data[-\w.:]+$/i,Eb=/-[a-z]/g,Xq=/[A-Z]/g;function Yq(t,e){const n=zC(e);let r=e,i=Wo;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Qq.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Eb,Zq);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Eb.test(s)){let a=s.replace(Xq,Jq);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=dT}return new i(r,e)}function Jq(t){return"-"+t.toLowerCase()}function Zq(t){return t.charAt(1).toUpperCase()}const Cb={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},eG=zL([HL,$L,qL,GL,Gq],"html"),tG=zL([HL,$L,qL,GL,Kq],"svg");function nG(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return e=>{fT(e,"element",(n,r,i)=>{const s=i;let a;if(t.allowedElements?a=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(a=t.disallowedElements.includes(n.tagName)),!a&&t.allowElement&&typeof r=="number"&&(a=!t.allowElement(n,r,s)),a&&typeof r=="number")return t.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}const Sb=["http","https","mailto","tel"];function rG(t){const e=(t||"").trim(),n=e.charAt(0);if(n==="#"||n==="/")return e;const r=e.indexOf(":");if(r===-1)return e;let i=-1;for(;++i<Sb.length;){const s=Sb[i];if(r===s.length&&e.slice(0,s.length).toLowerCase()===s)return e}return i=e.indexOf("?"),i!==-1&&r>i||(i=e.indexOf("#"),i!==-1&&r>i)?e:"javascript:void(0)"}var KL={exports:{}},hn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT=Symbol.for("react.element"),gT=Symbol.for("react.portal"),a_=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),u_=Symbol.for("react.profiler"),c_=Symbol.for("react.provider"),f_=Symbol.for("react.context"),iG=Symbol.for("react.server_context"),h_=Symbol.for("react.forward_ref"),d_=Symbol.for("react.suspense"),p_=Symbol.for("react.suspense_list"),g_=Symbol.for("react.memo"),m_=Symbol.for("react.lazy"),oG=Symbol.for("react.offscreen"),QL;QL=Symbol.for("react.module.reference");function qo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pT:switch(t=t.type,t){case a_:case u_:case l_:case d_:case p_:return t;default:switch(t=t&&t.$$typeof,t){case iG:case f_:case h_:case m_:case g_:case c_:return t;default:return e}}case gT:return e}}}hn.ContextConsumer=f_;hn.ContextProvider=c_;hn.Element=pT;hn.ForwardRef=h_;hn.Fragment=a_;hn.Lazy=m_;hn.Memo=g_;hn.Portal=gT;hn.Profiler=u_;hn.StrictMode=l_;hn.Suspense=d_;hn.SuspenseList=p_;hn.isAsyncMode=function(){return!1};hn.isConcurrentMode=function(){return!1};hn.isContextConsumer=function(t){return qo(t)===f_};hn.isContextProvider=function(t){return qo(t)===c_};hn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pT};hn.isForwardRef=function(t){return qo(t)===h_};hn.isFragment=function(t){return qo(t)===a_};hn.isLazy=function(t){return qo(t)===m_};hn.isMemo=function(t){return qo(t)===g_};hn.isPortal=function(t){return qo(t)===gT};hn.isProfiler=function(t){return qo(t)===u_};hn.isStrictMode=function(t){return qo(t)===l_};hn.isSuspense=function(t){return qo(t)===d_};hn.isSuspenseList=function(t){return qo(t)===p_};hn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===a_||t===u_||t===l_||t===d_||t===p_||t===oG||typeof t=="object"&&t!==null&&(t.$$typeof===m_||t.$$typeof===g_||t.$$typeof===c_||t.$$typeof===f_||t.$$typeof===h_||t.$$typeof===QL||t.getModuleId!==void 0)};hn.typeOf=qo;KL.exports=hn;var sG=KL.exports;const aG=jc(sG);function lG(t){const e=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}function uG(t){return t.join(" ").trim()}function cG(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var Tb=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,fG=/\n/g,hG=/^\s*/,dG=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,pG=/^:\s*/,gG=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,mG=/^[;\s]*/,vG=/^\s+|\s+$/g,yG=`
`,kb="/",Ab="*",hc="",_G="comment",wG="declaration",xG=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(L){var O=L.match(fG);O&&(n+=O.length);var M=L.lastIndexOf(yG);r=~M?L.length-M:r+L.length}function s(){var L={line:n,column:r};return function(O){return O.position=new a(L),m(),O}}function a(L){this.start=L,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function c(L){var O=new Error(e.source+":"+n+":"+r+": "+L);if(O.reason=L,O.filename=e.source,O.line=n,O.column=r,O.source=t,!e.silent)throw O}function p(L){var O=L.exec(t);if(O){var M=O[0];return i(M),t=t.slice(M.length),O}}function m(){p(hG)}function y(L){var O;for(L=L||[];O=w();)O!==!1&&L.push(O);return L}function w(){var L=s();if(!(kb!=t.charAt(0)||Ab!=t.charAt(1))){for(var O=2;hc!=t.charAt(O)&&(Ab!=t.charAt(O)||kb!=t.charAt(O+1));)++O;if(O+=2,hc===t.charAt(O-1))return c("End of comment missing");var M=t.slice(2,O-2);return r+=2,i(M),t=t.slice(O),r+=2,L({type:_G,comment:M})}}function E(){var L=s(),O=p(dG);if(O){if(w(),!p(pG))return c("property missing ':'");var M=p(gG),R=L({type:wG,property:Ib(O[0].replace(Tb,hc)),value:M?Ib(M[0].replace(Tb,hc)):hc});return p(mG),R}}function S(){var L=[];y(L);for(var O;O=E();)O!==!1&&(L.push(O),y(L));return L}return m(),S()};function Ib(t){return t?t.replace(vG,hc):hc}var EG=xG;function CG(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,i=EG(t),s=typeof e=="function",a,c,p=0,m=i.length;p<m;p++)r=i[p],a=r.property,c=r.value,s?e(a,c,r):c&&(n||(n={}),n[a]=c);return n}var SG=CG;const TG=jc(SG),$C={}.hasOwnProperty,kG=new Set(["table","thead","tbody","tfoot","tr"]);function XL(t,e){const n=[];let r=-1,i;for(;++r<e.children.length;)i=e.children[r],i.type==="element"?n.push(AG(t,i,r,e)):i.type==="text"?(e.type!=="element"||!kG.has(e.tagName)||!lG(i))&&n.push(i.value):i.type==="raw"&&!t.options.skipHtml&&n.push(i.value);return n}function AG(t,e,n,r){const i=t.options,s=t.schema,a=e.tagName,c={};let p=s,m;if(s.space==="html"&&a==="svg"&&(p=tG,t.schema=p),e.properties)for(m in e.properties)$C.call(e.properties,m)&&bG(c,m,e.properties[m],t);(a==="ol"||a==="ul")&&t.listDepth++;const y=XL(t,e);(a==="ol"||a==="ul")&&t.listDepth--,t.schema=s;const w=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},E=i.components&&$C.call(i.components,a)?i.components[a]:a,S=typeof E=="string"||E===ct.Fragment;if(!aG.isValidElementType(E))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(c.key=[a,w.start.line,w.start.column,n].join("-"),a==="a"&&i.linkTarget&&(c.target=typeof i.linkTarget=="function"?i.linkTarget(String(c.href||""),e.children,typeof c.title=="string"?c.title:null):i.linkTarget),a==="a"&&i.transformLinkUri&&(c.href=i.transformLinkUri(String(c.href||""),e.children,typeof c.title=="string"?c.title:null)),!S&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(c.inline=!0),!S&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(c.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(c.src=i.transformImageUri(String(c.src||""),String(c.alt||""),typeof c.title=="string"?c.title:null)),!S&&a==="li"&&r.type==="element"){const L=IG(e);c.checked=L&&L.properties?!!L.properties.checked:null,c.index=Jx(r,e),c.ordered=r.tagName==="ol"}return!S&&(a==="ol"||a==="ul")&&(c.ordered=a==="ol",c.depth=t.listDepth),(a==="td"||a==="th")&&(c.align&&(c.style||(c.style={}),c.style.textAlign=c.align,delete c.align),S||(c.isHeader=a==="th")),!S&&a==="tr"&&r.type==="element"&&(c.isHeader=r.tagName==="thead"),i.sourcePos&&(c["data-sourcepos"]=PG(w)),!S&&i.rawSourcePos&&(c.sourcePosition=e.position),!S&&i.includeElementIndex&&(c.index=Jx(r,e),c.siblingCount=Jx(r)),S||(c.node=e),y.length>0?ct.createElement(E,c,y):ct.createElement(E,c)}function IG(t){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n.type==="element"&&n.tagName==="input")return n}return null}function Jx(t,e){let n=-1,r=0;for(;++n<t.children.length&&t.children[n]!==e;)t.children[n].type==="element"&&r++;return r}function bG(t,e,n,r){const i=Yq(r.schema,e);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?cG(s):uG(s)),i.property==="style"&&typeof s=="string"&&(s=DG(s)),i.space&&i.property?t[$C.call(Cb,i.property)?Cb[i.property]:i.property]=s:i.attribute&&(t[i.attribute]=s))}function DG(t){const e={};try{TG(t,n)}catch{}return e;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;e[s.replace(/-([a-z])/g,RG)]=i}}function RG(t,e){return e.toUpperCase()}function PG(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(e=>String(e)).join("")}const bb={}.hasOwnProperty,LG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",C0={plugins:{to:"plugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function v_(t){for(const s in C0)if(bb.call(C0,s)&&bb.call(t,s)){const a=C0[s];console.warn(`[react-markdown] Warning: please ${a.to?`use \`${a.to}\` instead of`:"remove"} \`${s}\` (see <${LG}#${a.id}> for more info)`),delete C0[s]}const e=MH().use(qW).use(t.remarkPlugins||[]).use(Mq,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(nG,t),n=new dL;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const r=e.runSync(e.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=ct.createElement(ct.Fragment,{},XL({options:t,schema:eG,listDepth:0},r));return t.className&&(i=ct.createElement("div",{className:t.className},i)),i}v_.defaultProps={transformLinkUri:rG};v_.propTypes={children:Ct.string,className:Ct.string,allowElement:Ct.func,allowedElements:Ct.arrayOf(Ct.string),disallowedElements:Ct.arrayOf(Ct.string),unwrapDisallowed:Ct.bool,remarkPlugins:Ct.arrayOf(Ct.oneOfType([Ct.object,Ct.func,Ct.arrayOf(Ct.oneOfType([Ct.bool,Ct.string,Ct.object,Ct.func,Ct.arrayOf(Ct.any)]))])),rehypePlugins:Ct.arrayOf(Ct.oneOfType([Ct.object,Ct.func,Ct.arrayOf(Ct.oneOfType([Ct.bool,Ct.string,Ct.object,Ct.func,Ct.arrayOf(Ct.any)]))])),sourcePos:Ct.bool,rawSourcePos:Ct.bool,skipHtml:Ct.bool,includeElementIndex:Ct.bool,transformLinkUri:Ct.oneOfType([Ct.func,Ct.bool]),linkTarget:Ct.oneOfType([Ct.func,Ct.string]),transformImageUri:Ct.func,components:Ct.object};function mT(t){let e=t.getDate();e=e<10?"0"+e:e;let n=t.getMonth()+1;n=n<10?"0"+n:n;let r=t.getFullYear();return e+"."+n+"."+r}var HC=new Map,S0=new WeakMap,Db=0,NG=void 0;function FG(t){return t?(S0.has(t)||(Db+=1,S0.set(t,Db.toString())),S0.get(t)):"0"}function OG(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?FG(t.root):t[e]}`).toString()}function MG(t){const e=OG(t);let n=HC.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(a=>{a.forEach(c=>{var p;const m=c.isIntersecting&&i.some(y=>c.intersectionRatio>=y);t.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=m),(p=r.get(c.target))==null||p.forEach(y=>{y(m,c)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},HC.set(e,n)}return n}function BG(t,e,n={},r=NG){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const p=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:p,intersectionRect:p,rootBounds:p}),()=>{}}const{id:i,observer:s,elements:a}=MG(n),c=a.get(t)||[];return a.has(t)||a.set(t,c),c.push(e),s.observe(t),function(){c.splice(c.indexOf(e),1),c.length===0&&(a.delete(t),s.unobserve(t)),a.size===0&&(s.disconnect(),HC.delete(i))}}function UG({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:a,initialInView:c,fallbackInView:p,onChange:m}={}){var y;const[w,E]=de.useState(null),S=de.useRef(),[L,O]=de.useState({inView:!!c,entry:void 0});S.current=m,de.useEffect(()=>{if(a||!w)return;let D;return D=BG(w,(B,j)=>{O({inView:B,entry:j}),S.current&&S.current(B,j),j.isIntersecting&&s&&D&&(D(),D=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},p),()=>{D&&D()}},[Array.isArray(t)?t.toString():t,w,i,r,s,a,n,p,e]);const M=(y=L.entry)==null?void 0:y.target,R=de.useRef();!w&&M&&!s&&!a&&R.current!==M&&(R.current=M,O({inView:!!c,entry:void 0}));const b=[E,L.inView,L.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}const vT=({id:t,title:e,description:n,category:r,imgUrl:i,author:s,timestamp:a,likes:c,comments:p})=>{const{ref:m,inView:y}=UG({threshold:.2,triggerOnce:!0});return W.jsx("div",{ref:m,children:y?W.jsx("div",{children:W.jsx(Yl,{to:`/detail/${t}`,children:W.jsxs("div",{className:"row pb-4",children:[W.jsx("div",{className:"col-md-5",children:W.jsx("div",{className:"hover-blogs-img",children:W.jsx("div",{className:"blogs-img",children:i?W.jsx("img",{src:i,alt:e}):W.jsx("div",{style:{backgroundColor:"gray",height:"100%",opacity:"0.4",padding:"10px"},children:W.jsx("h3",{style:{color:"black"},children:"Нет изображения"})})})})}),W.jsxs("div",{className:"col-md-7",children:[W.jsxs("div",{className:"text-start",children:[r==="Путешевствия"&&W.jsx("h6",{className:"category catg-color bgc4287f5",children:r}),r==="Технологии"&&W.jsx("h6",{className:"category catg-color bgcc43421",children:r}),r==="Новости"&&W.jsx("h6",{className:"category catg-color bgc32CD32",children:r}),r==="Бизнес"&&W.jsx("h6",{className:"category catg-color bgcc808000",children:r}),r!=="Путешевствия"&&r!=="Технологии"&&r!=="Бизнес"&&r!=="Новости"&&W.jsx("h6",{className:"category catg-color bgc000000",children:r}),W.jsx("span",{className:"title py-2",children:e}),W.jsxs("span",{className:"meta-info",children:[W.jsx("p",{className:"author",children:s})," - ",mT(new Date(a.seconds*1e3))]})]}),W.jsx("div",{className:"short-description text-start",children:W.jsx(v_,{children:n})}),W.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",color:"red",marginRight:"10px"},children:[W.jsx("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"20",height:"18",viewBox:"0 0 25 22",children:W.jsx("path",{d:"M9.239,21.015 C9.061,21.692 8.677,21.999 8.024,21.999 C5.899,22.002 3.775,21.999 1.650,22.000 C1.207,22.000 0.818,21.851 0.468,21.590 C0.179,21.376 0.060,21.078 0.057,20.720 C0.039,18.755 0.005,16.790 -0.000,14.825 C-0.003,13.672 0.033,12.518 0.061,11.364 C0.083,10.443 0.858,9.694 1.771,9.695 C4.037,9.697 6.304,9.696 8.570,9.706 C8.766,9.706 8.900,9.651 9.007,9.492 C9.571,8.654 10.137,7.819 10.701,6.982 C10.911,6.670 11.093,6.335 11.332,6.049 C11.995,5.256 12.072,4.355 11.923,3.380 C11.827,2.755 11.782,2.121 11.746,1.489 C11.724,1.119 11.902,0.822 12.191,0.580 C13.103,-0.186 14.393,-0.197 15.449,0.580 C16.642,1.458 17.240,2.685 17.443,4.122 C17.620,5.376 17.441,6.605 17.120,7.818 C17.099,7.899 17.078,7.980 17.058,8.061 C17.055,8.077 17.058,8.094 17.058,8.143 C17.146,8.143 17.233,8.143 17.320,8.143 C19.120,8.142 20.920,8.142 22.719,8.141 C23.862,8.140 24.787,8.861 24.969,9.921 C25.099,10.671 24.812,11.300 24.321,11.844 C24.202,11.976 24.177,12.078 24.220,12.257 C24.449,13.208 24.189,14.060 23.632,14.831 C23.508,15.002 23.454,15.142 23.481,15.368 C23.597,16.337 23.357,17.221 22.769,18.009 C22.695,18.108 22.643,18.268 22.662,18.388 C22.936,20.101 21.735,21.160 20.342,21.281 C19.440,21.360 18.528,21.327 17.620,21.329 C15.254,21.334 12.888,21.327 10.522,21.333 C10.072,21.334 9.645,21.277 9.239,21.015 zM22.677,15.362 C22.562,15.362 22.464,15.362 22.366,15.362 C21.116,15.363 19.866,15.364 18.616,15.363 C18.466,15.363 18.313,15.374 18.167,15.347 C17.956,15.307 17.828,15.169 17.840,14.941 C17.852,14.717 17.980,14.590 18.201,14.565 C18.292,14.554 18.384,14.557 18.476,14.557 C19.859,14.558 21.242,14.560 22.626,14.555 C22.716,14.555 22.841,14.530 22.891,14.469 C23.358,13.894 23.601,13.250 23.458,12.493 C23.420,12.292 23.327,12.228 23.121,12.230 C21.804,12.239 20.487,12.235 19.170,12.234 C18.750,12.234 18.545,12.097 18.553,11.822 C18.561,11.557 18.755,11.432 19.167,11.432 C20.567,11.430 21.967,11.431 23.367,11.427 C23.464,11.427 23.580,11.426 23.654,11.377 C24.227,10.991 24.365,10.032 23.929,9.494 C23.605,9.095 23.175,8.943 22.671,8.944 C20.746,8.949 18.821,8.947 16.896,8.948 C16.124,8.948 16.037,8.840 16.227,8.097 C16.516,6.970 16.778,5.839 16.696,4.661 C16.619,3.563 16.289,2.562 15.542,1.735 C15.027,1.165 14.417,0.762 13.604,0.813 C12.859,0.861 12.480,1.272 12.542,2.003 C12.594,2.610 12.685,3.214 12.765,3.818 C12.881,4.703 12.691,5.509 12.170,6.238 C11.923,6.584 11.685,6.938 11.454,7.296 C10.777,8.349 10.146,9.434 9.307,10.373 C9.248,10.438 9.221,10.553 9.221,10.645 C9.216,13.698 9.216,16.751 9.219,19.804 C9.219,19.882 9.230,19.987 9.279,20.035 C9.553,20.299 9.859,20.523 10.261,20.523 C13.478,20.526 16.694,20.527 19.911,20.523 C20.395,20.522 20.852,20.403 21.257,20.125 C21.815,19.741 22.060,18.968 21.801,18.393 C20.750,18.393 19.692,18.394 18.634,18.393 C18.218,18.393 17.801,18.399 17.384,18.388 C17.157,18.381 16.996,18.215 16.999,18.007 C17.001,17.786 17.121,17.648 17.338,17.606 C17.418,17.590 17.503,17.590 17.586,17.590 C19.003,17.589 20.419,17.591 21.836,17.585 C21.941,17.584 22.089,17.556 22.144,17.484 C22.617,16.866 22.782,16.163 22.677,15.362 zM8.400,10.504 C8.277,10.504 8.171,10.504 8.065,10.504 C5.982,10.502 3.900,10.500 1.817,10.498 C1.286,10.498 0.861,10.899 0.860,11.431 C0.854,14.465 0.853,17.500 0.854,20.534 C0.855,20.919 0.921,21.006 1.289,21.129 C1.412,21.171 1.549,21.189 1.680,21.192 C2.088,21.200 2.496,21.195 2.904,21.196 C4.612,21.196 6.319,21.197 8.027,21.196 C8.334,21.196 8.413,21.115 8.414,20.811 C8.415,20.485 8.414,20.159 8.414,19.833 C8.414,16.824 8.414,13.814 8.414,10.804 C8.414,10.714 8.406,10.624 8.400,10.504 z",fill:"red"})})," ",c.length]}),W.jsxs("div",{children:[W.jsx("svg",{style:{width:"20px",marginRight:"5px",marginLeft:"10px"},viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns",children:W.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd","sketch:type":"MSPage",children:W.jsx("g",{id:"Icon-Set","sketch:type":"MSLayerGroup",transform:"translate(-360.000000, -255.000000)",fill:"red",children:W.jsx("path",{d:"M390,277 C390,278.463 388.473,280 387,280 L379,280 L376,284 L373,280 L365,280 C363.527,280 362,278.463 362,277 L362,260 C362,258.537 363.527,257 365,257 L387,257 C388.473,257 390,258.537 390,260 L390,277 L390,277 Z M386.667,255 L365.333,255 C362.388,255 360,257.371 360,260.297 L360,277.187 C360,280.111 362.055,282 365,282 L371.639,282 L376,287.001 L380.361,282 L387,282 C389.945,282 392,280.111 392,277.187 L392,260.297 C392,257.371 389.612,255 386.667,255 L386.667,255 Z",id:"comment-5","sketch:type":"MSShapeGroup"})})})}),p.length]})]})]})]},t)})}):W.jsx("div",{style:{width:"100%",height:"333px",background:"white"}})})},yT=()=>W.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:W.jsx("div",{className:"container padding",children:W.jsx("div",{className:"row mx-0",children:W.jsx("div",{className:"loading",children:"Loading…"})})})});var zG="firebase",VG="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(zG,VG,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="firebasestorage.googleapis.com",JL="storageBucket",$G=2*60*1e3,HG=10*60*1e3,jG=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn extends aa{constructor(e,n,r=0){super(Zx(e),`Firebase Storage: ${n} (${Zx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fn||(Fn={}));function Zx(t){return"storage/"+t}function _T(){const t="An unknown error occurred, please check the error payload for server response.";return new Xn(Fn.UNKNOWN,t)}function WG(t){return new Xn(Fn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function qG(t){return new Xn(Fn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xn(Fn.UNAUTHENTICATED,t)}function KG(){return new Xn(Fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QG(t){return new Xn(Fn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ZL(){return new Xn(Fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function e9(){return new Xn(Fn.CANCELED,"User canceled the upload/download.")}function XG(t){return new Xn(Fn.INVALID_URL,"Invalid URL '"+t+"'.")}function YG(t){return new Xn(Fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function JG(){return new Xn(Fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JL+"' property when initializing the app?")}function t9(){return new Xn(Fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ZG(){return new Xn(Fn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function eK(){return new Xn(Fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tK(t){return new Xn(Fn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jC(t){return new Xn(Fn.INVALID_ARGUMENT,t)}function n9(){return new Xn(Fn.APP_DELETED,"The Firebase app was deleted.")}function nK(t){return new Xn(Fn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cg(t,e){return new Xn(Fn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Np(t){throw new Xn(Fn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=uo.makeFromUrl(e,n)}catch{return new uo(e,"")}if(r.path==="")return r;throw YG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),p={bucket:1,path:3};function m(B){B.path_=decodeURIComponent(B.path)}const y="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${w}/${y}/b/${i}/o${E}`,"i"),L={bucket:1,path:3},O=n===YL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",R=new RegExp(`^https?://${O}/${i}/${M}`,"i"),D=[{regex:c,indices:p,postModify:s},{regex:S,indices:L,postModify:m},{regex:R,indices:{bucket:1,path:2},postModify:m}];for(let B=0;B<D.length;B++){const j=D[B],U=j.regex.exec(e);if(U){const $=U[j.indices.bucket];let Y=U[j.indices.path];Y||(Y=""),r=new uo($,Y),j.postModify(r);break}}if(r==null)throw XG(e);return r}}class rK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iK(t,e,n){let r=1,i=null,s=null,a=!1,c=0;function p(){return c===2}let m=!1;function y(...M){m||(m=!0,e.apply(null,M))}function w(M){i=setTimeout(()=>{i=null,t(S,p())},M)}function E(){s&&clearTimeout(s)}function S(M,...R){if(m){E();return}if(M){E(),y.call(null,M,...R);return}if(p()||a){E(),y.call(null,M,...R);return}r<64&&(r*=2);let D;c===1?(c=2,D=0):D=(r+Math.random())*1e3,w(D)}let L=!1;function O(M){L||(L=!0,E(),!m&&(i!==null?(M||(c=2),clearTimeout(i),w(0)):M||(c=1)))}return w(0),s=setTimeout(()=>{a=!0,O(!0)},n),O}function oK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(t){return t!==void 0}function aK(t){return typeof t=="function"}function lK(t){return typeof t=="object"&&!Array.isArray(t)}function y_(t){return typeof t=="string"||t instanceof String}function Rb(t){return wT()&&t instanceof Blob}function wT(){return typeof Blob<"u"}function Pb(t,e,n,r){if(r<e)throw jC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jC(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function r9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Sc||(Sc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,n,r,i,s,a,c,p,m,y,w,E=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=w,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,L)=>{this.resolve_=S,this.reject_=L,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new T0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=c=>{const p=c.loaded,m=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const c=s.getErrorCode()===Sc.NO_ERROR,p=s.getStatus();if(!c||i9(p,this.additionalRetryCodes_)&&this.retry){const y=s.getErrorCode()===Sc.ABORT;r(!1,new T0(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new T0(m,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(c,c.getResponse());sK(p)?s(p):s()}catch(p){a(p)}else if(c!==null){const p=_T();p.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,p)):a(p)}else if(i.canceled){const p=this.appDelete_?n9():e9();a(p)}else{const p=ZL();a(p)}};this.canceled_?n(!1,new T0(!1,null,!0)):this.backoffId_=iK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class T0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pK(t,e,n,r,i,s,a=!0){const c=r9(t.urlParams),p=t.url+c,m=Object.assign({},t.headers);return hK(m,e),cK(m,n),fK(m,s),dK(m,r),new uK(p,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mK(...t){const e=gK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(wT())return new Blob(t);throw new Xn(Fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(t){if(typeof atob>"u")throw tK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class eE{constructor(e,n){this.data=e,this.contentType=n||null}}function _K(t,e){switch(t){case Qs.RAW:return new eE(o9(e));case Qs.BASE64:case Qs.BASE64URL:return new eE(s9(t,e));case Qs.DATA_URL:return new eE(xK(e),EK(e))}throw _T()}function o9(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function wK(t){let e;try{e=decodeURIComponent(t)}catch{throw cg(Qs.DATA_URL,"Malformed data URL.")}return o9(e)}function s9(t,e){switch(t){case Qs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw cg(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw cg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yK(e)}catch(i){throw i.message.includes("polyfill")?i:cg(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class a9{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cg(Qs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=CK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function xK(t){const e=new a9(t);return e.base64?s9(Qs.BASE64,e.rest):wK(e.rest)}function EK(t){return new a9(t).contentType}function CK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){let r=0,i="";Rb(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Rb(this.data_)){const r=this.data_,i=vK(r,e,n);return i===null?null:new Hl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Hl(r,!0)}}static getBlob(...e){if(wT()){const n=e.map(r=>r instanceof Hl?r.data_:r);return new Hl(mK.apply(null,n))}else{const n=e.map(a=>y_(a)?_K(Qs.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)i[s++]=a[c]}),new Hl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){let e;try{e=JSON.parse(t)}catch{return null}return lK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function u9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(t,e){return e}class gi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||kK}}let k0=null;function AK(t){return!y_(t)||t.length<2?t:u9(t)}function c9(){if(k0)return k0;const t=[];t.push(new gi("bucket")),t.push(new gi("generation")),t.push(new gi("metageneration")),t.push(new gi("name","fullPath",!0));function e(s,a){return AK(a)}const n=new gi("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new gi("size");return i.xform=r,t.push(i),t.push(new gi("timeCreated")),t.push(new gi("updated")),t.push(new gi("md5Hash",null,!0)),t.push(new gi("cacheControl",null,!0)),t.push(new gi("contentDisposition",null,!0)),t.push(new gi("contentEncoding",null,!0)),t.push(new gi("contentLanguage",null,!0)),t.push(new gi("contentType",null,!0)),t.push(new gi("metadata","customMetadata",!0)),k0=t,k0}function IK(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new uo(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function bK(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return IK(r,t),r}function f9(t,e,n){const r=l9(e);return r===null?null:bK(t,r,n)}function DK(t,e,n,r){const i=l9(e);if(i===null||!y_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(m=>{const y=t.bucket,w=t.fullPath,E="/b/"+a(y)+"/o/"+a(w),S=Tm(E,n,r),L=r9({alt:"media",token:m});return S+L})[0]}function h9(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class sd{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){if(!t)throw _T()}function xT(t,e){function n(r,i){const s=f9(t,i,e);return ja(s!==null),s}return n}function RK(t,e){function n(r,i){const s=f9(t,i,e);return ja(s!==null),DK(s,i,t.host,t._protocol)}return n}function km(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=KG():i=GG():n.getStatus()===402?i=qG(t.bucket):n.getStatus()===403?i=QG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function d9(t){const e=km(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=WG(t.path)),s.serverResponse=i.serverResponse,s}return n}function PK(t,e,n){const r=e.fullServerUrl(),i=Tm(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,c=new sd(i,s,xT(t,n),a);return c.errorHandler=d9(e),c}function LK(t,e,n){const r=e.fullServerUrl(),i=Tm(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,c=new sd(i,s,RK(t,n),a);return c.errorHandler=d9(e),c}function NK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function p9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=NK(null,e)),r}function FK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let D="";for(let B=0;B<2;B++)D=D+Math.random().toString().slice(2);return D}const p=c();a["Content-Type"]="multipart/related; boundary="+p;const m=p9(e,r,i),y=h9(m,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,E=`\r
--`+p+"--",S=Hl.getBlob(w,r,E);if(S===null)throw t9();const L={name:m.fullPath},O=Tm(s,t.host,t._protocol),M="POST",R=t.maxUploadRetryTime,b=new sd(O,M,xT(t,n),R);return b.urlParams=L,b.headers=a,b.body=S.uploadData(),b.errorHandler=km(e),b}class G1{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function ET(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ja(!1)}return ja(!!n&&(e||["active"]).indexOf(n)!==-1),n}function OK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a=p9(e,r,i),c={name:a.fullPath},p=Tm(s,t.host,t._protocol),m="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},w=h9(a,n),E=t.maxUploadRetryTime;function S(O){ET(O);let M;try{M=O.getResponseHeader("X-Goog-Upload-URL")}catch{ja(!1)}return ja(y_(M)),M}const L=new sd(p,m,S,E);return L.urlParams=c,L.headers=y,L.body=w,L.errorHandler=km(e),L}function MK(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(m){const y=ET(m,["active","final"]);let w=null;try{w=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ja(!1)}w||ja(!1);const E=Number(w);return ja(!isNaN(E)),new G1(E,r.size(),y==="final")}const a="POST",c=t.maxUploadRetryTime,p=new sd(n,a,s,c);return p.headers=i,p.errorHandler=km(e),p}const Lb=256*1024;function BK(t,e,n,r,i,s,a,c){const p=new G1(0,0);if(a?(p.current=a.current,p.total=a.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw ZG();const m=p.total-p.current;let y=m;i>0&&(y=Math.min(y,i));const w=p.current,E=w+y;let S="";y===0?S="finalize":m===y?S="upload, finalize":S="upload";const L={"X-Goog-Upload-Command":S,"X-Goog-Upload-Offset":`${p.current}`},O=r.slice(w,E);if(O===null)throw t9();function M(B,j){const U=ET(B,["active","final"]),$=p.current+y,Y=r.size();let ae;return U==="final"?ae=xT(e,s)(B,j):ae=null,new G1($,Y,U==="final",ae)}const R="POST",b=e.maxUploadRetryTime,D=new sd(n,R,M,b);return D.headers=L,D.body=O.uploadData(),D.progressCallback=c||null,D.errorHandler=km(t),D}const Ni={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tE(t){switch(t){case"running":case"pausing":case"canceling":return Ni.RUNNING;case"paused":return Ni.PAUSED;case"success":return Ni.SUCCESS;case"canceled":return Ni.CANCELED;case"error":return Ni.ERROR;default:return Ni.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(e,n,r){if(aK(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class zK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Np("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Np("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Np("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Np("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Np("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class VK extends zK{initXhr(){this.xhr_.responseType="text"}}function eh(){return new VK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=c9(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Fn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(i9(i.status,[]))if(s)i=ZL();else{this.sleepTime=Math.max(this.sleepTime*2,jG),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Fn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=OK(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,eh,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=MK(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,eh,n,r);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Lb*this._chunkMultiplier,n=new G1(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=BK(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const c=this._ref.storage._makeRequest(a,eh,i,s,!1);this._request=c,c.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Lb*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=PK(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,eh,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=FK(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,eh,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=e9(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=tE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new UK(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(tE(this._state)){case Ni.SUCCESS:Kf(this._resolve.bind(null,this.snapshot))();break;case Ni.CANCELED:case Ni.ERROR:const n=this._reject;Kf(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(tE(this._state)){case Ni.RUNNING:case Ni.PAUSED:e.next&&Kf(e.next.bind(e,this.snapshot))();break;case Ni.SUCCESS:e.complete&&Kf(e.complete.bind(e))();break;case Ni.CANCELED:case Ni.ERROR:e.error&&Kf(e.error.bind(e,this._error))();break;default:e.error&&Kf(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this._service=e,n instanceof uo?this._location=n:this._location=uo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Uc(e,n)}get root(){const e=new uo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return u9(this._location.path)}get storage(){return this._service}get parent(){const e=SK(this._location.path);if(e===null)return null;const n=new uo(this._location.bucket,e);return new Uc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nK(e)}}function HK(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new $K(t,new Hl(e),n)}function jK(t){t._throwIfRoot("getDownloadURL");const e=LK(t.storage,t._location,c9());return t.storage.makeRequestWithTokens(e,eh).then(n=>{if(n===null)throw eK();return n})}function WK(t,e){const n=TK(t._location.path,e),r=new uo(t._location.bucket,n);return new Uc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(t){return/^[A-Za-z]+:\/\//.test(t)}function GK(t,e){return new Uc(t,e)}function g9(t,e){if(t instanceof CT){const n=t;if(n._bucket==null)throw JG();const r=new Uc(n,n._bucket);return e!=null?g9(r,e):r}else return e!==void 0?WK(t,e):t}function KK(t,e){if(e&&qK(e)){if(t instanceof CT)return GK(t,e);throw jC("To use ref(service, url), the first argument must be a Storage instance.")}else return g9(t,e)}function Nb(t,e){const n=e==null?void 0:e[JL];return n==null?null:uo.makeFromBucketSpec(n,t)}function QK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:VP(i,t.app.options.projectId))}class CT{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=YL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$G,this._maxUploadRetryTime=HG,this._requests=new Set,i!=null?this._bucket=uo.makeFromBucketSpec(i,this._host):this._bucket=Nb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=uo.makeFromBucketSpec(this._url,e):this._bucket=Nb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Pb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Pb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new rK(n9());{const a=pK(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Fb="@firebase/storage",Ob="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="storage";function XK(t,e,n){return t=Kn(t),HK(t,e,n)}function YK(t){return t=Kn(t),jK(t)}function JK(t,e){return t=Kn(t),KK(t,e)}function ZK(t=Q2(),e){t=Kn(t);const r=Sy(t,m9).getImmediate({identifier:e}),i=BP("storage");return i&&eQ(r,...i),r}function eQ(t,e,n,r={}){QK(t,e,n,r)}function tQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new CT(n,r,i,e,Gc)}function nQ(){Fc(new pu(m9,tQ,"PUBLIC").setMultipleInstances(!0)),Js(Fb,Ob,""),Js(Fb,Ob,"esm2017")}nQ();function ST(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function v9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rQ=v9,y9=new sm("auth","Firebase",v9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new G2("@firebase/auth");function iQ(t,...e){K1.logLevel<=jt.WARN&&K1.warn(`Auth (${Gc}): ${t}`,...e)}function K0(t,...e){K1.logLevel<=jt.ERROR&&K1.error(`Auth (${Gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,...e){throw TT(t,...e)}function na(t,...e){return TT(t,...e)}function oQ(t,e,n){const r=Object.assign(Object.assign({},rQ()),{[e]:n});return new sm("auth","Firebase",r).create(e,{appName:t.name})}function TT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return y9.create(t,...e)}function _t(t,e,...n){if(!t)throw TT(e,...n)}function Va(t){const e="INTERNAL ASSERTION FAILED: "+t;throw K0(e),new Error(e)}function Ya(t,e){t||Va(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sQ(){return Mb()==="http:"||Mb()==="https:"}function Mb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sQ()||Q7()||"connection"in navigator)?navigator.onLine:!0}function lQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ya(n>e,"Short delay should be less than long delay!"),this.isMobile=G7()||X7()}get(){return aQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t,e){Ya(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ=new Am(3e4,6e4);function Au(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function nl(t,e,n,r,i={}){return w9(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=am(Object.assign({key:t.config.apiKey},a)).slice(1),p=await t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),_9.fetch()(x9(t,t.config.apiHost,n,c),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},s))})}async function w9(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uQ),e);try{const i=new hQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw A0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[p,m]=c.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw A0(t,"credential-already-in-use",a);if(p==="EMAIL_EXISTS")throw A0(t,"email-already-in-use",a);if(p==="USER_DISABLED")throw A0(t,"user-disabled",a);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw oQ(t,y,m);ys(t,y)}}catch(i){if(i instanceof aa)throw i;ys(t,"network-request-failed",{message:String(i)})}}async function Im(t,e,n,r,i={}){const s=await nl(t,e,n,r,i);return"mfaPendingCredential"in s&&ys(t,"multi-factor-auth-required",{_serverResponse:s}),s}function x9(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?kT(t.config,i):`${t.config.apiScheme}://${i}`}function fQ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(na(this.auth,"network-request-failed")),cQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function A0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=na(t,e,r);return i.customData._tokenResponse=n,i}function Bb(t){return t!==void 0&&t.enterprise!==void 0}class dQ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fQ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function pQ(t,e){return nl(t,"GET","/v2/recaptchaConfig",Au(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gQ(t,e){return nl(t,"POST","/v1/accounts:delete",e)}async function mQ(t,e){return nl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vQ(t,e=!1){const n=Kn(t),r=await n.getIdToken(e),i=AT(r);_t(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fg(nE(i.auth_time)),issuedAtTime:fg(nE(i.iat)),expirationTime:fg(nE(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nE(t){return Number(t)*1e3}function AT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return K0("JWT malformed, contained fewer than 3 sections"),null;try{const i=OP(n);return i?JSON.parse(i):(K0("Failed to decode base64 JWT payload"),null)}catch(i){return K0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yQ(t){const e=AT(t);return _t(e,"internal-error"),_t(typeof e.exp<"u","internal-error"),_t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof aa&&_Q(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _Q({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fg(this.lastLoginAt),this.creationTime=fg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wh(t,mQ(n,{idToken:r}));_t(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?CQ(s.providerUserInfo):[],c=EQ(t.providerData,a),p=t.isAnonymous,m=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),y=p?m:!1,w={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new E9(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function xQ(t){const e=Kn(t);await Q1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CQ(t){return t.map(e=>{var{providerId:n}=e,r=ST(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SQ(t,e){const n=await w9(t,{},async()=>{const r=am({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=x9(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",_9.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TQ(t,e){return nl(t,"POST","/v2/accounts:revokeToken",Au(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_t(e.idToken,"internal-error"),_t(typeof e.idToken<"u","internal-error"),_t(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yQ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return _t(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await SQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Qg;return r&&(_t(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_t(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(_t(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qg,this.toJSON())}_performRefresh(){return Va("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t,e){_t(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ST(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new E9(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wh(this,this.stsTokenManager.getToken(this.auth,e));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vQ(this,e)}reload(){return xQ(this)}_assign(e){this!==e&&(_t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Q1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Wh(this,gQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,p,m,y;const w=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,L=(a=n.photoURL)!==null&&a!==void 0?a:void 0,O=(c=n.tenantId)!==null&&c!==void 0?c:void 0,M=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,R=(m=n.createdAt)!==null&&m!==void 0?m:void 0,b=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:D,emailVerified:B,isAnonymous:j,providerData:U,stsTokenManager:$}=n;_t(D&&$,e,"internal-error");const Y=Qg.fromJSON(this.name,$);_t(typeof D=="string",e,"internal-error"),Ml(w,e.name),Ml(E,e.name),_t(typeof B=="boolean",e,"internal-error"),_t(typeof j=="boolean",e,"internal-error"),Ml(S,e.name),Ml(L,e.name),Ml(O,e.name),Ml(M,e.name),Ml(R,e.name),Ml(b,e.name);const ae=new Tc({uid:D,auth:e,email:E,emailVerified:B,displayName:w,isAnonymous:j,photoURL:L,phoneNumber:S,tenantId:O,stsTokenManager:Y,createdAt:R,lastLoginAt:b});return U&&Array.isArray(U)&&(ae.providerData=U.map(xe=>Object.assign({},xe))),M&&(ae._redirectEventId=M),ae}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qg;i.updateFromServerResponse(n);const s=new Tc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Q1(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Map;function $a(t){Ya(t instanceof Function,"Expected a class definition");let e=Ub.get(t);return e?(Ya(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ub.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C9.type="NONE";const zb=C9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,n){return`firebase:${t}:${e}:${n}`}class kh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Q0(this.userKey,i.apiKey,s),this.fullPersistenceKey=Q0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kh($a(zb),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let s=i[0]||$a(zb);const a=Q0(r,e.config.apiKey,e.name);let c=null;for(const m of n)try{const y=await m._get(a);if(y){const w=Tc._fromJSON(e,y);m!==s&&(c=w),s=m;break}}catch{}const p=i.filter(m=>m._shouldAllowMigration);return!s._shouldAllowMigration||!p.length?new kh(s,e,r):(s=p[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async m=>{if(m!==s)try{await m._remove(a)}catch{}})),new kh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I9(e))return"Blackberry";if(b9(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||T9(e))&&!e.includes("edge/"))return"Chrome";if(A9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function S9(t=Cr()){return/firefox\//i.test(t)}function IT(t=Cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T9(t=Cr()){return/crios\//i.test(t)}function k9(t=Cr()){return/iemobile/i.test(t)}function A9(t=Cr()){return/android/i.test(t)}function I9(t=Cr()){return/blackberry/i.test(t)}function b9(t=Cr()){return/webos/i.test(t)}function __(t=Cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kQ(t=Cr()){var e;return __(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AQ(){return Y7()&&document.documentMode===10}function D9(t=Cr()){return __(t)||A9(t)||b9(t)||I9(t)||/windows phone/i.test(t)||k9(t)}function IQ(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t,e=[]){let n;switch(t){case"Browser":n=Vb(Cr());break;case"Worker":n=`${Vb(Cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{const p=e(s);a(p)}catch(p){c(p)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DQ(t,e={}){return nl(t,"GET","/v2/passwordPolicy",Au(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ=6;class PQ{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:RQ,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,c;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(i=p.containsLowercaseLetter)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.containsUppercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsNumericCharacter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),p}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $b(this),this.idTokenSubscription=new $b(this),this.beforeStateQueue=new bQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$a(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await kh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!a||a===c)&&(p!=null&&p.user)&&(i=p.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Q1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Kn(e):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence($a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DQ(this),n=new PQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TQ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$a(e)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await kh.create(this,[$a(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,i);return()=>{a=!0,p()}}else{const p=e.addObserver(n);return()=>{a=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iQ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jc(t){return Kn(t)}class $b{constructor(e){this.auth=e,this.observer=null,this.addObserver=iB(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NQ(t){w_=t}function P9(t){return w_.loadJS(t)}function FQ(){return w_.recaptchaEnterpriseScript}function OQ(){return w_.gapiScript}function MQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const BQ="recaptcha-enterprise",UQ="NO_RECAPTCHA";class zQ{constructor(e){this.type=BQ,this.auth=Jc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{pQ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const m=new dQ(p);return s.tenantId==null?s._agentRecaptchaConfig=m:s._tenantRecaptchaConfigs[s.tenantId]=m,a(m.siteKey)}}).catch(p=>{c(p)})})}function i(s,a,c){const p=window.grecaptcha;Bb(p)?p.enterprise.ready(()=>{p.enterprise.execute(s,{action:e}).then(m=>{a(m)}).catch(()=>{a(UQ)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(c=>{if(!n&&Bb(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let p=FQ();p.length!==0&&(p+=c),P9(p).then(()=>{i(c,s,a)}).catch(m=>{a(m)})}}).catch(c=>{a(c)})})}}async function Hb(t,e,n,r=!1){const i=new zQ(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qC(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Hb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Hb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(t,e){const n=Sy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(I1(s,e??{}))return i;ys(i,"already-initialized")}return n.initialize({options:e})}function $Q(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($a);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HQ(t,e,n){const r=Jc(t);_t(r._canInitEmulator,r,"emulator-config-failed"),_t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=L9(e),{host:a,port:c}=jQ(e),p=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${p}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||WQ()}function L9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jQ(t){const e=L9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:jb(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:jb(a)}}}function jb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Va("not implemented")}_getIdTokenResponse(e){return Va("not implemented")}_linkToIdToken(e,n){return Va("not implemented")}_getReauthenticationResolver(e){return Va("not implemented")}}async function qQ(t,e){return nl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GQ(t,e){return Im(t,"POST","/v1/accounts:signInWithPassword",Au(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KQ(t,e){return Im(t,"POST","/v1/accounts:signInWithEmailLink",Au(t,e))}async function QQ(t,e){return Im(t,"POST","/v1/accounts:signInWithEmailLink",Au(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg extends bT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qC(e,n,"signInWithPassword",GQ);case"emailLink":return KQ(e,{email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qC(e,r,"signUpPassword",qQ);case"emailLink":return QQ(e,{idToken:n,email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t,e){return Im(t,"POST","/v1/accounts:signInWithIdp",Au(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ="http://localhost";class zc extends bT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ST(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new zc(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ah(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ah(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ah(e,n)}buildRequest(){const e={requestUri:XQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=am(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JQ(t){const e=Up(zp(t)).link,n=e?Up(zp(e)).deep_link_id:null,r=Up(zp(t)).deep_link_id;return(r?Up(zp(r)).link:null)||r||n||e||t}class DT{constructor(e){var n,r,i,s,a,c;const p=Up(zp(e)),m=(n=p.apiKey)!==null&&n!==void 0?n:null,y=(r=p.oobCode)!==null&&r!==void 0?r:null,w=YQ((i=p.mode)!==null&&i!==void 0?i:null);_t(m&&y&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=y,this.continueUrl=(s=p.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=p.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=p.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=JQ(e);try{return new DT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this.providerId=ad.PROVIDER_ID}static credential(e,n){return Xg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=DT.parseLink(n);return _t(r,"argument-error"),Xg._fromEmailAndCode(e,r.code,r.tenantId)}}ad.PROVIDER_ID="password";ad.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ad.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends N9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends bm{constructor(){super("facebook.com")}static credential(e){return zc._fromParams({providerId:jl.PROVIDER_ID,signInMethod:jl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jl.credentialFromTaggedObject(e)}static credentialFromError(e){return jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jl.credential(e.oauthAccessToken)}catch{return null}}}jl.FACEBOOK_SIGN_IN_METHOD="facebook.com";jl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends bm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zc._fromParams({providerId:Wl.PROVIDER_ID,signInMethod:Wl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wl.credentialFromTaggedObject(e)}static credentialFromError(e){return Wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wl.credential(n,r)}catch{return null}}}Wl.GOOGLE_SIGN_IN_METHOD="google.com";Wl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends bm{constructor(){super("github.com")}static credential(e){return zc._fromParams({providerId:ql.PROVIDER_ID,signInMethod:ql.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ql.credentialFromTaggedObject(e)}static credentialFromError(e){return ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ql.credential(e.oauthAccessToken)}catch{return null}}}ql.GITHUB_SIGN_IN_METHOD="github.com";ql.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends bm{constructor(){super("twitter.com")}static credential(e,n){return zc._fromParams({providerId:Gl.PROVIDER_ID,signInMethod:Gl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gl.credentialFromTaggedObject(e)}static credentialFromError(e){return Gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gl.credential(n,r)}catch{return null}}}Gl.TWITTER_SIGN_IN_METHOD="twitter.com";Gl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZQ(t,e){return Im(t,"POST","/v1/accounts:signUp",Au(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Tc._fromIdTokenResponse(e,r,i),a=Wb(r);return new Vc({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Wb(r);return new Vc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Wb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends aa{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,X1.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new X1(e,n,r,i)}}function F9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?X1._fromErrorAndOperation(t,s,e,r):s})}async function eX(t,e,n=!1){const r=await Wh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tX(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Wh(t,F9(r,i,e,t),n);_t(s.idToken,r,"internal-error");const a=AT(s.idToken);_t(a,r,"internal-error");const{sub:c}=a;return _t(t.uid===c,r,"user-mismatch"),Vc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ys(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(t,e,n=!1){const r="signIn",i=await F9(t,r,e),s=await Vc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function nX(t,e){return O9(Jc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t){const e=Jc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rX(t,e,n){const r=Jc(t),a=await qC(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZQ).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&M9(t),p}),c=await Vc._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function iX(t,e,n){return nX(Kn(t),ad.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&M9(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oX(t,e){return nl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sX(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Kn(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Wh(r,oX(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find(({providerId:p})=>p==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function aX(t,e,n,r){return Kn(t).onIdTokenChanged(e,n,r)}function lX(t,e,n){return Kn(t).beforeAuthStateChanged(e,n)}function uX(t){return Kn(t).signOut()}const Y1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Y1,"1"),this.storage.removeItem(Y1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(){const t=Cr();return IT(t)||__(t)}const fX=1e3,hX=10;class U9 extends B9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=cX()&&IQ(),this.fallbackToPolling=D9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,p)=>{this.notifyListeners(a,p)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);AQ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}U9.type="LOCAL";const dX=U9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9 extends B9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z9.type="SESSION";const V9=z9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new x_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async m=>m(n.origin,s)),p=await pX(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}x_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,p)=>{const m=RT("",20);i.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(w){const E=w;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),s=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(E.data.response);break;default:clearTimeout(y),clearTimeout(s),p(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(){return window}function mX(t){ra().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(){return typeof ra().WorkerGlobalScope<"u"&&typeof ra().importScripts=="function"}async function vX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _X(){return $9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="firebaseLocalStorageDb",wX=1,J1="firebaseLocalStorage",j9="fbase_key";class Dm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function E_(t,e){return t.transaction([J1],e?"readwrite":"readonly").objectStore(J1)}function xX(){const t=indexedDB.deleteDatabase(H9);return new Dm(t).toPromise()}function GC(){const t=indexedDB.open(H9,wX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(J1,{keyPath:j9})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(J1)?e(r):(r.close(),await xX(),e(await GC()))})})}async function qb(t,e,n){const r=E_(t,!0).put({[j9]:e,value:n});return new Dm(r).toPromise()}async function EX(t,e){const n=E_(t,!1).get(e),r=await new Dm(n).toPromise();return r===void 0?null:r.value}function Gb(t,e){const n=E_(t,!0).delete(e);return new Dm(n).toPromise()}const CX=800,SX=3;class W9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await GC(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=x_._getInstance(_X()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vX(),!this.activeServiceWorker)return;this.sender=new gX(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await GC();return await qb(e,Y1,"1"),await Gb(e,Y1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=E_(i,!1).getAll();return new Dm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W9.type="LOCAL";const TX=W9;new Am(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kX(t,e){return e?$a(e):(_t(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends bT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ah(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ah(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ah(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AX(t){return O9(t.auth,new PT(t),t.bypassAuthState)}function IX(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),tX(n,new PT(t),t.bypassAuthState)}async function bX(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),eX(n,new PT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AX;case"linkViaPopup":case"linkViaRedirect":return bX;case"reauthViaPopup":case"reauthViaRedirect":return IX;default:ys(this.auth,"internal-error")}}resolve(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX=new Am(2e3,1e4);class ph extends q9{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ph.currentPopupAction&&ph.currentPopupAction.cancel(),ph.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _t(e,this.auth,"internal-error"),e}async onExecution(){Ya(this.filter.length===1,"Popup operations only handle one event");const e=RT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ph.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DX.get())};e()}}ph.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX="pendingRedirect",X0=new Map;class PX extends q9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=X0.get(this.auth._key());if(!e){try{const r=await LX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}X0.set(this.auth._key(),e)}return this.bypassAuthState||X0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LX(t,e){const n=OX(e),r=FX(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function NX(t,e){X0.set(t._key(),e)}function FX(t){return $a(t._redirectPersistence)}function OX(t){return Q0(RX,t.config.apiKey,t.name)}async function MX(t,e,n=!1){const r=Jc(t),i=kX(r,e),a=await new PX(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX=10*60*1e3;class UX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!G9(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(na(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BX&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kb(e))}saveEventToCache(e){this.cachedEventUids.add(Kb(e)),this.lastProcessedEventTime=Date.now()}}function Kb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VX(t,e={}){return nl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HX=/^https?/;async function jX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VX(t);for(const n of e)try{if(WX(n))return}catch{}ys(t,"unauthorized-domain")}function WX(t){const e=WC(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!HX.test(n))return!1;if($X.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX=new Am(3e4,6e4);function Qb(){const t=ra().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GX(t){return new Promise((e,n)=>{var r,i,s;function a(){Qb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qb(),n(na(t,"network-request-failed"))},timeout:qX.get()})}if(!((i=(r=ra().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ra().gapi)===null||s===void 0)&&s.load)a();else{const c=MQ("iframefcb");return ra()[c]=()=>{gapi.load?a():n(na(t,"network-request-failed"))},P9(`${OQ()}?onload=${c}`).catch(p=>n(p))}}).catch(e=>{throw Y0=null,e})}let Y0=null;function KX(t){return Y0=Y0||GX(t),Y0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX=new Am(5e3,15e3),XX="__/auth/iframe",YX="emulator/auth/iframe",JX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eY(t){const e=t.config;_t(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kT(e,YX):`https://${t.config.authDomain}/${XX}`,r={apiKey:e.apiKey,appName:t.name,v:Gc},i=ZX.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${am(r).slice(1)}`}async function tY(t){const e=await KX(t),n=ra().gapi;return _t(n,t,"internal-error"),e.open({where:document.body,url:eY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JX,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=na(t,"network-request-failed"),c=ra().setTimeout(()=>{s(a)},QX.get());function p(){ra().clearTimeout(c),i(r)}r.ping(p).then(p,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rY=500,iY=600,oY="_blank",sY="http://localhost";class Xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aY(t,e,n,r=rY,i=iY){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const p=Object.assign(Object.assign({},nY),{width:r.toString(),height:i.toString(),top:s,left:a}),m=Cr().toLowerCase();n&&(c=T9(m)?oY:n),S9(m)&&(e=e||sY,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[S,L])=>`${E}${S}=${L},`,"");if(kQ(m)&&c!=="_self")return lY(e||"",c),new Xb(null);const w=window.open(e||"",c,y);_t(w,t,"popup-blocked");try{w.focus()}catch{}return new Xb(w)}function lY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY="__/auth/handler",cY="emulator/auth/handler",fY=encodeURIComponent("fac");async function Yb(t,e,n,r,i,s){_t(t.config.authDomain,t,"auth-domain-config-required"),_t(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gc,eventId:i};if(e instanceof N9){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",rB(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries(s||{}))a[y]=w}if(e instanceof bm){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(a.scopes=y.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const p=await t._getAppCheckToken(),m=p?`#${fY}=${encodeURIComponent(p)}`:"";return`${hY(t)}?${am(c).slice(1)}${m}`}function hY({config:t}){return t.emulator?kT(t,cY):`https://${t.authDomain}/${uY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="webStorageSupport";class dY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V9,this._completeRedirectFn=MX,this._overrideRedirectResult=NX}async _openPopup(e,n,r,i){var s;Ya((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Yb(e,n,r,WC(),i);return aY(e,a,RT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Yb(e,n,r,WC(),i);return mX(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ya(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tY(e),r=new UX(e);return n.register("authEvent",i=>(_t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rE,{type:rE},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[rE];a!==void 0&&n(!!a),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D9()||IT()||__()}}const pY=dY;var Jb="@firebase/auth",Zb="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vY(t){Fc(new pu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;_t(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R9(t)},m=new LQ(r,i,s,p);return $Q(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fc(new pu("auth-internal",e=>{const n=Jc(e.getProvider("auth").getImmediate());return(r=>new gY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(Jb,Zb,mY(t)),Js(Jb,Zb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yY=5*60,_Y=zP("authIdTokenMaxAge")||yY;let eD=null;const wY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_Y)return;const i=n==null?void 0:n.token;eD!==i&&(eD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xY(t=Q2()){const e=Sy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VQ(t,{popupRedirectResolver:pY,persistence:[TX,dX,V9]}),r=zP("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=wY(r);lX(n,s,()=>s(n.currentUser)),aX(n,a=>s(a))}const i=MP("auth");return i&&HQ(n,`http://${i}`),n}function EY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=na("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",EY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vY("Browser");const CY={apiKey:"AIzaSyDRlEoUYWIhC7karwr6ZLfB1hy-7LnBVg4",authDomain:"blog-3ad85.firebaseapp.com",projectId:"blog-3ad85",storageBucket:"blog-3ad85.appspot.com",messagingSenderId:"1047345580916",appId:"1:1047345580916:web:7d357fd6c040b579e6fa21"},LT=WP(CY),Z1=xY(LT),Mo=oH(LT),SY=ZK(LT),K9=({tags:t})=>W.jsx("div",{children:W.jsx("div",{className:"tags",children:t==null?void 0:t.map((e,n)=>W.jsx("p",{className:"tag",children:W.jsx(Yl,{to:`/tag/${e}`,style:{textDecoration:"none",color:"black"},children:e})},n))})}),TY=({uniqCat:t})=>W.jsx(W.Fragment,{children:W.jsx(Yl,{to:`/category/${t.category}`,children:W.jsxs("span",{children:[t.category==="Путешевствия"&&W.jsx("h6",{className:"category catg-color bgc4287f5",style:{marginRight:"10px"},children:t.category}),t.category==="Технологии"&&W.jsx("h6",{className:"category catg-color bgcc43421",style:{marginRight:"10px"},children:t.category}),t.category==="Новости"&&W.jsx("h6",{className:"category catg-color bgc32CD32",style:{marginRight:"10px"},children:t.category}),t.category==="Бизнес"&&W.jsx("h6",{className:"category catg-color bgcc808000",style:{marginRight:"10px"},children:t.category}),t.category!=="Путешевствия"&&t.category!=="Технологии"&&t.category!=="Бизнес"&&t.category!=="Новости"&&W.jsx("h6",{className:"category catg-color bgc000000",style:{marginRight:"10px"},children:t.category})]})})});function kY({setActive:t,user:e,active:n}){const[r,i]=de.useState(!0),[s,a]=de.useState([]),[c,p]=de.useState(null);if(de.useEffect(()=>{const y=xH(Hh(Mo,"blogs"),w=>{let E=[],S=[];w.docs.forEach(O=>{S.push(...O.get("tags")),E.push({id:O.id,...O.data()})});const L=[...new Set(S)];a(L),p(E),i(!1),t("home")},w=>{console.log(w)});return()=>{y()}},[t,n]),r)return W.jsx(yT,{});let m=[];return c.filter(function(y){return m.findIndex(E=>E.category==y.category)<=-1&&m.push(y),null}),W.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:W.jsx("div",{className:"container padding",children:W.jsxs("div",{className:"row mx-0",children:[W.jsxs("div",{className:"col-md-8",children:[W.jsxs("div",{className:"blog-heading text-start py-2 mb-4",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Блоги",W.jsx("div",{children:W.jsxs("p",{style:{marginBottom:"0",fontSize:"16px"},children:["Количество блогов: ",c.length]})})]}),c.length===0&&W.jsx("h4",{className:"text-start py-2 mb-4",children:"Блогов нет"}),c==null?void 0:c.map(y=>W.jsx(vT,{user:e,...y},y.id))]}),W.jsxs("div",{className:"col-md-3",children:[W.jsx("div",{className:"blog-heading text-start py-2 mb-4",children:"Тэги"}),W.jsx(K9,{tags:s}),W.jsx("div",{className:"blog-heading text-start py-2 mb-4",children:"Категории"}),m==null?void 0:m.map(y=>W.jsx(TY,{uniqCat:y},y.id))]})]})})})}var ey={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ey.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",m=500,y="__lodash_placeholder__",w=1,E=2,S=4,L=1,O=2,M=1,R=2,b=4,D=8,B=16,j=32,U=64,$=128,Y=256,ae=512,xe=30,ie="...",ye=800,Ue=16,Le=1,J=2,_e=3,me=1/0,he=9007199254740991,Pe=17976931348623157e292,q=NaN,tt=4294967295,Q=tt-1,C=tt>>>1,fe=[["ary",$],["bind",M],["bindKey",R],["curry",D],["curryRight",B],["flip",ae],["partial",j],["partialRight",U],["rearg",Y]],nt="[object Arguments]",Ve="[object Array]",At="[object AsyncFunction]",Bt="[object Boolean]",Lt="[object Date]",an="[object DOMException]",bt="[object Error]",Nt="[object Function]",gn="[object GeneratorFunction]",Jt="[object Map]",Ye="[object Number]",Ur="[object Null]",kn="[object Object]",Sr="[object Promise]",Ci="[object Proxy]",mt="[object RegExp]",dn="[object Set]",br="[object String]",$i="[object Symbol]",ce="[object Undefined]",ue="[object WeakMap]",re="[object WeakSet]",A="[object ArrayBuffer]",F="[object DataView]",G="[object Float32Array]",K="[object Float64Array]",ee="[object Int8Array]",be="[object Int16Array]",ze="[object Int32Array]",Be="[object Uint8Array]",He="[object Uint8ClampedArray]",it="[object Uint16Array]",ke="[object Uint32Array]",ot=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,Qt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ut=/&(?:amp|lt|gt|quot|#39);/g,zt=/[&<>"']/g,yt=RegExp(Ut.source),Yn=RegExp(zt.source),dr=/<%-([\s\S]+?)%>/g,Si=/<%([\s\S]+?)%>/g,mn=/<%=([\s\S]+?)%>/g,Go=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ko=/^\w*$/,Hi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,la=/[\\^$.*+?()[\]{}|]/g,_s=RegExp(la.source),ud=/^\s+/,cd=/\s/,j_=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fd=/\{\n\/\* \[wrapped with (.+)\] \*/,W_=/,? & /,hd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,q_=/[()=,{}\[\]\/\s]/,G_=/\\(\\)?/g,dd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rm=/\w*$/,pd=/^[-+]0x[0-9a-f]+$/i,rl=/^0b[01]+$/i,K_=/^\[object .+?Constructor\]$/,Q_=/^0o[0-7]+$/i,Zc=/^(?:0|[1-9]\d*)$/,gd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qo=/($^)/,X_=/['\n\r\u2028\u2029\\]/g,yo="\\ud800-\\udfff",md="\\u0300-\\u036f",Pm="\\ufe20-\\ufe2f",Un="\\u20d0-\\u20ff",Ze=md+Pm+Un,ws="\\u2700-\\u27bf",ef="a-z\\xdf-\\xf6\\xf8-\\xff",_o="\\xac\\xb1\\xd7\\xf7",Zt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ua="\\u2000-\\u206f",Du=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tf="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",ft=_o+Zt+ua+Du,Ru="['’]",vd="["+yo+"]",Pu="["+ft+"]",ca="["+Ze+"]",yd="\\d+",pt="["+ws+"]",Lm="["+ef+"]",_d="[^"+yo+ft+yd+ws+ef+tf+"]",il="\\ud83c[\\udffb-\\udfff]",wo="(?:"+ca+"|"+il+")",wd="[^"+yo+"]",nf="(?:\\ud83c[\\udde6-\\uddff]){2}",fa="[\\ud800-\\udbff][\\udc00-\\udfff]",xs="["+tf+"]",xd="\\u200d",rf="(?:"+Lm+"|"+_d+")",Nm="(?:"+xs+"|"+_d+")",Ed="(?:"+Ru+"(?:d|ll|m|re|s|t|ve))?",Cd="(?:"+Ru+"(?:D|LL|M|RE|S|T|VE))?",Sd=wo+"?",Fm="["+Ae+"]?",Y_="(?:"+xd+"(?:"+[wd,nf,fa].join("|")+")"+Fm+Sd+")*",Om="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mm=Fm+Sd+Y_,J_="(?:"+[pt,nf,fa].join("|")+")"+Mm,of="(?:"+[wd+ca+"?",ca,nf,fa,vd].join("|")+")",Lu=RegExp(Ru,"g"),Z_=RegExp(ca,"g"),Td=RegExp(il+"(?="+il+")|"+of+Mm,"g"),ew=RegExp([xs+"?"+Lm+"+"+Ed+"(?="+[Pu,xs,"$"].join("|")+")",Nm+"+"+Cd+"(?="+[Pu,xs+rf,"$"].join("|")+")",xs+"?"+rf+"+"+Ed,xs+"+"+Cd,Xo,Om,yd,J_].join("|"),"g"),tw=RegExp("["+xd+yo+Ze+Ae+"]"),kd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nw=-1,pn={};pn[G]=pn[K]=pn[ee]=pn[be]=pn[ze]=pn[Be]=pn[He]=pn[it]=pn[ke]=!0,pn[nt]=pn[Ve]=pn[A]=pn[Bt]=pn[F]=pn[Lt]=pn[bt]=pn[Nt]=pn[Jt]=pn[Ye]=pn[kn]=pn[mt]=pn[dn]=pn[br]=pn[ue]=!1;var ln={};ln[nt]=ln[Ve]=ln[A]=ln[F]=ln[Bt]=ln[Lt]=ln[G]=ln[K]=ln[ee]=ln[be]=ln[ze]=ln[Jt]=ln[Ye]=ln[kn]=ln[mt]=ln[dn]=ln[br]=ln[$i]=ln[Be]=ln[He]=ln[it]=ln[ke]=!0,ln[bt]=ln[Nt]=ln[ue]=!1;var sf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},af={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ad={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Um={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zm=parseFloat,lf=parseInt,Vm=typeof Xf=="object"&&Xf&&Xf.Object===Object&&Xf,$m=typeof self=="object"&&self&&self.Object===Object&&self,un=Vm||$m||Function("return this")(),Id=e&&!e.nodeType&&e,ha=Id&&!0&&t&&!t.nodeType&&t,uf=ha&&ha.exports===Id,cf=uf&&Vm.process,ir=function(){try{var se=ha&&ha.require&&ha.require("util").types;return se||cf&&cf.binding&&cf.binding("util")}catch{}}(),ff=ir&&ir.isArrayBuffer,xo=ir&&ir.isDate,Nu=ir&&ir.isMap,hf=ir&&ir.isRegExp,da=ir&&ir.isSet,Hm=ir&&ir.isTypedArray;function li(se,we,pe){switch(pe.length){case 0:return se.call(we);case 1:return se.call(we,pe[0]);case 2:return se.call(we,pe[0],pe[1]);case 3:return se.call(we,pe[0],pe[1],pe[2])}return se.apply(we,pe)}function rw(se,we,pe,Xe){for(var gt=-1,Vt=se==null?0:se.length;++gt<Vt;){var Jn=se[gt];we(Xe,Jn,pe(Jn),se)}return Xe}function Ti(se,we){for(var pe=-1,Xe=se==null?0:se.length;++pe<Xe&&we(se[pe],pe,se)!==!1;);return se}function jm(se,we){for(var pe=se==null?0:se.length;pe--&&we(se[pe],pe,se)!==!1;);return se}function bd(se,we){for(var pe=-1,Xe=se==null?0:se.length;++pe<Xe;)if(!we(se[pe],pe,se))return!1;return!0}function Es(se,we){for(var pe=-1,Xe=se==null?0:se.length,gt=0,Vt=[];++pe<Xe;){var Jn=se[pe];we(Jn,pe,se)&&(Vt[gt++]=Jn)}return Vt}function df(se,we){var pe=se==null?0:se.length;return!!pe&&_n(se,we,0)>-1}function Dd(se,we,pe){for(var Xe=-1,gt=se==null?0:se.length;++Xe<gt;)if(pe(we,se[Xe]))return!0;return!1}function yn(se,we){for(var pe=-1,Xe=se==null?0:se.length,gt=Array(Xe);++pe<Xe;)gt[pe]=we(se[pe],pe,se);return gt}function Yo(se,we){for(var pe=-1,Xe=we.length,gt=se.length;++pe<Xe;)se[gt+pe]=we[pe];return se}function Rd(se,we,pe,Xe){var gt=-1,Vt=se==null?0:se.length;for(Xe&&Vt&&(pe=se[++gt]);++gt<Vt;)pe=we(pe,se[gt],gt,se);return pe}function Wm(se,we,pe,Xe){var gt=se==null?0:se.length;for(Xe&&gt&&(pe=se[--gt]);gt--;)pe=we(pe,se[gt],gt,se);return pe}function ol(se,we){for(var pe=-1,Xe=se==null?0:se.length;++pe<Xe;)if(we(se[pe],pe,se))return!0;return!1}var sl=Ld("length");function iw(se){return se.split("")}function ow(se){return se.match(hd)||[]}function qm(se,we,pe){var Xe;return pe(se,function(gt,Vt,Jn){if(we(gt,Vt,Jn))return Xe=Vt,!1}),Xe}function Cs(se,we,pe,Xe){for(var gt=se.length,Vt=pe+(Xe?1:-1);Xe?Vt--:++Vt<gt;)if(we(se[Vt],Vt,se))return Vt;return-1}function _n(se,we,pe){return we===we?Ym(se,we,pe):Cs(se,Pd,pe)}function sw(se,we,pe,Xe){for(var gt=pe-1,Vt=se.length;++gt<Vt;)if(Xe(se[gt],we))return gt;return-1}function Pd(se){return se!==se}function al(se,we){var pe=se==null?0:se.length;return pe?gf(se,we)/pe:q}function Ld(se){return function(we){return we==null?n:we[se]}}function pf(se){return function(we){return se==null?n:se[we]}}function Gm(se,we,pe,Xe,gt){return gt(se,function(Vt,Jn,on){pe=Xe?(Xe=!1,Vt):we(pe,Vt,Jn,on)}),pe}function Nd(se,we){var pe=se.length;for(se.sort(we);pe--;)se[pe]=se[pe].value;return se}function gf(se,we){for(var pe,Xe=-1,gt=se.length;++Xe<gt;){var Vt=we(se[Xe]);Vt!==n&&(pe=pe===n?Vt:pe+Vt)}return pe}function Fd(se,we){for(var pe=-1,Xe=Array(se);++pe<se;)Xe[pe]=we(pe);return Xe}function aw(se,we){return yn(we,function(pe){return[pe,se[pe]]})}function Od(se){return se&&se.slice(0,zd(se)+1).replace(ud,"")}function Xr(se){return function(we){return se(we)}}function Md(se,we){return yn(we,function(pe){return se[pe]})}function Jo(se,we){return se.has(we)}function Eo(se,we){for(var pe=-1,Xe=se.length;++pe<Xe&&_n(we,se[pe],0)>-1;);return pe}function Fu(se,we){for(var pe=se.length;pe--&&_n(we,se[pe],0)>-1;);return pe}function Bd(se,we){for(var pe=se.length,Xe=0;pe--;)se[pe]===we&&++Xe;return Xe}var Km=pf(sf),Co=pf(af);function pa(se){return"\\"+Um[se]}function Ud(se,we){return se==null?n:se[we]}function ll(se){return tw.test(se)}function Qm(se){return kd.test(se)}function lw(se){for(var we,pe=[];!(we=se.next()).done;)pe.push(we.value);return pe}function mf(se){var we=-1,pe=Array(se.size);return se.forEach(function(Xe,gt){pe[++we]=[gt,Xe]}),pe}function vf(se,we){return function(pe){return se(we(pe))}}function ui(se,we){for(var pe=-1,Xe=se.length,gt=0,Vt=[];++pe<Xe;){var Jn=se[pe];(Jn===we||Jn===y)&&(se[pe]=y,Vt[gt++]=pe)}return Vt}function ci(se){var we=-1,pe=Array(se.size);return se.forEach(function(Xe){pe[++we]=Xe}),pe}function Xm(se){var we=-1,pe=Array(se.size);return se.forEach(function(Xe){pe[++we]=[Xe,Xe]}),pe}function Ym(se,we,pe){for(var Xe=pe-1,gt=se.length;++Xe<gt;)if(se[Xe]===we)return Xe;return-1}function uw(se,we,pe){for(var Xe=pe+1;Xe--;)if(se[Xe]===we)return Xe;return Xe}function ul(se){return ll(se)?Ou(se):sl(se)}function ji(se){return ll(se)?Zm(se):iw(se)}function zd(se){for(var we=se.length;we--&&cd.test(se.charAt(we)););return we}var Jm=pf(Ad);function Ou(se){for(var we=Td.lastIndex=0;Td.test(se);)++we;return we}function Zm(se){return se.match(Td)||[]}function ev(se){return se.match(ew)||[]}var Vd=function se(we){we=we==null?un:Zo.defaults(un.Object(),we,Zo.pick(un,Bm));var pe=we.Array,Xe=we.Date,gt=we.Error,Vt=we.Function,Jn=we.Math,on=we.Object,Mu=we.RegExp,cw=we.String,ki=we.TypeError,yf=pe.prototype,ga=Vt.prototype,Wi=on.prototype,es=we["__core-js_shared__"],cl=ga.toString,Xt=Wi.hasOwnProperty,tv=0,_f=function(){var u=/[^.]+$/.exec(es&&es.keys&&es.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),So=Wi.toString,ma=cl.call(on),zr=un._,Ss=Mu("^"+cl.call(Xt).replace(la,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qi=uf?we.Buffer:n,Gi=we.Symbol,wf=we.Uint8Array,$d=qi?qi.allocUnsafe:n,Ts=vf(on.getPrototypeOf,on),Hd=on.create,xf=Wi.propertyIsEnumerable,va=yf.splice,nv=Gi?Gi.isConcatSpreadable:n,ya=Gi?Gi.iterator:n,ks=Gi?Gi.toStringTag:n,fl=function(){try{var u=Fs(on,"defineProperty");return u({},"",{}),u}catch{}}(),jd=we.clearTimeout!==un.clearTimeout&&we.clearTimeout,hl=Xe&&Xe.now!==un.Date.now&&Xe.now,Ef=we.setTimeout!==un.setTimeout&&we.setTimeout,Bu=Jn.ceil,_a=Jn.floor,Wd=on.getOwnPropertySymbols,fw=qi?qi.isBuffer:n,rv=we.isFinite,qd=yf.join,Gd=vf(on.keys,on),wn=Jn.max,Zn=Jn.min,hw=Xe.now,Cf=we.parseInt,Kd=Jn.random,Uu=yf.reverse,Sf=Fs(we,"DataView"),Ki=Fs(we,"Map"),wa=Fs(we,"Promise"),Ai=Fs(we,"Set"),ts=Fs(we,"WeakMap"),To=Fs(on,"create"),zu=ts&&new ts,xa={},iv=zn(Sf),dw=zn(Ki),Ea=zn(wa),Ca=zn(Ai),pw=zn(ts),Tf=Gi?Gi.prototype:n,Vu=Tf?Tf.valueOf:n,ov=Tf?Tf.toString:n;function z(u){if(tr(u)&&!Tt(u)&&!(u instanceof ut)){if(u instanceof en)return u;if(Xt.call(u,"__wrapped__"))return Rr(u)}return new en(u)}var dl=function(){function u(){}return function(d){if(!Hn(d))return{};if(Hd)return Hd(d);u.prototype=d;var v=new u;return u.prototype=n,v}}();function Tr(){}function en(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}z.templateSettings={escape:dr,evaluate:Si,interpolate:mn,variable:"",imports:{_:z}},z.prototype=Tr.prototype,z.prototype.constructor=z,en.prototype=dl(Tr.prototype),en.prototype.constructor=en;function ut(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=tt,this.__views__=[]}function or(){var u=new ut(this.__wrapped__);return u.__actions__=Yr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Yr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Yr(this.__views__),u}function $u(){if(this.__filtered__){var u=new ut(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function gw(){var u=this.__wrapped__.value(),d=this.__dir__,v=Tt(u),T=d<0,N=v?u.length:0,V=Ow(0,N,this.__views__),Z=V.start,te=V.end,le=te-Z,Ce=T?te:Z-1,Se=this.__iteratees__,De=Se.length,We=0,st=Zn(le,this.__takeCount__);if(!v||!T&&N==le&&st==le)return Qu(u,this.__actions__);var ht=[];e:for(;le--&&We<st;){Ce+=d;for(var Pt=-1,dt=u[Ce];++Pt<De;){var Ft=Se[Pt],Ht=Ft.iteratee,no=Ft.type,pi=Ht(dt);if(no==J)dt=pi;else if(!pi){if(no==Le)continue e;break e}}ht[We++]=dt}return ht}ut.prototype=dl(Tr.prototype),ut.prototype.constructor=ut;function ko(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function mw(){this.__data__=To?To(null):{},this.size=0}function vw(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function yw(u){var d=this.__data__;if(To){var v=d[u];return v===p?n:v}return Xt.call(d,u)?d[u]:n}function Qd(u){var d=this.__data__;return To?d[u]!==n:Xt.call(d,u)}function sv(u,d){var v=this.__data__;return this.size+=this.has(u)?0:1,v[u]=To&&d===n?p:d,this}ko.prototype.clear=mw,ko.prototype.delete=vw,ko.prototype.get=yw,ko.prototype.has=Qd,ko.prototype.set=sv;function Qi(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function _w(){this.__data__=[],this.size=0}function Xd(u){var d=this.__data__,v=gl(d,u);if(v<0)return!1;var T=d.length-1;return v==T?d.pop():va.call(d,v,1),--this.size,!0}function Yd(u){var d=this.__data__,v=gl(d,u);return v<0?n:d[v][1]}function av(u){return gl(this.__data__,u)>-1}function lv(u,d){var v=this.__data__,T=gl(v,u);return T<0?(++this.size,v.push([u,d])):v[T][1]=d,this}Qi.prototype.clear=_w,Qi.prototype.delete=Xd,Qi.prototype.get=Yd,Qi.prototype.has=av,Qi.prototype.set=lv;function Xi(u){var d=-1,v=u==null?0:u.length;for(this.clear();++d<v;){var T=u[d];this.set(T[0],T[1])}}function uv(){this.size=0,this.__data__={hash:new ko,map:new(Ki||Qi),string:new ko}}function Hu(u){var d=sc(this,u).delete(u);return this.size-=d?1:0,d}function ww(u){return sc(this,u).get(u)}function kf(u){return sc(this,u).has(u)}function ns(u,d){var v=sc(this,u),T=v.size;return v.set(u,d),this.size+=v.size==T?0:1,this}Xi.prototype.clear=uv,Xi.prototype.delete=Hu,Xi.prototype.get=ww,Xi.prototype.has=kf,Xi.prototype.set=ns;function As(u){var d=-1,v=u==null?0:u.length;for(this.__data__=new Xi;++d<v;)this.add(u[d])}function xw(u){return this.__data__.set(u,p),this}function cv(u){return this.__data__.has(u)}As.prototype.add=As.prototype.push=xw,As.prototype.has=cv;function An(u){var d=this.__data__=new Qi(u);this.size=d.size}function Wt(){this.__data__=new Qi,this.size=0}function Yi(u){var d=this.__data__,v=d.delete(u);return this.size=d.size,v}function Is(u){return this.__data__.get(u)}function bs(u){return this.__data__.has(u)}function fv(u,d){var v=this.__data__;if(v instanceof Qi){var T=v.__data__;if(!Ki||T.length<i-1)return T.push([u,d]),this.size=++v.size,this;v=this.__data__=new Xi(T)}return v.set(u,d),this.size=v.size,this}An.prototype.clear=Wt,An.prototype.delete=Yi,An.prototype.get=Is,An.prototype.has=bs,An.prototype.set=fv;function Af(u,d){var v=Tt(u),T=!v&&ac(u),N=!v&&!T&&Nl(u),V=!v&&!T&&!N&&jf(u),Z=v||T||N||V,te=Z?Fd(u.length,cw):[],le=te.length;for(var Ce in u)(d||Xt.call(u,Ce))&&!(Z&&(Ce=="length"||N&&(Ce=="offset"||Ce=="parent")||V&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||h(Ce,le)))&&te.push(Ce);return te}function Jd(u){var d=u.length;return d?u[Pf(0,d-1)]:n}function Ew(u,d){return Mn(Yr(u),is(d,0,u.length))}function Zd(u){return Mn(Yr(u))}function Sa(u,d,v){(v!==n&&!ss(u[d],v)||v===n&&!(d in u))&&rs(u,d,v)}function pl(u,d,v){var T=u[d];(!(Xt.call(u,d)&&ss(T,v))||v===n&&!(d in u))&&rs(u,d,v)}function gl(u,d){for(var v=u.length;v--;)if(ss(u[v][0],d))return v;return-1}function Ds(u,d,v,T){return Ji(u,function(N,V,Z){d(T,N,v(N),Z)}),T}function ep(u,d){return u&&eo(d,Lr(d),u)}function hv(u,d){return u&&eo(d,Ri(d),u)}function rs(u,d,v){d=="__proto__"&&fl?fl(u,d,{configurable:!0,enumerable:!0,value:v,writable:!0}):u[d]=v}function ml(u,d){for(var v=-1,T=d.length,N=pe(T),V=u==null;++v<T;)N[v]=V?n:jw(u,d[v]);return N}function is(u,d,v){return u===u&&(v!==n&&(u=u<=v?u:v),d!==n&&(u=u>=d?u:d)),u}function fi(u,d,v,T,N,V){var Z,te=d&w,le=d&E,Ce=d&S;if(v&&(Z=N?v(u,T,N,V):v(u)),Z!==n)return Z;if(!Hn(u))return u;var Se=Tt(u);if(Se){if(Z=Mw(u),!te)return Yr(u,Z)}else{var De=lr(u),We=De==Nt||De==gn;if(Nl(u))return fp(u,te);if(De==kn||De==nt||We&&!N){if(Z=le||We?{}:$v(u),!te)return le?Pw(u,hv(Z,u)):Pv(u,ep(Z,u))}else{if(!ln[De])return N?u:{};Z=Hf(u,De,te)}}V||(V=new An);var st=V.get(u);if(st)return st;V.set(u,Z),nk(u)?u.forEach(function(dt){Z.add(fi(dt,d,v,dt,u,V))}):ek(u)&&u.forEach(function(dt,Ft){Z.set(Ft,fi(dt,d,v,Ft,u,V))});var ht=Ce?le?$f:Vf:le?Ri:Lr,Pt=Se?n:ht(u);return Ti(Pt||u,function(dt,Ft){Pt&&(Ft=dt,dt=u[Ft]),pl(Z,Ft,fi(dt,d,v,Ft,u,V))}),Z}function Cw(u){var d=Lr(u);return function(v){return tp(v,u,d)}}function tp(u,d,v){var T=v.length;if(u==null)return!T;for(u=on(u);T--;){var N=v[T],V=d[N],Z=u[N];if(Z===n&&!(N in u)||!V(Z))return!1}return!0}function dv(u,d,v){if(typeof u!="function")throw new ki(a);return rt(function(){u.apply(n,v)},d)}function ju(u,d,v,T){var N=-1,V=df,Z=!0,te=u.length,le=[],Ce=d.length;if(!te)return le;v&&(d=yn(d,Xr(v))),T?(V=Dd,Z=!1):d.length>=i&&(V=Jo,Z=!1,d=new As(d));e:for(;++N<te;){var Se=u[N],De=v==null?Se:v(Se);if(Se=T||Se!==0?Se:0,Z&&De===De){for(var We=Ce;We--;)if(d[We]===De)continue e;le.push(Se)}else V(d,De,T)||le.push(Se)}return le}var Ji=Il(Ii),np=Il(bf,!0);function Sw(u,d){var v=!0;return Ji(u,function(T,N,V){return v=!!d(T,N,V),v}),v}function If(u,d,v){for(var T=-1,N=u.length;++T<N;){var V=u[T],Z=d(V);if(Z!=null&&(te===n?Z===Z&&!to(Z):v(Z,te)))var te=Z,le=V}return le}function pv(u,d,v,T){var N=u.length;for(v=Rt(v),v<0&&(v=-v>N?0:N+v),T=T===n||T>N?N:Rt(T),T<0&&(T+=N),T=v>T?0:ik(T);v<T;)u[v++]=d;return u}function Ta(u,d){var v=[];return Ji(u,function(T,N,V){d(T,N,V)&&v.push(T)}),v}function sr(u,d,v,T,N){var V=-1,Z=u.length;for(v||(v=l),N||(N=[]);++V<Z;){var te=u[V];d>0&&v(te)?d>1?sr(te,d-1,v,T,N):Yo(N,te):T||(N[N.length]=te)}return N}var vl=Lv(),rp=Lv(!0);function Ii(u,d){return u&&vl(u,d,Lr)}function bf(u,d){return u&&rp(u,d,Lr)}function Df(u,d){return Es(d,function(v){return Pa(u[v])})}function Rs(u,d){d=Ns(d,u);for(var v=0,T=d.length;u!=null&&v<T;)u=u[In(d[v++])];return v&&v==T?u:n}function pr(u,d,v){var T=d(u);return Tt(u)?T:Yo(T,v(u))}function gr(u){return u==null?u===n?ce:Ur:ks&&ks in on(u)?Fw(u):Ee(u)}function Rf(u,d){return u>d}function gv(u,d){return u!=null&&Xt.call(u,d)}function mv(u,d){return u!=null&&d in on(u)}function yl(u,d,v){return u>=Zn(d,v)&&u<wn(d,v)}function _l(u,d,v){for(var T=v?Dd:df,N=u[0].length,V=u.length,Z=V,te=pe(V),le=1/0,Ce=[];Z--;){var Se=u[Z];Z&&d&&(Se=yn(Se,Xr(d))),le=Zn(Se.length,le),te[Z]=!v&&(d||N>=120&&Se.length>=120)?new As(Z&&Se):n}Se=u[0];var De=-1,We=te[0];e:for(;++De<N&&Ce.length<le;){var st=Se[De],ht=d?d(st):st;if(st=v||st!==0?st:0,!(We?Jo(We,ht):T(Ce,ht,v))){for(Z=V;--Z;){var Pt=te[Z];if(!(Pt?Jo(Pt,ht):T(u[Z],ht,v)))continue e}We&&We.push(ht),Ce.push(st)}}return Ce}function vv(u,d,v,T){return Ii(u,function(N,V,Z){d(T,v(N),V,Z)}),T}function wl(u,d,v){d=Ns(d,u),u=Me(u,d);var T=u==null?u:u[In(Po(d))];return T==null?n:li(T,u,v)}function ip(u){return tr(u)&&gr(u)==nt}function xl(u){return tr(u)&&gr(u)==A}function yv(u){return tr(u)&&gr(u)==Lt}function Ps(u,d,v,T,N){return u===d?!0:u==null||d==null||!tr(u)&&!tr(d)?u!==u&&d!==d:_v(u,d,v,T,Ps,N)}function _v(u,d,v,T,N,V){var Z=Tt(u),te=Tt(d),le=Z?Ve:lr(u),Ce=te?Ve:lr(d);le=le==nt?kn:le,Ce=Ce==nt?kn:Ce;var Se=le==kn,De=Ce==kn,We=le==Ce;if(We&&Nl(u)){if(!Nl(d))return!1;Z=!0,Se=!1}if(We&&!Se)return V||(V=new An),Z||jf(u)?bi(u,d,v,T,N,V):zf(u,d,le,v,T,N,V);if(!(v&L)){var st=Se&&Xt.call(u,"__wrapped__"),ht=De&&Xt.call(d,"__wrapped__");if(st||ht){var Pt=st?u.value():u,dt=ht?d.value():d;return V||(V=new An),N(Pt,dt,v,T,V)}}return We?(V||(V=new An),yp(u,d,v,T,N,V)):!1}function Wu(u){return tr(u)&&lr(u)==Jt}function op(u,d,v,T){var N=v.length,V=N,Z=!T;if(u==null)return!V;for(u=on(u);N--;){var te=v[N];if(Z&&te[2]?te[1]!==u[te[0]]:!(te[0]in u))return!1}for(;++N<V;){te=v[N];var le=te[0],Ce=u[le],Se=te[1];if(Z&&te[2]){if(Ce===n&&!(le in u))return!1}else{var De=new An;if(T)var We=T(Ce,Se,le,u,d,De);if(!(We===n?Ps(Se,Ce,L|O,T,De):We))return!1}}return!0}function ka(u){if(!Hn(u)||k(u))return!1;var d=Pa(u)?Ss:K_;return d.test(zn(u))}function wv(u){return tr(u)&&gr(u)==mt}function xv(u){return tr(u)&&lr(u)==dn}function Ev(u){return tr(u)&&Kv(u.length)&&!!pn[gr(u)]}function El(u){return typeof u=="function"?u:u==null?Pi:typeof u=="object"?Tt(u)?ap(u[0],u[1]):Cv(u):gk(u)}function Aa(u){if(!P(u))return Gd(u);var d=[];for(var v in on(u))Xt.call(u,v)&&v!="constructor"&&d.push(v);return d}function qu(u){if(!Hn(u))return ve(u);var d=P(u),v=[];for(var T in u)T=="constructor"&&(d||!Xt.call(u,T))||v.push(T);return v}function Ia(u,d){return u<d}function sp(u,d){var v=-1,T=Di(u)?pe(u.length):[];return Ji(u,function(N,V,Z){T[++v]=d(N,V,Z)}),T}function Cv(u){var d=qt(u);return d.length==1&&d[0][2]?X(d[0][0],d[0][1]):function(v){return v===u||op(v,u,d)}}function ap(u,d){return g(u)&&H(d)?X(In(u),d):function(v){var T=jw(v,u);return T===n&&T===d?Ww(v,u):Ps(d,T,L|O)}}function Zi(u,d,v,T,N){u!==d&&vl(d,function(V,Z){if(N||(N=new An),Hn(V))Cl(u,d,Z,v,Zi,T,N);else{var te=T?T(Oe(u,Z),V,Z+"",u,d,N):n;te===n&&(te=V),Sa(u,Z,te)}},Ri)}function Cl(u,d,v,T,N,V,Z){var te=Oe(u,v),le=Oe(d,v),Ce=Z.get(le);if(Ce){Sa(u,v,Ce);return}var Se=V?V(te,le,v+"",u,d,Z):n,De=Se===n;if(De){var We=Tt(le),st=!We&&Nl(le),ht=!We&&!st&&jf(le);Se=le,We||st||ht?Tt(te)?Se=te:cr(te)?Se=Yr(te):st?(De=!1,Se=fp(le,!0)):ht?(De=!1,Se=hp(le,!0)):Se=[]:xp(le)||ac(le)?(Se=te,ac(te)?Se=ok(te):(!Hn(te)||Pa(te))&&(Se=$v(le))):De=!1}De&&(Z.set(le,Se),N(Se,le,T,V,Z),Z.delete(le)),Sa(u,v,Se)}function Sl(u,d){var v=u.length;if(v)return d+=d<0?v:0,h(d,v)?u[d]:n}function Sv(u,d,v){d.length?d=yn(d,function(V){return Tt(V)?function(Z){return Rs(Z,V.length===1?V[0]:V)}:V}):d=[Pi];var T=-1;d=yn(d,Xr(at()));var N=sp(u,function(V,Z,te){var le=yn(d,function(Ce){return Ce(V)});return{criteria:le,index:++T,value:V}});return Nd(N,function(V,Z){return Rw(V,Z,v)})}function Tv(u,d){return kv(u,d,function(v,T){return Ww(u,T)})}function kv(u,d,v){for(var T=-1,N=d.length,V={};++T<N;){var Z=d[T],te=Rs(u,Z);v(te,Z)&&Tl(V,Ns(Z,u),te)}return V}function Tw(u){return function(d){return Rs(d,u)}}function lp(u,d,v,T){var N=T?sw:_n,V=-1,Z=d.length,te=u;for(u===d&&(d=Yr(d)),v&&(te=yn(u,Xr(v)));++V<Z;)for(var le=0,Ce=d[V],Se=v?v(Ce):Ce;(le=N(te,Se,le,T))>-1;)te!==u&&va.call(te,le,1),va.call(u,le,1);return u}function Dr(u,d){for(var v=u?d.length:0,T=v-1;v--;){var N=d[v];if(v==T||N!==V){var V=N;h(N)?va.call(u,N,1):Lf(u,N)}}return u}function Pf(u,d){return u+_a(Kd()*(d-u+1))}function kw(u,d,v,T){for(var N=-1,V=wn(Bu((d-u)/(v||1)),0),Z=pe(V);V--;)Z[T?V:++N]=u,u+=v;return Z}function up(u,d){var v="";if(!u||d<1||d>he)return v;do d%2&&(v+=u),d=_a(d/2),d&&(u+=u);while(d);return v}function Dt(u,d){return et(Re(u,d,Pi),u+"")}function Av(u){return Jd(Wf(u))}function Iv(u,d){var v=Wf(u);return Mn(v,is(d,0,v.length))}function Tl(u,d,v,T){if(!Hn(u))return u;d=Ns(d,u);for(var N=-1,V=d.length,Z=V-1,te=u;te!=null&&++N<V;){var le=In(d[N]),Ce=v;if(le==="__proto__"||le==="constructor"||le==="prototype")return u;if(N!=Z){var Se=te[le];Ce=T?T(Se,le,te):n,Ce===n&&(Ce=Hn(Se)?Se:h(d[N+1])?[]:{})}pl(te,le,Ce),te=te[le]}return u}var bv=zu?function(u,d){return zu.set(u,d),u}:Pi,Aw=fl?function(u,d){return fl(u,"toString",{configurable:!0,enumerable:!1,value:Gw(d),writable:!0})}:Pi;function Iw(u){return Mn(Wf(u))}function ar(u,d,v){var T=-1,N=u.length;d<0&&(d=-d>N?0:N+d),v=v>N?N:v,v<0&&(v+=N),N=d>v?0:v-d>>>0,d>>>=0;for(var V=pe(N);++T<N;)V[T]=u[T+d];return V}function Gu(u,d){var v;return Ji(u,function(T,N,V){return v=d(T,N,V),!v}),!!v}function ba(u,d,v){var T=0,N=u==null?T:u.length;if(typeof d=="number"&&d===d&&N<=C){for(;T<N;){var V=T+N>>>1,Z=u[V];Z!==null&&!to(Z)&&(v?Z<=d:Z<d)?T=V+1:N=V}return N}return Da(u,d,Pi,v)}function Da(u,d,v,T){var N=0,V=u==null?0:u.length;if(V===0)return 0;d=v(d);for(var Z=d!==d,te=d===null,le=to(d),Ce=d===n;N<V;){var Se=_a((N+V)/2),De=v(u[Se]),We=De!==n,st=De===null,ht=De===De,Pt=to(De);if(Z)var dt=T||ht;else Ce?dt=ht&&(T||We):te?dt=ht&&We&&(T||!st):le?dt=ht&&We&&!st&&(T||!Pt):st||Pt?dt=!1:dt=T?De<=d:De<d;dt?N=Se+1:V=Se}return Zn(V,Q)}function Ao(u,d){for(var v=-1,T=u.length,N=0,V=[];++v<T;){var Z=u[v],te=d?d(Z):Z;if(!v||!ss(te,le)){var le=te;V[N++]=Z===0?0:Z}}return V}function Dv(u){return typeof u=="number"?u:to(u)?q:+u}function hi(u){if(typeof u=="string")return u;if(Tt(u))return yn(u,hi)+"";if(to(u))return ov?ov.call(u):"";var d=u+"";return d=="0"&&1/u==-me?"-0":d}function di(u,d,v){var T=-1,N=df,V=u.length,Z=!0,te=[],le=te;if(v)Z=!1,N=Dd;else if(V>=i){var Ce=d?null:Nw(u);if(Ce)return ci(Ce);Z=!1,N=Jo,le=new As}else le=d?[]:te;e:for(;++T<V;){var Se=u[T],De=d?d(Se):Se;if(Se=v||Se!==0?Se:0,Z&&De===De){for(var We=le.length;We--;)if(le[We]===De)continue e;d&&le.push(De),te.push(Se)}else N(le,De,v)||(le!==te&&le.push(De),te.push(Se))}return te}function Lf(u,d){return d=Ns(d,u),u=Me(u,d),u==null||delete u[In(Po(d))]}function cp(u,d,v,T){return Tl(u,d,v(Rs(u,d)),T)}function Ku(u,d,v,T){for(var N=u.length,V=T?N:-1;(T?V--:++V<N)&&d(u[V],V,u););return v?ar(u,T?0:V,T?V+1:N):ar(u,T?V+1:0,T?N:V)}function Qu(u,d){var v=u;return v instanceof ut&&(v=v.value()),Rd(d,function(T,N){return N.func.apply(N.thisArg,Yo([T],N.args))},v)}function Ls(u,d,v){var T=u.length;if(T<2)return T?di(u[0]):[];for(var N=-1,V=pe(T);++N<T;)for(var Z=u[N],te=-1;++te<T;)te!=N&&(V[N]=ju(V[N]||Z,u[te],d,v));return di(sr(V,1),d,v)}function Nf(u,d,v){for(var T=-1,N=u.length,V=d.length,Z={};++T<N;){var te=T<V?d[T]:n;v(Z,u[T],te)}return Z}function Xu(u){return cr(u)?u:[]}function Yu(u){return typeof u=="function"?u:Pi}function Ns(u,d){return Tt(u)?u:g(u,d)?[u]:vn(sn(u))}var Ju=Dt;function os(u,d,v){var T=u.length;return v=v===n?T:v,!d&&v>=T?u:ar(u,d,v)}var Rv=jd||function(u){return un.clearTimeout(u)};function fp(u,d){if(d)return u.slice();var v=u.length,T=$d?$d(v):new u.constructor(v);return u.copy(T),T}function kl(u){var d=new u.constructor(u.byteLength);return new wf(d).set(new wf(u)),d}function bw(u,d){var v=d?kl(u.buffer):u.buffer;return new u.constructor(v,u.byteOffset,u.byteLength)}function Dw(u){var d=new u.constructor(u.source,Rm.exec(u));return d.lastIndex=u.lastIndex,d}function Zu(u){return Vu?on(Vu.call(u)):{}}function hp(u,d){var v=d?kl(u.buffer):u.buffer;return new u.constructor(v,u.byteOffset,u.length)}function dp(u,d){if(u!==d){var v=u!==n,T=u===null,N=u===u,V=to(u),Z=d!==n,te=d===null,le=d===d,Ce=to(d);if(!te&&!Ce&&!V&&u>d||V&&Z&&le&&!te&&!Ce||T&&Z&&le||!v&&le||!N)return 1;if(!T&&!V&&!Ce&&u<d||Ce&&v&&N&&!T&&!V||te&&v&&N||!Z&&N||!le)return-1}return 0}function Rw(u,d,v){for(var T=-1,N=u.criteria,V=d.criteria,Z=N.length,te=v.length;++T<Z;){var le=dp(N[T],V[T]);if(le){if(T>=te)return le;var Ce=v[T];return le*(Ce=="desc"?-1:1)}}return u.index-d.index}function Ff(u,d,v,T){for(var N=-1,V=u.length,Z=v.length,te=-1,le=d.length,Ce=wn(V-Z,0),Se=pe(le+Ce),De=!T;++te<le;)Se[te]=d[te];for(;++N<Z;)(De||N<V)&&(Se[v[N]]=u[N]);for(;Ce--;)Se[te++]=u[N++];return Se}function pp(u,d,v,T){for(var N=-1,V=u.length,Z=-1,te=v.length,le=-1,Ce=d.length,Se=wn(V-te,0),De=pe(Se+Ce),We=!T;++N<Se;)De[N]=u[N];for(var st=N;++le<Ce;)De[st+le]=d[le];for(;++Z<te;)(We||N<V)&&(De[st+v[Z]]=u[N++]);return De}function Yr(u,d){var v=-1,T=u.length;for(d||(d=pe(T));++v<T;)d[v]=u[v];return d}function eo(u,d,v,T){var N=!v;v||(v={});for(var V=-1,Z=d.length;++V<Z;){var te=d[V],le=T?T(v[te],u[te],te,v,u):n;le===n&&(le=u[te]),N?rs(v,te,le):pl(v,te,le)}return v}function Pv(u,d){return eo(u,Os(u),d)}function Pw(u,d){return eo(u,zv(u),d)}function Al(u,d){return function(v,T){var N=Tt(v)?rw:Ds,V=d?d():{};return N(v,u,at(T,2),V)}}function Io(u){return Dt(function(d,v){var T=-1,N=v.length,V=N>1?v[N-1]:n,Z=N>2?v[2]:n;for(V=u.length>3&&typeof V=="function"?(N--,V):n,Z&&f(v[0],v[1],Z)&&(V=N<3?n:V,N=1),d=on(d);++T<N;){var te=v[T];te&&u(d,te,T,V)}return d})}function Il(u,d){return function(v,T){if(v==null)return v;if(!Di(v))return u(v,T);for(var N=v.length,V=d?N:-1,Z=on(v);(d?V--:++V<N)&&T(Z[V],V,Z)!==!1;);return v}}function Lv(u){return function(d,v,T){for(var N=-1,V=on(d),Z=T(d),te=Z.length;te--;){var le=Z[u?te:++N];if(v(V[le],le,V)===!1)break}return d}}function Nv(u,d,v){var T=d&M,N=ec(u);function V(){var Z=this&&this!==un&&this instanceof V?N:u;return Z.apply(T?v:this,arguments)}return V}function Fv(u){return function(d){d=sn(d);var v=ll(d)?ji(d):n,T=v?v[0]:d.charAt(0),N=v?os(v,1).join(""):d.slice(1);return T[u]()+N}}function bl(u){return function(d){return Rd(dk(hk(d).replace(Lu,"")),u,"")}}function ec(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var v=dl(u.prototype),T=u.apply(v,d);return Hn(T)?T:v}}function Lw(u,d,v){var T=ec(u);function N(){for(var V=arguments.length,Z=pe(V),te=V,le=Rl(N);te--;)Z[te]=arguments[te];var Ce=V<3&&Z[0]!==le&&Z[V-1]!==le?[]:ui(Z,le);if(V-=Ce.length,V<v)return nc(u,d,Of,N.placeholder,n,Z,Ce,n,n,v-V);var Se=this&&this!==un&&this instanceof N?T:u;return li(Se,this,Z)}return N}function gp(u){return function(d,v,T){var N=on(d);if(!Di(d)){var V=at(v,3);d=Lr(d),v=function(te){return V(N[te],te,N)}}var Z=u(d,v,T);return Z>-1?N[V?d[Z]:Z]:n}}function Ov(u){return bo(function(d){var v=d.length,T=v,N=en.prototype.thru;for(u&&d.reverse();T--;){var V=d[T];if(typeof V!="function")throw new ki(a);if(N&&!Z&&oc(V)=="wrapper")var Z=new en([],!0)}for(T=Z?T:v;++T<v;){V=d[T];var te=oc(V),le=te=="wrapper"?ic(V):n;le&&x(le[0])&&le[1]==($|D|j|Y)&&!le[4].length&&le[9]==1?Z=Z[oc(le[0])].apply(Z,le[3]):Z=V.length==1&&x(V)?Z[te]():Z.thru(V)}return function(){var Ce=arguments,Se=Ce[0];if(Z&&Ce.length==1&&Tt(Se))return Z.plant(Se).value();for(var De=0,We=v?d[De].apply(this,Ce):Se;++De<v;)We=d[De].call(this,We);return We}})}function Of(u,d,v,T,N,V,Z,te,le,Ce){var Se=d&$,De=d&M,We=d&R,st=d&(D|B),ht=d&ae,Pt=We?n:ec(u);function dt(){for(var Ft=arguments.length,Ht=pe(Ft),no=Ft;no--;)Ht[no]=arguments[no];if(st)var pi=Rl(dt),ro=Bd(Ht,pi);if(T&&(Ht=Ff(Ht,T,N,st)),V&&(Ht=pp(Ht,V,Z,st)),Ft-=ro,st&&Ft<Ce){var fr=ui(Ht,pi);return nc(u,d,Of,dt.placeholder,v,Ht,fr,te,le,Ce-Ft)}var as=De?v:this,Na=We?as[u]:u;return Ft=Ht.length,te?Ht=$e(Ht,te):ht&&Ft>1&&Ht.reverse(),Se&&le<Ft&&(Ht.length=le),this&&this!==un&&this instanceof dt&&(Na=Pt||ec(Na)),Na.apply(as,Ht)}return dt}function mp(u,d){return function(v,T){return vv(v,u,d(T),{})}}function Dl(u,d){return function(v,T){var N;if(v===n&&T===n)return d;if(v!==n&&(N=v),T!==n){if(N===n)return T;typeof v=="string"||typeof T=="string"?(v=hi(v),T=hi(T)):(v=Dv(v),T=Dv(T)),N=u(v,T)}return N}}function Mf(u){return bo(function(d){return d=yn(d,Xr(at())),Dt(function(v){var T=this;return u(d,function(N){return li(N,T,v)})})})}function Bf(u,d){d=d===n?" ":hi(d);var v=d.length;if(v<2)return v?up(d,u):d;var T=up(d,Bu(u/ul(d)));return ll(d)?os(ji(T),0,u).join(""):T.slice(0,u)}function Mv(u,d,v,T){var N=d&M,V=ec(u);function Z(){for(var te=-1,le=arguments.length,Ce=-1,Se=T.length,De=pe(Se+le),We=this&&this!==un&&this instanceof Z?V:u;++Ce<Se;)De[Ce]=T[Ce];for(;le--;)De[Ce++]=arguments[++te];return li(We,N?v:this,De)}return Z}function Ra(u){return function(d,v,T){return T&&typeof T!="number"&&f(d,v,T)&&(v=T=n),d=La(d),v===n?(v=d,d=0):v=La(v),T=T===n?d<v?1:-1:La(T),kw(d,v,T,u)}}function tc(u){return function(d,v){return typeof d=="string"&&typeof v=="string"||(d=Lo(d),v=Lo(v)),u(d,v)}}function nc(u,d,v,T,N,V,Z,te,le,Ce){var Se=d&D,De=Se?Z:n,We=Se?n:Z,st=Se?V:n,ht=Se?n:V;d|=Se?j:U,d&=~(Se?U:j),d&b||(d&=~(M|R));var Pt=[u,d,N,st,De,ht,We,te,le,Ce],dt=v.apply(n,Pt);return x(u)&&je(dt,Pt),dt.placeholder=T,xt(dt,u,d)}function vp(u){var d=Jn[u];return function(v,T){if(v=Lo(v),T=T==null?0:Zn(Rt(T),292),T&&rv(v)){var N=(sn(v)+"e").split("e"),V=d(N[0]+"e"+(+N[1]+T));return N=(sn(V)+"e").split("e"),+(N[0]+"e"+(+N[1]-T))}return d(v)}}var Nw=Ai&&1/ci(new Ai([,-0]))[1]==me?function(u){return new Ai(u)}:Xw;function Bv(u){return function(d){var v=lr(d);return v==Jt?mf(d):v==dn?Xm(d):aw(d,u(d))}}function $t(u,d,v,T,N,V,Z,te){var le=d&R;if(!le&&typeof u!="function")throw new ki(a);var Ce=T?T.length:0;if(Ce||(d&=~(j|U),T=N=n),Z=Z===n?Z:wn(Rt(Z),0),te=te===n?te:Rt(te),Ce-=N?N.length:0,d&U){var Se=T,De=N;T=N=n}var We=le?n:ic(u),st=[u,d,v,T,N,Se,De,V,Z,te];if(We&&ne(st,We),u=st[0],d=st[1],v=st[2],T=st[3],N=st[4],te=st[9]=st[9]===n?le?0:u.length:wn(st[9]-Ce,0),!te&&d&(D|B)&&(d&=~(D|B)),!d||d==M)var ht=Nv(u,d,v);else d==D||d==B?ht=Lw(u,d,te):(d==j||d==(M|j))&&!N.length?ht=Mv(u,d,v,T):ht=Of.apply(n,st);var Pt=We?bv:je;return xt(Pt(ht,st),u,d)}function Uv(u,d,v,T){return u===n||ss(u,Wi[v])&&!Xt.call(T,v)?d:u}function Uf(u,d,v,T,N,V){return Hn(u)&&Hn(d)&&(V.set(d,u),Zi(u,d,n,Uf,V),V.delete(d)),u}function rc(u){return xp(u)?n:u}function bi(u,d,v,T,N,V){var Z=v&L,te=u.length,le=d.length;if(te!=le&&!(Z&&le>te))return!1;var Ce=V.get(u),Se=V.get(d);if(Ce&&Se)return Ce==d&&Se==u;var De=-1,We=!0,st=v&O?new As:n;for(V.set(u,d),V.set(d,u);++De<te;){var ht=u[De],Pt=d[De];if(T)var dt=Z?T(Pt,ht,De,d,u,V):T(ht,Pt,De,u,d,V);if(dt!==n){if(dt)continue;We=!1;break}if(st){if(!ol(d,function(Ft,Ht){if(!Jo(st,Ht)&&(ht===Ft||N(ht,Ft,v,T,V)))return st.push(Ht)})){We=!1;break}}else if(!(ht===Pt||N(ht,Pt,v,T,V))){We=!1;break}}return V.delete(u),V.delete(d),We}function zf(u,d,v,T,N,V,Z){switch(v){case F:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case A:return!(u.byteLength!=d.byteLength||!V(new wf(u),new wf(d)));case Bt:case Lt:case Ye:return ss(+u,+d);case bt:return u.name==d.name&&u.message==d.message;case mt:case br:return u==d+"";case Jt:var te=mf;case dn:var le=T&L;if(te||(te=ci),u.size!=d.size&&!le)return!1;var Ce=Z.get(u);if(Ce)return Ce==d;T|=O,Z.set(u,d);var Se=bi(te(u),te(d),T,N,V,Z);return Z.delete(u),Se;case $i:if(Vu)return Vu.call(u)==Vu.call(d)}return!1}function yp(u,d,v,T,N,V){var Z=v&L,te=Vf(u),le=te.length,Ce=Vf(d),Se=Ce.length;if(le!=Se&&!Z)return!1;for(var De=le;De--;){var We=te[De];if(!(Z?We in d:Xt.call(d,We)))return!1}var st=V.get(u),ht=V.get(d);if(st&&ht)return st==d&&ht==u;var Pt=!0;V.set(u,d),V.set(d,u);for(var dt=Z;++De<le;){We=te[De];var Ft=u[We],Ht=d[We];if(T)var no=Z?T(Ht,Ft,We,d,u,V):T(Ft,Ht,We,u,d,V);if(!(no===n?Ft===Ht||N(Ft,Ht,v,T,V):no)){Pt=!1;break}dt||(dt=We=="constructor")}if(Pt&&!dt){var pi=u.constructor,ro=d.constructor;pi!=ro&&"constructor"in u&&"constructor"in d&&!(typeof pi=="function"&&pi instanceof pi&&typeof ro=="function"&&ro instanceof ro)&&(Pt=!1)}return V.delete(u),V.delete(d),Pt}function bo(u){return et(Re(u,n,Us),u+"")}function Vf(u){return pr(u,Lr,Os)}function $f(u){return pr(u,Ri,zv)}var ic=zu?function(u){return zu.get(u)}:Xw;function oc(u){for(var d=u.name+"",v=xa[d],T=Xt.call(xa,d)?v.length:0;T--;){var N=v[T],V=N.func;if(V==null||V==u)return N.name}return d}function Rl(u){var d=Xt.call(z,"placeholder")?z:u;return d.placeholder}function at(){var u=z.iteratee||Kw;return u=u===Kw?El:u,arguments.length?u(arguments[0],arguments[1]):u}function sc(u,d){var v=u.__data__;return _(d)?v[typeof d=="string"?"string":"hash"]:v.map}function qt(u){for(var d=Lr(u),v=d.length;v--;){var T=d[v],N=u[T];d[v]=[T,N,H(N)]}return d}function Fs(u,d){var v=Ud(u,d);return ka(v)?v:n}function Fw(u){var d=Xt.call(u,ks),v=u[ks];try{u[ks]=n;var T=!0}catch{}var N=So.call(u);return T&&(d?u[ks]=v:delete u[ks]),N}var Os=Wd?function(u){return u==null?[]:(u=on(u),Es(Wd(u),function(d){return xf.call(u,d)}))}:Yw,zv=Wd?function(u){for(var d=[];u;)Yo(d,Os(u)),u=Ts(u);return d}:Yw,lr=gr;(Sf&&lr(new Sf(new ArrayBuffer(1)))!=F||Ki&&lr(new Ki)!=Jt||wa&&lr(wa.resolve())!=Sr||Ai&&lr(new Ai)!=dn||ts&&lr(new ts)!=ue)&&(lr=function(u){var d=gr(u),v=d==kn?u.constructor:n,T=v?zn(v):"";if(T)switch(T){case iv:return F;case dw:return Jt;case Ea:return Sr;case Ca:return dn;case pw:return ue}return d});function Ow(u,d,v){for(var T=-1,N=v.length;++T<N;){var V=v[T],Z=V.size;switch(V.type){case"drop":u+=Z;break;case"dropRight":d-=Z;break;case"take":d=Zn(d,u+Z);break;case"takeRight":u=wn(u,d-Z);break}}return{start:u,end:d}}function On(u){var d=u.match(fd);return d?d[1].split(W_):[]}function Vv(u,d,v){d=Ns(d,u);for(var T=-1,N=d.length,V=!1;++T<N;){var Z=In(d[T]);if(!(V=u!=null&&v(u,Z)))break;u=u[Z]}return V||++T!=N?V:(N=u==null?0:u.length,!!N&&Kv(N)&&h(Z,N)&&(Tt(u)||ac(u)))}function Mw(u){var d=u.length,v=new u.constructor(d);return d&&typeof u[0]=="string"&&Xt.call(u,"index")&&(v.index=u.index,v.input=u.input),v}function $v(u){return typeof u.constructor=="function"&&!P(u)?dl(Ts(u)):{}}function Hf(u,d,v){var T=u.constructor;switch(d){case A:return kl(u);case Bt:case Lt:return new T(+u);case F:return bw(u,v);case G:case K:case ee:case be:case ze:case Be:case He:case it:case ke:return hp(u,v);case Jt:return new T;case Ye:case br:return new T(u);case mt:return Dw(u);case dn:return new T;case $i:return Zu(u)}}function o(u,d){var v=d.length;if(!v)return u;var T=v-1;return d[T]=(v>1?"& ":"")+d[T],d=d.join(v>2?", ":" "),u.replace(j_,`{
/* [wrapped with `+d+`] */
`)}function l(u){return Tt(u)||ac(u)||!!(nv&&u&&u[nv])}function h(u,d){var v=typeof u;return d=d??he,!!d&&(v=="number"||v!="symbol"&&Zc.test(u))&&u>-1&&u%1==0&&u<d}function f(u,d,v){if(!Hn(v))return!1;var T=typeof d;return(T=="number"?Di(v)&&h(d,v.length):T=="string"&&d in v)?ss(v[d],u):!1}function g(u,d){if(Tt(u))return!1;var v=typeof u;return v=="number"||v=="symbol"||v=="boolean"||u==null||to(u)?!0:Ko.test(u)||!Go.test(u)||d!=null&&u in on(d)}function _(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function x(u){var d=oc(u),v=z[d];if(typeof v!="function"||!(d in ut.prototype))return!1;if(u===v)return!0;var T=ic(v);return!!T&&u===T[0]}function k(u){return!!_f&&_f in u}var I=es?Pa:Jw;function P(u){var d=u&&u.constructor,v=typeof d=="function"&&d.prototype||Wi;return u===v}function H(u){return u===u&&!Hn(u)}function X(u,d){return function(v){return v==null?!1:v[u]===d&&(d!==n||u in on(v))}}function oe(u){var d=qv(u,function(T){return v.size===m&&v.clear(),T}),v=d.cache;return d}function ne(u,d){var v=u[1],T=d[1],N=v|T,V=N<(M|R|$),Z=T==$&&v==D||T==$&&v==Y&&u[7].length<=d[8]||T==($|Y)&&d[7].length<=d[8]&&v==D;if(!(V||Z))return u;T&M&&(u[2]=d[2],N|=v&M?0:b);var te=d[3];if(te){var le=u[3];u[3]=le?Ff(le,te,d[4]):te,u[4]=le?ui(u[3],y):d[4]}return te=d[5],te&&(le=u[5],u[5]=le?pp(le,te,d[6]):te,u[6]=le?ui(u[5],y):d[6]),te=d[7],te&&(u[7]=te),T&$&&(u[8]=u[8]==null?d[8]:Zn(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=N,u}function ve(u){var d=[];if(u!=null)for(var v in on(u))d.push(v);return d}function Ee(u){return So.call(u)}function Re(u,d,v){return d=wn(d===n?u.length-1:d,0),function(){for(var T=arguments,N=-1,V=wn(T.length-d,0),Z=pe(V);++N<V;)Z[N]=T[d+N];N=-1;for(var te=pe(d+1);++N<d;)te[N]=T[N];return te[d]=v(Z),li(u,this,te)}}function Me(u,d){return d.length<2?u:Rs(u,ar(d,0,-1))}function $e(u,d){for(var v=u.length,T=Zn(d.length,v),N=Yr(u);T--;){var V=d[T];u[T]=h(V,v)?N[V]:n}return u}function Oe(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var je=tn(bv),rt=Ef||function(u,d){return un.setTimeout(u,d)},et=tn(Aw);function xt(u,d,v){var T=d+"";return et(u,o(T,Vn(On(T),v)))}function tn(u){var d=0,v=0;return function(){var T=hw(),N=Ue-(T-v);if(v=T,N>0){if(++d>=ye)return arguments[0]}else d=0;return u.apply(n,arguments)}}function Mn(u,d){var v=-1,T=u.length,N=T-1;for(d=d===n?T:d;++v<d;){var V=Pf(v,N),Z=u[V];u[V]=u[v],u[v]=Z}return u.length=d,u}var vn=oe(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(Hi,function(v,T,N,V){d.push(N?V.replace(G_,"$1"):T||v)}),d});function In(u){if(typeof u=="string"||to(u))return u;var d=u+"";return d=="0"&&1/u==-me?"-0":d}function zn(u){if(u!=null){try{return cl.call(u)}catch{}try{return u+""}catch{}}return""}function Vn(u,d){return Ti(fe,function(v){var T="_."+v[0];d&v[1]&&!df(u,T)&&u.push(T)}),u.sort()}function Rr(u){if(u instanceof ut)return u.clone();var d=new en(u.__wrapped__,u.__chain__);return d.__actions__=Yr(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function mr(u,d,v){(v?f(u,d,v):d===n)?d=1:d=wn(Rt(d),0);var T=u==null?0:u.length;if(!T||d<1)return[];for(var N=0,V=0,Z=pe(Bu(T/d));N<T;)Z[V++]=ar(u,N,N+=d);return Z}function er(u){for(var d=-1,v=u==null?0:u.length,T=0,N=[];++d<v;){var V=u[d];V&&(N[T++]=V)}return N}function $n(){var u=arguments.length;if(!u)return[];for(var d=pe(u-1),v=arguments[0],T=u;T--;)d[T-1]=arguments[T];return Yo(Tt(v)?Yr(v):[v],sr(d,1))}var bn=Dt(function(u,d){return cr(u)?ju(u,sr(d,1,cr,!0)):[]}),Vr=Dt(function(u,d){var v=Po(d);return cr(v)&&(v=n),cr(u)?ju(u,sr(d,1,cr,!0),at(v,2)):[]}),Pl=Dt(function(u,d){var v=Po(d);return cr(v)&&(v=n),cr(u)?ju(u,sr(d,1,cr,!0),n,v):[]});function Ms(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:Rt(d),ar(u,d<0?0:d,T)):[]}function kr(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:Rt(d),d=T-d,ar(u,0,d<0?0:d)):[]}function Do(u,d){return u&&u.length?Ku(u,at(d,3),!0,!0):[]}function ur(u,d){return u&&u.length?Ku(u,at(d,3),!0):[]}function _p(u,d,v,T){var N=u==null?0:u.length;return N?(v&&typeof v!="number"&&f(u,d,v)&&(v=0,T=N),pv(u,d,v,T)):[]}function Ro(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var N=v==null?0:Rt(v);return N<0&&(N=wn(T+N,0)),Cs(u,at(d,3),N)}function Bs(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var N=T-1;return v!==n&&(N=Rt(v),N=v<0?wn(T+N,0):Zn(N,T-1)),Cs(u,at(d,3),N,!0)}function Us(u){var d=u==null?0:u.length;return d?sr(u,1):[]}function Pr(u){var d=u==null?0:u.length;return d?sr(u,me):[]}function Ll(u,d){var v=u==null?0:u.length;return v?(d=d===n?1:Rt(d),sr(u,d)):[]}function wp(u){for(var d=-1,v=u==null?0:u.length,T={};++d<v;){var N=u[d];T[N[0]]=N[1]}return T}function zT(u){return u&&u.length?u[0]:n}function hN(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var N=v==null?0:Rt(v);return N<0&&(N=wn(T+N,0)),_n(u,d,N)}function dN(u){var d=u==null?0:u.length;return d?ar(u,0,-1):[]}var pN=Dt(function(u){var d=yn(u,Xu);return d.length&&d[0]===u[0]?_l(d):[]}),gN=Dt(function(u){var d=Po(u),v=yn(u,Xu);return d===Po(v)?d=n:v.pop(),v.length&&v[0]===u[0]?_l(v,at(d,2)):[]}),mN=Dt(function(u){var d=Po(u),v=yn(u,Xu);return d=typeof d=="function"?d:n,d&&v.pop(),v.length&&v[0]===u[0]?_l(v,n,d):[]});function vN(u,d){return u==null?"":qd.call(u,d)}function Po(u){var d=u==null?0:u.length;return d?u[d-1]:n}function yN(u,d,v){var T=u==null?0:u.length;if(!T)return-1;var N=T;return v!==n&&(N=Rt(v),N=N<0?wn(T+N,0):Zn(N,T-1)),d===d?uw(u,d,N):Cs(u,Pd,N,!0)}function _N(u,d){return u&&u.length?Sl(u,Rt(d)):n}var wN=Dt(VT);function VT(u,d){return u&&u.length&&d&&d.length?lp(u,d):u}function xN(u,d,v){return u&&u.length&&d&&d.length?lp(u,d,at(v,2)):u}function EN(u,d,v){return u&&u.length&&d&&d.length?lp(u,d,n,v):u}var CN=bo(function(u,d){var v=u==null?0:u.length,T=ml(u,d);return Dr(u,yn(d,function(N){return h(N,v)?+N:N}).sort(dp)),T});function SN(u,d){var v=[];if(!(u&&u.length))return v;var T=-1,N=[],V=u.length;for(d=at(d,3);++T<V;){var Z=u[T];d(Z,T,u)&&(v.push(Z),N.push(T))}return Dr(u,N),v}function Bw(u){return u==null?u:Uu.call(u)}function TN(u,d,v){var T=u==null?0:u.length;return T?(v&&typeof v!="number"&&f(u,d,v)?(d=0,v=T):(d=d==null?0:Rt(d),v=v===n?T:Rt(v)),ar(u,d,v)):[]}function kN(u,d){return ba(u,d)}function AN(u,d,v){return Da(u,d,at(v,2))}function IN(u,d){var v=u==null?0:u.length;if(v){var T=ba(u,d);if(T<v&&ss(u[T],d))return T}return-1}function bN(u,d){return ba(u,d,!0)}function DN(u,d,v){return Da(u,d,at(v,2),!0)}function RN(u,d){var v=u==null?0:u.length;if(v){var T=ba(u,d,!0)-1;if(ss(u[T],d))return T}return-1}function PN(u){return u&&u.length?Ao(u):[]}function LN(u,d){return u&&u.length?Ao(u,at(d,2)):[]}function NN(u){var d=u==null?0:u.length;return d?ar(u,1,d):[]}function FN(u,d,v){return u&&u.length?(d=v||d===n?1:Rt(d),ar(u,0,d<0?0:d)):[]}function ON(u,d,v){var T=u==null?0:u.length;return T?(d=v||d===n?1:Rt(d),d=T-d,ar(u,d<0?0:d,T)):[]}function MN(u,d){return u&&u.length?Ku(u,at(d,3),!1,!0):[]}function BN(u,d){return u&&u.length?Ku(u,at(d,3)):[]}var UN=Dt(function(u){return di(sr(u,1,cr,!0))}),zN=Dt(function(u){var d=Po(u);return cr(d)&&(d=n),di(sr(u,1,cr,!0),at(d,2))}),VN=Dt(function(u){var d=Po(u);return d=typeof d=="function"?d:n,di(sr(u,1,cr,!0),n,d)});function $N(u){return u&&u.length?di(u):[]}function HN(u,d){return u&&u.length?di(u,at(d,2)):[]}function jN(u,d){return d=typeof d=="function"?d:n,u&&u.length?di(u,n,d):[]}function Uw(u){if(!(u&&u.length))return[];var d=0;return u=Es(u,function(v){if(cr(v))return d=wn(v.length,d),!0}),Fd(d,function(v){return yn(u,Ld(v))})}function $T(u,d){if(!(u&&u.length))return[];var v=Uw(u);return d==null?v:yn(v,function(T){return li(d,n,T)})}var WN=Dt(function(u,d){return cr(u)?ju(u,d):[]}),qN=Dt(function(u){return Ls(Es(u,cr))}),GN=Dt(function(u){var d=Po(u);return cr(d)&&(d=n),Ls(Es(u,cr),at(d,2))}),KN=Dt(function(u){var d=Po(u);return d=typeof d=="function"?d:n,Ls(Es(u,cr),n,d)}),QN=Dt(Uw);function XN(u,d){return Nf(u||[],d||[],pl)}function YN(u,d){return Nf(u||[],d||[],Tl)}var JN=Dt(function(u){var d=u.length,v=d>1?u[d-1]:n;return v=typeof v=="function"?(u.pop(),v):n,$T(u,v)});function HT(u){var d=z(u);return d.__chain__=!0,d}function ZN(u,d){return d(u),u}function Hv(u,d){return d(u)}var eF=bo(function(u){var d=u.length,v=d?u[0]:0,T=this.__wrapped__,N=function(V){return ml(V,u)};return d>1||this.__actions__.length||!(T instanceof ut)||!h(v)?this.thru(N):(T=T.slice(v,+v+(d?1:0)),T.__actions__.push({func:Hv,args:[N],thisArg:n}),new en(T,this.__chain__).thru(function(V){return d&&!V.length&&V.push(n),V}))});function tF(){return HT(this)}function nF(){return new en(this.value(),this.__chain__)}function rF(){this.__values__===n&&(this.__values__=rk(this.value()));var u=this.__index__>=this.__values__.length,d=u?n:this.__values__[this.__index__++];return{done:u,value:d}}function iF(){return this}function oF(u){for(var d,v=this;v instanceof Tr;){var T=Rr(v);T.__index__=0,T.__values__=n,d?N.__wrapped__=T:d=T;var N=T;v=v.__wrapped__}return N.__wrapped__=u,d}function sF(){var u=this.__wrapped__;if(u instanceof ut){var d=u;return this.__actions__.length&&(d=new ut(this)),d=d.reverse(),d.__actions__.push({func:Hv,args:[Bw],thisArg:n}),new en(d,this.__chain__)}return this.thru(Bw)}function aF(){return Qu(this.__wrapped__,this.__actions__)}var lF=Al(function(u,d,v){Xt.call(u,v)?++u[v]:rs(u,v,1)});function uF(u,d,v){var T=Tt(u)?bd:Sw;return v&&f(u,d,v)&&(d=n),T(u,at(d,3))}function cF(u,d){var v=Tt(u)?Es:Ta;return v(u,at(d,3))}var fF=gp(Ro),hF=gp(Bs);function dF(u,d){return sr(jv(u,d),1)}function pF(u,d){return sr(jv(u,d),me)}function gF(u,d,v){return v=v===n?1:Rt(v),sr(jv(u,d),v)}function jT(u,d){var v=Tt(u)?Ti:Ji;return v(u,at(d,3))}function WT(u,d){var v=Tt(u)?jm:np;return v(u,at(d,3))}var mF=Al(function(u,d,v){Xt.call(u,v)?u[v].push(d):rs(u,v,[d])});function vF(u,d,v,T){u=Di(u)?u:Wf(u),v=v&&!T?Rt(v):0;var N=u.length;return v<0&&(v=wn(N+v,0)),Qv(u)?v<=N&&u.indexOf(d,v)>-1:!!N&&_n(u,d,v)>-1}var yF=Dt(function(u,d,v){var T=-1,N=typeof d=="function",V=Di(u)?pe(u.length):[];return Ji(u,function(Z){V[++T]=N?li(d,Z,v):wl(Z,d,v)}),V}),_F=Al(function(u,d,v){rs(u,v,d)});function jv(u,d){var v=Tt(u)?yn:sp;return v(u,at(d,3))}function wF(u,d,v,T){return u==null?[]:(Tt(d)||(d=d==null?[]:[d]),v=T?n:v,Tt(v)||(v=v==null?[]:[v]),Sv(u,d,v))}var xF=Al(function(u,d,v){u[v?0:1].push(d)},function(){return[[],[]]});function EF(u,d,v){var T=Tt(u)?Rd:Gm,N=arguments.length<3;return T(u,at(d,4),v,N,Ji)}function CF(u,d,v){var T=Tt(u)?Wm:Gm,N=arguments.length<3;return T(u,at(d,4),v,N,np)}function SF(u,d){var v=Tt(u)?Es:Ta;return v(u,Gv(at(d,3)))}function TF(u){var d=Tt(u)?Jd:Av;return d(u)}function kF(u,d,v){(v?f(u,d,v):d===n)?d=1:d=Rt(d);var T=Tt(u)?Ew:Iv;return T(u,d)}function AF(u){var d=Tt(u)?Zd:Iw;return d(u)}function IF(u){if(u==null)return 0;if(Di(u))return Qv(u)?ul(u):u.length;var d=lr(u);return d==Jt||d==dn?u.size:Aa(u).length}function bF(u,d,v){var T=Tt(u)?ol:Gu;return v&&f(u,d,v)&&(d=n),T(u,at(d,3))}var DF=Dt(function(u,d){if(u==null)return[];var v=d.length;return v>1&&f(u,d[0],d[1])?d=[]:v>2&&f(d[0],d[1],d[2])&&(d=[d[0]]),Sv(u,sr(d,1),[])}),Wv=hl||function(){return un.Date.now()};function RF(u,d){if(typeof d!="function")throw new ki(a);return u=Rt(u),function(){if(--u<1)return d.apply(this,arguments)}}function qT(u,d,v){return d=v?n:d,d=u&&d==null?u.length:d,$t(u,$,n,n,n,n,d)}function GT(u,d){var v;if(typeof d!="function")throw new ki(a);return u=Rt(u),function(){return--u>0&&(v=d.apply(this,arguments)),u<=1&&(d=n),v}}var zw=Dt(function(u,d,v){var T=M;if(v.length){var N=ui(v,Rl(zw));T|=j}return $t(u,T,d,v,N)}),KT=Dt(function(u,d,v){var T=M|R;if(v.length){var N=ui(v,Rl(KT));T|=j}return $t(d,T,u,v,N)});function QT(u,d,v){d=v?n:d;var T=$t(u,D,n,n,n,n,n,d);return T.placeholder=QT.placeholder,T}function XT(u,d,v){d=v?n:d;var T=$t(u,B,n,n,n,n,n,d);return T.placeholder=XT.placeholder,T}function YT(u,d,v){var T,N,V,Z,te,le,Ce=0,Se=!1,De=!1,We=!0;if(typeof u!="function")throw new ki(a);d=Lo(d)||0,Hn(v)&&(Se=!!v.leading,De="maxWait"in v,V=De?wn(Lo(v.maxWait)||0,d):V,We="trailing"in v?!!v.trailing:We);function st(fr){var as=T,Na=N;return T=N=n,Ce=fr,Z=u.apply(Na,as),Z}function ht(fr){return Ce=fr,te=rt(Ft,d),Se?st(fr):Z}function Pt(fr){var as=fr-le,Na=fr-Ce,mk=d-as;return De?Zn(mk,V-Na):mk}function dt(fr){var as=fr-le,Na=fr-Ce;return le===n||as>=d||as<0||De&&Na>=V}function Ft(){var fr=Wv();if(dt(fr))return Ht(fr);te=rt(Ft,Pt(fr))}function Ht(fr){return te=n,We&&T?st(fr):(T=N=n,Z)}function no(){te!==n&&Rv(te),Ce=0,T=le=N=te=n}function pi(){return te===n?Z:Ht(Wv())}function ro(){var fr=Wv(),as=dt(fr);if(T=arguments,N=this,le=fr,as){if(te===n)return ht(le);if(De)return Rv(te),te=rt(Ft,d),st(le)}return te===n&&(te=rt(Ft,d)),Z}return ro.cancel=no,ro.flush=pi,ro}var PF=Dt(function(u,d){return dv(u,1,d)}),LF=Dt(function(u,d,v){return dv(u,Lo(d)||0,v)});function NF(u){return $t(u,ae)}function qv(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new ki(a);var v=function(){var T=arguments,N=d?d.apply(this,T):T[0],V=v.cache;if(V.has(N))return V.get(N);var Z=u.apply(this,T);return v.cache=V.set(N,Z)||V,Z};return v.cache=new(qv.Cache||Xi),v}qv.Cache=Xi;function Gv(u){if(typeof u!="function")throw new ki(a);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function FF(u){return GT(2,u)}var OF=Ju(function(u,d){d=d.length==1&&Tt(d[0])?yn(d[0],Xr(at())):yn(sr(d,1),Xr(at()));var v=d.length;return Dt(function(T){for(var N=-1,V=Zn(T.length,v);++N<V;)T[N]=d[N].call(this,T[N]);return li(u,this,T)})}),Vw=Dt(function(u,d){var v=ui(d,Rl(Vw));return $t(u,j,n,d,v)}),JT=Dt(function(u,d){var v=ui(d,Rl(JT));return $t(u,U,n,d,v)}),MF=bo(function(u,d){return $t(u,Y,n,n,n,d)});function BF(u,d){if(typeof u!="function")throw new ki(a);return d=d===n?d:Rt(d),Dt(u,d)}function UF(u,d){if(typeof u!="function")throw new ki(a);return d=d==null?0:wn(Rt(d),0),Dt(function(v){var T=v[d],N=os(v,0,d);return T&&Yo(N,T),li(u,this,N)})}function zF(u,d,v){var T=!0,N=!0;if(typeof u!="function")throw new ki(a);return Hn(v)&&(T="leading"in v?!!v.leading:T,N="trailing"in v?!!v.trailing:N),YT(u,d,{leading:T,maxWait:d,trailing:N})}function VF(u){return qT(u,1)}function $F(u,d){return Vw(Yu(d),u)}function HF(){if(!arguments.length)return[];var u=arguments[0];return Tt(u)?u:[u]}function jF(u){return fi(u,S)}function WF(u,d){return d=typeof d=="function"?d:n,fi(u,S,d)}function qF(u){return fi(u,w|S)}function GF(u,d){return d=typeof d=="function"?d:n,fi(u,w|S,d)}function KF(u,d){return d==null||tp(u,d,Lr(d))}function ss(u,d){return u===d||u!==u&&d!==d}var QF=tc(Rf),XF=tc(function(u,d){return u>=d}),ac=ip(function(){return arguments}())?ip:function(u){return tr(u)&&Xt.call(u,"callee")&&!xf.call(u,"callee")},Tt=pe.isArray,YF=ff?Xr(ff):xl;function Di(u){return u!=null&&Kv(u.length)&&!Pa(u)}function cr(u){return tr(u)&&Di(u)}function JF(u){return u===!0||u===!1||tr(u)&&gr(u)==Bt}var Nl=fw||Jw,ZF=xo?Xr(xo):yv;function eO(u){return tr(u)&&u.nodeType===1&&!xp(u)}function tO(u){if(u==null)return!0;if(Di(u)&&(Tt(u)||typeof u=="string"||typeof u.splice=="function"||Nl(u)||jf(u)||ac(u)))return!u.length;var d=lr(u);if(d==Jt||d==dn)return!u.size;if(P(u))return!Aa(u).length;for(var v in u)if(Xt.call(u,v))return!1;return!0}function nO(u,d){return Ps(u,d)}function rO(u,d,v){v=typeof v=="function"?v:n;var T=v?v(u,d):n;return T===n?Ps(u,d,n,v):!!T}function $w(u){if(!tr(u))return!1;var d=gr(u);return d==bt||d==an||typeof u.message=="string"&&typeof u.name=="string"&&!xp(u)}function iO(u){return typeof u=="number"&&rv(u)}function Pa(u){if(!Hn(u))return!1;var d=gr(u);return d==Nt||d==gn||d==At||d==Ci}function ZT(u){return typeof u=="number"&&u==Rt(u)}function Kv(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=he}function Hn(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function tr(u){return u!=null&&typeof u=="object"}var ek=Nu?Xr(Nu):Wu;function oO(u,d){return u===d||op(u,d,qt(d))}function sO(u,d,v){return v=typeof v=="function"?v:n,op(u,d,qt(d),v)}function aO(u){return tk(u)&&u!=+u}function lO(u){if(I(u))throw new gt(s);return ka(u)}function uO(u){return u===null}function cO(u){return u==null}function tk(u){return typeof u=="number"||tr(u)&&gr(u)==Ye}function xp(u){if(!tr(u)||gr(u)!=kn)return!1;var d=Ts(u);if(d===null)return!0;var v=Xt.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&cl.call(v)==ma}var Hw=hf?Xr(hf):wv;function fO(u){return ZT(u)&&u>=-he&&u<=he}var nk=da?Xr(da):xv;function Qv(u){return typeof u=="string"||!Tt(u)&&tr(u)&&gr(u)==br}function to(u){return typeof u=="symbol"||tr(u)&&gr(u)==$i}var jf=Hm?Xr(Hm):Ev;function hO(u){return u===n}function dO(u){return tr(u)&&lr(u)==ue}function pO(u){return tr(u)&&gr(u)==re}var gO=tc(Ia),mO=tc(function(u,d){return u<=d});function rk(u){if(!u)return[];if(Di(u))return Qv(u)?ji(u):Yr(u);if(ya&&u[ya])return lw(u[ya]());var d=lr(u),v=d==Jt?mf:d==dn?ci:Wf;return v(u)}function La(u){if(!u)return u===0?u:0;if(u=Lo(u),u===me||u===-me){var d=u<0?-1:1;return d*Pe}return u===u?u:0}function Rt(u){var d=La(u),v=d%1;return d===d?v?d-v:d:0}function ik(u){return u?is(Rt(u),0,tt):0}function Lo(u){if(typeof u=="number")return u;if(to(u))return q;if(Hn(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=Hn(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=Od(u);var v=rl.test(u);return v||Q_.test(u)?lf(u.slice(2),v?2:8):pd.test(u)?q:+u}function ok(u){return eo(u,Ri(u))}function vO(u){return u?is(Rt(u),-he,he):u===0?u:0}function sn(u){return u==null?"":hi(u)}var yO=Io(function(u,d){if(P(d)||Di(d)){eo(d,Lr(d),u);return}for(var v in d)Xt.call(d,v)&&pl(u,v,d[v])}),sk=Io(function(u,d){eo(d,Ri(d),u)}),Xv=Io(function(u,d,v,T){eo(d,Ri(d),u,T)}),_O=Io(function(u,d,v,T){eo(d,Lr(d),u,T)}),wO=bo(ml);function xO(u,d){var v=dl(u);return d==null?v:ep(v,d)}var EO=Dt(function(u,d){u=on(u);var v=-1,T=d.length,N=T>2?d[2]:n;for(N&&f(d[0],d[1],N)&&(T=1);++v<T;)for(var V=d[v],Z=Ri(V),te=-1,le=Z.length;++te<le;){var Ce=Z[te],Se=u[Ce];(Se===n||ss(Se,Wi[Ce])&&!Xt.call(u,Ce))&&(u[Ce]=V[Ce])}return u}),CO=Dt(function(u){return u.push(n,Uf),li(ak,n,u)});function SO(u,d){return qm(u,at(d,3),Ii)}function TO(u,d){return qm(u,at(d,3),bf)}function kO(u,d){return u==null?u:vl(u,at(d,3),Ri)}function AO(u,d){return u==null?u:rp(u,at(d,3),Ri)}function IO(u,d){return u&&Ii(u,at(d,3))}function bO(u,d){return u&&bf(u,at(d,3))}function DO(u){return u==null?[]:Df(u,Lr(u))}function RO(u){return u==null?[]:Df(u,Ri(u))}function jw(u,d,v){var T=u==null?n:Rs(u,d);return T===n?v:T}function PO(u,d){return u!=null&&Vv(u,d,gv)}function Ww(u,d){return u!=null&&Vv(u,d,mv)}var LO=mp(function(u,d,v){d!=null&&typeof d.toString!="function"&&(d=So.call(d)),u[d]=v},Gw(Pi)),NO=mp(function(u,d,v){d!=null&&typeof d.toString!="function"&&(d=So.call(d)),Xt.call(u,d)?u[d].push(v):u[d]=[v]},at),FO=Dt(wl);function Lr(u){return Di(u)?Af(u):Aa(u)}function Ri(u){return Di(u)?Af(u,!0):qu(u)}function OO(u,d){var v={};return d=at(d,3),Ii(u,function(T,N,V){rs(v,d(T,N,V),T)}),v}function MO(u,d){var v={};return d=at(d,3),Ii(u,function(T,N,V){rs(v,N,d(T,N,V))}),v}var BO=Io(function(u,d,v){Zi(u,d,v)}),ak=Io(function(u,d,v,T){Zi(u,d,v,T)}),UO=bo(function(u,d){var v={};if(u==null)return v;var T=!1;d=yn(d,function(V){return V=Ns(V,u),T||(T=V.length>1),V}),eo(u,$f(u),v),T&&(v=fi(v,w|E|S,rc));for(var N=d.length;N--;)Lf(v,d[N]);return v});function zO(u,d){return lk(u,Gv(at(d)))}var VO=bo(function(u,d){return u==null?{}:Tv(u,d)});function lk(u,d){if(u==null)return{};var v=yn($f(u),function(T){return[T]});return d=at(d),kv(u,v,function(T,N){return d(T,N[0])})}function $O(u,d,v){d=Ns(d,u);var T=-1,N=d.length;for(N||(N=1,u=n);++T<N;){var V=u==null?n:u[In(d[T])];V===n&&(T=N,V=v),u=Pa(V)?V.call(u):V}return u}function HO(u,d,v){return u==null?u:Tl(u,d,v)}function jO(u,d,v,T){return T=typeof T=="function"?T:n,u==null?u:Tl(u,d,v,T)}var uk=Bv(Lr),ck=Bv(Ri);function WO(u,d,v){var T=Tt(u),N=T||Nl(u)||jf(u);if(d=at(d,4),v==null){var V=u&&u.constructor;N?v=T?new V:[]:Hn(u)?v=Pa(V)?dl(Ts(u)):{}:v={}}return(N?Ti:Ii)(u,function(Z,te,le){return d(v,Z,te,le)}),v}function qO(u,d){return u==null?!0:Lf(u,d)}function GO(u,d,v){return u==null?u:cp(u,d,Yu(v))}function KO(u,d,v,T){return T=typeof T=="function"?T:n,u==null?u:cp(u,d,Yu(v),T)}function Wf(u){return u==null?[]:Md(u,Lr(u))}function QO(u){return u==null?[]:Md(u,Ri(u))}function XO(u,d,v){return v===n&&(v=d,d=n),v!==n&&(v=Lo(v),v=v===v?v:0),d!==n&&(d=Lo(d),d=d===d?d:0),is(Lo(u),d,v)}function YO(u,d,v){return d=La(d),v===n?(v=d,d=0):v=La(v),u=Lo(u),yl(u,d,v)}function JO(u,d,v){if(v&&typeof v!="boolean"&&f(u,d,v)&&(d=v=n),v===n&&(typeof d=="boolean"?(v=d,d=n):typeof u=="boolean"&&(v=u,u=n)),u===n&&d===n?(u=0,d=1):(u=La(u),d===n?(d=u,u=0):d=La(d)),u>d){var T=u;u=d,d=T}if(v||u%1||d%1){var N=Kd();return Zn(u+N*(d-u+zm("1e-"+((N+"").length-1))),d)}return Pf(u,d)}var ZO=bl(function(u,d,v){return d=d.toLowerCase(),u+(v?fk(d):d)});function fk(u){return qw(sn(u).toLowerCase())}function hk(u){return u=sn(u),u&&u.replace(gd,Km).replace(Z_,"")}function e6(u,d,v){u=sn(u),d=hi(d);var T=u.length;v=v===n?T:is(Rt(v),0,T);var N=v;return v-=d.length,v>=0&&u.slice(v,N)==d}function t6(u){return u=sn(u),u&&Yn.test(u)?u.replace(zt,Co):u}function n6(u){return u=sn(u),u&&_s.test(u)?u.replace(la,"\\$&"):u}var r6=bl(function(u,d,v){return u+(v?"-":"")+d.toLowerCase()}),i6=bl(function(u,d,v){return u+(v?" ":"")+d.toLowerCase()}),o6=Fv("toLowerCase");function s6(u,d,v){u=sn(u),d=Rt(d);var T=d?ul(u):0;if(!d||T>=d)return u;var N=(d-T)/2;return Bf(_a(N),v)+u+Bf(Bu(N),v)}function a6(u,d,v){u=sn(u),d=Rt(d);var T=d?ul(u):0;return d&&T<d?u+Bf(d-T,v):u}function l6(u,d,v){u=sn(u),d=Rt(d);var T=d?ul(u):0;return d&&T<d?Bf(d-T,v)+u:u}function u6(u,d,v){return v||d==null?d=0:d&&(d=+d),Cf(sn(u).replace(ud,""),d||0)}function c6(u,d,v){return(v?f(u,d,v):d===n)?d=1:d=Rt(d),up(sn(u),d)}function f6(){var u=arguments,d=sn(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var h6=bl(function(u,d,v){return u+(v?"_":"")+d.toLowerCase()});function d6(u,d,v){return v&&typeof v!="number"&&f(u,d,v)&&(d=v=n),v=v===n?tt:v>>>0,v?(u=sn(u),u&&(typeof d=="string"||d!=null&&!Hw(d))&&(d=hi(d),!d&&ll(u))?os(ji(u),0,v):u.split(d,v)):[]}var p6=bl(function(u,d,v){return u+(v?" ":"")+qw(d)});function g6(u,d,v){return u=sn(u),v=v==null?0:is(Rt(v),0,u.length),d=hi(d),u.slice(v,v+d.length)==d}function m6(u,d,v){var T=z.templateSettings;v&&f(u,d,v)&&(d=n),u=sn(u),d=Xv({},d,T,Uv);var N=Xv({},d.imports,T.imports,Uv),V=Lr(N),Z=Md(N,V),te,le,Ce=0,Se=d.interpolate||Qo,De="__p += '",We=Mu((d.escape||Qo).source+"|"+Se.source+"|"+(Se===mn?dd:Qo).source+"|"+(d.evaluate||Qo).source+"|$","g"),st="//# sourceURL="+(Xt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nw+"]")+`
`;u.replace(We,function(dt,Ft,Ht,no,pi,ro){return Ht||(Ht=no),De+=u.slice(Ce,ro).replace(X_,pa),Ft&&(te=!0,De+=`' +
__e(`+Ft+`) +
'`),pi&&(le=!0,De+=`';
`+pi+`;
__p += '`),Ht&&(De+=`' +
((__t = (`+Ht+`)) == null ? '' : __t) +
'`),Ce=ro+dt.length,dt}),De+=`';
`;var ht=Xt.call(d,"variable")&&d.variable;if(!ht)De=`with (obj) {
`+De+`
}
`;else if(q_.test(ht))throw new gt(c);De=(le?De.replace(ot,""):De).replace(ge,"$1").replace(Qt,"$1;"),De="function("+(ht||"obj")+`) {
`+(ht?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(te?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+De+`return __p
}`;var Pt=pk(function(){return Vt(V,st+"return "+De).apply(n,Z)});if(Pt.source=De,$w(Pt))throw Pt;return Pt}function v6(u){return sn(u).toLowerCase()}function y6(u){return sn(u).toUpperCase()}function _6(u,d,v){if(u=sn(u),u&&(v||d===n))return Od(u);if(!u||!(d=hi(d)))return u;var T=ji(u),N=ji(d),V=Eo(T,N),Z=Fu(T,N)+1;return os(T,V,Z).join("")}function w6(u,d,v){if(u=sn(u),u&&(v||d===n))return u.slice(0,zd(u)+1);if(!u||!(d=hi(d)))return u;var T=ji(u),N=Fu(T,ji(d))+1;return os(T,0,N).join("")}function x6(u,d,v){if(u=sn(u),u&&(v||d===n))return u.replace(ud,"");if(!u||!(d=hi(d)))return u;var T=ji(u),N=Eo(T,ji(d));return os(T,N).join("")}function E6(u,d){var v=xe,T=ie;if(Hn(d)){var N="separator"in d?d.separator:N;v="length"in d?Rt(d.length):v,T="omission"in d?hi(d.omission):T}u=sn(u);var V=u.length;if(ll(u)){var Z=ji(u);V=Z.length}if(v>=V)return u;var te=v-ul(T);if(te<1)return T;var le=Z?os(Z,0,te).join(""):u.slice(0,te);if(N===n)return le+T;if(Z&&(te+=le.length-te),Hw(N)){if(u.slice(te).search(N)){var Ce,Se=le;for(N.global||(N=Mu(N.source,sn(Rm.exec(N))+"g")),N.lastIndex=0;Ce=N.exec(Se);)var De=Ce.index;le=le.slice(0,De===n?te:De)}}else if(u.indexOf(hi(N),te)!=te){var We=le.lastIndexOf(N);We>-1&&(le=le.slice(0,We))}return le+T}function C6(u){return u=sn(u),u&&yt.test(u)?u.replace(Ut,Jm):u}var S6=bl(function(u,d,v){return u+(v?" ":"")+d.toUpperCase()}),qw=Fv("toUpperCase");function dk(u,d,v){return u=sn(u),d=v?n:d,d===n?Qm(u)?ev(u):ow(u):u.match(d)||[]}var pk=Dt(function(u,d){try{return li(u,n,d)}catch(v){return $w(v)?v:new gt(v)}}),T6=bo(function(u,d){return Ti(d,function(v){v=In(v),rs(u,v,zw(u[v],u))}),u});function k6(u){var d=u==null?0:u.length,v=at();return u=d?yn(u,function(T){if(typeof T[1]!="function")throw new ki(a);return[v(T[0]),T[1]]}):[],Dt(function(T){for(var N=-1;++N<d;){var V=u[N];if(li(V[0],this,T))return li(V[1],this,T)}})}function A6(u){return Cw(fi(u,w))}function Gw(u){return function(){return u}}function I6(u,d){return u==null||u!==u?d:u}var b6=Ov(),D6=Ov(!0);function Pi(u){return u}function Kw(u){return El(typeof u=="function"?u:fi(u,w))}function R6(u){return Cv(fi(u,w))}function P6(u,d){return ap(u,fi(d,w))}var L6=Dt(function(u,d){return function(v){return wl(v,u,d)}}),N6=Dt(function(u,d){return function(v){return wl(u,v,d)}});function Qw(u,d,v){var T=Lr(d),N=Df(d,T);v==null&&!(Hn(d)&&(N.length||!T.length))&&(v=d,d=u,u=this,N=Df(d,Lr(d)));var V=!(Hn(v)&&"chain"in v)||!!v.chain,Z=Pa(u);return Ti(N,function(te){var le=d[te];u[te]=le,Z&&(u.prototype[te]=function(){var Ce=this.__chain__;if(V||Ce){var Se=u(this.__wrapped__),De=Se.__actions__=Yr(this.__actions__);return De.push({func:le,args:arguments,thisArg:u}),Se.__chain__=Ce,Se}return le.apply(u,Yo([this.value()],arguments))})}),u}function F6(){return un._===this&&(un._=zr),this}function Xw(){}function O6(u){return u=Rt(u),Dt(function(d){return Sl(d,u)})}var M6=Mf(yn),B6=Mf(bd),U6=Mf(ol);function gk(u){return g(u)?Ld(In(u)):Tw(u)}function z6(u){return function(d){return u==null?n:Rs(u,d)}}var V6=Ra(),$6=Ra(!0);function Yw(){return[]}function Jw(){return!1}function H6(){return{}}function j6(){return""}function W6(){return!0}function q6(u,d){if(u=Rt(u),u<1||u>he)return[];var v=tt,T=Zn(u,tt);d=at(d),u-=tt;for(var N=Fd(T,d);++v<u;)d(v);return N}function G6(u){return Tt(u)?yn(u,In):to(u)?[u]:Yr(vn(sn(u)))}function K6(u){var d=++tv;return sn(u)+d}var Q6=Dl(function(u,d){return u+d},0),X6=vp("ceil"),Y6=Dl(function(u,d){return u/d},1),J6=vp("floor");function Z6(u){return u&&u.length?If(u,Pi,Rf):n}function e5(u,d){return u&&u.length?If(u,at(d,2),Rf):n}function t5(u){return al(u,Pi)}function n5(u,d){return al(u,at(d,2))}function r5(u){return u&&u.length?If(u,Pi,Ia):n}function i5(u,d){return u&&u.length?If(u,at(d,2),Ia):n}var o5=Dl(function(u,d){return u*d},1),s5=vp("round"),a5=Dl(function(u,d){return u-d},0);function l5(u){return u&&u.length?gf(u,Pi):0}function u5(u,d){return u&&u.length?gf(u,at(d,2)):0}return z.after=RF,z.ary=qT,z.assign=yO,z.assignIn=sk,z.assignInWith=Xv,z.assignWith=_O,z.at=wO,z.before=GT,z.bind=zw,z.bindAll=T6,z.bindKey=KT,z.castArray=HF,z.chain=HT,z.chunk=mr,z.compact=er,z.concat=$n,z.cond=k6,z.conforms=A6,z.constant=Gw,z.countBy=lF,z.create=xO,z.curry=QT,z.curryRight=XT,z.debounce=YT,z.defaults=EO,z.defaultsDeep=CO,z.defer=PF,z.delay=LF,z.difference=bn,z.differenceBy=Vr,z.differenceWith=Pl,z.drop=Ms,z.dropRight=kr,z.dropRightWhile=Do,z.dropWhile=ur,z.fill=_p,z.filter=cF,z.flatMap=dF,z.flatMapDeep=pF,z.flatMapDepth=gF,z.flatten=Us,z.flattenDeep=Pr,z.flattenDepth=Ll,z.flip=NF,z.flow=b6,z.flowRight=D6,z.fromPairs=wp,z.functions=DO,z.functionsIn=RO,z.groupBy=mF,z.initial=dN,z.intersection=pN,z.intersectionBy=gN,z.intersectionWith=mN,z.invert=LO,z.invertBy=NO,z.invokeMap=yF,z.iteratee=Kw,z.keyBy=_F,z.keys=Lr,z.keysIn=Ri,z.map=jv,z.mapKeys=OO,z.mapValues=MO,z.matches=R6,z.matchesProperty=P6,z.memoize=qv,z.merge=BO,z.mergeWith=ak,z.method=L6,z.methodOf=N6,z.mixin=Qw,z.negate=Gv,z.nthArg=O6,z.omit=UO,z.omitBy=zO,z.once=FF,z.orderBy=wF,z.over=M6,z.overArgs=OF,z.overEvery=B6,z.overSome=U6,z.partial=Vw,z.partialRight=JT,z.partition=xF,z.pick=VO,z.pickBy=lk,z.property=gk,z.propertyOf=z6,z.pull=wN,z.pullAll=VT,z.pullAllBy=xN,z.pullAllWith=EN,z.pullAt=CN,z.range=V6,z.rangeRight=$6,z.rearg=MF,z.reject=SF,z.remove=SN,z.rest=BF,z.reverse=Bw,z.sampleSize=kF,z.set=HO,z.setWith=jO,z.shuffle=AF,z.slice=TN,z.sortBy=DF,z.sortedUniq=PN,z.sortedUniqBy=LN,z.split=d6,z.spread=UF,z.tail=NN,z.take=FN,z.takeRight=ON,z.takeRightWhile=MN,z.takeWhile=BN,z.tap=ZN,z.throttle=zF,z.thru=Hv,z.toArray=rk,z.toPairs=uk,z.toPairsIn=ck,z.toPath=G6,z.toPlainObject=ok,z.transform=WO,z.unary=VF,z.union=UN,z.unionBy=zN,z.unionWith=VN,z.uniq=$N,z.uniqBy=HN,z.uniqWith=jN,z.unset=qO,z.unzip=Uw,z.unzipWith=$T,z.update=GO,z.updateWith=KO,z.values=Wf,z.valuesIn=QO,z.without=WN,z.words=dk,z.wrap=$F,z.xor=qN,z.xorBy=GN,z.xorWith=KN,z.zip=QN,z.zipObject=XN,z.zipObjectDeep=YN,z.zipWith=JN,z.entries=uk,z.entriesIn=ck,z.extend=sk,z.extendWith=Xv,Qw(z,z),z.add=Q6,z.attempt=pk,z.camelCase=ZO,z.capitalize=fk,z.ceil=X6,z.clamp=XO,z.clone=jF,z.cloneDeep=qF,z.cloneDeepWith=GF,z.cloneWith=WF,z.conformsTo=KF,z.deburr=hk,z.defaultTo=I6,z.divide=Y6,z.endsWith=e6,z.eq=ss,z.escape=t6,z.escapeRegExp=n6,z.every=uF,z.find=fF,z.findIndex=Ro,z.findKey=SO,z.findLast=hF,z.findLastIndex=Bs,z.findLastKey=TO,z.floor=J6,z.forEach=jT,z.forEachRight=WT,z.forIn=kO,z.forInRight=AO,z.forOwn=IO,z.forOwnRight=bO,z.get=jw,z.gt=QF,z.gte=XF,z.has=PO,z.hasIn=Ww,z.head=zT,z.identity=Pi,z.includes=vF,z.indexOf=hN,z.inRange=YO,z.invoke=FO,z.isArguments=ac,z.isArray=Tt,z.isArrayBuffer=YF,z.isArrayLike=Di,z.isArrayLikeObject=cr,z.isBoolean=JF,z.isBuffer=Nl,z.isDate=ZF,z.isElement=eO,z.isEmpty=tO,z.isEqual=nO,z.isEqualWith=rO,z.isError=$w,z.isFinite=iO,z.isFunction=Pa,z.isInteger=ZT,z.isLength=Kv,z.isMap=ek,z.isMatch=oO,z.isMatchWith=sO,z.isNaN=aO,z.isNative=lO,z.isNil=cO,z.isNull=uO,z.isNumber=tk,z.isObject=Hn,z.isObjectLike=tr,z.isPlainObject=xp,z.isRegExp=Hw,z.isSafeInteger=fO,z.isSet=nk,z.isString=Qv,z.isSymbol=to,z.isTypedArray=jf,z.isUndefined=hO,z.isWeakMap=dO,z.isWeakSet=pO,z.join=vN,z.kebabCase=r6,z.last=Po,z.lastIndexOf=yN,z.lowerCase=i6,z.lowerFirst=o6,z.lt=gO,z.lte=mO,z.max=Z6,z.maxBy=e5,z.mean=t5,z.meanBy=n5,z.min=r5,z.minBy=i5,z.stubArray=Yw,z.stubFalse=Jw,z.stubObject=H6,z.stubString=j6,z.stubTrue=W6,z.multiply=o5,z.nth=_N,z.noConflict=F6,z.noop=Xw,z.now=Wv,z.pad=s6,z.padEnd=a6,z.padStart=l6,z.parseInt=u6,z.random=JO,z.reduce=EF,z.reduceRight=CF,z.repeat=c6,z.replace=f6,z.result=$O,z.round=s5,z.runInContext=se,z.sample=TF,z.size=IF,z.snakeCase=h6,z.some=bF,z.sortedIndex=kN,z.sortedIndexBy=AN,z.sortedIndexOf=IN,z.sortedLastIndex=bN,z.sortedLastIndexBy=DN,z.sortedLastIndexOf=RN,z.startCase=p6,z.startsWith=g6,z.subtract=a5,z.sum=l5,z.sumBy=u5,z.template=m6,z.times=q6,z.toFinite=La,z.toInteger=Rt,z.toLength=ik,z.toLower=v6,z.toNumber=Lo,z.toSafeInteger=vO,z.toString=sn,z.toUpper=y6,z.trim=_6,z.trimEnd=w6,z.trimStart=x6,z.truncate=E6,z.unescape=C6,z.uniqueId=K6,z.upperCase=S6,z.upperFirst=qw,z.each=jT,z.eachRight=WT,z.first=zT,Qw(z,function(){var u={};return Ii(z,function(d,v){Xt.call(z.prototype,v)||(u[v]=d)}),u}(),{chain:!1}),z.VERSION=r,Ti(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){z[u].placeholder=z}),Ti(["drop","take"],function(u,d){ut.prototype[u]=function(v){v=v===n?1:wn(Rt(v),0);var T=this.__filtered__&&!d?new ut(this):this.clone();return T.__filtered__?T.__takeCount__=Zn(v,T.__takeCount__):T.__views__.push({size:Zn(v,tt),type:u+(T.__dir__<0?"Right":"")}),T},ut.prototype[u+"Right"]=function(v){return this.reverse()[u](v).reverse()}}),Ti(["filter","map","takeWhile"],function(u,d){var v=d+1,T=v==Le||v==_e;ut.prototype[u]=function(N){var V=this.clone();return V.__iteratees__.push({iteratee:at(N,3),type:v}),V.__filtered__=V.__filtered__||T,V}}),Ti(["head","last"],function(u,d){var v="take"+(d?"Right":"");ut.prototype[u]=function(){return this[v](1).value()[0]}}),Ti(["initial","tail"],function(u,d){var v="drop"+(d?"":"Right");ut.prototype[u]=function(){return this.__filtered__?new ut(this):this[v](1)}}),ut.prototype.compact=function(){return this.filter(Pi)},ut.prototype.find=function(u){return this.filter(u).head()},ut.prototype.findLast=function(u){return this.reverse().find(u)},ut.prototype.invokeMap=Dt(function(u,d){return typeof u=="function"?new ut(this):this.map(function(v){return wl(v,u,d)})}),ut.prototype.reject=function(u){return this.filter(Gv(at(u)))},ut.prototype.slice=function(u,d){u=Rt(u);var v=this;return v.__filtered__&&(u>0||d<0)?new ut(v):(u<0?v=v.takeRight(-u):u&&(v=v.drop(u)),d!==n&&(d=Rt(d),v=d<0?v.dropRight(-d):v.take(d-u)),v)},ut.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},ut.prototype.toArray=function(){return this.take(tt)},Ii(ut.prototype,function(u,d){var v=/^(?:filter|find|map|reject)|While$/.test(d),T=/^(?:head|last)$/.test(d),N=z[T?"take"+(d=="last"?"Right":""):d],V=T||/^find/.test(d);N&&(z.prototype[d]=function(){var Z=this.__wrapped__,te=T?[1]:arguments,le=Z instanceof ut,Ce=te[0],Se=le||Tt(Z),De=function(Ft){var Ht=N.apply(z,Yo([Ft],te));return T&&We?Ht[0]:Ht};Se&&v&&typeof Ce=="function"&&Ce.length!=1&&(le=Se=!1);var We=this.__chain__,st=!!this.__actions__.length,ht=V&&!We,Pt=le&&!st;if(!V&&Se){Z=Pt?Z:new ut(this);var dt=u.apply(Z,te);return dt.__actions__.push({func:Hv,args:[De],thisArg:n}),new en(dt,We)}return ht&&Pt?u.apply(this,te):(dt=this.thru(De),ht?T?dt.value()[0]:dt.value():dt)})}),Ti(["pop","push","shift","sort","splice","unshift"],function(u){var d=yf[u],v=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",T=/^(?:pop|shift)$/.test(u);z.prototype[u]=function(){var N=arguments;if(T&&!this.__chain__){var V=this.value();return d.apply(Tt(V)?V:[],N)}return this[v](function(Z){return d.apply(Tt(Z)?Z:[],N)})}}),Ii(ut.prototype,function(u,d){var v=z[d];if(v){var T=v.name+"";Xt.call(xa,T)||(xa[T]=[]),xa[T].push({name:d,func:v})}}),xa[Of(n,R).name]=[{name:"wrapper",func:n}],ut.prototype.clone=or,ut.prototype.reverse=$u,ut.prototype.value=gw,z.prototype.at=eF,z.prototype.chain=tF,z.prototype.commit=nF,z.prototype.next=rF,z.prototype.plant=oF,z.prototype.reverse=sF,z.prototype.toJSON=z.prototype.valueOf=z.prototype.value=aF,z.prototype.first=z.prototype.head,ya&&(z.prototype[ya]=iF),z},Zo=Vd();ha?((ha.exports=Zo)._=Zo,Id._=Zo):un._=Zo}).call(Xf)})(ey,ey.exports);var AY=ey.exports;const IY=({blogs:t,title:e})=>{const n=Eu();return W.jsxs("div",{children:[W.jsx("div",{className:"blog-heading text-start pt-3 py-2 mb-4",children:e}),t==null?void 0:t.map(r=>W.jsxs("div",{className:"row pb-3",style:{cursor:"pointer"},onClick:()=>n(`/detail/${r.id}`),children:[W.jsx("div",{className:"col-5 align-self-center",children:r.imgUrl?W.jsx("img",{src:r.imgUrl,alt:r.title,className:"most-popular-img"}):W.jsx("div",{style:{backgroundColor:"gray",height:"80px",opacity:"0.4"}})}),W.jsxs("div",{className:"col-7 padding",children:[W.jsx("div",{className:"text-start most-popular-font",children:r.title}),W.jsx("div",{className:"text-start most-popular-font-meta",children:r.timestamp.toDate().toDateString()})]})]},r.id))]})},bY=({handleLike:t,likes:e,userId:n})=>{const r=()=>(e==null?void 0:e.length)>0?e.find(i=>i===n)?W.jsxs(W.Fragment,{children:[W.jsx("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"20",height:"18",viewBox:"0 0 25 22",children:W.jsx("path",{d:"M9.239,21.015 C9.061,21.692 8.677,21.999 8.024,21.999 C5.899,22.002 3.775,21.999 1.650,22.000 C1.207,22.000 0.818,21.851 0.468,21.590 C0.179,21.376 0.060,21.078 0.057,20.720 C0.039,18.755 0.005,16.790 -0.000,14.825 C-0.003,13.672 0.033,12.518 0.061,11.364 C0.083,10.443 0.858,9.694 1.771,9.695 C4.037,9.697 6.304,9.696 8.570,9.706 C8.766,9.706 8.900,9.651 9.007,9.492 C9.571,8.654 10.137,7.819 10.701,6.982 C10.911,6.670 11.093,6.335 11.332,6.049 C11.995,5.256 12.072,4.355 11.923,3.380 C11.827,2.755 11.782,2.121 11.746,1.489 C11.724,1.119 11.902,0.822 12.191,0.580 C13.103,-0.186 14.393,-0.197 15.449,0.580 C16.642,1.458 17.240,2.685 17.443,4.122 C17.620,5.376 17.441,6.605 17.120,7.818 C17.099,7.899 17.078,7.980 17.058,8.061 C17.055,8.077 17.058,8.094 17.058,8.143 C17.146,8.143 17.233,8.143 17.320,8.143 C19.120,8.142 20.920,8.142 22.719,8.141 C23.862,8.140 24.787,8.861 24.969,9.921 C25.099,10.671 24.812,11.300 24.321,11.844 C24.202,11.976 24.177,12.078 24.220,12.257 C24.449,13.208 24.189,14.060 23.632,14.831 C23.508,15.002 23.454,15.142 23.481,15.368 C23.597,16.337 23.357,17.221 22.769,18.009 C22.695,18.108 22.643,18.268 22.662,18.388 C22.936,20.101 21.735,21.160 20.342,21.281 C19.440,21.360 18.528,21.327 17.620,21.329 C15.254,21.334 12.888,21.327 10.522,21.333 C10.072,21.334 9.645,21.277 9.239,21.015 zM22.677,15.362 C22.562,15.362 22.464,15.362 22.366,15.362 C21.116,15.363 19.866,15.364 18.616,15.363 C18.466,15.363 18.313,15.374 18.167,15.347 C17.956,15.307 17.828,15.169 17.840,14.941 C17.852,14.717 17.980,14.590 18.201,14.565 C18.292,14.554 18.384,14.557 18.476,14.557 C19.859,14.558 21.242,14.560 22.626,14.555 C22.716,14.555 22.841,14.530 22.891,14.469 C23.358,13.894 23.601,13.250 23.458,12.493 C23.420,12.292 23.327,12.228 23.121,12.230 C21.804,12.239 20.487,12.235 19.170,12.234 C18.750,12.234 18.545,12.097 18.553,11.822 C18.561,11.557 18.755,11.432 19.167,11.432 C20.567,11.430 21.967,11.431 23.367,11.427 C23.464,11.427 23.580,11.426 23.654,11.377 C24.227,10.991 24.365,10.032 23.929,9.494 C23.605,9.095 23.175,8.943 22.671,8.944 C20.746,8.949 18.821,8.947 16.896,8.948 C16.124,8.948 16.037,8.840 16.227,8.097 C16.516,6.970 16.778,5.839 16.696,4.661 C16.619,3.563 16.289,2.562 15.542,1.735 C15.027,1.165 14.417,0.762 13.604,0.813 C12.859,0.861 12.480,1.272 12.542,2.003 C12.594,2.610 12.685,3.214 12.765,3.818 C12.881,4.703 12.691,5.509 12.170,6.238 C11.923,6.584 11.685,6.938 11.454,7.296 C10.777,8.349 10.146,9.434 9.307,10.373 C9.248,10.438 9.221,10.553 9.221,10.645 C9.216,13.698 9.216,16.751 9.219,19.804 C9.219,19.882 9.230,19.987 9.279,20.035 C9.553,20.299 9.859,20.523 10.261,20.523 C13.478,20.526 16.694,20.527 19.911,20.523 C20.395,20.522 20.852,20.403 21.257,20.125 C21.815,19.741 22.060,18.968 21.801,18.393 C20.750,18.393 19.692,18.394 18.634,18.393 C18.218,18.393 17.801,18.399 17.384,18.388 C17.157,18.381 16.996,18.215 16.999,18.007 C17.001,17.786 17.121,17.648 17.338,17.606 C17.418,17.590 17.503,17.590 17.586,17.590 C19.003,17.589 20.419,17.591 21.836,17.585 C21.941,17.584 22.089,17.556 22.144,17.484 C22.617,16.866 22.782,16.163 22.677,15.362 zM8.400,10.504 C8.277,10.504 8.171,10.504 8.065,10.504 C5.982,10.502 3.900,10.500 1.817,10.498 C1.286,10.498 0.861,10.899 0.860,11.431 C0.854,14.465 0.853,17.500 0.854,20.534 C0.855,20.919 0.921,21.006 1.289,21.129 C1.412,21.171 1.549,21.189 1.680,21.192 C2.088,21.200 2.496,21.195 2.904,21.196 C4.612,21.196 6.319,21.197 8.027,21.196 C8.334,21.196 8.413,21.115 8.414,20.811 C8.415,20.485 8.414,20.159 8.414,19.833 C8.414,16.824 8.414,13.814 8.414,10.804 C8.414,10.714 8.406,10.624 8.400,10.504 z",fill:"red"})})," ",e.length]}):W.jsxs(W.Fragment,{children:[W.jsx("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"20",height:"18",viewBox:"0 0 25 22",children:W.jsx("path",{d:"M9.239,21.015 C9.061,21.692 8.677,21.999 8.024,21.999 C5.899,22.002 3.775,21.999 1.650,22.000 C1.207,22.000 0.818,21.851 0.468,21.590 C0.179,21.376 0.060,21.078 0.057,20.720 C0.039,18.755 0.005,16.790 -0.000,14.825 C-0.003,13.672 0.033,12.518 0.061,11.364 C0.083,10.443 0.858,9.694 1.771,9.695 C4.037,9.697 6.304,9.696 8.570,9.706 C8.766,9.706 8.900,9.651 9.007,9.492 C9.571,8.654 10.137,7.819 10.701,6.982 C10.911,6.670 11.093,6.335 11.332,6.049 C11.995,5.256 12.072,4.355 11.923,3.380 C11.827,2.755 11.782,2.121 11.746,1.489 C11.724,1.119 11.902,0.822 12.191,0.580 C13.103,-0.186 14.393,-0.197 15.449,0.580 C16.642,1.458 17.240,2.685 17.443,4.122 C17.620,5.376 17.441,6.605 17.120,7.818 C17.099,7.899 17.078,7.980 17.058,8.061 C17.055,8.077 17.058,8.094 17.058,8.143 C17.146,8.143 17.233,8.143 17.320,8.143 C19.120,8.142 20.920,8.142 22.719,8.141 C23.862,8.140 24.787,8.861 24.969,9.921 C25.099,10.671 24.812,11.300 24.321,11.844 C24.202,11.976 24.177,12.078 24.220,12.257 C24.449,13.208 24.189,14.060 23.632,14.831 C23.508,15.002 23.454,15.142 23.481,15.368 C23.597,16.337 23.357,17.221 22.769,18.009 C22.695,18.108 22.643,18.268 22.662,18.388 C22.936,20.101 21.735,21.160 20.342,21.281 C19.440,21.360 18.528,21.327 17.620,21.329 C15.254,21.334 12.888,21.327 10.522,21.333 C10.072,21.334 9.645,21.277 9.239,21.015 zM22.677,15.362 C22.562,15.362 22.464,15.362 22.366,15.362 C21.116,15.363 19.866,15.364 18.616,15.363 C18.466,15.363 18.313,15.374 18.167,15.347 C17.956,15.307 17.828,15.169 17.840,14.941 C17.852,14.717 17.980,14.590 18.201,14.565 C18.292,14.554 18.384,14.557 18.476,14.557 C19.859,14.558 21.242,14.560 22.626,14.555 C22.716,14.555 22.841,14.530 22.891,14.469 C23.358,13.894 23.601,13.250 23.458,12.493 C23.420,12.292 23.327,12.228 23.121,12.230 C21.804,12.239 20.487,12.235 19.170,12.234 C18.750,12.234 18.545,12.097 18.553,11.822 C18.561,11.557 18.755,11.432 19.167,11.432 C20.567,11.430 21.967,11.431 23.367,11.427 C23.464,11.427 23.580,11.426 23.654,11.377 C24.227,10.991 24.365,10.032 23.929,9.494 C23.605,9.095 23.175,8.943 22.671,8.944 C20.746,8.949 18.821,8.947 16.896,8.948 C16.124,8.948 16.037,8.840 16.227,8.097 C16.516,6.970 16.778,5.839 16.696,4.661 C16.619,3.563 16.289,2.562 15.542,1.735 C15.027,1.165 14.417,0.762 13.604,0.813 C12.859,0.861 12.480,1.272 12.542,2.003 C12.594,2.610 12.685,3.214 12.765,3.818 C12.881,4.703 12.691,5.509 12.170,6.238 C11.923,6.584 11.685,6.938 11.454,7.296 C10.777,8.349 10.146,9.434 9.307,10.373 C9.248,10.438 9.221,10.553 9.221,10.645 C9.216,13.698 9.216,16.751 9.219,19.804 C9.219,19.882 9.230,19.987 9.279,20.035 C9.553,20.299 9.859,20.523 10.261,20.523 C13.478,20.526 16.694,20.527 19.911,20.523 C20.395,20.522 20.852,20.403 21.257,20.125 C21.815,19.741 22.060,18.968 21.801,18.393 C20.750,18.393 19.692,18.394 18.634,18.393 C18.218,18.393 17.801,18.399 17.384,18.388 C17.157,18.381 16.996,18.215 16.999,18.007 C17.001,17.786 17.121,17.648 17.338,17.606 C17.418,17.590 17.503,17.590 17.586,17.590 C19.003,17.589 20.419,17.591 21.836,17.585 C21.941,17.584 22.089,17.556 22.144,17.484 C22.617,16.866 22.782,16.163 22.677,15.362 zM8.400,10.504 C8.277,10.504 8.171,10.504 8.065,10.504 C5.982,10.502 3.900,10.500 1.817,10.498 C1.286,10.498 0.861,10.899 0.860,11.431 C0.854,14.465 0.853,17.500 0.854,20.534 C0.855,20.919 0.921,21.006 1.289,21.129 C1.412,21.171 1.549,21.189 1.680,21.192 C2.088,21.200 2.496,21.195 2.904,21.196 C4.612,21.196 6.319,21.197 8.027,21.196 C8.334,21.196 8.413,21.115 8.414,20.811 C8.415,20.485 8.414,20.159 8.414,19.833 C8.414,16.824 8.414,13.814 8.414,10.804 C8.414,10.714 8.406,10.624 8.400,10.504 z",fill:"#757575"})})," ",e.length]}):W.jsx(W.Fragment,{children:W.jsx("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"20",height:"18",viewBox:"0 0 25 22",children:W.jsx("path",{d:"M9.239,21.015 C9.061,21.692 8.677,21.999 8.024,21.999 C5.899,22.002 3.775,21.999 1.650,22.000 C1.207,22.000 0.818,21.851 0.468,21.590 C0.179,21.376 0.060,21.078 0.057,20.720 C0.039,18.755 0.005,16.790 -0.000,14.825 C-0.003,13.672 0.033,12.518 0.061,11.364 C0.083,10.443 0.858,9.694 1.771,9.695 C4.037,9.697 6.304,9.696 8.570,9.706 C8.766,9.706 8.900,9.651 9.007,9.492 C9.571,8.654 10.137,7.819 10.701,6.982 C10.911,6.670 11.093,6.335 11.332,6.049 C11.995,5.256 12.072,4.355 11.923,3.380 C11.827,2.755 11.782,2.121 11.746,1.489 C11.724,1.119 11.902,0.822 12.191,0.580 C13.103,-0.186 14.393,-0.197 15.449,0.580 C16.642,1.458 17.240,2.685 17.443,4.122 C17.620,5.376 17.441,6.605 17.120,7.818 C17.099,7.899 17.078,7.980 17.058,8.061 C17.055,8.077 17.058,8.094 17.058,8.143 C17.146,8.143 17.233,8.143 17.320,8.143 C19.120,8.142 20.920,8.142 22.719,8.141 C23.862,8.140 24.787,8.861 24.969,9.921 C25.099,10.671 24.812,11.300 24.321,11.844 C24.202,11.976 24.177,12.078 24.220,12.257 C24.449,13.208 24.189,14.060 23.632,14.831 C23.508,15.002 23.454,15.142 23.481,15.368 C23.597,16.337 23.357,17.221 22.769,18.009 C22.695,18.108 22.643,18.268 22.662,18.388 C22.936,20.101 21.735,21.160 20.342,21.281 C19.440,21.360 18.528,21.327 17.620,21.329 C15.254,21.334 12.888,21.327 10.522,21.333 C10.072,21.334 9.645,21.277 9.239,21.015 zM22.677,15.362 C22.562,15.362 22.464,15.362 22.366,15.362 C21.116,15.363 19.866,15.364 18.616,15.363 C18.466,15.363 18.313,15.374 18.167,15.347 C17.956,15.307 17.828,15.169 17.840,14.941 C17.852,14.717 17.980,14.590 18.201,14.565 C18.292,14.554 18.384,14.557 18.476,14.557 C19.859,14.558 21.242,14.560 22.626,14.555 C22.716,14.555 22.841,14.530 22.891,14.469 C23.358,13.894 23.601,13.250 23.458,12.493 C23.420,12.292 23.327,12.228 23.121,12.230 C21.804,12.239 20.487,12.235 19.170,12.234 C18.750,12.234 18.545,12.097 18.553,11.822 C18.561,11.557 18.755,11.432 19.167,11.432 C20.567,11.430 21.967,11.431 23.367,11.427 C23.464,11.427 23.580,11.426 23.654,11.377 C24.227,10.991 24.365,10.032 23.929,9.494 C23.605,9.095 23.175,8.943 22.671,8.944 C20.746,8.949 18.821,8.947 16.896,8.948 C16.124,8.948 16.037,8.840 16.227,8.097 C16.516,6.970 16.778,5.839 16.696,4.661 C16.619,3.563 16.289,2.562 15.542,1.735 C15.027,1.165 14.417,0.762 13.604,0.813 C12.859,0.861 12.480,1.272 12.542,2.003 C12.594,2.610 12.685,3.214 12.765,3.818 C12.881,4.703 12.691,5.509 12.170,6.238 C11.923,6.584 11.685,6.938 11.454,7.296 C10.777,8.349 10.146,9.434 9.307,10.373 C9.248,10.438 9.221,10.553 9.221,10.645 C9.216,13.698 9.216,16.751 9.219,19.804 C9.219,19.882 9.230,19.987 9.279,20.035 C9.553,20.299 9.859,20.523 10.261,20.523 C13.478,20.526 16.694,20.527 19.911,20.523 C20.395,20.522 20.852,20.403 21.257,20.125 C21.815,19.741 22.060,18.968 21.801,18.393 C20.750,18.393 19.692,18.394 18.634,18.393 C18.218,18.393 17.801,18.399 17.384,18.388 C17.157,18.381 16.996,18.215 16.999,18.007 C17.001,17.786 17.121,17.648 17.338,17.606 C17.418,17.590 17.503,17.590 17.586,17.590 C19.003,17.589 20.419,17.591 21.836,17.585 C21.941,17.584 22.089,17.556 22.144,17.484 C22.617,16.866 22.782,16.163 22.677,15.362 zM8.400,10.504 C8.277,10.504 8.171,10.504 8.065,10.504 C5.982,10.502 3.900,10.500 1.817,10.498 C1.286,10.498 0.861,10.899 0.860,11.431 C0.854,14.465 0.853,17.500 0.854,20.534 C0.855,20.919 0.921,21.006 1.289,21.129 C1.412,21.171 1.549,21.189 1.680,21.192 C2.088,21.200 2.496,21.195 2.904,21.196 C4.612,21.196 6.319,21.197 8.027,21.196 C8.334,21.196 8.413,21.115 8.414,20.811 C8.415,20.485 8.414,20.159 8.414,19.833 C8.414,16.824 8.414,13.814 8.414,10.804 C8.414,10.714 8.406,10.624 8.400,10.504 z",fill:"red"})})});return W.jsx(W.Fragment,{children:W.jsx("span",{style:{float:"right",cursor:"pointer",marginTop:"-7px"},onClick:n?t:null,children:n?W.jsx("button",{style:{backgroundColor:"transparent",display:"flex",alignItems:"center"},children:W.jsx(r,{})}):W.jsx("button",{style:{backgroundColor:"transparent",display:"flex",alignItems:"center"},children:W.jsx(r,{})})})})},DY=({userId:t,userComment:e,setUserComment:n,handleComment:r})=>{const i=Eu();return W.jsxs(W.Fragment,{children:[W.jsx("form",{className:"row blog-form",children:W.jsx("div",{className:"col-12 py-3",children:W.jsx("textarea",{rows:"4",value:e,onChange:s=>n(s.target.value),className:"form-control description"})})}),t?W.jsx(W.Fragment,{children:W.jsx("button",{disabled:!e,className:"btn btn-primary",type:"submit",onClick:r,children:"Комментарии"})}):W.jsxs(W.Fragment,{children:[W.jsx("h5",{children:"Войдите, что-бы оставить комментарий"}),W.jsx("button",{className:"btn btn-success",onClick:()=>i("/auth"),children:"Логин"})]})]})},tD=({name:t,body:e,createdAt:n,msg:r})=>W.jsx("div",{children:W.jsx("div",{className:"row",children:W.jsx("div",{className:"col-lg-12",children:W.jsx("div",{className:"comments-list",children:W.jsx("div",{className:"media",children:r?W.jsx("h4",{className:"mt-5",children:r}):W.jsxs(W.Fragment,{children:[W.jsx("div",{className:"media-left",children:W.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"user",className:"rounded-circle"})}),W.jsxs("div",{className:"media-body",children:[W.jsxs("h3",{className:"text-start media-heading user_name",children:[t,W.jsx("small",{children:mT(new Date(n.seconds*1e3))})]}),W.jsx("p",{className:"text-start",children:e})]})]})})})})})});function Q9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Q9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Zl(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Q9(t))&&(r&&(r+=" "),r+=e);return r}const Yg=t=>typeof t=="number"&&!isNaN(t),kc=t=>typeof t=="string",co=t=>typeof t=="function",J0=t=>kc(t)||co(t)?t:null,KC=t=>de.isValidElement(t)||kc(t)||co(t)||Yg(t);function RY(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function C_(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(a){let{children:c,position:p,preventExitTransition:m,done:y,nodeRef:w,isIn:E,playToast:S}=a;const L=r?`${e}--${p}`:e,O=r?`${n}--${p}`:n,M=de.useRef(0);return de.useLayoutEffect(()=>{const R=w.current,b=L.split(" "),D=B=>{B.target===w.current&&(S(),R.removeEventListener("animationend",D),R.removeEventListener("animationcancel",D),M.current===0&&B.type!=="animationcancel"&&R.classList.remove(...b))};R.classList.add(...b),R.addEventListener("animationend",D),R.addEventListener("animationcancel",D)},[]),de.useEffect(()=>{const R=w.current,b=()=>{R.removeEventListener("animationend",b),i?RY(R,y,s):y()};E||(m?b():(M.current=1,R.className+=` ${O}`,R.addEventListener("animationend",b)))},[E]),ct.createElement(ct.Fragment,null,c)}}function nD(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const vi=new Map;let Jg=[];const QC=new Set,PY=t=>QC.forEach(e=>e(t)),X9=()=>vi.size>0;function Y9(t,e){var n;if(e)return!((n=vi.get(e))==null||!n.isToastActive(t));let r=!1;return vi.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function J9(t,e){KC(t)&&(X9()||Jg.push({content:t,options:e}),vi.forEach(n=>{n.buildToast(t,e)}))}function rD(t,e){vi.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function LY(t){const{subscribe:e,getSnapshot:n,setProps:r}=de.useRef(function(s){const a=s.containerId||1;return{subscribe(c){const p=function(y,w,E){let S=1,L=0,O=[],M=[],R=[],b=w;const D=new Map,B=new Set,j=()=>{R=Array.from(D.values()),B.forEach(Y=>Y())},U=Y=>{M=Y==null?[]:M.filter(ae=>ae!==Y),j()},$=Y=>{const{toastId:ae,onOpen:xe,updateId:ie,children:ye}=Y.props,Ue=ie==null;Y.staleId&&D.delete(Y.staleId),D.set(ae,Y),M=[...M,Y.props.toastId].filter(Le=>Le!==Y.staleId),j(),E(nD(Y,Ue?"added":"updated")),Ue&&co(xe)&&xe(de.isValidElement(ye)&&ye.props)};return{id:y,props:b,observe:Y=>(B.add(Y),()=>B.delete(Y)),toggle:(Y,ae)=>{D.forEach(xe=>{ae!=null&&ae!==xe.props.toastId||co(xe.toggle)&&xe.toggle(Y)})},removeToast:U,toasts:D,clearQueue:()=>{L-=O.length,O=[]},buildToast:(Y,ae)=>{if((Q=>{let{containerId:C,toastId:fe,updateId:nt}=Q;const Ve=C?C!==y:y!==1,At=D.has(fe)&&nt==null;return Ve||At})(ae))return;const{toastId:xe,updateId:ie,data:ye,staleId:Ue,delay:Le}=ae,J=()=>{U(xe)},_e=ie==null;_e&&L++;const me={...b,style:b.toastStyle,key:S++,...Object.fromEntries(Object.entries(ae).filter(Q=>{let[C,fe]=Q;return fe!=null})),toastId:xe,updateId:ie,data:ye,closeToast:J,isIn:!1,className:J0(ae.className||b.toastClassName),bodyClassName:J0(ae.bodyClassName||b.bodyClassName),progressClassName:J0(ae.progressClassName||b.progressClassName),autoClose:!ae.isLoading&&(he=ae.autoClose,Pe=b.autoClose,he===!1||Yg(he)&&he>0?he:Pe),deleteToast(){const Q=D.get(xe),{onClose:C,children:fe}=Q.props;co(C)&&C(de.isValidElement(fe)&&fe.props),E(nD(Q,"removed")),D.delete(xe),L--,L<0&&(L=0),O.length>0?$(O.shift()):j()}};var he,Pe;me.closeButton=b.closeButton,ae.closeButton===!1||KC(ae.closeButton)?me.closeButton=ae.closeButton:ae.closeButton===!0&&(me.closeButton=!KC(b.closeButton)||b.closeButton);let q=Y;de.isValidElement(Y)&&!kc(Y.type)?q=de.cloneElement(Y,{closeToast:J,toastProps:me,data:ye}):co(Y)&&(q=Y({closeToast:J,toastProps:me,data:ye}));const tt={content:q,props:me,staleId:Ue};b.limit&&b.limit>0&&L>b.limit&&_e?O.push(tt):Yg(Le)?setTimeout(()=>{$(tt)},Le):$(tt)},setProps(Y){b=Y},setToggle:(Y,ae)=>{D.get(Y).toggle=ae},isToastActive:Y=>M.some(ae=>ae===Y),getSnapshot:()=>b.newestOnTop?R.reverse():R}}(a,s,PY);vi.set(a,p);const m=p.observe(c);return Jg.forEach(y=>J9(y.content,y.options)),Jg=[],()=>{m(),vi.delete(a)}},setProps(c){var p;(p=vi.get(a))==null||p.setProps(c)},getSnapshot(){var c;return(c=vi.get(a))==null?void 0:c.getSnapshot()}}}(t)).current;r(t);const i=de.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const a=new Map;return i.forEach(c=>{const{position:p}=c.props;a.has(p)||a.set(p,[]),a.get(p).push(c)}),Array.from(a,c=>s(c[0],c[1]))},isToastActive:Y9,count:i==null?void 0:i.length}}function NY(t){const[e,n]=de.useState(!1),[r,i]=de.useState(!1),s=de.useRef(null),a=de.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:p,closeToast:m,onClick:y,closeOnClick:w}=t;var E,S;function L(){n(!0)}function O(){n(!1)}function M(D){const B=s.current;a.canDrag&&B&&(a.didMove=!0,e&&O(),a.delta=t.draggableDirection==="x"?D.clientX-a.start:D.clientY-a.start,a.start!==D.clientX&&(a.canCloseOnClick=!1),B.style.transform=`translate3d(${t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,B.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function R(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",R);const D=s.current;if(a.canDrag&&a.didMove&&D){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}(S=vi.get((E={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||S.setToggle(E.id,E.fn),de.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||O(),window.addEventListener("focus",L),window.addEventListener("blur",O),()=>{window.removeEventListener("focus",L),window.removeEventListener("blur",O)}},[t.pauseOnFocusLoss]);const b={onPointerDown:function(D){if(t.draggable===!0||t.draggable===D.pointerType){a.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",R);const B=s.current;a.canCloseOnClick=!0,a.canDrag=!0,B.style.transition="none",t.draggableDirection==="x"?(a.start=D.clientX,a.removalDistance=B.offsetWidth*(t.draggablePercent/100)):(a.start=D.clientY,a.removalDistance=B.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(D){const{top:B,bottom:j,left:U,right:$}=s.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&t.pauseOnHover&&D.clientX>=U&&D.clientX<=$&&D.clientY>=B&&D.clientY<=j?O():L()}};return c&&p&&(b.onMouseEnter=O,t.stacked||(b.onMouseLeave=L)),w&&(b.onClick=D=>{y&&y(D),a.canCloseOnClick&&m()}),{playToast:L,pauseToast:O,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:b}}function FY(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:a,style:c,controlledProgress:p,progress:m,rtl:y,isIn:w,theme:E}=t;const S=s||p&&m===0,L={...c,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};p&&(L.transform=`scaleX(${m})`);const O=Zl("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":y}),M=co(a)?a({rtl:y,type:i,defaultClassName:O}):Zl(O,a),R={[p&&m>=1?"onTransitionEnd":"onAnimationEnd"]:p&&m<1?null:()=>{w&&r()}};return ct.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},ct.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${i}`}),ct.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:M,style:L,...R}))}let OY=1;const Z9=()=>""+OY++;function MY(t){return t&&(kc(t.toastId)||Yg(t.toastId))?t.toastId:Z9()}function hg(t,e){return J9(t,e),e.toastId}function ty(t,e){return{...e,type:e&&e.type||t,toastId:MY(e)}}function I0(t){return(e,n)=>hg(e,ty(t,n))}function Kt(t,e){return hg(t,ty("default",e))}Kt.loading=(t,e)=>hg(t,ty("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Kt.promise=function(t,e,n){let r,{pending:i,error:s,success:a}=e;i&&(r=kc(i)?Kt.loading(i,n):Kt.loading(i.render,{...n,...i}));const c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(y,w,E)=>{if(w==null)return void Kt.dismiss(r);const S={type:y,...c,...n,data:E},L=kc(w)?{render:w}:w;return r?Kt.update(r,{...S,...L}):Kt(L.render,{...S,...L}),E},m=co(t)?t():t;return m.then(y=>p("success",a,y)).catch(y=>p("error",s,y)),m},Kt.success=I0("success"),Kt.info=I0("info"),Kt.error=I0("error"),Kt.warning=I0("warning"),Kt.warn=Kt.warning,Kt.dark=(t,e)=>hg(t,ty("default",{theme:"dark",...e})),Kt.dismiss=function(t){(function(e){var n;if(X9()){if(e==null||kc(n=e)||Yg(n))vi.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=vi.get(e.containerId);r?r.removeToast(e.id):vi.forEach(i=>{i.removeToast(e.id)})}}else Jg=Jg.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Kt.clearWaitingQueue=function(t){t===void 0&&(t={}),vi.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Kt.isActive=Y9,Kt.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:a}=i;return(s=vi.get(a||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:Z9()};s.toastId!==t&&(s.staleId=t);const a=s.render||i;delete s.render,hg(a,s)}},Kt.done=t=>{Kt.update(t,{progress:1})},Kt.onChange=function(t){return QC.add(t),()=>{QC.delete(t)}},Kt.play=t=>rD(!0,t),Kt.pause=t=>rD(!1,t);const BY=typeof window<"u"?de.useLayoutEffect:de.useEffect,b0=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return ct.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},iE={info:function(t){return ct.createElement(b0,{...t},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ct.createElement(b0,{...t},ct.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ct.createElement(b0,{...t},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ct.createElement(b0,{...t},ct.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ct.createElement("div",{className:"Toastify__spinner"})}},UY=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=NY(t),{closeButton:a,children:c,autoClose:p,onClick:m,type:y,hideProgressBar:w,closeToast:E,transition:S,position:L,className:O,style:M,bodyClassName:R,bodyStyle:b,progressClassName:D,progressStyle:B,updateId:j,role:U,progress:$,rtl:Y,toastId:ae,deleteToast:xe,isIn:ie,isLoading:ye,closeOnClick:Ue,theme:Le}=t,J=Zl("Toastify__toast",`Toastify__toast-theme--${Le}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":Ue}),_e=co(O)?O({rtl:Y,position:L,type:y,defaultClassName:J}):Zl(J,O),me=function(tt){let{theme:Q,type:C,isLoading:fe,icon:nt}=tt,Ve=null;const At={theme:Q,type:C};return nt===!1||(co(nt)?Ve=nt({...At,isLoading:fe}):de.isValidElement(nt)?Ve=de.cloneElement(nt,At):fe?Ve=iE.spinner():(Bt=>Bt in iE)(C)&&(Ve=iE[C](At))),Ve}(t),he=!!$||!p,Pe={closeToast:E,type:y,theme:Le};let q=null;return a===!1||(q=co(a)?a(Pe):de.isValidElement(a)?de.cloneElement(a,Pe):function(tt){let{closeToast:Q,theme:C,ariaLabel:fe="close"}=tt;return ct.createElement("button",{className:`Toastify__close-button Toastify__close-button--${C}`,type:"button",onClick:nt=>{nt.stopPropagation(),Q(nt)},"aria-label":fe},ct.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ct.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Pe)),ct.createElement(S,{isIn:ie,done:xe,position:L,preventExitTransition:n,nodeRef:r,playToast:s},ct.createElement("div",{id:ae,onClick:m,"data-in":ie,className:_e,...i,style:M,ref:r},ct.createElement("div",{...ie&&{role:U},className:co(R)?R({type:y}):Zl("Toastify__toast-body",R),style:b},me!=null&&ct.createElement("div",{className:Zl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ye})},me),ct.createElement("div",null,c)),q,ct.createElement(FY,{...j&&!he?{key:`pb-${j}`}:{},rtl:Y,theme:Le,delay:p,isRunning:e,isIn:ie,closeToast:E,hide:w,type:y,style:B,className:D,controlledProgress:he,progress:$||0})))},S_=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},zY=C_(S_("bounce",!0));C_(S_("slide",!0));C_(S_("zoom"));C_(S_("flip"));const VY={position:"top-right",transition:zY,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function $Y(t){let e={...VY,...t};const n=t.stacked,[r,i]=de.useState(!0),s=de.useRef(null),{getToastToRender:a,isToastActive:c,count:p}=LY(e),{className:m,style:y,rtl:w,containerId:E}=e;function S(O){const M=Zl("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":w});return co(m)?m({position:O,rtl:w,defaultClassName:M}):Zl(M,J0(m))}function L(){n&&(i(!0),Kt.play())}return BY(()=>{if(n){var O;const M=s.current.querySelectorAll('[data-in="true"]'),R=12,b=(O=e.position)==null?void 0:O.includes("top");let D=0,B=0;Array.from(M).reverse().forEach((j,U)=>{const $=j;$.classList.add("Toastify__toast--stacked"),U>0&&($.dataset.collapsed=`${r}`),$.dataset.pos||($.dataset.pos=b?"top":"bot");const Y=D*(r?.2:1)+(r?0:R*U);$.style.setProperty("--y",`${b?Y:-1*Y}px`),$.style.setProperty("--g",`${R}`),$.style.setProperty("--s",""+(1-(r?B:0))),D+=$.offsetHeight,B+=.025})}},[r,p,n]),ct.createElement("div",{ref:s,className:"Toastify",id:E,onMouseEnter:()=>{n&&(i(!1),Kt.pause())},onMouseLeave:L},a((O,M)=>{const R=M.length?{...y}:{...y,pointerEvents:"none"};return ct.createElement("div",{className:S(O),style:R,key:`container-${O}`},M.map(b=>{let{content:D,props:B}=b;return ct.createElement(UY,{...B,stacked:n,collapseAll:L,isIn:c(B.toastId,B.containerId),style:B.style,key:`toast-${B.key}`},D)}))}))}const Ac={position:"top-center",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"};function HY({setActive:t,user:e}){const n=e==null?void 0:e.uid,{id:r}=xy(),[i,s]=de.useState(!1),[a,c]=de.useState([]),[p,m]=de.useState(""),[y,w]=de.useState(null),[E,S]=de.useState([]),[L,O]=de.useState([]);let[M,R]=de.useState([]);const b=Eu();de.useEffect(()=>{(async()=>{const Y=Hh(Mo,"blogs"),ae=j1(Y,gH("timestamp","desc"),zI(5)),xe=await ag(ae);S(xe.docs.map(ie=>({id:ie.id,...ie.data()})))})()},[]);const D=async $=>{if(window.confirm("ВЫ хотите удалить блог?"))try{s(!0),await _H(wc(Mo,"blogs",$)),Kt.success("Блог удалён",Ac),s(!1),b("/")}catch(Y){console.log(Y)}},B=async()=>{s(!0);const $=Hh(Mo,"blogs"),Y=wc(Mo,"blogs",r),ae=await cL(Y),xe=await ag($);let ie=[];xe.docs.map(_e=>ie.push(..._e.get("tags")));let ye=[...new Set(ie)];c(ae.data().comments?ae.data().comments:[]),R(ae.data().likes?ae.data().likes:[]),O(ye),w(ae.data());const Ue=j1($,eT("tags","array-contains-any",ae.data().tags,zI(3))),Le=await ag(Ue),J=[];Le.forEach(_e=>{J.push({id:_e.id,..._e.data()})}),t(null),s(!1)},j=async $=>{$.preventDefault(),a.push({createdAt:Er.fromDate(new Date),userId:n,name:e==null?void 0:e.displayName,body:p}),Kt.success("Комментарий опубликован"),await LC(wc(Mo,"blogs",r),{...y,comments:a,timestamp:W1()}),c(a),m("")},U=async()=>{n&&(y!=null&&y.likes&&(M.findIndex(Y=>Y===n)===-1?(M.push(n),R([...new Set(M)])):(M=M.filter(Y=>Y!==n),R(M))),await LC(wc(Mo,"blogs",r),{...y,likes:M,timestamp:W1()}))};return de.useEffect(()=>{r&&B()},[r]),W.jsxs("div",{className:"single",children:[W.jsxs("div",{className:"blog-title-box",style:{backgroundImage:`url('${y==null?void 0:y.imgUrl}')`},children:[W.jsx("div",{className:"overlay"}),W.jsx("div",{className:"blog-title",children:W.jsx("h2",{children:y==null?void 0:y.title})})]}),W.jsx("div",{className:"container-fluid pb-4 pt-4 padding blog-single-content",children:W.jsx("div",{className:"container padding",children:W.jsxs("div",{className:"row",style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[W.jsxs("div",{className:"col-md-8 details-description",children:[W.jsxs("span",{className:"meta-info",children:["Создан ",W.jsx("p",{className:"author",children:y==null?void 0:y.author})," - ",mT(new Date((y==null?void 0:y.timestamp.seconds)*1e3))]}),W.jsx(v_,{children:y==null?void 0:y.description}),e&&e.uid===n&&W.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[W.jsx(bY,{handleLike:U,likes:M,userId:n}),W.jsxs("div",{children:[W.jsx("button",{onClick:()=>D(r),children:W.jsxs("svg",{style:{width:"25px"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[W.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),W.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),W.jsxs("g",{id:"SVGRepo_iconCarrier",children:[W.jsx("path",{d:"M3 3L21 21M18 6L17.6 12M17.2498 17.2527L17.1991 18.0129C17.129 19.065 17.0939 19.5911 16.8667 19.99C16.6666 20.3412 16.3648 20.6235 16.0011 20.7998C15.588 21 15.0607 21 14.0062 21H9.99377C8.93927 21 8.41202 21 7.99889 20.7998C7.63517 20.6235 7.33339 20.3412 7.13332 19.99C6.90607 19.5911 6.871 19.065 6.80086 18.0129L6 6H4M16 6L15.4559 4.36754C15.1837 3.55086 14.4194 3 13.5585 3H10.4416C9.94243 3 9.47576 3.18519 9.11865 3.5M11.6133 6H20M14 14V17M10 10V17",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})," "]})]})}),W.jsx(Yl,{to:`/update/${r}`,children:W.jsxs("svg",{style:{width:"25px"},viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#000000",children:[W.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),W.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),W.jsxs("g",{id:"SVGRepo_iconCarrier",children:[W.jsx("path",{d:"M22 7.662l1-1V18h-7v4.745L11.255 18H1V2h16.763l-1 1H2v14h9.668L15 20.331V17h7zm1.657-5.192a.965.965 0 0 1 .03 1.385l-9.325 9.324-4.097 1.755a.371.371 0 0 1-.487-.487l1.755-4.097 9.31-9.309a.98.98 0 0 1 1.385 0zm-10.1 9.965l-1.28-1.28-.961 2.24zm7.243-7.11l-1.414-1.413-6.469 6.47 1.414 1.413zm1.865-2.445l-.804-.838a.42.42 0 0 0-.6-.006l-1.168 1.168 1.414 1.415 1.152-1.152a.42.42 0 0 0 .006-.587z"}),W.jsx("path",{fill:"none",d:"M0 0h24v24H0z"})]})]})})]})]}),W.jsx("br",{}),W.jsx("div",{className:"custombox",children:W.jsxs("div",{className:"scroll",children:[W.jsxs("h4",{className:"small-title",children:["Комментариев: ",a==null?void 0:a.length]}),AY.isEmpty(a)?W.jsx(tD,{msg:"Комментариев нет"}):W.jsx(W.Fragment,{children:a==null?void 0:a.map($=>W.jsx(tD,{...$}))})]})}),W.jsx(DY,{userId:n,userComment:p,setUserComment:m,handleComment:j})]}),W.jsxs("div",{className:"col-md-3",children:[W.jsx("div",{className:"blog-heading  py-2 mb-4",children:"Тэги"}),W.jsx(K9,{tags:L}),W.jsx(IY,{title:"Recent Blogs",blogs:E})]})]})})})]})}var zl={wrapper:"react-tag-input",input:"react-tag-input__input",tag:"react-tag-input__tag",tagContent:"react-tag-input__tag__content",tagRemove:"react-tag-input__tag__remove",tagRemoveReadOnly:"react-tag-input__tag__remove-readonly"};function jY(t){return t.replace(/(\r\n|\n|\r)/gm,"")}var WY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function qY(t){return String(t).replace(/[&<>"'`=\/]/g,function(e){return WY[e]})}function iD(t){return qY(jY(t))}var GY=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),KY=function(t){GY(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.focused=!1,n.removed=!1,n.preFocusedValue="",n.onPaste=function(r){r.preventDefault();var i=r.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,iD(i))},n.onFocus=function(){n.preFocusedValue=n.getValue(),n.focused=!0},n.onBlur=function(){n.focused=!1;var r=n.props.innerEditableRef.current,i=n.props,s=i.validator,a=i.change;if(!n.removed&&r){if(r.innerText===""){n.props.remove();return}if(s){var c=s(n.getValue());if(!c){r.innerText=n.preFocusedValue;return}}a(r.innerText)}},n.onKeyDown=function(r){if(r.keyCode===13){r.preventDefault(),n.focusInputRef();return}var i=n.props.removeOnBackspace,s=n.getValue();if(i&&r.keyCode===8&&s===""){n.removed=!0,n.props.remove(),n.focusInputRef();return}},n.getValue=function(){var r=n.getRef();return r?r.innerText:""},n.getRef=function(){return n.props.innerEditableRef.current},n.focusInputRef=function(){var r=n.props.inputRef;r&&r.current&&r.current.focus()},n}return e.prototype.componentDidMount=function(){this.preFocusedValue=this.getValue()},e.prototype.render=function(){var n=this.props,r=n.value,i=n.className,s=n.innerEditableRef;return ct.createElement("div",{ref:s,className:i,contentEditable:!0,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,dangerouslySetInnerHTML:{__html:iD(r)}})},e}(ct.Component),QY=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),XY=function(t){QY(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.innerEditableRef=ct.createRef(),n.remove=function(){return n.props.remove(n.props.index)},n}return e.prototype.render=function(){var n=this.props,r=n.value,i=n.index,s=n.editable,a=n.inputRef,c=n.validator,p=n.update,m=n.readOnly,y=n.removeOnBackspace,w=m?zl.tagRemove+" "+zl.tagRemoveReadOnly:zl.tagRemove;return ct.createElement("div",{className:zl.tag},!s&&ct.createElement("div",{className:zl.tagContent},r),s&&ct.createElement(KY,{value:r,inputRef:a,innerEditableRef:this.innerEditableRef,className:zl.tagContent,change:function(E){return p(i,E)},remove:this.remove,validator:c,removeOnBackspace:y}),ct.createElement("div",{className:w,onClick:this.remove}))},e}(ct.Component),YY=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),JY=function(t){YY(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={input:""},n.inputRef=ct.createRef(),n.onInputChange=function(r){n.setState({input:r.target.value})},n.onInputKeyDown=function(r){var i=n.state.input,s=n.props,a=s.validator,c=s.removeOnBackspace;if(r.keyCode===13){if(r.preventDefault(),i==="")return;var p=a!==void 0?a(i):!0;if(!p)return;n.addTag(i)}else if(c&&(r.keyCode===8||r.keyCode===46)){if(i!=="")return;n.removeTag(n.props.tags.length-1)}},n.addTag=function(r){var i=n.props.tags.slice();i.push(r),n.props.onChange(i),n.setState({input:""})},n.removeTag=function(r){var i=n.props.tags.slice();i.splice(r,1),n.props.onChange(i)},n.updateTag=function(r,i){var s=n.props.tags.slice();s[r]=i,n.props.onChange(s)},n}return e.prototype.render=function(){var n=this,r=this.state.input,i=this.props,s=i.tags,a=i.placeholder,c=i.maxTags,p=i.editable,m=i.readOnly,y=i.validator,w=i.removeOnBackspace,E=c!==void 0?s.length>=c:!1,S=m?!1:p||!1,L=!m&&!E;return ct.createElement("div",{className:zl.wrapper},s.map(function(O,M){return ct.createElement(XY,{key:M,value:O,index:M,editable:S,readOnly:m||!1,inputRef:n.inputRef,update:n.updateTag,remove:n.removeTag,validator:y,removeOnBackspace:w})}),L&&ct.createElement("input",{ref:this.inputRef,value:r,className:zl.input,placeholder:a||"Type and press enter",onChange:this.onInputChange,onKeyDown:this.onInputKeyDown}))},e}(ct.Component);const ZY=JY;var eN={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Xf,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),s=/MSIE \d/.test(n),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),c=/Edge\/(\d+)/.exec(n),p=s||a||c,m=p&&(s?document.documentMode||6:+(c||a)[1]),y=!c&&/WebKit\//.test(n),w=y&&/Qt\/\d+\.\d+/.test(n),E=!c&&/Chrome\/(\d+)/.exec(n),S=E&&+E[1],L=/Opera\//.test(n),O=/Apple Computer/.test(navigator.vendor),M=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),R=/PhantomJS/.test(n),b=O&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),D=/Android/.test(n),B=b||D||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),j=b||/Mac/.test(r),U=/\bCrOS\b/.test(n),$=/win/i.test(r),Y=L&&n.match(/Version\/(\d*\.\d*)/);Y&&(Y=Number(Y[1])),Y&&Y>=15&&(L=!1,y=!0);var ae=j&&(w||L&&(Y==null||Y<12.11)),xe=i||p&&m>=9;function ie(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var ye=function(o,l){var h=o.className,f=ie(l).exec(h);if(f){var g=h.slice(f.index+f[0].length);o.className=h.slice(0,f.index)+(g?f[1]+g:"")}};function Ue(o){for(var l=o.childNodes.length;l>0;--l)o.removeChild(o.firstChild);return o}function Le(o,l){return Ue(o).appendChild(l)}function J(o,l,h,f){var g=document.createElement(o);if(h&&(g.className=h),f&&(g.style.cssText=f),typeof l=="string")g.appendChild(document.createTextNode(l));else if(l)for(var _=0;_<l.length;++_)g.appendChild(l[_]);return g}function _e(o,l,h,f){var g=J(o,l,h,f);return g.setAttribute("role","presentation"),g}var me;document.createRange?me=function(o,l,h,f){var g=document.createRange();return g.setEnd(f||o,h),g.setStart(o,l),g}:me=function(o,l,h){var f=document.body.createTextRange();try{f.moveToElementText(o.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",h),f.moveStart("character",l),f};function he(o,l){if(l.nodeType==3&&(l=l.parentNode),o.contains)return o.contains(l);do if(l.nodeType==11&&(l=l.host),l==o)return!0;while(l=l.parentNode)}function Pe(o){var l=o.ownerDocument||o,h;try{h=o.activeElement}catch{h=l.body||null}for(;h&&h.shadowRoot&&h.shadowRoot.activeElement;)h=h.shadowRoot.activeElement;return h}function q(o,l){var h=o.className;ie(l).test(h)||(o.className+=(h?" ":"")+l)}function tt(o,l){for(var h=o.split(" "),f=0;f<h.length;f++)h[f]&&!ie(h[f]).test(l)&&(l+=" "+h[f]);return l}var Q=function(o){o.select()};b?Q=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:p&&(Q=function(o){try{o.select()}catch{}});function C(o){return o.display.wrapper.ownerDocument}function fe(o){return nt(o.display.wrapper)}function nt(o){return o.getRootNode?o.getRootNode():o.ownerDocument}function Ve(o){return C(o).defaultView}function At(o){var l=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,l)}}function Bt(o,l,h){l||(l={});for(var f in o)o.hasOwnProperty(f)&&(h!==!1||!l.hasOwnProperty(f))&&(l[f]=o[f]);return l}function Lt(o,l,h,f,g){l==null&&(l=o.search(/[^\s\u00a0]/),l==-1&&(l=o.length));for(var _=f||0,x=g||0;;){var k=o.indexOf("	",_);if(k<0||k>=l)return x+(l-_);x+=k-_,x+=h-x%h,_=k+1}}var an=function(){this.id=null,this.f=null,this.time=0,this.handler=At(this.onTimeout,this)};an.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},an.prototype.set=function(o,l){this.f=l;var h=+new Date+o;(!this.id||h<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=h)};function bt(o,l){for(var h=0;h<o.length;++h)if(o[h]==l)return h;return-1}var Nt=50,gn={toString:function(){return"CodeMirror.Pass"}},Jt={scroll:!1},Ye={origin:"*mouse"},Ur={origin:"+move"};function kn(o,l,h){for(var f=0,g=0;;){var _=o.indexOf("	",f);_==-1&&(_=o.length);var x=_-f;if(_==o.length||g+x>=l)return f+Math.min(x,l-g);if(g+=_-f,g+=h-g%h,f=_+1,g>=l)return f}}var Sr=[""];function Ci(o){for(;Sr.length<=o;)Sr.push(mt(Sr)+" ");return Sr[o]}function mt(o){return o[o.length-1]}function dn(o,l){for(var h=[],f=0;f<o.length;f++)h[f]=l(o[f],f);return h}function br(o,l,h){for(var f=0,g=h(l);f<o.length&&h(o[f])<=g;)f++;o.splice(f,0,l)}function $i(){}function ce(o,l){var h;return Object.create?h=Object.create(o):($i.prototype=o,h=new $i),l&&Bt(l,h),h}var ue=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function re(o){return/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||ue.test(o))}function A(o,l){return l?l.source.indexOf("\\w")>-1&&re(o)?!0:l.test(o):re(o)}function F(o){for(var l in o)if(o.hasOwnProperty(l)&&o[l])return!1;return!0}var G=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function K(o){return o.charCodeAt(0)>=768&&G.test(o)}function ee(o,l,h){for(;(h<0?l>0:l<o.length)&&K(o.charAt(l));)l+=h;return l}function be(o,l,h){for(var f=l>h?-1:1;;){if(l==h)return l;var g=(l+h)/2,_=f<0?Math.ceil(g):Math.floor(g);if(_==l)return o(_)?l:h;o(_)?h=_:l=_+f}}function ze(o,l,h,f){if(!o)return f(l,h,"ltr",0);for(var g=!1,_=0;_<o.length;++_){var x=o[_];(x.from<h&&x.to>l||l==h&&x.to==l)&&(f(Math.max(x.from,l),Math.min(x.to,h),x.level==1?"rtl":"ltr",_),g=!0)}g||f(l,h,"ltr")}var Be=null;function He(o,l,h){var f;Be=null;for(var g=0;g<o.length;++g){var _=o[g];if(_.from<l&&_.to>l)return g;_.to==l&&(_.from!=_.to&&h=="before"?f=g:Be=g),_.from==l&&(_.from!=_.to&&h!="before"?f=g:Be=g)}return f??Be}var it=function(){var o="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",l="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function h(P){return P<=247?o.charAt(P):1424<=P&&P<=1524?"R":1536<=P&&P<=1785?l.charAt(P-1536):1774<=P&&P<=2220?"r":8192<=P&&P<=8203?"w":P==8204?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,_=/[LRr]/,x=/[Lb1n]/,k=/[1n]/;function I(P,H,X){this.level=P,this.from=H,this.to=X}return function(P,H){var X=H=="ltr"?"L":"R";if(P.length==0||H=="ltr"&&!f.test(P))return!1;for(var oe=P.length,ne=[],ve=0;ve<oe;++ve)ne.push(h(P.charCodeAt(ve)));for(var Ee=0,Re=X;Ee<oe;++Ee){var Me=ne[Ee];Me=="m"?ne[Ee]=Re:Re=Me}for(var $e=0,Oe=X;$e<oe;++$e){var je=ne[$e];je=="1"&&Oe=="r"?ne[$e]="n":_.test(je)&&(Oe=je,je=="r"&&(ne[$e]="R"))}for(var rt=1,et=ne[0];rt<oe-1;++rt){var xt=ne[rt];xt=="+"&&et=="1"&&ne[rt+1]=="1"?ne[rt]="1":xt==","&&et==ne[rt+1]&&(et=="1"||et=="n")&&(ne[rt]=et),et=xt}for(var tn=0;tn<oe;++tn){var Mn=ne[tn];if(Mn==",")ne[tn]="N";else if(Mn=="%"){var vn=void 0;for(vn=tn+1;vn<oe&&ne[vn]=="%";++vn);for(var In=tn&&ne[tn-1]=="!"||vn<oe&&ne[vn]=="1"?"1":"N",zn=tn;zn<vn;++zn)ne[zn]=In;tn=vn-1}}for(var Vn=0,Rr=X;Vn<oe;++Vn){var mr=ne[Vn];Rr=="L"&&mr=="1"?ne[Vn]="L":_.test(mr)&&(Rr=mr)}for(var er=0;er<oe;++er)if(g.test(ne[er])){var $n=void 0;for($n=er+1;$n<oe&&g.test(ne[$n]);++$n);for(var bn=(er?ne[er-1]:X)=="L",Vr=($n<oe?ne[$n]:X)=="L",Pl=bn==Vr?bn?"L":"R":X,Ms=er;Ms<$n;++Ms)ne[Ms]=Pl;er=$n-1}for(var kr=[],Do,ur=0;ur<oe;)if(x.test(ne[ur])){var _p=ur;for(++ur;ur<oe&&x.test(ne[ur]);++ur);kr.push(new I(0,_p,ur))}else{var Ro=ur,Bs=kr.length,Us=H=="rtl"?1:0;for(++ur;ur<oe&&ne[ur]!="L";++ur);for(var Pr=Ro;Pr<ur;)if(k.test(ne[Pr])){Ro<Pr&&(kr.splice(Bs,0,new I(1,Ro,Pr)),Bs+=Us);var Ll=Pr;for(++Pr;Pr<ur&&k.test(ne[Pr]);++Pr);kr.splice(Bs,0,new I(2,Ll,Pr)),Bs+=Us,Ro=Pr}else++Pr;Ro<ur&&kr.splice(Bs,0,new I(1,Ro,ur))}return H=="ltr"&&(kr[0].level==1&&(Do=P.match(/^\s+/))&&(kr[0].from=Do[0].length,kr.unshift(new I(0,0,Do[0].length))),mt(kr).level==1&&(Do=P.match(/\s+$/))&&(mt(kr).to-=Do[0].length,kr.push(new I(0,oe-Do[0].length,oe)))),H=="rtl"?kr.reverse():kr}}();function ke(o,l){var h=o.order;return h==null&&(h=o.order=it(o.text,l)),h}var ot=[],ge=function(o,l,h){if(o.addEventListener)o.addEventListener(l,h,!1);else if(o.attachEvent)o.attachEvent("on"+l,h);else{var f=o._handlers||(o._handlers={});f[l]=(f[l]||ot).concat(h)}};function Qt(o,l){return o._handlers&&o._handlers[l]||ot}function Ut(o,l,h){if(o.removeEventListener)o.removeEventListener(l,h,!1);else if(o.detachEvent)o.detachEvent("on"+l,h);else{var f=o._handlers,g=f&&f[l];if(g){var _=bt(g,h);_>-1&&(f[l]=g.slice(0,_).concat(g.slice(_+1)))}}}function zt(o,l){var h=Qt(o,l);if(h.length)for(var f=Array.prototype.slice.call(arguments,2),g=0;g<h.length;++g)h[g].apply(null,f)}function yt(o,l,h){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),zt(o,h||l.type,o,l),Ko(l)||l.codemirrorIgnore}function Yn(o){var l=o._handlers&&o._handlers.cursorActivity;if(l)for(var h=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),f=0;f<l.length;++f)bt(h,l[f])==-1&&h.push(l[f])}function dr(o,l){return Qt(o,l).length>0}function Si(o){o.prototype.on=function(l,h){ge(this,l,h)},o.prototype.off=function(l,h){Ut(this,l,h)}}function mn(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function Go(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function Ko(o){return o.defaultPrevented!=null?o.defaultPrevented:o.returnValue==!1}function Hi(o){mn(o),Go(o)}function la(o){return o.target||o.srcElement}function _s(o){var l=o.which;return l==null&&(o.button&1?l=1:o.button&2?l=3:o.button&4&&(l=2)),j&&o.ctrlKey&&l==1&&(l=3),l}var ud=function(){if(p&&m<9)return!1;var o=J("div");return"draggable"in o||"dragDrop"in o}(),cd;function j_(o){if(cd==null){var l=J("span","​");Le(o,J("span",[l,document.createTextNode("x")])),o.firstChild.offsetHeight!=0&&(cd=l.offsetWidth<=1&&l.offsetHeight>2&&!(p&&m<8))}var h=cd?J("span","​"):J("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return h.setAttribute("cm-text",""),h}var fd;function W_(o){if(fd!=null)return fd;var l=Le(o,document.createTextNode("AخA")),h=me(l,0,1).getBoundingClientRect(),f=me(l,1,2).getBoundingClientRect();return Ue(o),!h||h.left==h.right?!1:fd=f.right-h.right<3}var hd=`

b`.split(/\n/).length!=3?function(o){for(var l=0,h=[],f=o.length;l<=f;){var g=o.indexOf(`
`,l);g==-1&&(g=o.length);var _=o.slice(l,o.charAt(g-1)=="\r"?g-1:g),x=_.indexOf("\r");x!=-1?(h.push(_.slice(0,x)),l+=x+1):(h.push(_),l=g+1)}return h}:function(o){return o.split(/\r\n?|\n/)},q_=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var l;try{l=o.ownerDocument.selection.createRange()}catch{}return!l||l.parentElement()!=o?!1:l.compareEndPoints("StartToEnd",l)!=0},G_=function(){var o=J("div");return"oncopy"in o?!0:(o.setAttribute("oncopy","return;"),typeof o.oncopy=="function")}(),dd=null;function Rm(o){if(dd!=null)return dd;var l=Le(o,J("span","x")),h=l.getBoundingClientRect(),f=me(l,0,1).getBoundingClientRect();return dd=Math.abs(h.left-f.left)>1}var pd={},rl={};function K_(o,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),pd[o]=l}function Q_(o,l){rl[o]=l}function Zc(o){if(typeof o=="string"&&rl.hasOwnProperty(o))o=rl[o];else if(o&&typeof o.name=="string"&&rl.hasOwnProperty(o.name)){var l=rl[o.name];typeof l=="string"&&(l={name:l}),o=ce(l,o),o.name=l.name}else{if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return Zc("application/xml");if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return Zc("application/json")}return typeof o=="string"?{name:o}:o||{name:"null"}}function gd(o,l){l=Zc(l);var h=pd[l.name];if(!h)return gd(o,"text/plain");var f=h(o,l);if(Qo.hasOwnProperty(l.name)){var g=Qo[l.name];for(var _ in g)g.hasOwnProperty(_)&&(f.hasOwnProperty(_)&&(f["_"+_]=f[_]),f[_]=g[_])}if(f.name=l.name,l.helperType&&(f.helperType=l.helperType),l.modeProps)for(var x in l.modeProps)f[x]=l.modeProps[x];return f}var Qo={};function X_(o,l){var h=Qo.hasOwnProperty(o)?Qo[o]:Qo[o]={};Bt(l,h)}function yo(o,l){if(l===!0)return l;if(o.copyState)return o.copyState(l);var h={};for(var f in l){var g=l[f];g instanceof Array&&(g=g.concat([])),h[f]=g}return h}function md(o,l){for(var h;o.innerMode&&(h=o.innerMode(l),!(!h||h.mode==o));)l=h.state,o=h.mode;return h||{mode:o,state:l}}function Pm(o,l,h){return o.startState?o.startState(l,h):!0}var Un=function(o,l,h){this.pos=this.start=0,this.string=o,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=h};Un.prototype.eol=function(){return this.pos>=this.string.length},Un.prototype.sol=function(){return this.pos==this.lineStart},Un.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Un.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Un.prototype.eat=function(o){var l=this.string.charAt(this.pos),h;if(typeof o=="string"?h=l==o:h=l&&(o.test?o.test(l):o(l)),h)return++this.pos,l},Un.prototype.eatWhile=function(o){for(var l=this.pos;this.eat(o););return this.pos>l},Un.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},Un.prototype.skipToEnd=function(){this.pos=this.string.length},Un.prototype.skipTo=function(o){var l=this.string.indexOf(o,this.pos);if(l>-1)return this.pos=l,!0},Un.prototype.backUp=function(o){this.pos-=o},Un.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Lt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Lt(this.string,this.lineStart,this.tabSize):0)},Un.prototype.indentation=function(){return Lt(this.string,null,this.tabSize)-(this.lineStart?Lt(this.string,this.lineStart,this.tabSize):0)},Un.prototype.match=function(o,l,h){if(typeof o=="string"){var f=function(x){return h?x.toLowerCase():x},g=this.string.substr(this.pos,o.length);if(f(g)==f(o))return l!==!1&&(this.pos+=o.length),!0}else{var _=this.string.slice(this.pos).match(o);return _&&_.index>0?null:(_&&l!==!1&&(this.pos+=_[0].length),_)}},Un.prototype.current=function(){return this.string.slice(this.start,this.pos)},Un.prototype.hideFirstChars=function(o,l){this.lineStart+=o;try{return l()}finally{this.lineStart-=o}},Un.prototype.lookAhead=function(o){var l=this.lineOracle;return l&&l.lookAhead(o)},Un.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};function Ze(o,l){if(l-=o.first,l<0||l>=o.size)throw new Error("There is no line "+(l+o.first)+" in the document.");for(var h=o;!h.lines;)for(var f=0;;++f){var g=h.children[f],_=g.chunkSize();if(l<_){h=g;break}l-=_}return h.lines[l]}function ws(o,l,h){var f=[],g=l.line;return o.iter(l.line,h.line+1,function(_){var x=_.text;g==h.line&&(x=x.slice(0,h.ch)),g==l.line&&(x=x.slice(l.ch)),f.push(x),++g}),f}function ef(o,l,h){var f=[];return o.iter(l,h,function(g){f.push(g.text)}),f}function _o(o,l){var h=l-o.height;if(h)for(var f=o;f;f=f.parent)f.height+=h}function Zt(o){if(o.parent==null)return null;for(var l=o.parent,h=bt(l.lines,o),f=l.parent;f;l=f,f=f.parent)for(var g=0;f.children[g]!=l;++g)h+=f.children[g].chunkSize();return h+l.first}function ua(o,l){var h=o.first;e:do{for(var f=0;f<o.children.length;++f){var g=o.children[f],_=g.height;if(l<_){o=g;continue e}l-=_,h+=g.chunkSize()}return h}while(!o.lines);for(var x=0;x<o.lines.length;++x){var k=o.lines[x],I=k.height;if(l<I)break;l-=I}return h+x}function Du(o,l){return l>=o.first&&l<o.first+o.size}function tf(o,l){return String(o.lineNumberFormatter(l+o.firstLineNumber))}function Ae(o,l,h){if(h===void 0&&(h=null),!(this instanceof Ae))return new Ae(o,l,h);this.line=o,this.ch=l,this.sticky=h}function ft(o,l){return o.line-l.line||o.ch-l.ch}function Ru(o,l){return o.sticky==l.sticky&&ft(o,l)==0}function vd(o){return Ae(o.line,o.ch)}function Pu(o,l){return ft(o,l)<0?l:o}function ca(o,l){return ft(o,l)<0?o:l}function yd(o,l){return Math.max(o.first,Math.min(l,o.first+o.size-1))}function pt(o,l){if(l.line<o.first)return Ae(o.first,0);var h=o.first+o.size-1;return l.line>h?Ae(h,Ze(o,h).text.length):Lm(l,Ze(o,l.line).text.length)}function Lm(o,l){var h=o.ch;return h==null||h>l?Ae(o.line,l):h<0?Ae(o.line,0):o}function _d(o,l){for(var h=[],f=0;f<l.length;f++)h[f]=pt(o,l[f]);return h}var il=function(o,l){this.state=o,this.lookAhead=l},wo=function(o,l,h,f){this.state=l,this.doc=o,this.line=h,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};wo.prototype.lookAhead=function(o){var l=this.doc.getLine(this.line+o);return l!=null&&o>this.maxLookAhead&&(this.maxLookAhead=o),l},wo.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},wo.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},wo.fromSaved=function(o,l,h){return l instanceof il?new wo(o,yo(o.mode,l.state),h,l.lookAhead):new wo(o,yo(o.mode,l),h)},wo.prototype.save=function(o){var l=o!==!1?yo(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new il(l,this.maxLookAhead):l};function wd(o,l,h,f){var g=[o.state.modeGen],_={};Sd(o,l.text,o.doc.mode,h,function(P,H){return g.push(P,H)},_,f);for(var x=h.state,k=function(P){h.baseTokens=g;var H=o.state.overlays[P],X=1,oe=0;h.state=!0,Sd(o,l.text,H.mode,h,function(ne,ve){for(var Ee=X;oe<ne;){var Re=g[X];Re>ne&&g.splice(X,1,ne,g[X+1],Re),X+=2,oe=Math.min(ne,Re)}if(ve)if(H.opaque)g.splice(Ee,X-Ee,ne,"overlay "+ve),X=Ee+2;else for(;Ee<X;Ee+=2){var Me=g[Ee+1];g[Ee+1]=(Me?Me+" ":"")+"overlay "+ve}},_),h.state=x,h.baseTokens=null,h.baseTokenPos=1},I=0;I<o.state.overlays.length;++I)k(I);return{styles:g,classes:_.bgClass||_.textClass?_:null}}function nf(o,l,h){if(!l.styles||l.styles[0]!=o.state.modeGen){var f=fa(o,Zt(l)),g=l.text.length>o.options.maxHighlightLength&&yo(o.doc.mode,f.state),_=wd(o,l,f);g&&(f.state=g),l.stateAfter=f.save(!g),l.styles=_.styles,_.classes?l.styleClasses=_.classes:l.styleClasses&&(l.styleClasses=null),h===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return l.styles}function fa(o,l,h){var f=o.doc,g=o.display;if(!f.mode.startState)return new wo(f,!0,l);var _=Fm(o,l,h),x=_>f.first&&Ze(f,_-1).stateAfter,k=x?wo.fromSaved(f,x,_):new wo(f,Pm(f.mode),_);return f.iter(_,l,function(I){xs(o,I.text,k);var P=k.line;I.stateAfter=P==l-1||P%5==0||P>=g.viewFrom&&P<g.viewTo?k.save():null,k.nextLine()}),h&&(f.modeFrontier=k.line),k}function xs(o,l,h,f){var g=o.doc.mode,_=new Un(l,o.options.tabSize,h);for(_.start=_.pos=f||0,l==""&&xd(g,h.state);!_.eol();)rf(g,_,h.state),_.start=_.pos}function xd(o,l){if(o.blankLine)return o.blankLine(l);if(o.innerMode){var h=md(o,l);if(h.mode.blankLine)return h.mode.blankLine(h.state)}}function rf(o,l,h,f){for(var g=0;g<10;g++){f&&(f[0]=md(o,h).mode);var _=o.token(l,h);if(l.pos>l.start)return _}throw new Error("Mode "+o.name+" failed to advance stream.")}var Nm=function(o,l,h){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=l||null,this.state=h};function Ed(o,l,h,f){var g=o.doc,_=g.mode,x;l=pt(g,l);var k=Ze(g,l.line),I=fa(o,l.line,h),P=new Un(k.text,o.options.tabSize,I),H;for(f&&(H=[]);(f||P.pos<l.ch)&&!P.eol();)P.start=P.pos,x=rf(_,P,I.state),f&&H.push(new Nm(P,x,yo(g.mode,I.state)));return f?H:new Nm(P,x,I.state)}function Cd(o,l){if(o)for(;;){var h=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!h)break;o=o.slice(0,h.index)+o.slice(h.index+h[0].length);var f=h[1]?"bgClass":"textClass";l[f]==null?l[f]=h[2]:new RegExp("(?:^|\\s)"+h[2]+"(?:$|\\s)").test(l[f])||(l[f]+=" "+h[2])}return o}function Sd(o,l,h,f,g,_,x){var k=h.flattenSpans;k==null&&(k=o.options.flattenSpans);var I=0,P=null,H=new Un(l,o.options.tabSize,f),X,oe=o.options.addModeClass&&[null];for(l==""&&Cd(xd(h,f.state),_);!H.eol();){if(H.pos>o.options.maxHighlightLength?(k=!1,x&&xs(o,l,f,H.pos),H.pos=l.length,X=null):X=Cd(rf(h,H,f.state,oe),_),oe){var ne=oe[0].name;ne&&(X="m-"+(X?ne+" "+X:ne))}if(!k||P!=X){for(;I<H.start;)I=Math.min(H.start,I+5e3),g(I,P);P=X}H.start=H.pos}for(;I<H.pos;){var ve=Math.min(H.pos,I+5e3);g(ve,P),I=ve}}function Fm(o,l,h){for(var f,g,_=o.doc,x=h?-1:l-(o.doc.mode.innerMode?1e3:100),k=l;k>x;--k){if(k<=_.first)return _.first;var I=Ze(_,k-1),P=I.stateAfter;if(P&&(!h||k+(P instanceof il?P.lookAhead:0)<=_.modeFrontier))return k;var H=Lt(I.text,null,o.options.tabSize);(g==null||f>H)&&(g=k-1,f=H)}return g}function Y_(o,l){if(o.modeFrontier=Math.min(o.modeFrontier,l),!(o.highlightFrontier<l-10)){for(var h=o.first,f=l-1;f>h;f--){var g=Ze(o,f).stateAfter;if(g&&(!(g instanceof il)||f+g.lookAhead<l)){h=f+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,h)}}var Om=!1,Xo=!1;function Mm(){Om=!0}function J_(){Xo=!0}function of(o,l,h){this.marker=o,this.from=l,this.to=h}function Lu(o,l){if(o)for(var h=0;h<o.length;++h){var f=o[h];if(f.marker==l)return f}}function Z_(o,l){for(var h,f=0;f<o.length;++f)o[f]!=l&&(h||(h=[])).push(o[f]);return h}function Td(o,l,h){var f=h&&window.WeakSet&&(h.markedSpans||(h.markedSpans=new WeakSet));f&&o.markedSpans&&f.has(o.markedSpans)?o.markedSpans.push(l):(o.markedSpans=o.markedSpans?o.markedSpans.concat([l]):[l],f&&f.add(o.markedSpans)),l.marker.attachLine(o)}function ew(o,l,h){var f;if(o)for(var g=0;g<o.length;++g){var _=o[g],x=_.marker,k=_.from==null||(x.inclusiveLeft?_.from<=l:_.from<l);if(k||_.from==l&&x.type=="bookmark"&&(!h||!_.marker.insertLeft)){var I=_.to==null||(x.inclusiveRight?_.to>=l:_.to>l);(f||(f=[])).push(new of(x,_.from,I?null:_.to))}}return f}function tw(o,l,h){var f;if(o)for(var g=0;g<o.length;++g){var _=o[g],x=_.marker,k=_.to==null||(x.inclusiveRight?_.to>=l:_.to>l);if(k||_.from==l&&x.type=="bookmark"&&(!h||_.marker.insertLeft)){var I=_.from==null||(x.inclusiveLeft?_.from<=l:_.from<l);(f||(f=[])).push(new of(x,I?null:_.from-l,_.to==null?null:_.to-l))}}return f}function kd(o,l){if(l.full)return null;var h=Du(o,l.from.line)&&Ze(o,l.from.line).markedSpans,f=Du(o,l.to.line)&&Ze(o,l.to.line).markedSpans;if(!h&&!f)return null;var g=l.from.ch,_=l.to.ch,x=ft(l.from,l.to)==0,k=ew(h,g,x),I=tw(f,_,x),P=l.text.length==1,H=mt(l.text).length+(P?g:0);if(k)for(var X=0;X<k.length;++X){var oe=k[X];if(oe.to==null){var ne=Lu(I,oe.marker);ne?P&&(oe.to=ne.to==null?null:ne.to+H):oe.to=g}}if(I)for(var ve=0;ve<I.length;++ve){var Ee=I[ve];if(Ee.to!=null&&(Ee.to+=H),Ee.from==null){var Re=Lu(k,Ee.marker);Re||(Ee.from=H,P&&(k||(k=[])).push(Ee))}else Ee.from+=H,P&&(k||(k=[])).push(Ee)}k&&(k=Bm(k)),I&&I!=k&&(I=Bm(I));var Me=[k];if(!P){var $e=l.text.length-2,Oe;if($e>0&&k)for(var je=0;je<k.length;++je)k[je].to==null&&(Oe||(Oe=[])).push(new of(k[je].marker,null,null));for(var rt=0;rt<$e;++rt)Me.push(Oe);Me.push(I)}return Me}function Bm(o){for(var l=0;l<o.length;++l){var h=o[l];h.from!=null&&h.from==h.to&&h.marker.clearWhenEmpty!==!1&&o.splice(l--,1)}return o.length?o:null}function nw(o,l,h){var f=null;if(o.iter(l.line,h.line+1,function(ne){if(ne.markedSpans)for(var ve=0;ve<ne.markedSpans.length;++ve){var Ee=ne.markedSpans[ve].marker;Ee.readOnly&&(!f||bt(f,Ee)==-1)&&(f||(f=[])).push(Ee)}}),!f)return null;for(var g=[{from:l,to:h}],_=0;_<f.length;++_)for(var x=f[_],k=x.find(0),I=0;I<g.length;++I){var P=g[I];if(!(ft(P.to,k.from)<0||ft(P.from,k.to)>0)){var H=[I,1],X=ft(P.from,k.from),oe=ft(P.to,k.to);(X<0||!x.inclusiveLeft&&!X)&&H.push({from:P.from,to:k.from}),(oe>0||!x.inclusiveRight&&!oe)&&H.push({from:k.to,to:P.to}),g.splice.apply(g,H),I+=H.length-3}}return g}function pn(o){var l=o.markedSpans;if(l){for(var h=0;h<l.length;++h)l[h].marker.detachLine(o);o.markedSpans=null}}function ln(o,l){if(l){for(var h=0;h<l.length;++h)l[h].marker.attachLine(o);o.markedSpans=l}}function sf(o){return o.inclusiveLeft?-1:0}function af(o){return o.inclusiveRight?1:0}function Ad(o,l){var h=o.lines.length-l.lines.length;if(h!=0)return h;var f=o.find(),g=l.find(),_=ft(f.from,g.from)||sf(o)-sf(l);if(_)return-_;var x=ft(f.to,g.to)||af(o)-af(l);return x||l.id-o.id}function Um(o,l){var h=Xo&&o.markedSpans,f;if(h)for(var g=void 0,_=0;_<h.length;++_)g=h[_],g.marker.collapsed&&(l?g.from:g.to)==null&&(!f||Ad(f,g.marker)<0)&&(f=g.marker);return f}function zm(o){return Um(o,!0)}function lf(o){return Um(o,!1)}function Vm(o,l){var h=Xo&&o.markedSpans,f;if(h)for(var g=0;g<h.length;++g){var _=h[g];_.marker.collapsed&&(_.from==null||_.from<l)&&(_.to==null||_.to>l)&&(!f||Ad(f,_.marker)<0)&&(f=_.marker)}return f}function $m(o,l,h,f,g){var _=Ze(o,l),x=Xo&&_.markedSpans;if(x)for(var k=0;k<x.length;++k){var I=x[k];if(I.marker.collapsed){var P=I.marker.find(0),H=ft(P.from,h)||sf(I.marker)-sf(g),X=ft(P.to,f)||af(I.marker)-af(g);if(!(H>=0&&X<=0||H<=0&&X>=0)&&(H<=0&&(I.marker.inclusiveRight&&g.inclusiveLeft?ft(P.to,h)>=0:ft(P.to,h)>0)||H>=0&&(I.marker.inclusiveRight&&g.inclusiveLeft?ft(P.from,f)<=0:ft(P.from,f)<0)))return!0}}}function un(o){for(var l;l=zm(o);)o=l.find(-1,!0).line;return o}function Id(o){for(var l;l=lf(o);)o=l.find(1,!0).line;return o}function ha(o){for(var l,h;l=lf(o);)o=l.find(1,!0).line,(h||(h=[])).push(o);return h}function uf(o,l){var h=Ze(o,l),f=un(h);return h==f?l:Zt(f)}function cf(o,l){if(l>o.lastLine())return l;var h=Ze(o,l),f;if(!ir(o,h))return l;for(;f=lf(h);)h=f.find(1,!0).line;return Zt(h)+1}function ir(o,l){var h=Xo&&l.markedSpans;if(h){for(var f=void 0,g=0;g<h.length;++g)if(f=h[g],!!f.marker.collapsed){if(f.from==null)return!0;if(!f.marker.widgetNode&&f.from==0&&f.marker.inclusiveLeft&&ff(o,l,f))return!0}}}function ff(o,l,h){if(h.to==null){var f=h.marker.find(1,!0);return ff(o,f.line,Lu(f.line.markedSpans,h.marker))}if(h.marker.inclusiveRight&&h.to==l.text.length)return!0;for(var g=void 0,_=0;_<l.markedSpans.length;++_)if(g=l.markedSpans[_],g.marker.collapsed&&!g.marker.widgetNode&&g.from==h.to&&(g.to==null||g.to!=h.from)&&(g.marker.inclusiveLeft||h.marker.inclusiveRight)&&ff(o,l,g))return!0}function xo(o){o=un(o);for(var l=0,h=o.parent,f=0;f<h.lines.length;++f){var g=h.lines[f];if(g==o)break;l+=g.height}for(var _=h.parent;_;h=_,_=h.parent)for(var x=0;x<_.children.length;++x){var k=_.children[x];if(k==h)break;l+=k.height}return l}function Nu(o){if(o.height==0)return 0;for(var l=o.text.length,h,f=o;h=zm(f);){var g=h.find(0,!0);f=g.from.line,l+=g.from.ch-g.to.ch}for(f=o;h=lf(f);){var _=h.find(0,!0);l-=f.text.length-_.from.ch,f=_.to.line,l+=f.text.length-_.to.ch}return l}function hf(o){var l=o.display,h=o.doc;l.maxLine=Ze(h,h.first),l.maxLineLength=Nu(l.maxLine),l.maxLineChanged=!0,h.iter(function(f){var g=Nu(f);g>l.maxLineLength&&(l.maxLineLength=g,l.maxLine=f)})}var da=function(o,l,h){this.text=o,ln(this,l),this.height=h?h(this):1};da.prototype.lineNo=function(){return Zt(this)},Si(da);function Hm(o,l,h,f){o.text=l,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),o.order!=null&&(o.order=null),pn(o),ln(o,h);var g=f?f(o):1;g!=o.height&&_o(o,g)}function li(o){o.parent=null,pn(o)}var rw={},Ti={};function jm(o,l){if(!o||/^\s*$/.test(o))return null;var h=l.addModeClass?Ti:rw;return h[o]||(h[o]=o.replace(/\S+/g,"cm-$&"))}function bd(o,l){var h=_e("span",null,null,y?"padding-right: .1px":null),f={pre:_e("pre",[h],"CodeMirror-line"),content:h,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};l.measure={};for(var g=0;g<=(l.rest?l.rest.length:0);g++){var _=g?l.rest[g-1]:l.line,x=void 0;f.pos=0,f.addToken=df,W_(o.display.measure)&&(x=ke(_,o.doc.direction))&&(f.addToken=yn(f.addToken,x)),f.map=[];var k=l!=o.display.externalMeasured&&Zt(_);Rd(_,f,nf(o,_,k)),_.styleClasses&&(_.styleClasses.bgClass&&(f.bgClass=tt(_.styleClasses.bgClass,f.bgClass||"")),_.styleClasses.textClass&&(f.textClass=tt(_.styleClasses.textClass,f.textClass||""))),f.map.length==0&&f.map.push(0,0,f.content.appendChild(j_(o.display.measure))),g==0?(l.measure.map=f.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(f.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(y){var I=f.content.lastChild;(/\bcm-tab\b/.test(I.className)||I.querySelector&&I.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return zt(o,"renderLine",o,l.line,f.pre),f.pre.className&&(f.textClass=tt(f.pre.className,f.textClass||"")),f}function Es(o){var l=J("span","•","cm-invalidchar");return l.title="\\u"+o.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function df(o,l,h,f,g,_,x){if(l){var k=o.splitSpaces?Dd(l,o.trailingSpace):l,I=o.cm.state.specialChars,P=!1,H;if(!I.test(l))o.col+=l.length,H=document.createTextNode(k),o.map.push(o.pos,o.pos+l.length,H),p&&m<9&&(P=!0),o.pos+=l.length;else{H=document.createDocumentFragment();for(var X=0;;){I.lastIndex=X;var oe=I.exec(l),ne=oe?oe.index-X:l.length-X;if(ne){var ve=document.createTextNode(k.slice(X,X+ne));p&&m<9?H.appendChild(J("span",[ve])):H.appendChild(ve),o.map.push(o.pos,o.pos+ne,ve),o.col+=ne,o.pos+=ne}if(!oe)break;X+=ne+1;var Ee=void 0;if(oe[0]=="	"){var Re=o.cm.options.tabSize,Me=Re-o.col%Re;Ee=H.appendChild(J("span",Ci(Me),"cm-tab")),Ee.setAttribute("role","presentation"),Ee.setAttribute("cm-text","	"),o.col+=Me}else oe[0]=="\r"||oe[0]==`
`?(Ee=H.appendChild(J("span",oe[0]=="\r"?"␍":"␤","cm-invalidchar")),Ee.setAttribute("cm-text",oe[0]),o.col+=1):(Ee=o.cm.options.specialCharPlaceholder(oe[0]),Ee.setAttribute("cm-text",oe[0]),p&&m<9?H.appendChild(J("span",[Ee])):H.appendChild(Ee),o.col+=1);o.map.push(o.pos,o.pos+1,Ee),o.pos++}}if(o.trailingSpace=k.charCodeAt(l.length-1)==32,h||f||g||P||_||x){var $e=h||"";f&&($e+=f),g&&($e+=g);var Oe=J("span",[H],$e,_);if(x)for(var je in x)x.hasOwnProperty(je)&&je!="style"&&je!="class"&&Oe.setAttribute(je,x[je]);return o.content.appendChild(Oe)}o.content.appendChild(H)}}function Dd(o,l){if(o.length>1&&!/  /.test(o))return o;for(var h=l,f="",g=0;g<o.length;g++){var _=o.charAt(g);_==" "&&h&&(g==o.length-1||o.charCodeAt(g+1)==32)&&(_=" "),f+=_,h=_==" "}return f}function yn(o,l){return function(h,f,g,_,x,k,I){g=g?g+" cm-force-border":"cm-force-border";for(var P=h.pos,H=P+f.length;;){for(var X=void 0,oe=0;oe<l.length&&(X=l[oe],!(X.to>P&&X.from<=P));oe++);if(X.to>=H)return o(h,f,g,_,x,k,I);o(h,f.slice(0,X.to-P),g,_,null,k,I),_=null,f=f.slice(X.to-P),P=X.to}}}function Yo(o,l,h,f){var g=!f&&h.widgetNode;g&&o.map.push(o.pos,o.pos+l,g),!f&&o.cm.display.input.needsContentAttribute&&(g||(g=o.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",h.id)),g&&(o.cm.display.input.setUneditable(g),o.content.appendChild(g)),o.pos+=l,o.trailingSpace=!1}function Rd(o,l,h){var f=o.markedSpans,g=o.text,_=0;if(!f){for(var x=1;x<h.length;x+=2)l.addToken(l,g.slice(_,_=h[x]),jm(h[x+1],l.cm.options));return}for(var k=g.length,I=0,P=1,H="",X,oe,ne=0,ve,Ee,Re,Me,$e;;){if(ne==I){ve=Ee=Re=oe="",$e=null,Me=null,ne=1/0;for(var Oe=[],je=void 0,rt=0;rt<f.length;++rt){var et=f[rt],xt=et.marker;if(xt.type=="bookmark"&&et.from==I&&xt.widgetNode)Oe.push(xt);else if(et.from<=I&&(et.to==null||et.to>I||xt.collapsed&&et.to==I&&et.from==I)){if(et.to!=null&&et.to!=I&&ne>et.to&&(ne=et.to,Ee=""),xt.className&&(ve+=" "+xt.className),xt.css&&(oe=(oe?oe+";":"")+xt.css),xt.startStyle&&et.from==I&&(Re+=" "+xt.startStyle),xt.endStyle&&et.to==ne&&(je||(je=[])).push(xt.endStyle,et.to),xt.title&&(($e||($e={})).title=xt.title),xt.attributes)for(var tn in xt.attributes)($e||($e={}))[tn]=xt.attributes[tn];xt.collapsed&&(!Me||Ad(Me.marker,xt)<0)&&(Me=et)}else et.from>I&&ne>et.from&&(ne=et.from)}if(je)for(var Mn=0;Mn<je.length;Mn+=2)je[Mn+1]==ne&&(Ee+=" "+je[Mn]);if(!Me||Me.from==I)for(var vn=0;vn<Oe.length;++vn)Yo(l,0,Oe[vn]);if(Me&&(Me.from||0)==I){if(Yo(l,(Me.to==null?k+1:Me.to)-I,Me.marker,Me.from==null),Me.to==null)return;Me.to==I&&(Me=!1)}}if(I>=k)break;for(var In=Math.min(k,ne);;){if(H){var zn=I+H.length;if(!Me){var Vn=zn>In?H.slice(0,In-I):H;l.addToken(l,Vn,X?X+ve:ve,Re,I+Vn.length==ne?Ee:"",oe,$e)}if(zn>=In){H=H.slice(In-I),I=In;break}I=zn,Re=""}H=g.slice(_,_=h[P++]),X=jm(h[P++],l.cm.options)}}}function Wm(o,l,h){this.line=l,this.rest=ha(l),this.size=this.rest?Zt(mt(this.rest))-h+1:1,this.node=this.text=null,this.hidden=ir(o,l)}function ol(o,l,h){for(var f=[],g,_=l;_<h;_=g){var x=new Wm(o.doc,Ze(o.doc,_),_);g=_+x.size,f.push(x)}return f}var sl=null;function iw(o){sl?sl.ops.push(o):o.ownsGroup=sl={ops:[o],delayedCallbacks:[]}}function ow(o){var l=o.delayedCallbacks,h=0;do{for(;h<l.length;h++)l[h].call(null);for(var f=0;f<o.ops.length;f++){var g=o.ops[f];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(h<l.length)}function qm(o,l){var h=o.ownsGroup;if(h)try{ow(h)}finally{sl=null,l(h)}}var Cs=null;function _n(o,l){var h=Qt(o,l);if(h.length){var f=Array.prototype.slice.call(arguments,2),g;sl?g=sl.delayedCallbacks:Cs?g=Cs:(g=Cs=[],setTimeout(sw,0));for(var _=function(k){g.push(function(){return h[k].apply(null,f)})},x=0;x<h.length;++x)_(x)}}function sw(){var o=Cs;Cs=null;for(var l=0;l<o.length;++l)o[l]()}function Pd(o,l,h,f){for(var g=0;g<l.changes.length;g++){var _=l.changes[g];_=="text"?Gm(o,l):_=="gutter"?gf(o,l,h,f):_=="class"?Nd(o,l):_=="widget"&&Fd(o,l,f)}l.changes=null}function al(o){return o.node==o.text&&(o.node=J("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),p&&m<8&&(o.node.style.zIndex=2)),o.node}function Ld(o,l){var h=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(h&&(h+=" CodeMirror-linebackground"),l.background)h?l.background.className=h:(l.background.parentNode.removeChild(l.background),l.background=null);else if(h){var f=al(l);l.background=f.insertBefore(J("div",null,h),f.firstChild),o.display.input.setUneditable(l.background)}}function pf(o,l){var h=o.display.externalMeasured;return h&&h.line==l.line?(o.display.externalMeasured=null,l.measure=h.measure,h.built):bd(o,l)}function Gm(o,l){var h=l.text.className,f=pf(o,l);l.text==l.node&&(l.node=f.pre),l.text.parentNode.replaceChild(f.pre,l.text),l.text=f.pre,f.bgClass!=l.bgClass||f.textClass!=l.textClass?(l.bgClass=f.bgClass,l.textClass=f.textClass,Nd(o,l)):h&&(l.text.className=h)}function Nd(o,l){Ld(o,l),l.line.wrapClass?al(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className="");var h=l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass;l.text.className=h||""}function gf(o,l,h,f){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var g=al(l);l.gutterBackground=J("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(o.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),o.display.input.setUneditable(l.gutterBackground),g.insertBefore(l.gutterBackground,l.text)}var _=l.line.gutterMarkers;if(o.options.lineNumbers||_){var x=al(l),k=l.gutter=J("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(k.setAttribute("aria-hidden","true"),o.display.input.setUneditable(k),x.insertBefore(k,l.text),l.line.gutterClass&&(k.className+=" "+l.line.gutterClass),o.options.lineNumbers&&(!_||!_["CodeMirror-linenumbers"])&&(l.lineNumber=k.appendChild(J("div",tf(o.options,h),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),_)for(var I=0;I<o.display.gutterSpecs.length;++I){var P=o.display.gutterSpecs[I].className,H=_.hasOwnProperty(P)&&_[P];H&&k.appendChild(J("div",[H],"CodeMirror-gutter-elt","left: "+f.gutterLeft[P]+"px; width: "+f.gutterWidth[P]+"px"))}}}function Fd(o,l,h){l.alignable&&(l.alignable=null);for(var f=ie("CodeMirror-linewidget"),g=l.node.firstChild,_=void 0;g;g=_)_=g.nextSibling,f.test(g.className)&&l.node.removeChild(g);Od(o,l,h)}function aw(o,l,h,f){var g=pf(o,l);return l.text=l.node=g.pre,g.bgClass&&(l.bgClass=g.bgClass),g.textClass&&(l.textClass=g.textClass),Nd(o,l),gf(o,l,h,f),Od(o,l,f),l.node}function Od(o,l,h){if(Xr(o,l.line,l,h,!0),l.rest)for(var f=0;f<l.rest.length;f++)Xr(o,l.rest[f],l,h,!1)}function Xr(o,l,h,f,g){if(l.widgets)for(var _=al(h),x=0,k=l.widgets;x<k.length;++x){var I=k[x],P=J("div",[I.node],"CodeMirror-linewidget"+(I.className?" "+I.className:""));I.handleMouseEvents||P.setAttribute("cm-ignore-events","true"),Md(I,P,h,f),o.display.input.setUneditable(P),g&&I.above?_.insertBefore(P,h.gutter||h.text):_.appendChild(P),_n(I,"redraw")}}function Md(o,l,h,f){if(o.noHScroll){(h.alignable||(h.alignable=[])).push(l);var g=f.wrapperWidth;l.style.left=f.fixedPos+"px",o.coverGutter||(g-=f.gutterTotalWidth,l.style.paddingLeft=f.gutterTotalWidth+"px"),l.style.width=g+"px"}o.coverGutter&&(l.style.zIndex=5,l.style.position="relative",o.noHScroll||(l.style.marginLeft=-f.gutterTotalWidth+"px"))}function Jo(o){if(o.height!=null)return o.height;var l=o.doc.cm;if(!l)return 0;if(!he(document.body,o.node)){var h="position: relative;";o.coverGutter&&(h+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),o.noHScroll&&(h+="width: "+l.display.wrapper.clientWidth+"px;"),Le(l.display.measure,J("div",[o.node],null,h))}return o.height=o.node.parentNode.offsetHeight}function Eo(o,l){for(var h=la(l);h!=o.wrapper;h=h.parentNode)if(!h||h.nodeType==1&&h.getAttribute("cm-ignore-events")=="true"||h.parentNode==o.sizer&&h!=o.mover)return!0}function Fu(o){return o.lineSpace.offsetTop}function Bd(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function Km(o){if(o.cachedPaddingH)return o.cachedPaddingH;var l=Le(o.measure,J("pre","x","CodeMirror-line-like")),h=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,f={left:parseInt(h.paddingLeft),right:parseInt(h.paddingRight)};return!isNaN(f.left)&&!isNaN(f.right)&&(o.cachedPaddingH=f),f}function Co(o){return Nt-o.display.nativeBarWidth}function pa(o){return o.display.scroller.clientWidth-Co(o)-o.display.barWidth}function Ud(o){return o.display.scroller.clientHeight-Co(o)-o.display.barHeight}function ll(o,l,h){var f=o.options.lineWrapping,g=f&&pa(o);if(!l.measure.heights||f&&l.measure.width!=g){var _=l.measure.heights=[];if(f){l.measure.width=g;for(var x=l.text.firstChild.getClientRects(),k=0;k<x.length-1;k++){var I=x[k],P=x[k+1];Math.abs(I.bottom-P.bottom)>2&&_.push((I.bottom+P.top)/2-h.top)}}_.push(h.bottom-h.top)}}function Qm(o,l,h){if(o.line==l)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var f=0;f<o.rest.length;f++)if(o.rest[f]==l)return{map:o.measure.maps[f],cache:o.measure.caches[f]};for(var g=0;g<o.rest.length;g++)if(Zt(o.rest[g])>h)return{map:o.measure.maps[g],cache:o.measure.caches[g],before:!0}}}function lw(o,l){l=un(l);var h=Zt(l),f=o.display.externalMeasured=new Wm(o.doc,l,h);f.lineN=h;var g=f.built=bd(o,f);return f.text=g.pre,Le(o.display.lineMeasure,g.pre),f}function mf(o,l,h,f){return ci(o,ui(o,l),h,f)}function vf(o,l){if(l>=o.display.viewFrom&&l<o.display.viewTo)return o.display.view[ma(o,l)];var h=o.display.externalMeasured;if(h&&l>=h.lineN&&l<h.lineN+h.size)return h}function ui(o,l){var h=Zt(l),f=vf(o,h);f&&!f.text?f=null:f&&f.changes&&(Pd(o,f,h,cl(o)),o.curOp.forceUpdate=!0),f||(f=lw(o,l));var g=Qm(f,l,h);return{line:l,view:f,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function ci(o,l,h,f,g){l.before&&(h=-1);var _=h+(f||""),x;return l.cache.hasOwnProperty(_)?x=l.cache[_]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(ll(o,l.view,l.rect),l.hasHeights=!0),x=ul(o,l,h,f),x.bogus||(l.cache[_]=x)),{left:x.left,right:x.right,top:g?x.rtop:x.top,bottom:g?x.rbottom:x.bottom}}var Xm={left:0,right:0,top:0,bottom:0};function Ym(o,l,h){for(var f,g,_,x,k,I,P=0;P<o.length;P+=3)if(k=o[P],I=o[P+1],l<k?(g=0,_=1,x="left"):l<I?(g=l-k,_=g+1):(P==o.length-3||l==I&&o[P+3]>l)&&(_=I-k,g=_-1,l>=I&&(x="right")),g!=null){if(f=o[P+2],k==I&&h==(f.insertLeft?"left":"right")&&(x=h),h=="left"&&g==0)for(;P&&o[P-2]==o[P-3]&&o[P-1].insertLeft;)f=o[(P-=3)+2],x="left";if(h=="right"&&g==I-k)for(;P<o.length-3&&o[P+3]==o[P+4]&&!o[P+5].insertLeft;)f=o[(P+=3)+2],x="right";break}return{node:f,start:g,end:_,collapse:x,coverStart:k,coverEnd:I}}function uw(o,l){var h=Xm;if(l=="left")for(var f=0;f<o.length&&(h=o[f]).left==h.right;f++);else for(var g=o.length-1;g>=0&&(h=o[g]).left==h.right;g--);return h}function ul(o,l,h,f){var g=Ym(l.map,h,f),_=g.node,x=g.start,k=g.end,I=g.collapse,P;if(_.nodeType==3){for(var H=0;H<4;H++){for(;x&&K(l.line.text.charAt(g.coverStart+x));)--x;for(;g.coverStart+k<g.coverEnd&&K(l.line.text.charAt(g.coverStart+k));)++k;if(p&&m<9&&x==0&&k==g.coverEnd-g.coverStart?P=_.parentNode.getBoundingClientRect():P=uw(me(_,x,k).getClientRects(),f),P.left||P.right||x==0)break;k=x,x=x-1,I="right"}p&&m<11&&(P=ji(o.display.measure,P))}else{x>0&&(I=f="right");var X;o.options.lineWrapping&&(X=_.getClientRects()).length>1?P=X[f=="right"?X.length-1:0]:P=_.getBoundingClientRect()}if(p&&m<9&&!x&&(!P||!P.left&&!P.right)){var oe=_.parentNode.getClientRects()[0];oe?P={left:oe.left,right:oe.left+es(o.display),top:oe.top,bottom:oe.bottom}:P=Xm}for(var ne=P.top-l.rect.top,ve=P.bottom-l.rect.top,Ee=(ne+ve)/2,Re=l.view.measure.heights,Me=0;Me<Re.length-1&&!(Ee<Re[Me]);Me++);var $e=Me?Re[Me-1]:0,Oe=Re[Me],je={left:(I=="right"?P.right:P.left)-l.rect.left,right:(I=="left"?P.left:P.right)-l.rect.left,top:$e,bottom:Oe};return!P.left&&!P.right&&(je.bogus=!0),o.options.singleCursorHeightPerLine||(je.rtop=ne,je.rbottom=ve),je}function ji(o,l){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Rm(o))return l;var h=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*h,right:l.right*h,top:l.top*f,bottom:l.bottom*f}}function zd(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var l=0;l<o.rest.length;l++)o.measure.caches[l]={}}function Jm(o){o.display.externalMeasure=null,Ue(o.display.lineMeasure);for(var l=0;l<o.display.view.length;l++)zd(o.display.view[l])}function Ou(o){Jm(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function Zm(o){return E&&D?-(o.body.getBoundingClientRect().left-parseInt(getComputedStyle(o.body).marginLeft)):o.defaultView.pageXOffset||(o.documentElement||o.body).scrollLeft}function ev(o){return E&&D?-(o.body.getBoundingClientRect().top-parseInt(getComputedStyle(o.body).marginTop)):o.defaultView.pageYOffset||(o.documentElement||o.body).scrollTop}function Vd(o){var l=un(o),h=l.widgets,f=0;if(h)for(var g=0;g<h.length;++g)h[g].above&&(f+=Jo(h[g]));return f}function Zo(o,l,h,f,g){if(!g){var _=Vd(l);h.top+=_,h.bottom+=_}if(f=="line")return h;f||(f="local");var x=xo(l);if(f=="local"?x+=Fu(o.display):x-=o.display.viewOffset,f=="page"||f=="window"){var k=o.display.lineSpace.getBoundingClientRect();x+=k.top+(f=="window"?0:ev(C(o)));var I=k.left+(f=="window"?0:Zm(C(o)));h.left+=I,h.right+=I}return h.top+=x,h.bottom+=x,h}function se(o,l,h){if(h=="div")return l;var f=l.left,g=l.top;if(h=="page")f-=Zm(C(o)),g-=ev(C(o));else if(h=="local"||!h){var _=o.display.sizer.getBoundingClientRect();f+=_.left,g+=_.top}var x=o.display.lineSpace.getBoundingClientRect();return{left:f-x.left,top:g-x.top}}function we(o,l,h,f,g){return f||(f=Ze(o.doc,l.line)),Zo(o,f,mf(o,f,l.ch,g),h)}function pe(o,l,h,f,g,_){f=f||Ze(o.doc,l.line),g||(g=ui(o,f));function x(ve,Ee){var Re=ci(o,g,ve,Ee?"right":"left",_);return Ee?Re.left=Re.right:Re.right=Re.left,Zo(o,f,Re,h)}var k=ke(f,o.doc.direction),I=l.ch,P=l.sticky;if(I>=f.text.length?(I=f.text.length,P="before"):I<=0&&(I=0,P="after"),!k)return x(P=="before"?I-1:I,P=="before");function H(ve,Ee,Re){var Me=k[Ee],$e=Me.level==1;return x(Re?ve-1:ve,$e!=Re)}var X=He(k,I,P),oe=Be,ne=H(I,X,P=="before");return oe!=null&&(ne.other=H(I,oe,P!="before")),ne}function Xe(o,l){var h=0;l=pt(o.doc,l),o.options.lineWrapping||(h=es(o.display)*l.ch);var f=Ze(o.doc,l.line),g=xo(f)+Fu(o.display);return{left:h,right:h,top:g,bottom:g+f.height}}function gt(o,l,h,f,g){var _=Ae(o,l,h);return _.xRel=g,f&&(_.outside=f),_}function Vt(o,l,h){var f=o.doc;if(h+=o.display.viewOffset,h<0)return gt(f.first,0,null,-1,-1);var g=ua(f,h),_=f.first+f.size-1;if(g>_)return gt(f.first+f.size-1,Ze(f,_).text.length,null,1,1);l<0&&(l=0);for(var x=Ze(f,g);;){var k=cw(o,x,g,l,h),I=Vm(x,k.ch+(k.xRel>0||k.outside>0?1:0));if(!I)return k;var P=I.find(1);if(P.line==g)return P;x=Ze(f,g=P.line)}}function Jn(o,l,h,f){f-=Vd(l);var g=l.text.length,_=be(function(x){return ci(o,h,x-1).bottom<=f},g,0);return g=be(function(x){return ci(o,h,x).top>f},_,g),{begin:_,end:g}}function on(o,l,h,f){h||(h=ui(o,l));var g=Zo(o,l,ci(o,h,f),"line").top;return Jn(o,l,h,g)}function Mu(o,l,h,f){return o.bottom<=h?!1:o.top>h?!0:(f?o.left:o.right)>l}function cw(o,l,h,f,g){g-=xo(l);var _=ui(o,l),x=Vd(l),k=0,I=l.text.length,P=!0,H=ke(l,o.doc.direction);if(H){var X=(o.options.lineWrapping?yf:ki)(o,l,h,_,H,f,g);P=X.level!=1,k=P?X.from:X.to-1,I=P?X.to:X.from-1}var oe=null,ne=null,ve=be(function(rt){var et=ci(o,_,rt);return et.top+=x,et.bottom+=x,Mu(et,f,g,!1)?(et.top<=g&&et.left<=f&&(oe=rt,ne=et),!0):!1},k,I),Ee,Re,Me=!1;if(ne){var $e=f-ne.left<ne.right-f,Oe=$e==P;ve=oe+(Oe?0:1),Re=Oe?"after":"before",Ee=$e?ne.left:ne.right}else{!P&&(ve==I||ve==k)&&ve++,Re=ve==0?"after":ve==l.text.length?"before":ci(o,_,ve-(P?1:0)).bottom+x<=g==P?"after":"before";var je=pe(o,Ae(h,ve,Re),"line",l,_);Ee=je.left,Me=g<je.top?-1:g>=je.bottom?1:0}return ve=ee(l.text,ve,1),gt(h,ve,Re,Me,f-Ee)}function ki(o,l,h,f,g,_,x){var k=be(function(X){var oe=g[X],ne=oe.level!=1;return Mu(pe(o,Ae(h,ne?oe.to:oe.from,ne?"before":"after"),"line",l,f),_,x,!0)},0,g.length-1),I=g[k];if(k>0){var P=I.level!=1,H=pe(o,Ae(h,P?I.from:I.to,P?"after":"before"),"line",l,f);Mu(H,_,x,!0)&&H.top>x&&(I=g[k-1])}return I}function yf(o,l,h,f,g,_,x){var k=Jn(o,l,f,x),I=k.begin,P=k.end;/\s/.test(l.text.charAt(P-1))&&P--;for(var H=null,X=null,oe=0;oe<g.length;oe++){var ne=g[oe];if(!(ne.from>=P||ne.to<=I)){var ve=ne.level!=1,Ee=ci(o,f,ve?Math.min(P,ne.to)-1:Math.max(I,ne.from)).right,Re=Ee<_?_-Ee+1e9:Ee-_;(!H||X>Re)&&(H=ne,X=Re)}}return H||(H=g[g.length-1]),H.from<I&&(H={from:I,to:H.to,level:H.level}),H.to>P&&(H={from:H.from,to:P,level:H.level}),H}var ga;function Wi(o){if(o.cachedTextHeight!=null)return o.cachedTextHeight;if(ga==null){ga=J("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)ga.appendChild(document.createTextNode("x")),ga.appendChild(J("br"));ga.appendChild(document.createTextNode("x"))}Le(o.measure,ga);var h=ga.offsetHeight/50;return h>3&&(o.cachedTextHeight=h),Ue(o.measure),h||1}function es(o){if(o.cachedCharWidth!=null)return o.cachedCharWidth;var l=J("span","xxxxxxxxxx"),h=J("pre",[l],"CodeMirror-line-like");Le(o.measure,h);var f=l.getBoundingClientRect(),g=(f.right-f.left)/10;return g>2&&(o.cachedCharWidth=g),g||10}function cl(o){for(var l=o.display,h={},f={},g=l.gutters.clientLeft,_=l.gutters.firstChild,x=0;_;_=_.nextSibling,++x){var k=o.display.gutterSpecs[x].className;h[k]=_.offsetLeft+_.clientLeft+g,f[k]=_.clientWidth}return{fixedPos:Xt(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:h,gutterWidth:f,wrapperWidth:l.wrapper.clientWidth}}function Xt(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function tv(o){var l=Wi(o.display),h=o.options.lineWrapping,f=h&&Math.max(5,o.display.scroller.clientWidth/es(o.display)-3);return function(g){if(ir(o.doc,g))return 0;var _=0;if(g.widgets)for(var x=0;x<g.widgets.length;x++)g.widgets[x].height&&(_+=g.widgets[x].height);return h?_+(Math.ceil(g.text.length/f)||1)*l:_+l}}function _f(o){var l=o.doc,h=tv(o);l.iter(function(f){var g=h(f);g!=f.height&&_o(f,g)})}function So(o,l,h,f){var g=o.display;if(!h&&la(l).getAttribute("cm-not-content")=="true")return null;var _,x,k=g.lineSpace.getBoundingClientRect();try{_=l.clientX-k.left,x=l.clientY-k.top}catch{return null}var I=Vt(o,_,x),P;if(f&&I.xRel>0&&(P=Ze(o.doc,I.line).text).length==I.ch){var H=Lt(P,P.length,o.options.tabSize)-P.length;I=Ae(I.line,Math.max(0,Math.round((_-Km(o.display).left)/es(o.display))-H))}return I}function ma(o,l){if(l>=o.display.viewTo||(l-=o.display.viewFrom,l<0))return null;for(var h=o.display.view,f=0;f<h.length;f++)if(l-=h[f].size,l<0)return f}function zr(o,l,h,f){l==null&&(l=o.doc.first),h==null&&(h=o.doc.first+o.doc.size),f||(f=0);var g=o.display;if(f&&h<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>l)&&(g.updateLineNumbers=l),o.curOp.viewChanged=!0,l>=g.viewTo)Xo&&uf(o.doc,l)<g.viewTo&&qi(o);else if(h<=g.viewFrom)Xo&&cf(o.doc,h+f)>g.viewFrom?qi(o):(g.viewFrom+=f,g.viewTo+=f);else if(l<=g.viewFrom&&h>=g.viewTo)qi(o);else if(l<=g.viewFrom){var _=Gi(o,h,h+f,1);_?(g.view=g.view.slice(_.index),g.viewFrom=_.lineN,g.viewTo+=f):qi(o)}else if(h>=g.viewTo){var x=Gi(o,l,l,-1);x?(g.view=g.view.slice(0,x.index),g.viewTo=x.lineN):qi(o)}else{var k=Gi(o,l,l,-1),I=Gi(o,h,h+f,1);k&&I?(g.view=g.view.slice(0,k.index).concat(ol(o,k.lineN,I.lineN)).concat(g.view.slice(I.index)),g.viewTo+=f):qi(o)}var P=g.externalMeasured;P&&(h<P.lineN?P.lineN+=f:l<P.lineN+P.size&&(g.externalMeasured=null))}function Ss(o,l,h){o.curOp.viewChanged=!0;var f=o.display,g=o.display.externalMeasured;if(g&&l>=g.lineN&&l<g.lineN+g.size&&(f.externalMeasured=null),!(l<f.viewFrom||l>=f.viewTo)){var _=f.view[ma(o,l)];if(_.node!=null){var x=_.changes||(_.changes=[]);bt(x,h)==-1&&x.push(h)}}}function qi(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function Gi(o,l,h,f){var g=ma(o,l),_,x=o.display.view;if(!Xo||h==o.doc.first+o.doc.size)return{index:g,lineN:h};for(var k=o.display.viewFrom,I=0;I<g;I++)k+=x[I].size;if(k!=l){if(f>0){if(g==x.length-1)return null;_=k+x[g].size-l,g++}else _=k-l;l+=_,h+=_}for(;uf(o.doc,h)!=h;){if(g==(f<0?0:x.length-1))return null;h+=f*x[g-(f<0?1:0)].size,g+=f}return{index:g,lineN:h}}function wf(o,l,h){var f=o.display,g=f.view;g.length==0||l>=f.viewTo||h<=f.viewFrom?(f.view=ol(o,l,h),f.viewFrom=l):(f.viewFrom>l?f.view=ol(o,l,f.viewFrom).concat(f.view):f.viewFrom<l&&(f.view=f.view.slice(ma(o,l))),f.viewFrom=l,f.viewTo<h?f.view=f.view.concat(ol(o,f.viewTo,h)):f.viewTo>h&&(f.view=f.view.slice(0,ma(o,h)))),f.viewTo=h}function $d(o){for(var l=o.display.view,h=0,f=0;f<l.length;f++){var g=l[f];!g.hidden&&(!g.node||g.changes)&&++h}return h}function Ts(o){o.display.input.showSelection(o.display.input.prepareSelection())}function Hd(o,l){l===void 0&&(l=!0);var h=o.doc,f={},g=f.cursors=document.createDocumentFragment(),_=f.selection=document.createDocumentFragment(),x=o.options.$customCursor;x&&(l=!0);for(var k=0;k<h.sel.ranges.length;k++)if(!(!l&&k==h.sel.primIndex)){var I=h.sel.ranges[k];if(!(I.from().line>=o.display.viewTo||I.to().line<o.display.viewFrom)){var P=I.empty();if(x){var H=x(o,I);H&&xf(o,H,g)}else(P||o.options.showCursorWhenSelecting)&&xf(o,I.head,g);P||nv(o,I,_)}}return f}function xf(o,l,h){var f=pe(o,l,"div",null,null,!o.options.singleCursorHeightPerLine),g=h.appendChild(J("div"," ","CodeMirror-cursor"));if(g.style.left=f.left+"px",g.style.top=f.top+"px",g.style.height=Math.max(0,f.bottom-f.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var _=we(o,l,"div",null,null),x=_.right-_.left;g.style.width=(x>0?x:o.defaultCharWidth())+"px"}if(f.other){var k=h.appendChild(J("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));k.style.display="",k.style.left=f.other.left+"px",k.style.top=f.other.top+"px",k.style.height=(f.other.bottom-f.other.top)*.85+"px"}}function va(o,l){return o.top-l.top||o.left-l.left}function nv(o,l,h){var f=o.display,g=o.doc,_=document.createDocumentFragment(),x=Km(o.display),k=x.left,I=Math.max(f.sizerWidth,pa(o)-f.sizer.offsetLeft)-x.right,P=g.direction=="ltr";function H(Oe,je,rt,et){je<0&&(je=0),je=Math.round(je),et=Math.round(et),_.appendChild(J("div",null,"CodeMirror-selected","position: absolute; left: "+Oe+`px;
                             top: `+je+"px; width: "+(rt??I-Oe)+`px;
                             height: `+(et-je)+"px"))}function X(Oe,je,rt){var et=Ze(g,Oe),xt=et.text.length,tn,Mn;function vn(Vn,Rr){return we(o,Ae(Oe,Vn),"div",et,Rr)}function In(Vn,Rr,mr){var er=on(o,et,null,Vn),$n=Rr=="ltr"==(mr=="after")?"left":"right",bn=mr=="after"?er.begin:er.end-(/\s/.test(et.text.charAt(er.end-1))?2:1);return vn(bn,$n)[$n]}var zn=ke(et,g.direction);return ze(zn,je||0,rt??xt,function(Vn,Rr,mr,er){var $n=mr=="ltr",bn=vn(Vn,$n?"left":"right"),Vr=vn(Rr-1,$n?"right":"left"),Pl=je==null&&Vn==0,Ms=rt==null&&Rr==xt,kr=er==0,Do=!zn||er==zn.length-1;if(Vr.top-bn.top<=3){var ur=(P?Pl:Ms)&&kr,_p=(P?Ms:Pl)&&Do,Ro=ur?k:($n?bn:Vr).left,Bs=_p?I:($n?Vr:bn).right;H(Ro,bn.top,Bs-Ro,bn.bottom)}else{var Us,Pr,Ll,wp;$n?(Us=P&&Pl&&kr?k:bn.left,Pr=P?I:In(Vn,mr,"before"),Ll=P?k:In(Rr,mr,"after"),wp=P&&Ms&&Do?I:Vr.right):(Us=P?In(Vn,mr,"before"):k,Pr=!P&&Pl&&kr?I:bn.right,Ll=!P&&Ms&&Do?k:Vr.left,wp=P?In(Rr,mr,"after"):I),H(Us,bn.top,Pr-Us,bn.bottom),bn.bottom<Vr.top&&H(k,bn.bottom,null,Vr.top),H(Ll,Vr.top,wp-Ll,Vr.bottom)}(!tn||va(bn,tn)<0)&&(tn=bn),va(Vr,tn)<0&&(tn=Vr),(!Mn||va(bn,Mn)<0)&&(Mn=bn),va(Vr,Mn)<0&&(Mn=Vr)}),{start:tn,end:Mn}}var oe=l.from(),ne=l.to();if(oe.line==ne.line)X(oe.line,oe.ch,ne.ch);else{var ve=Ze(g,oe.line),Ee=Ze(g,ne.line),Re=un(ve)==un(Ee),Me=X(oe.line,oe.ch,Re?ve.text.length+1:null).end,$e=X(ne.line,Re?0:null,ne.ch).start;Re&&(Me.top<$e.top-2?(H(Me.right,Me.top,null,Me.bottom),H(k,$e.top,$e.left,$e.bottom)):H(Me.right,Me.top,$e.left-Me.right,Me.bottom)),Me.bottom<$e.top&&H(k,Me.bottom,null,$e.top)}h.appendChild(_)}function ya(o){if(o.state.focused){var l=o.display;clearInterval(l.blinker);var h=!0;l.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?l.blinker=setInterval(function(){o.hasFocus()||hl(o),l.cursorDiv.style.visibility=(h=!h)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function ks(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||jd(o))}function fl(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&hl(o))},100)}function jd(o,l){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),o.options.readOnly!="nocursor"&&(o.state.focused||(zt(o,"focus",o,l),o.state.focused=!0,q(o.display.wrapper,"CodeMirror-focused"),!o.curOp&&o.display.selForContextMenu!=o.doc.sel&&(o.display.input.reset(),y&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),ya(o))}function hl(o,l){o.state.delayingBlurEvent||(o.state.focused&&(zt(o,"blur",o,l),o.state.focused=!1,ye(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function Ef(o){for(var l=o.display,h=l.lineDiv.offsetTop,f=Math.max(0,l.scroller.getBoundingClientRect().top),g=l.lineDiv.getBoundingClientRect().top,_=0,x=0;x<l.view.length;x++){var k=l.view[x],I=o.options.lineWrapping,P=void 0,H=0;if(!k.hidden){if(g+=k.line.height,p&&m<8){var X=k.node.offsetTop+k.node.offsetHeight;P=X-h,h=X}else{var oe=k.node.getBoundingClientRect();P=oe.bottom-oe.top,!I&&k.text.firstChild&&(H=k.text.firstChild.getBoundingClientRect().right-oe.left-1)}var ne=k.line.height-P;if((ne>.005||ne<-.005)&&(g<f&&(_-=ne),_o(k.line,P),Bu(k.line),k.rest))for(var ve=0;ve<k.rest.length;ve++)Bu(k.rest[ve]);if(H>o.display.sizerWidth){var Ee=Math.ceil(H/es(o.display));Ee>o.display.maxLineLength&&(o.display.maxLineLength=Ee,o.display.maxLine=k.line,o.display.maxLineChanged=!0)}}}Math.abs(_)>2&&(l.scroller.scrollTop+=_)}function Bu(o){if(o.widgets)for(var l=0;l<o.widgets.length;++l){var h=o.widgets[l],f=h.node.parentNode;f&&(h.height=f.offsetHeight)}}function _a(o,l,h){var f=h&&h.top!=null?Math.max(0,h.top):o.scroller.scrollTop;f=Math.floor(f-Fu(o));var g=h&&h.bottom!=null?h.bottom:f+o.wrapper.clientHeight,_=ua(l,f),x=ua(l,g);if(h&&h.ensure){var k=h.ensure.from.line,I=h.ensure.to.line;k<_?(_=k,x=ua(l,xo(Ze(l,k))+o.wrapper.clientHeight)):Math.min(I,l.lastLine())>=x&&(_=ua(l,xo(Ze(l,I))-o.wrapper.clientHeight),x=I)}return{from:_,to:Math.max(x,_+1)}}function Wd(o,l){if(!yt(o,"scrollCursorIntoView")){var h=o.display,f=h.sizer.getBoundingClientRect(),g=null,_=h.wrapper.ownerDocument;if(l.top+f.top<0?g=!0:l.bottom+f.top>(_.defaultView.innerHeight||_.documentElement.clientHeight)&&(g=!1),g!=null&&!R){var x=J("div","​",null,`position: absolute;
                         top: `+(l.top-h.viewOffset-Fu(o.display))+`px;
                         height: `+(l.bottom-l.top+Co(o)+h.barHeight)+`px;
                         left: `+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");o.display.lineSpace.appendChild(x),x.scrollIntoView(g),o.display.lineSpace.removeChild(x)}}}function fw(o,l,h,f){f==null&&(f=0);var g;!o.options.lineWrapping&&l==h&&(h=l.sticky=="before"?Ae(l.line,l.ch+1,"before"):l,l=l.ch?Ae(l.line,l.sticky=="before"?l.ch-1:l.ch,"after"):l);for(var _=0;_<5;_++){var x=!1,k=pe(o,l),I=!h||h==l?k:pe(o,h);g={left:Math.min(k.left,I.left),top:Math.min(k.top,I.top)-f,right:Math.max(k.left,I.left),bottom:Math.max(k.bottom,I.bottom)+f};var P=qd(o,g),H=o.doc.scrollTop,X=o.doc.scrollLeft;if(P.scrollTop!=null&&(Uu(o,P.scrollTop),Math.abs(o.doc.scrollTop-H)>1&&(x=!0)),P.scrollLeft!=null&&(Ki(o,P.scrollLeft),Math.abs(o.doc.scrollLeft-X)>1&&(x=!0)),!x)break}return g}function rv(o,l){var h=qd(o,l);h.scrollTop!=null&&Uu(o,h.scrollTop),h.scrollLeft!=null&&Ki(o,h.scrollLeft)}function qd(o,l){var h=o.display,f=Wi(o.display);l.top<0&&(l.top=0);var g=o.curOp&&o.curOp.scrollTop!=null?o.curOp.scrollTop:h.scroller.scrollTop,_=Ud(o),x={};l.bottom-l.top>_&&(l.bottom=l.top+_);var k=o.doc.height+Bd(h),I=l.top<f,P=l.bottom>k-f;if(l.top<g)x.scrollTop=I?0:l.top;else if(l.bottom>g+_){var H=Math.min(l.top,(P?k:l.bottom)-_);H!=g&&(x.scrollTop=H)}var X=o.options.fixedGutter?0:h.gutters.offsetWidth,oe=o.curOp&&o.curOp.scrollLeft!=null?o.curOp.scrollLeft:h.scroller.scrollLeft-X,ne=pa(o)-h.gutters.offsetWidth,ve=l.right-l.left>ne;return ve&&(l.right=l.left+ne),l.left<10?x.scrollLeft=0:l.left<oe?x.scrollLeft=Math.max(0,l.left+X-(ve?0:10)):l.right>ne+oe-3&&(x.scrollLeft=l.right+(ve?0:10)-ne),x}function Gd(o,l){l!=null&&(Cf(o),o.curOp.scrollTop=(o.curOp.scrollTop==null?o.doc.scrollTop:o.curOp.scrollTop)+l)}function wn(o){Cf(o);var l=o.getCursor();o.curOp.scrollToPos={from:l,to:l,margin:o.options.cursorScrollMargin}}function Zn(o,l,h){(l!=null||h!=null)&&Cf(o),l!=null&&(o.curOp.scrollLeft=l),h!=null&&(o.curOp.scrollTop=h)}function hw(o,l){Cf(o),o.curOp.scrollToPos=l}function Cf(o){var l=o.curOp.scrollToPos;if(l){o.curOp.scrollToPos=null;var h=Xe(o,l.from),f=Xe(o,l.to);Kd(o,h,f,l.margin)}}function Kd(o,l,h,f){var g=qd(o,{left:Math.min(l.left,h.left),top:Math.min(l.top,h.top)-f,right:Math.max(l.right,h.right),bottom:Math.max(l.bottom,h.bottom)+f});Zn(o,g.scrollLeft,g.scrollTop)}function Uu(o,l){Math.abs(o.doc.scrollTop-l)<2||(i||Qi(o,{top:l}),Sf(o,l,!0),i&&Qi(o),$u(o,100))}function Sf(o,l,h){l=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,l)),!(o.display.scroller.scrollTop==l&&!h)&&(o.doc.scrollTop=l,o.display.scrollbars.setScrollTop(l),o.display.scroller.scrollTop!=l&&(o.display.scroller.scrollTop=l))}function Ki(o,l,h,f){l=Math.max(0,Math.min(l,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),!((h?l==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-l)<2)&&!f)&&(o.doc.scrollLeft=l,av(o),o.display.scroller.scrollLeft!=l&&(o.display.scroller.scrollLeft=l),o.display.scrollbars.setScrollLeft(l))}function wa(o){var l=o.display,h=l.gutters.offsetWidth,f=Math.round(o.doc.height+Bd(o.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:o.options.fixedGutter?h:0,docHeight:f,scrollHeight:f+Co(o)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:h}}var Ai=function(o,l,h){this.cm=h;var f=this.vert=J("div",[J("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=J("div",[J("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=g.tabIndex=-1,o(f),o(g),ge(f,"scroll",function(){f.clientHeight&&l(f.scrollTop,"vertical")}),ge(g,"scroll",function(){g.clientWidth&&l(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,p&&m<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ai.prototype.update=function(o){var l=o.scrollWidth>o.clientWidth+1,h=o.scrollHeight>o.clientHeight+1,f=o.nativeBarWidth;if(h){this.vert.style.display="block",this.vert.style.bottom=l?f+"px":"0";var g=o.viewHeight-(l?f:0);this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(l){this.horiz.style.display="block",this.horiz.style.right=h?f+"px":"0",this.horiz.style.left=o.barLeft+"px";var _=o.viewWidth-o.barLeft-(h?f:0);this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+_)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&o.clientHeight>0&&(f==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:h?f:0,bottom:l?f:0}},Ai.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ai.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ai.prototype.zeroWidthHack=function(){var o=j&&!M?"12px":"18px";this.horiz.style.height=this.vert.style.width=o,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new an,this.disableVert=new an},Ai.prototype.enableZeroWidthBar=function(o,l,h){o.style.visibility="";function f(){var g=o.getBoundingClientRect(),_=h=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);_!=o?o.style.visibility="hidden":l.set(1e3,f)}l.set(1e3,f)},Ai.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var ts=function(){};ts.prototype.update=function(){return{bottom:0,right:0}},ts.prototype.setScrollLeft=function(){},ts.prototype.setScrollTop=function(){},ts.prototype.clear=function(){};function To(o,l){l||(l=wa(o));var h=o.display.barWidth,f=o.display.barHeight;zu(o,l);for(var g=0;g<4&&h!=o.display.barWidth||f!=o.display.barHeight;g++)h!=o.display.barWidth&&o.options.lineWrapping&&Ef(o),zu(o,wa(o)),h=o.display.barWidth,f=o.display.barHeight}function zu(o,l){var h=o.display,f=h.scrollbars.update(l);h.sizer.style.paddingRight=(h.barWidth=f.right)+"px",h.sizer.style.paddingBottom=(h.barHeight=f.bottom)+"px",h.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(h.scrollbarFiller.style.display="block",h.scrollbarFiller.style.height=f.bottom+"px",h.scrollbarFiller.style.width=f.right+"px"):h.scrollbarFiller.style.display="",f.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(h.gutterFiller.style.display="block",h.gutterFiller.style.height=f.bottom+"px",h.gutterFiller.style.width=l.gutterWidth+"px"):h.gutterFiller.style.display=""}var xa={native:Ai,null:ts};function iv(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&ye(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new xa[o.options.scrollbarStyle](function(l){o.display.wrapper.insertBefore(l,o.display.scrollbarFiller),ge(l,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,h){h=="horizontal"?Ki(o,l):Uu(o,l)},o),o.display.scrollbars.addClass&&q(o.display.wrapper,o.display.scrollbars.addClass)}var dw=0;function Ea(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++dw,markArrays:null},iw(o.curOp)}function Ca(o){var l=o.curOp;l&&qm(l,function(h){for(var f=0;f<h.ops.length;f++)h.ops[f].cm.curOp=null;pw(h)})}function pw(o){for(var l=o.ops,h=0;h<l.length;h++)Tf(l[h]);for(var f=0;f<l.length;f++)Vu(l[f]);for(var g=0;g<l.length;g++)ov(l[g]);for(var _=0;_<l.length;_++)z(l[_]);for(var x=0;x<l.length;x++)dl(l[x])}function Tf(o){var l=o.cm,h=l.display;mw(l),o.updateMaxLine&&hf(l),o.mustUpdate=o.viewChanged||o.forceUpdate||o.scrollTop!=null||o.scrollToPos&&(o.scrollToPos.from.line<h.viewFrom||o.scrollToPos.to.line>=h.viewTo)||h.maxLineChanged&&l.options.lineWrapping,o.update=o.mustUpdate&&new ko(l,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function Vu(o){o.updatedDisplay=o.mustUpdate&&Qd(o.cm,o.update)}function ov(o){var l=o.cm,h=l.display;o.updatedDisplay&&Ef(l),o.barMeasure=wa(l),h.maxLineChanged&&!l.options.lineWrapping&&(o.adjustWidthTo=mf(l,h.maxLine,h.maxLine.text.length).left+3,l.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(h.scroller.clientWidth,h.sizer.offsetLeft+o.adjustWidthTo+Co(l)+l.display.barWidth),o.maxScrollLeft=Math.max(0,h.sizer.offsetLeft+o.adjustWidthTo-pa(l))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=h.input.prepareSelection())}function z(o){var l=o.cm;o.adjustWidthTo!=null&&(l.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<l.doc.scrollLeft&&Ki(l,Math.min(l.display.scroller.scrollLeft,o.maxScrollLeft),!0),l.display.maxLineChanged=!1);var h=o.focus&&o.focus==Pe(fe(l));o.preparedSelection&&l.display.input.showSelection(o.preparedSelection,h),(o.updatedDisplay||o.startHeight!=l.doc.height)&&To(l,o.barMeasure),o.updatedDisplay&&Yd(l,o.barMeasure),o.selectionChanged&&ya(l),l.state.focused&&o.updateInput&&l.display.input.reset(o.typing),h&&ks(o.cm)}function dl(o){var l=o.cm,h=l.display,f=l.doc;if(o.updatedDisplay&&sv(l,o.update),h.wheelStartX!=null&&(o.scrollTop!=null||o.scrollLeft!=null||o.scrollToPos)&&(h.wheelStartX=h.wheelStartY=null),o.scrollTop!=null&&Sf(l,o.scrollTop,o.forceScroll),o.scrollLeft!=null&&Ki(l,o.scrollLeft,!0,!0),o.scrollToPos){var g=fw(l,pt(f,o.scrollToPos.from),pt(f,o.scrollToPos.to),o.scrollToPos.margin);Wd(l,g)}var _=o.maybeHiddenMarkers,x=o.maybeUnhiddenMarkers;if(_)for(var k=0;k<_.length;++k)_[k].lines.length||zt(_[k],"hide");if(x)for(var I=0;I<x.length;++I)x[I].lines.length&&zt(x[I],"unhide");h.wrapper.offsetHeight&&(f.scrollTop=l.display.scroller.scrollTop),o.changeObjs&&zt(l,"changes",l,o.changeObjs),o.update&&o.update.finish()}function Tr(o,l){if(o.curOp)return l();Ea(o);try{return l()}finally{Ca(o)}}function en(o,l){return function(){if(o.curOp)return l.apply(o,arguments);Ea(o);try{return l.apply(o,arguments)}finally{Ca(o)}}}function ut(o){return function(){if(this.curOp)return o.apply(this,arguments);Ea(this);try{return o.apply(this,arguments)}finally{Ca(this)}}}function or(o){return function(){var l=this.cm;if(!l||l.curOp)return o.apply(this,arguments);Ea(l);try{return o.apply(this,arguments)}finally{Ca(l)}}}function $u(o,l){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(l,At(gw,o))}function gw(o){var l=o.doc;if(!(l.highlightFrontier>=o.display.viewTo)){var h=+new Date+o.options.workTime,f=fa(o,l.highlightFrontier),g=[];l.iter(f.line,Math.min(l.first+l.size,o.display.viewTo+500),function(_){if(f.line>=o.display.viewFrom){var x=_.styles,k=_.text.length>o.options.maxHighlightLength?yo(l.mode,f.state):null,I=wd(o,_,f,!0);k&&(f.state=k),_.styles=I.styles;var P=_.styleClasses,H=I.classes;H?_.styleClasses=H:P&&(_.styleClasses=null);for(var X=!x||x.length!=_.styles.length||P!=H&&(!P||!H||P.bgClass!=H.bgClass||P.textClass!=H.textClass),oe=0;!X&&oe<x.length;++oe)X=x[oe]!=_.styles[oe];X&&g.push(f.line),_.stateAfter=f.save(),f.nextLine()}else _.text.length<=o.options.maxHighlightLength&&xs(o,_.text,f),_.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>h)return $u(o,o.options.workDelay),!0}),l.highlightFrontier=f.line,l.modeFrontier=Math.max(l.modeFrontier,f.line),g.length&&Tr(o,function(){for(var _=0;_<g.length;_++)Ss(o,g[_],"text")})}}var ko=function(o,l,h){var f=o.display;this.viewport=l,this.visible=_a(f,o.doc,l),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=pa(o),this.force=h,this.dims=cl(o),this.events=[]};ko.prototype.signal=function(o,l){dr(o,l)&&this.events.push(arguments)},ko.prototype.finish=function(){for(var o=0;o<this.events.length;o++)zt.apply(null,this.events[o])};function mw(o){var l=o.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=Co(o)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=Co(o)+"px",l.scrollbarsClipped=!0)}function vw(o){if(o.hasFocus())return null;var l=Pe(fe(o));if(!l||!he(o.display.lineDiv,l))return null;var h={activeElt:l};if(window.getSelection){var f=Ve(o).getSelection();f.anchorNode&&f.extend&&he(o.display.lineDiv,f.anchorNode)&&(h.anchorNode=f.anchorNode,h.anchorOffset=f.anchorOffset,h.focusNode=f.focusNode,h.focusOffset=f.focusOffset)}return h}function yw(o){if(!(!o||!o.activeElt||o.activeElt==Pe(nt(o.activeElt)))&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&he(document.body,o.anchorNode)&&he(document.body,o.focusNode))){var l=o.activeElt.ownerDocument,h=l.defaultView.getSelection(),f=l.createRange();f.setEnd(o.anchorNode,o.anchorOffset),f.collapse(!1),h.removeAllRanges(),h.addRange(f),h.extend(o.focusNode,o.focusOffset)}}function Qd(o,l){var h=o.display,f=o.doc;if(l.editorIsHidden)return qi(o),!1;if(!l.force&&l.visible.from>=h.viewFrom&&l.visible.to<=h.viewTo&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo)&&h.renderedView==h.view&&$d(o)==0)return!1;lv(o)&&(qi(o),l.dims=cl(o));var g=f.first+f.size,_=Math.max(l.visible.from-o.options.viewportMargin,f.first),x=Math.min(g,l.visible.to+o.options.viewportMargin);h.viewFrom<_&&_-h.viewFrom<20&&(_=Math.max(f.first,h.viewFrom)),h.viewTo>x&&h.viewTo-x<20&&(x=Math.min(g,h.viewTo)),Xo&&(_=uf(o.doc,_),x=cf(o.doc,x));var k=_!=h.viewFrom||x!=h.viewTo||h.lastWrapHeight!=l.wrapperHeight||h.lastWrapWidth!=l.wrapperWidth;wf(o,_,x),h.viewOffset=xo(Ze(o.doc,h.viewFrom)),o.display.mover.style.top=h.viewOffset+"px";var I=$d(o);if(!k&&I==0&&!l.force&&h.renderedView==h.view&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo))return!1;var P=vw(o);return I>4&&(h.lineDiv.style.display="none"),_w(o,h.updateLineNumbers,l.dims),I>4&&(h.lineDiv.style.display=""),h.renderedView=h.view,yw(P),Ue(h.cursorDiv),Ue(h.selectionDiv),h.gutters.style.height=h.sizer.style.minHeight=0,k&&(h.lastWrapHeight=l.wrapperHeight,h.lastWrapWidth=l.wrapperWidth,$u(o,400)),h.updateLineNumbers=null,!0}function sv(o,l){for(var h=l.viewport,f=!0;;f=!1){if(!f||!o.options.lineWrapping||l.oldDisplayWidth==pa(o)){if(h&&h.top!=null&&(h={top:Math.min(o.doc.height+Bd(o.display)-Ud(o),h.top)}),l.visible=_a(o.display,o.doc,h),l.visible.from>=o.display.viewFrom&&l.visible.to<=o.display.viewTo)break}else f&&(l.visible=_a(o.display,o.doc,h));if(!Qd(o,l))break;Ef(o);var g=wa(o);Ts(o),To(o,g),Yd(o,g),l.force=!1}l.signal(o,"update",o),(o.display.viewFrom!=o.display.reportedViewFrom||o.display.viewTo!=o.display.reportedViewTo)&&(l.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function Qi(o,l){var h=new ko(o,l);if(Qd(o,h)){Ef(o),sv(o,h);var f=wa(o);Ts(o),To(o,f),Yd(o,f),h.finish()}}function _w(o,l,h){var f=o.display,g=o.options.lineNumbers,_=f.lineDiv,x=_.firstChild;function k(ve){var Ee=ve.nextSibling;return y&&j&&o.display.currentWheelTarget==ve?ve.style.display="none":ve.parentNode.removeChild(ve),Ee}for(var I=f.view,P=f.viewFrom,H=0;H<I.length;H++){var X=I[H];if(!X.hidden)if(!X.node||X.node.parentNode!=_){var oe=aw(o,X,P,h);_.insertBefore(oe,x)}else{for(;x!=X.node;)x=k(x);var ne=g&&l!=null&&l<=P&&X.lineNumber;X.changes&&(bt(X.changes,"gutter")>-1&&(ne=!1),Pd(o,X,P,h)),ne&&(Ue(X.lineNumber),X.lineNumber.appendChild(document.createTextNode(tf(o.options,P)))),x=X.node.nextSibling}P+=X.size}for(;x;)x=k(x)}function Xd(o){var l=o.gutters.offsetWidth;o.sizer.style.marginLeft=l+"px",_n(o,"gutterChanged",o)}function Yd(o,l){o.display.sizer.style.minHeight=l.docHeight+"px",o.display.heightForcer.style.top=l.docHeight+"px",o.display.gutters.style.height=l.docHeight+o.display.barHeight+Co(o)+"px"}function av(o){var l=o.display,h=l.view;if(!(!l.alignWidgets&&(!l.gutters.firstChild||!o.options.fixedGutter))){for(var f=Xt(l)-l.scroller.scrollLeft+o.doc.scrollLeft,g=l.gutters.offsetWidth,_=f+"px",x=0;x<h.length;x++)if(!h[x].hidden){o.options.fixedGutter&&(h[x].gutter&&(h[x].gutter.style.left=_),h[x].gutterBackground&&(h[x].gutterBackground.style.left=_));var k=h[x].alignable;if(k)for(var I=0;I<k.length;I++)k[I].style.left=_}o.options.fixedGutter&&(l.gutters.style.left=f+g+"px")}}function lv(o){if(!o.options.lineNumbers)return!1;var l=o.doc,h=tf(o.options,l.first+l.size-1),f=o.display;if(h.length!=f.lineNumChars){var g=f.measure.appendChild(J("div",[J("div",h)],"CodeMirror-linenumber CodeMirror-gutter-elt")),_=g.firstChild.offsetWidth,x=g.offsetWidth-_;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(_,f.lineGutter.offsetWidth-x)+1,f.lineNumWidth=f.lineNumInnerWidth+x,f.lineNumChars=f.lineNumInnerWidth?h.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",Xd(o.display),!0}return!1}function Xi(o,l){for(var h=[],f=!1,g=0;g<o.length;g++){var _=o[g],x=null;if(typeof _!="string"&&(x=_.style,_=_.className),_=="CodeMirror-linenumbers")if(l)f=!0;else continue;h.push({className:_,style:x})}return l&&!f&&h.push({className:"CodeMirror-linenumbers",style:null}),h}function uv(o){var l=o.gutters,h=o.gutterSpecs;Ue(l),o.lineGutter=null;for(var f=0;f<h.length;++f){var g=h[f],_=g.className,x=g.style,k=l.appendChild(J("div",null,"CodeMirror-gutter "+_));x&&(k.style.cssText=x),_=="CodeMirror-linenumbers"&&(o.lineGutter=k,k.style.width=(o.lineNumWidth||1)+"px")}l.style.display=h.length?"":"none",Xd(o)}function Hu(o){uv(o.display),zr(o),av(o)}function ww(o,l,h,f){var g=this;this.input=h,g.scrollbarFiller=J("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=J("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=_e("div",null,"CodeMirror-code"),g.selectionDiv=J("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=J("div",null,"CodeMirror-cursors"),g.measure=J("div",null,"CodeMirror-measure"),g.lineMeasure=J("div",null,"CodeMirror-measure"),g.lineSpace=_e("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var _=_e("div",[g.lineSpace],"CodeMirror-lines");g.mover=J("div",[_],null,"position: relative"),g.sizer=J("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=J("div",null,null,"position: absolute; height: "+Nt+"px; width: 1px;"),g.gutters=J("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=J("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=J("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),E&&S>=105&&(g.wrapper.style.clipPath="inset(0px)"),g.wrapper.setAttribute("translate","no"),p&&m<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!y&&!(i&&B)&&(g.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(g.wrapper):o(g.wrapper)),g.viewFrom=g.viewTo=l.first,g.reportedViewFrom=g.reportedViewTo=l.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=Xi(f.gutters,f.lineNumbers),uv(g),h.init(g)}var kf=0,ns=null;p?ns=-.53:i?ns=15:E?ns=-.7:O&&(ns=-1/3);function As(o){var l=o.wheelDeltaX,h=o.wheelDeltaY;return l==null&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(l=o.detail),h==null&&o.detail&&o.axis==o.VERTICAL_AXIS?h=o.detail:h==null&&(h=o.wheelDelta),{x:l,y:h}}function xw(o){var l=As(o);return l.x*=ns,l.y*=ns,l}function cv(o,l){E&&S==102&&(o.display.chromeScrollHack==null?o.display.sizer.style.pointerEvents="none":clearTimeout(o.display.chromeScrollHack),o.display.chromeScrollHack=setTimeout(function(){o.display.chromeScrollHack=null,o.display.sizer.style.pointerEvents=""},100));var h=As(l),f=h.x,g=h.y,_=ns;l.deltaMode===0&&(f=l.deltaX,g=l.deltaY,_=1);var x=o.display,k=x.scroller,I=k.scrollWidth>k.clientWidth,P=k.scrollHeight>k.clientHeight;if(f&&I||g&&P){if(g&&j&&y){e:for(var H=l.target,X=x.view;H!=k;H=H.parentNode)for(var oe=0;oe<X.length;oe++)if(X[oe].node==H){o.display.currentWheelTarget=H;break e}}if(f&&!i&&!L&&_!=null){g&&P&&Uu(o,Math.max(0,k.scrollTop+g*_)),Ki(o,Math.max(0,k.scrollLeft+f*_)),(!g||g&&P)&&mn(l),x.wheelStartX=null;return}if(g&&_!=null){var ne=g*_,ve=o.doc.scrollTop,Ee=ve+x.wrapper.clientHeight;ne<0?ve=Math.max(0,ve+ne-50):Ee=Math.min(o.doc.height,Ee+ne+50),Qi(o,{top:ve,bottom:Ee})}kf<20&&l.deltaMode!==0&&(x.wheelStartX==null?(x.wheelStartX=k.scrollLeft,x.wheelStartY=k.scrollTop,x.wheelDX=f,x.wheelDY=g,setTimeout(function(){if(x.wheelStartX!=null){var Re=k.scrollLeft-x.wheelStartX,Me=k.scrollTop-x.wheelStartY,$e=Me&&x.wheelDY&&Me/x.wheelDY||Re&&x.wheelDX&&Re/x.wheelDX;x.wheelStartX=x.wheelStartY=null,$e&&(ns=(ns*kf+$e)/(kf+1),++kf)}},200)):(x.wheelDX+=f,x.wheelDY+=g))}}var An=function(o,l){this.ranges=o,this.primIndex=l};An.prototype.primary=function(){return this.ranges[this.primIndex]},An.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var h=this.ranges[l],f=o.ranges[l];if(!Ru(h.anchor,f.anchor)||!Ru(h.head,f.head))return!1}return!0},An.prototype.deepCopy=function(){for(var o=[],l=0;l<this.ranges.length;l++)o[l]=new Wt(vd(this.ranges[l].anchor),vd(this.ranges[l].head));return new An(o,this.primIndex)},An.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},An.prototype.contains=function(o,l){l||(l=o);for(var h=0;h<this.ranges.length;h++){var f=this.ranges[h];if(ft(l,f.from())>=0&&ft(o,f.to())<=0)return h}return-1};var Wt=function(o,l){this.anchor=o,this.head=l};Wt.prototype.from=function(){return ca(this.anchor,this.head)},Wt.prototype.to=function(){return Pu(this.anchor,this.head)},Wt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Yi(o,l,h){var f=o&&o.options.selectionsMayTouch,g=l[h];l.sort(function(oe,ne){return ft(oe.from(),ne.from())}),h=bt(l,g);for(var _=1;_<l.length;_++){var x=l[_],k=l[_-1],I=ft(k.to(),x.from());if(f&&!x.empty()?I>0:I>=0){var P=ca(k.from(),x.from()),H=Pu(k.to(),x.to()),X=k.empty()?x.from()==x.head:k.from()==k.head;_<=h&&--h,l.splice(--_,2,new Wt(X?H:P,X?P:H))}}return new An(l,h)}function Is(o,l){return new An([new Wt(o,l||o)],0)}function bs(o){return o.text?Ae(o.from.line+o.text.length-1,mt(o.text).length+(o.text.length==1?o.from.ch:0)):o.to}function fv(o,l){if(ft(o,l.from)<0)return o;if(ft(o,l.to)<=0)return bs(l);var h=o.line+l.text.length-(l.to.line-l.from.line)-1,f=o.ch;return o.line==l.to.line&&(f+=bs(l).ch-l.to.ch),Ae(h,f)}function Af(o,l){for(var h=[],f=0;f<o.sel.ranges.length;f++){var g=o.sel.ranges[f];h.push(new Wt(fv(g.anchor,l),fv(g.head,l)))}return Yi(o.cm,h,o.sel.primIndex)}function Jd(o,l,h){return o.line==l.line?Ae(h.line,o.ch-l.ch+h.ch):Ae(h.line+(o.line-l.line),o.ch)}function Ew(o,l,h){for(var f=[],g=Ae(o.first,0),_=g,x=0;x<l.length;x++){var k=l[x],I=Jd(k.from,g,_),P=Jd(bs(k),g,_);if(g=k.to,_=P,h=="around"){var H=o.sel.ranges[x],X=ft(H.head,H.anchor)<0;f[x]=new Wt(X?P:I,X?I:P)}else f[x]=new Wt(I,I)}return new An(f,o.sel.primIndex)}function Zd(o){o.doc.mode=gd(o.options,o.doc.modeOption),Sa(o)}function Sa(o){o.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,$u(o,100),o.state.modeGen++,o.curOp&&zr(o)}function pl(o,l){return l.from.ch==0&&l.to.ch==0&&mt(l.text)==""&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function gl(o,l,h,f){function g($e){return h?h[$e]:null}function _($e,Oe,je){Hm($e,Oe,je,f),_n($e,"change",$e,l)}function x($e,Oe){for(var je=[],rt=$e;rt<Oe;++rt)je.push(new da(P[rt],g(rt),f));return je}var k=l.from,I=l.to,P=l.text,H=Ze(o,k.line),X=Ze(o,I.line),oe=mt(P),ne=g(P.length-1),ve=I.line-k.line;if(l.full)o.insert(0,x(0,P.length)),o.remove(P.length,o.size-P.length);else if(pl(o,l)){var Ee=x(0,P.length-1);_(X,X.text,ne),ve&&o.remove(k.line,ve),Ee.length&&o.insert(k.line,Ee)}else if(H==X)if(P.length==1)_(H,H.text.slice(0,k.ch)+oe+H.text.slice(I.ch),ne);else{var Re=x(1,P.length-1);Re.push(new da(oe+H.text.slice(I.ch),ne,f)),_(H,H.text.slice(0,k.ch)+P[0],g(0)),o.insert(k.line+1,Re)}else if(P.length==1)_(H,H.text.slice(0,k.ch)+P[0]+X.text.slice(I.ch),g(0)),o.remove(k.line+1,ve);else{_(H,H.text.slice(0,k.ch)+P[0],g(0)),_(X,oe+X.text.slice(I.ch),ne);var Me=x(1,P.length-1);ve>1&&o.remove(k.line+1,ve-1),o.insert(k.line+1,Me)}_n(o,"change",o,l)}function Ds(o,l,h){function f(g,_,x){if(g.linked)for(var k=0;k<g.linked.length;++k){var I=g.linked[k];if(I.doc!=_){var P=x&&I.sharedHist;h&&!P||(l(I.doc,P),f(I.doc,g,P))}}}f(o,null,!0)}function ep(o,l){if(l.cm)throw new Error("This document is already in use.");o.doc=l,l.cm=o,_f(o),Zd(o),hv(o),o.options.direction=l.direction,o.options.lineWrapping||hf(o),o.options.mode=l.modeOption,zr(o)}function hv(o){(o.doc.direction=="rtl"?q:ye)(o.display.lineDiv,"CodeMirror-rtl")}function rs(o){Tr(o,function(){hv(o),zr(o)})}function ml(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function is(o,l){var h={from:vd(l.from),to:bs(l),text:ws(o,l.from,l.to)};return np(o,h,l.from.line,l.to.line+1),Ds(o,function(f){return np(f,h,l.from.line,l.to.line+1)},!0),h}function fi(o){for(;o.length;){var l=mt(o);if(l.ranges)o.pop();else break}}function Cw(o,l){if(l)return fi(o.done),mt(o.done);if(o.done.length&&!mt(o.done).ranges)return mt(o.done);if(o.done.length>1&&!o.done[o.done.length-2].ranges)return o.done.pop(),mt(o.done)}function tp(o,l,h,f){var g=o.history;g.undone.length=0;var _=+new Date,x,k;if((g.lastOp==f||g.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&g.lastModTime>_-(o.cm?o.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*"))&&(x=Cw(g,g.lastOp==f)))k=mt(x.changes),ft(l.from,l.to)==0&&ft(l.from,k.to)==0?k.to=bs(l):x.changes.push(is(o,l));else{var I=mt(g.done);for((!I||!I.ranges)&&Ji(o.sel,g.done),x={changes:[is(o,l)],generation:g.generation},g.done.push(x);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(h),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=_,g.lastOp=g.lastSelOp=f,g.lastOrigin=g.lastSelOrigin=l.origin,k||zt(o,"historyAdded")}function dv(o,l,h,f){var g=l.charAt(0);return g=="*"||g=="+"&&h.ranges.length==f.ranges.length&&h.somethingSelected()==f.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}function ju(o,l,h,f){var g=o.history,_=f&&f.origin;h==g.lastSelOp||_&&g.lastSelOrigin==_&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==_||dv(o,_,mt(g.done),l))?g.done[g.done.length-1]=l:Ji(l,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=_,g.lastSelOp=h,f&&f.clearRedo!==!1&&fi(g.undone)}function Ji(o,l){var h=mt(l);h&&h.ranges&&h.equals(o)||l.push(o)}function np(o,l,h,f){var g=l["spans_"+o.id],_=0;o.iter(Math.max(o.first,h),Math.min(o.first+o.size,f),function(x){x.markedSpans&&((g||(g=l["spans_"+o.id]={}))[_]=x.markedSpans),++_})}function Sw(o){if(!o)return null;for(var l,h=0;h<o.length;++h)o[h].marker.explicitlyCleared?l||(l=o.slice(0,h)):l&&l.push(o[h]);return l?l.length?l:null:o}function If(o,l){var h=l["spans_"+o.id];if(!h)return null;for(var f=[],g=0;g<l.text.length;++g)f.push(Sw(h[g]));return f}function pv(o,l){var h=If(o,l),f=kd(o,l);if(!h)return f;if(!f)return h;for(var g=0;g<h.length;++g){var _=h[g],x=f[g];if(_&&x)e:for(var k=0;k<x.length;++k){for(var I=x[k],P=0;P<_.length;++P)if(_[P].marker==I.marker)continue e;_.push(I)}else x&&(h[g]=x)}return h}function Ta(o,l,h){for(var f=[],g=0;g<o.length;++g){var _=o[g];if(_.ranges){f.push(h?An.prototype.deepCopy.call(_):_);continue}var x=_.changes,k=[];f.push({changes:k});for(var I=0;I<x.length;++I){var P=x[I],H=void 0;if(k.push({from:P.from,to:P.to,text:P.text}),l)for(var X in P)(H=X.match(/^spans_(\d+)$/))&&bt(l,Number(H[1]))>-1&&(mt(k)[X]=P[X],delete P[X])}}return f}function sr(o,l,h,f){if(f){var g=o.anchor;if(h){var _=ft(l,g)<0;_!=ft(h,g)<0?(g=l,l=h):_!=ft(l,h)<0&&(l=h)}return new Wt(g,l)}else return new Wt(h||l,l)}function vl(o,l,h,f,g){g==null&&(g=o.cm&&(o.cm.display.shift||o.extend)),pr(o,new An([sr(o.sel.primary(),l,h,g)],0),f)}function rp(o,l,h){for(var f=[],g=o.cm&&(o.cm.display.shift||o.extend),_=0;_<o.sel.ranges.length;_++)f[_]=sr(o.sel.ranges[_],l[_],null,g);var x=Yi(o.cm,f,o.sel.primIndex);pr(o,x,h)}function Ii(o,l,h,f){var g=o.sel.ranges.slice(0);g[l]=h,pr(o,Yi(o.cm,g,o.sel.primIndex),f)}function bf(o,l,h,f){pr(o,Is(l,h),f)}function Df(o,l,h){var f={ranges:l.ranges,update:function(g){this.ranges=[];for(var _=0;_<g.length;_++)this.ranges[_]=new Wt(pt(o,g[_].anchor),pt(o,g[_].head))},origin:h&&h.origin};return zt(o,"beforeSelectionChange",o,f),o.cm&&zt(o.cm,"beforeSelectionChange",o.cm,f),f.ranges!=l.ranges?Yi(o.cm,f.ranges,f.ranges.length-1):l}function Rs(o,l,h){var f=o.history.done,g=mt(f);g&&g.ranges?(f[f.length-1]=l,gr(o,l,h)):pr(o,l,h)}function pr(o,l,h){gr(o,l,h),ju(o,o.sel,o.cm?o.cm.curOp.id:NaN,h)}function gr(o,l,h){(dr(o,"beforeSelectionChange")||o.cm&&dr(o.cm,"beforeSelectionChange"))&&(l=Df(o,l,h));var f=h&&h.bias||(ft(l.primary().head,o.sel.primary().head)<0?-1:1);Rf(o,mv(o,l,f,!0)),!(h&&h.scroll===!1)&&o.cm&&o.cm.getOption("readOnly")!="nocursor"&&wn(o.cm)}function Rf(o,l){l.equals(o.sel)||(o.sel=l,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,Yn(o.cm)),_n(o,"cursorActivity",o))}function gv(o){Rf(o,mv(o,o.sel,null,!1))}function mv(o,l,h,f){for(var g,_=0;_<l.ranges.length;_++){var x=l.ranges[_],k=l.ranges.length==o.sel.ranges.length&&o.sel.ranges[_],I=_l(o,x.anchor,k&&k.anchor,h,f),P=x.head==x.anchor?I:_l(o,x.head,k&&k.head,h,f);(g||I!=x.anchor||P!=x.head)&&(g||(g=l.ranges.slice(0,_)),g[_]=new Wt(I,P))}return g?Yi(o.cm,g,l.primIndex):l}function yl(o,l,h,f,g){var _=Ze(o,l.line);if(_.markedSpans)for(var x=0;x<_.markedSpans.length;++x){var k=_.markedSpans[x],I=k.marker,P="selectLeft"in I?!I.selectLeft:I.inclusiveLeft,H="selectRight"in I?!I.selectRight:I.inclusiveRight;if((k.from==null||(P?k.from<=l.ch:k.from<l.ch))&&(k.to==null||(H?k.to>=l.ch:k.to>l.ch))){if(g&&(zt(I,"beforeCursorEnter"),I.explicitlyCleared))if(_.markedSpans){--x;continue}else break;if(!I.atomic)continue;if(h){var X=I.find(f<0?1:-1),oe=void 0;if((f<0?H:P)&&(X=vv(o,X,-f,X&&X.line==l.line?_:null)),X&&X.line==l.line&&(oe=ft(X,h))&&(f<0?oe<0:oe>0))return yl(o,X,l,f,g)}var ne=I.find(f<0?-1:1);return(f<0?P:H)&&(ne=vv(o,ne,f,ne.line==l.line?_:null)),ne?yl(o,ne,l,f,g):null}}return l}function _l(o,l,h,f,g){var _=f||1,x=yl(o,l,h,_,g)||!g&&yl(o,l,h,_,!0)||yl(o,l,h,-_,g)||!g&&yl(o,l,h,-_,!0);return x||(o.cantEdit=!0,Ae(o.first,0))}function vv(o,l,h,f){return h<0&&l.ch==0?l.line>o.first?pt(o,Ae(l.line-1)):null:h>0&&l.ch==(f||Ze(o,l.line)).text.length?l.line<o.first+o.size-1?Ae(l.line+1,0):null:new Ae(l.line,l.ch+h)}function wl(o){o.setSelection(Ae(o.firstLine(),0),Ae(o.lastLine()),Jt)}function ip(o,l,h){var f={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return f.canceled=!0}};return h&&(f.update=function(g,_,x,k){g&&(f.from=pt(o,g)),_&&(f.to=pt(o,_)),x&&(f.text=x),k!==void 0&&(f.origin=k)}),zt(o,"beforeChange",o,f),o.cm&&zt(o.cm,"beforeChange",o.cm,f),f.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function xl(o,l,h){if(o.cm){if(!o.cm.curOp)return en(o.cm,xl)(o,l,h);if(o.cm.state.suppressEdits)return}if(!((dr(o,"beforeChange")||o.cm&&dr(o.cm,"beforeChange"))&&(l=ip(o,l,!0),!l))){var f=Om&&!h&&nw(o,l.from,l.to);if(f)for(var g=f.length-1;g>=0;--g)yv(o,{from:f[g].from,to:f[g].to,text:g?[""]:l.text,origin:l.origin});else yv(o,l)}}function yv(o,l){if(!(l.text.length==1&&l.text[0]==""&&ft(l.from,l.to)==0)){var h=Af(o,l);tp(o,l,h,o.cm?o.cm.curOp.id:NaN),Wu(o,l,h,kd(o,l));var f=[];Ds(o,function(g,_){!_&&bt(f,g.history)==-1&&(Ev(g.history,l),f.push(g.history)),Wu(g,l,null,kd(g,l))})}}function Ps(o,l,h){var f=o.cm&&o.cm.state.suppressEdits;if(!(f&&!h)){for(var g=o.history,_,x=o.sel,k=l=="undo"?g.done:g.undone,I=l=="undo"?g.undone:g.done,P=0;P<k.length&&(_=k[P],!(h?_.ranges&&!_.equals(o.sel):!_.ranges));P++);if(P!=k.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(_=k.pop(),_.ranges){if(Ji(_,I),h&&!_.equals(o.sel)){pr(o,_,{clearRedo:!1});return}x=_}else if(f){k.push(_);return}else break;var H=[];Ji(x,I),I.push({changes:H,generation:g.generation}),g.generation=_.generation||++g.maxGeneration;for(var X=dr(o,"beforeChange")||o.cm&&dr(o.cm,"beforeChange"),oe=function(Ee){var Re=_.changes[Ee];if(Re.origin=l,X&&!ip(o,Re,!1))return k.length=0,{};H.push(is(o,Re));var Me=Ee?Af(o,Re):mt(k);Wu(o,Re,Me,pv(o,Re)),!Ee&&o.cm&&o.cm.scrollIntoView({from:Re.from,to:bs(Re)});var $e=[];Ds(o,function(Oe,je){!je&&bt($e,Oe.history)==-1&&(Ev(Oe.history,Re),$e.push(Oe.history)),Wu(Oe,Re,null,pv(Oe,Re))})},ne=_.changes.length-1;ne>=0;--ne){var ve=oe(ne);if(ve)return ve.v}}}}function _v(o,l){if(l!=0&&(o.first+=l,o.sel=new An(dn(o.sel.ranges,function(g){return new Wt(Ae(g.anchor.line+l,g.anchor.ch),Ae(g.head.line+l,g.head.ch))}),o.sel.primIndex),o.cm)){zr(o.cm,o.first,o.first-l,l);for(var h=o.cm.display,f=h.viewFrom;f<h.viewTo;f++)Ss(o.cm,f,"gutter")}}function Wu(o,l,h,f){if(o.cm&&!o.cm.curOp)return en(o.cm,Wu)(o,l,h,f);if(l.to.line<o.first){_v(o,l.text.length-1-(l.to.line-l.from.line));return}if(!(l.from.line>o.lastLine())){if(l.from.line<o.first){var g=l.text.length-1-(o.first-l.from.line);_v(o,g),l={from:Ae(o.first,0),to:Ae(l.to.line+g,l.to.ch),text:[mt(l.text)],origin:l.origin}}var _=o.lastLine();l.to.line>_&&(l={from:l.from,to:Ae(_,Ze(o,_).text.length),text:[l.text[0]],origin:l.origin}),l.removed=ws(o,l.from,l.to),h||(h=Af(o,l)),o.cm?op(o.cm,l,f):gl(o,l,f),gr(o,h,Jt),o.cantEdit&&_l(o,Ae(o.firstLine(),0))&&(o.cantEdit=!1)}}function op(o,l,h){var f=o.doc,g=o.display,_=l.from,x=l.to,k=!1,I=_.line;o.options.lineWrapping||(I=Zt(un(Ze(f,_.line))),f.iter(I,x.line+1,function(ne){if(ne==g.maxLine)return k=!0,!0})),f.sel.contains(l.from,l.to)>-1&&Yn(o),gl(f,l,h,tv(o)),o.options.lineWrapping||(f.iter(I,_.line+l.text.length,function(ne){var ve=Nu(ne);ve>g.maxLineLength&&(g.maxLine=ne,g.maxLineLength=ve,g.maxLineChanged=!0,k=!1)}),k&&(o.curOp.updateMaxLine=!0)),Y_(f,_.line),$u(o,400);var P=l.text.length-(x.line-_.line)-1;l.full?zr(o):_.line==x.line&&l.text.length==1&&!pl(o.doc,l)?Ss(o,_.line,"text"):zr(o,_.line,x.line+1,P);var H=dr(o,"changes"),X=dr(o,"change");if(X||H){var oe={from:_,to:x,text:l.text,removed:l.removed,origin:l.origin};X&&_n(o,"change",o,oe),H&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(oe)}o.display.selForContextMenu=null}function ka(o,l,h,f,g){var _;f||(f=h),ft(f,h)<0&&(_=[f,h],h=_[0],f=_[1]),typeof l=="string"&&(l=o.splitLines(l)),xl(o,{from:h,to:f,text:l,origin:g})}function wv(o,l,h,f){h<o.line?o.line+=f:l<o.line&&(o.line=l,o.ch=0)}function xv(o,l,h,f){for(var g=0;g<o.length;++g){var _=o[g],x=!0;if(_.ranges){_.copied||(_=o[g]=_.deepCopy(),_.copied=!0);for(var k=0;k<_.ranges.length;k++)wv(_.ranges[k].anchor,l,h,f),wv(_.ranges[k].head,l,h,f);continue}for(var I=0;I<_.changes.length;++I){var P=_.changes[I];if(h<P.from.line)P.from=Ae(P.from.line+f,P.from.ch),P.to=Ae(P.to.line+f,P.to.ch);else if(l<=P.to.line){x=!1;break}}x||(o.splice(0,g+1),g=0)}}function Ev(o,l){var h=l.from.line,f=l.to.line,g=l.text.length-(f-h)-1;xv(o.done,h,f,g),xv(o.undone,h,f,g)}function El(o,l,h,f){var g=l,_=l;return typeof l=="number"?_=Ze(o,yd(o,l)):g=Zt(l),g==null?null:(f(_,g)&&o.cm&&Ss(o.cm,g,h),_)}function Aa(o){this.lines=o,this.parent=null;for(var l=0,h=0;h<o.length;++h)o[h].parent=this,l+=o[h].height;this.height=l}Aa.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,l){for(var h=o,f=o+l;h<f;++h){var g=this.lines[h];this.height-=g.height,li(g),_n(g,"delete")}this.lines.splice(o,l)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,l,h){this.height+=h,this.lines=this.lines.slice(0,o).concat(l).concat(this.lines.slice(o));for(var f=0;f<l.length;++f)l[f].parent=this},iterN:function(o,l,h){for(var f=o+l;o<f;++o)if(h(this.lines[o]))return!0}};function qu(o){this.children=o;for(var l=0,h=0,f=0;f<o.length;++f){var g=o[f];l+=g.chunkSize(),h+=g.height,g.parent=this}this.size=l,this.height=h,this.parent=null}qu.prototype={chunkSize:function(){return this.size},removeInner:function(o,l){this.size-=l;for(var h=0;h<this.children.length;++h){var f=this.children[h],g=f.chunkSize();if(o<g){var _=Math.min(l,g-o),x=f.height;if(f.removeInner(o,_),this.height-=x-f.height,g==_&&(this.children.splice(h--,1),f.parent=null),(l-=_)==0)break;o=0}else o-=g}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof Aa))){var k=[];this.collapse(k),this.children=[new Aa(k)],this.children[0].parent=this}},collapse:function(o){for(var l=0;l<this.children.length;++l)this.children[l].collapse(o)},insertInner:function(o,l,h){this.size+=l.length,this.height+=h;for(var f=0;f<this.children.length;++f){var g=this.children[f],_=g.chunkSize();if(o<=_){if(g.insertInner(o,l,h),g.lines&&g.lines.length>50){for(var x=g.lines.length%25+25,k=x;k<g.lines.length;){var I=new Aa(g.lines.slice(k,k+=25));g.height-=I.height,this.children.splice(++f,0,I),I.parent=this}g.lines=g.lines.slice(0,x),this.maybeSpill()}break}o-=_}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var l=o.children.splice(o.children.length-5,5),h=new qu(l);if(o.parent){o.size-=h.size,o.height-=h.height;var g=bt(o.parent.children,o);o.parent.children.splice(g+1,0,h)}else{var f=new qu(o.children);f.parent=o,o.children=[f,h],o=f}h.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,l,h){for(var f=0;f<this.children.length;++f){var g=this.children[f],_=g.chunkSize();if(o<_){var x=Math.min(l,_-o);if(g.iterN(o,x,h))return!0;if((l-=x)==0)break;o=0}else o-=_}}};var Ia=function(o,l,h){if(h)for(var f in h)h.hasOwnProperty(f)&&(this[f]=h[f]);this.doc=o,this.node=l};Ia.prototype.clear=function(){var o=this.doc.cm,l=this.line.widgets,h=this.line,f=Zt(h);if(!(f==null||!l)){for(var g=0;g<l.length;++g)l[g]==this&&l.splice(g--,1);l.length||(h.widgets=null);var _=Jo(this);_o(h,Math.max(0,h.height-_)),o&&(Tr(o,function(){sp(o,h,-_),Ss(o,f,"widget")}),_n(o,"lineWidgetCleared",o,this,f))}},Ia.prototype.changed=function(){var o=this,l=this.height,h=this.doc.cm,f=this.line;this.height=null;var g=Jo(this)-l;g&&(ir(this.doc,f)||_o(f,f.height+g),h&&Tr(h,function(){h.curOp.forceUpdate=!0,sp(h,f,g),_n(h,"lineWidgetChanged",h,o,Zt(f))}))},Si(Ia);function sp(o,l,h){xo(l)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Gd(o,h)}function Cv(o,l,h,f){var g=new Ia(o,h,f),_=o.cm;return _&&g.noHScroll&&(_.display.alignWidgets=!0),El(o,l,"widget",function(x){var k=x.widgets||(x.widgets=[]);if(g.insertAt==null?k.push(g):k.splice(Math.min(k.length,Math.max(0,g.insertAt)),0,g),g.line=x,_&&!ir(o,x)){var I=xo(x)<o.scrollTop;_o(x,x.height+Jo(g)),I&&Gd(_,g.height),_.curOp.forceUpdate=!0}return!0}),_&&_n(_,"lineWidgetAdded",_,g,typeof l=="number"?l:Zt(l)),g}var ap=0,Zi=function(o,l){this.lines=[],this.type=l,this.doc=o,this.id=++ap};Zi.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,l=o&&!o.curOp;if(l&&Ea(o),dr(this,"clear")){var h=this.find();h&&_n(this,"clear",h.from,h.to)}for(var f=null,g=null,_=0;_<this.lines.length;++_){var x=this.lines[_],k=Lu(x.markedSpans,this);o&&!this.collapsed?Ss(o,Zt(x),"text"):o&&(k.to!=null&&(g=Zt(x)),k.from!=null&&(f=Zt(x))),x.markedSpans=Z_(x.markedSpans,k),k.from==null&&this.collapsed&&!ir(this.doc,x)&&o&&_o(x,Wi(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var I=0;I<this.lines.length;++I){var P=un(this.lines[I]),H=Nu(P);H>o.display.maxLineLength&&(o.display.maxLine=P,o.display.maxLineLength=H,o.display.maxLineChanged=!0)}f!=null&&o&&this.collapsed&&zr(o,f,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&gv(o.doc)),o&&_n(o,"markerCleared",o,this,f,g),l&&Ca(o),this.parent&&this.parent.clear()}},Zi.prototype.find=function(o,l){o==null&&this.type=="bookmark"&&(o=1);for(var h,f,g=0;g<this.lines.length;++g){var _=this.lines[g],x=Lu(_.markedSpans,this);if(x.from!=null&&(h=Ae(l?_:Zt(_),x.from),o==-1))return h;if(x.to!=null&&(f=Ae(l?_:Zt(_),x.to),o==1))return f}return h&&{from:h,to:f}},Zi.prototype.changed=function(){var o=this,l=this.find(-1,!0),h=this,f=this.doc.cm;!l||!f||Tr(f,function(){var g=l.line,_=Zt(l.line),x=vf(f,_);if(x&&(zd(x),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!ir(h.doc,g)&&h.height!=null){var k=h.height;h.height=null;var I=Jo(h)-k;I&&_o(g,g.height+I)}_n(f,"markerChanged",f,o)})},Zi.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||bt(l.maybeHiddenMarkers,this)==-1)&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},Zi.prototype.detachLine=function(o){if(this.lines.splice(bt(this.lines,o),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},Si(Zi);function Cl(o,l,h,f,g){if(f&&f.shared)return Sv(o,l,h,f,g);if(o.cm&&!o.cm.curOp)return en(o.cm,Cl)(o,l,h,f,g);var _=new Zi(o,g),x=ft(l,h);if(f&&Bt(f,_,!1),x>0||x==0&&_.clearWhenEmpty!==!1)return _;if(_.replacedWith&&(_.collapsed=!0,_.widgetNode=_e("span",[_.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||_.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(_.widgetNode.insertLeft=!0)),_.collapsed){if($m(o,l.line,l,h,_)||l.line!=h.line&&$m(o,h.line,l,h,_))throw new Error("Inserting collapsed marker partially overlapping an existing one");J_()}_.addToHistory&&tp(o,{from:l,to:h,origin:"markText"},o.sel,NaN);var k=l.line,I=o.cm,P;if(o.iter(k,h.line+1,function(X){I&&_.collapsed&&!I.options.lineWrapping&&un(X)==I.display.maxLine&&(P=!0),_.collapsed&&k!=l.line&&_o(X,0),Td(X,new of(_,k==l.line?l.ch:null,k==h.line?h.ch:null),o.cm&&o.cm.curOp),++k}),_.collapsed&&o.iter(l.line,h.line+1,function(X){ir(o,X)&&_o(X,0)}),_.clearOnEnter&&ge(_,"beforeCursorEnter",function(){return _.clear()}),_.readOnly&&(Mm(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),_.collapsed&&(_.id=++ap,_.atomic=!0),I){if(P&&(I.curOp.updateMaxLine=!0),_.collapsed)zr(I,l.line,h.line+1);else if(_.className||_.startStyle||_.endStyle||_.css||_.attributes||_.title)for(var H=l.line;H<=h.line;H++)Ss(I,H,"text");_.atomic&&gv(I.doc),_n(I,"markerAdded",I,_)}return _}var Sl=function(o,l){this.markers=o,this.primary=l;for(var h=0;h<o.length;++h)o[h].parent=this};Sl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();_n(this,"clear")}},Sl.prototype.find=function(o,l){return this.primary.find(o,l)},Si(Sl);function Sv(o,l,h,f,g){f=Bt(f),f.shared=!1;var _=[Cl(o,l,h,f,g)],x=_[0],k=f.widgetNode;return Ds(o,function(I){k&&(f.widgetNode=k.cloneNode(!0)),_.push(Cl(I,pt(I,l),pt(I,h),f,g));for(var P=0;P<I.linked.length;++P)if(I.linked[P].isParent)return;x=mt(_)}),new Sl(_,x)}function Tv(o){return o.findMarks(Ae(o.first,0),o.clipPos(Ae(o.lastLine())),function(l){return l.parent})}function kv(o,l){for(var h=0;h<l.length;h++){var f=l[h],g=f.find(),_=o.clipPos(g.from),x=o.clipPos(g.to);if(ft(_,x)){var k=Cl(o,_,x,f.primary,f.primary.type);f.markers.push(k),k.parent=f}}}function Tw(o){for(var l=function(f){var g=o[f],_=[g.primary.doc];Ds(g.primary.doc,function(I){return _.push(I)});for(var x=0;x<g.markers.length;x++){var k=g.markers[x];bt(_,k.doc)==-1&&(k.parent=null,g.markers.splice(x--,1))}},h=0;h<o.length;h++)l(h)}var lp=0,Dr=function(o,l,h,f,g){if(!(this instanceof Dr))return new Dr(o,l,h,f,g);h==null&&(h=0),qu.call(this,[new Aa([new da("",null)])]),this.first=h,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=h;var _=Ae(h,0);this.sel=Is(_),this.history=new ml(null),this.id=++lp,this.modeOption=l,this.lineSep=f,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof o=="string"&&(o=this.splitLines(o)),gl(this,{from:_,to:_,text:o}),pr(this,Is(_),Jt)};Dr.prototype=ce(qu.prototype,{constructor:Dr,iter:function(o,l,h){h?this.iterN(o-this.first,l-o,h):this.iterN(this.first,this.first+this.size,o)},insert:function(o,l){for(var h=0,f=0;f<l.length;++f)h+=l[f].height;this.insertInner(o-this.first,l,h)},remove:function(o,l){this.removeInner(o-this.first,l)},getValue:function(o){var l=ef(this,this.first,this.first+this.size);return o===!1?l:l.join(o||this.lineSeparator())},setValue:or(function(o){var l=Ae(this.first,0),h=this.first+this.size-1;xl(this,{from:l,to:Ae(h,Ze(this,h).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&Zn(this.cm,0,0),pr(this,Is(l),Jt)}),replaceRange:function(o,l,h,f){l=pt(this,l),h=h?pt(this,h):l,ka(this,o,l,h,f)},getRange:function(o,l,h){var f=ws(this,pt(this,o),pt(this,l));return h===!1?f:h===""?f.join(""):f.join(h||this.lineSeparator())},getLine:function(o){var l=this.getLineHandle(o);return l&&l.text},getLineHandle:function(o){if(Du(this,o))return Ze(this,o)},getLineNumber:function(o){return Zt(o)},getLineHandleVisualStart:function(o){return typeof o=="number"&&(o=Ze(this,o)),un(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return pt(this,o)},getCursor:function(o){var l=this.sel.primary(),h;return o==null||o=="head"?h=l.head:o=="anchor"?h=l.anchor:o=="end"||o=="to"||o===!1?h=l.to():h=l.from(),h},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:or(function(o,l,h){bf(this,pt(this,typeof o=="number"?Ae(o,l||0):o),null,h)}),setSelection:or(function(o,l,h){bf(this,pt(this,o),pt(this,l||o),h)}),extendSelection:or(function(o,l,h){vl(this,pt(this,o),l&&pt(this,l),h)}),extendSelections:or(function(o,l){rp(this,_d(this,o),l)}),extendSelectionsBy:or(function(o,l){var h=dn(this.sel.ranges,o);rp(this,_d(this,h),l)}),setSelections:or(function(o,l,h){if(o.length){for(var f=[],g=0;g<o.length;g++)f[g]=new Wt(pt(this,o[g].anchor),pt(this,o[g].head||o[g].anchor));l==null&&(l=Math.min(o.length-1,this.sel.primIndex)),pr(this,Yi(this.cm,f,l),h)}}),addSelection:or(function(o,l,h){var f=this.sel.ranges.slice(0);f.push(new Wt(pt(this,o),pt(this,l||o))),pr(this,Yi(this.cm,f,f.length-1),h)}),getSelection:function(o){for(var l=this.sel.ranges,h,f=0;f<l.length;f++){var g=ws(this,l[f].from(),l[f].to());h=h?h.concat(g):g}return o===!1?h:h.join(o||this.lineSeparator())},getSelections:function(o){for(var l=[],h=this.sel.ranges,f=0;f<h.length;f++){var g=ws(this,h[f].from(),h[f].to());o!==!1&&(g=g.join(o||this.lineSeparator())),l[f]=g}return l},replaceSelection:function(o,l,h){for(var f=[],g=0;g<this.sel.ranges.length;g++)f[g]=o;this.replaceSelections(f,l,h||"+input")},replaceSelections:or(function(o,l,h){for(var f=[],g=this.sel,_=0;_<g.ranges.length;_++){var x=g.ranges[_];f[_]={from:x.from(),to:x.to(),text:this.splitLines(o[_]),origin:h}}for(var k=l&&l!="end"&&Ew(this,f,l),I=f.length-1;I>=0;I--)xl(this,f[I]);k?Rs(this,k):this.cm&&wn(this.cm)}),undo:or(function(){Ps(this,"undo")}),redo:or(function(){Ps(this,"redo")}),undoSelection:or(function(){Ps(this,"undo",!0)}),redoSelection:or(function(){Ps(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,l=0,h=0,f=0;f<o.done.length;f++)o.done[f].ranges||++l;for(var g=0;g<o.undone.length;g++)o.undone[g].ranges||++h;return{undo:l,redo:h}},clearHistory:function(){var o=this;this.history=new ml(this.history),Ds(this,function(l){return l.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:Ta(this.history.done),undone:Ta(this.history.undone)}},setHistory:function(o){var l=this.history=new ml(this.history);l.done=Ta(o.done.slice(0),null,!0),l.undone=Ta(o.undone.slice(0),null,!0)},setGutterMarker:or(function(o,l,h){return El(this,o,"gutter",function(f){var g=f.gutterMarkers||(f.gutterMarkers={});return g[l]=h,!h&&F(g)&&(f.gutterMarkers=null),!0})}),clearGutter:or(function(o){var l=this;this.iter(function(h){h.gutterMarkers&&h.gutterMarkers[o]&&El(l,h,"gutter",function(){return h.gutterMarkers[o]=null,F(h.gutterMarkers)&&(h.gutterMarkers=null),!0})})}),lineInfo:function(o){var l;if(typeof o=="number"){if(!Du(this,o)||(l=o,o=Ze(this,o),!o))return null}else if(l=Zt(o),l==null)return null;return{line:l,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:or(function(o,l,h){return El(this,o,l=="gutter"?"gutter":"class",function(f){var g=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(!f[g])f[g]=h;else{if(ie(h).test(f[g]))return!1;f[g]+=" "+h}return!0})}),removeLineClass:or(function(o,l,h){return El(this,o,l=="gutter"?"gutter":"class",function(f){var g=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",_=f[g];if(_)if(h==null)f[g]=null;else{var x=_.match(ie(h));if(!x)return!1;var k=x.index+x[0].length;f[g]=_.slice(0,x.index)+(!x.index||k==_.length?"":" ")+_.slice(k)||null}else return!1;return!0})}),addLineWidget:or(function(o,l,h){return Cv(this,o,l,h)}),removeLineWidget:function(o){o.clear()},markText:function(o,l,h){return Cl(this,pt(this,o),pt(this,l),h,h&&h.type||"range")},setBookmark:function(o,l){var h={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return o=pt(this,o),Cl(this,o,o,h,"bookmark")},findMarksAt:function(o){o=pt(this,o);var l=[],h=Ze(this,o.line).markedSpans;if(h)for(var f=0;f<h.length;++f){var g=h[f];(g.from==null||g.from<=o.ch)&&(g.to==null||g.to>=o.ch)&&l.push(g.marker.parent||g.marker)}return l},findMarks:function(o,l,h){o=pt(this,o),l=pt(this,l);var f=[],g=o.line;return this.iter(o.line,l.line+1,function(_){var x=_.markedSpans;if(x)for(var k=0;k<x.length;k++){var I=x[k];!(I.to!=null&&g==o.line&&o.ch>=I.to||I.from==null&&g!=o.line||I.from!=null&&g==l.line&&I.from>=l.ch)&&(!h||h(I.marker))&&f.push(I.marker.parent||I.marker)}++g}),f},getAllMarks:function(){var o=[];return this.iter(function(l){var h=l.markedSpans;if(h)for(var f=0;f<h.length;++f)h[f].from!=null&&o.push(h[f].marker)}),o},posFromIndex:function(o){var l,h=this.first,f=this.lineSeparator().length;return this.iter(function(g){var _=g.text.length+f;if(_>o)return l=o,!0;o-=_,++h}),pt(this,Ae(h,l))},indexFromPos:function(o){o=pt(this,o);var l=o.ch;if(o.line<this.first||o.ch<0)return 0;var h=this.lineSeparator().length;return this.iter(this.first,o.line,function(f){l+=f.text.length+h}),l},copy:function(o){var l=new Dr(ef(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,o&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(o){o||(o={});var l=this.first,h=this.first+this.size;o.from!=null&&o.from>l&&(l=o.from),o.to!=null&&o.to<h&&(h=o.to);var f=new Dr(ef(this,l,h),o.mode||this.modeOption,l,this.lineSep,this.direction);return o.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:o.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],kv(f,Tv(this)),f},unlinkDoc:function(o){if(o instanceof $t&&(o=o.doc),this.linked)for(var l=0;l<this.linked.length;++l){var h=this.linked[l];if(h.doc==o){this.linked.splice(l,1),o.unlinkDoc(this),Tw(Tv(this));break}}if(o.history==this.history){var f=[o.id];Ds(o,function(g){return f.push(g.id)},!0),o.history=new ml(null),o.history.done=Ta(this.history.done,f),o.history.undone=Ta(this.history.undone,f)}},iterLinkedDocs:function(o){Ds(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):hd(o)},lineSeparator:function(){return this.lineSep||`
`},setDirection:or(function(o){o!="rtl"&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(l){return l.order=null}),this.cm&&rs(this.cm))})}),Dr.prototype.eachLine=Dr.prototype.iter;var Pf=0;function kw(o){var l=this;if(Av(l),!(yt(l,o)||Eo(l.display,o))){mn(o),p&&(Pf=+new Date);var h=So(l,o,!0),f=o.dataTransfer.files;if(!(!h||l.isReadOnly()))if(f&&f.length&&window.FileReader&&window.File)for(var g=f.length,_=Array(g),x=0,k=function(){++x==g&&en(l,function(){h=pt(l.doc,h);var ne={from:h,to:h,text:l.doc.splitLines(_.filter(function(ve){return ve!=null}).join(l.doc.lineSeparator())),origin:"paste"};xl(l.doc,ne),Rs(l.doc,Is(pt(l.doc,h),pt(l.doc,bs(ne))))})()},I=function(ne,ve){if(l.options.allowDropFileTypes&&bt(l.options.allowDropFileTypes,ne.type)==-1){k();return}var Ee=new FileReader;Ee.onerror=function(){return k()},Ee.onload=function(){var Re=Ee.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Re)){k();return}_[ve]=Re,k()},Ee.readAsText(ne)},P=0;P<f.length;P++)I(f[P],P);else{if(l.state.draggingText&&l.doc.sel.contains(h)>-1){l.state.draggingText(o),setTimeout(function(){return l.display.input.focus()},20);return}try{var H=o.dataTransfer.getData("Text");if(H){var X;if(l.state.draggingText&&!l.state.draggingText.copy&&(X=l.listSelections()),gr(l.doc,Is(h,h)),X)for(var oe=0;oe<X.length;++oe)ka(l.doc,"",X[oe].anchor,X[oe].head,"drag");l.replaceSelection(H,"around","paste"),l.display.input.focus()}}catch{}}}}function up(o,l){if(p&&(!o.state.draggingText||+new Date-Pf<100)){Hi(l);return}if(!(yt(o,l)||Eo(o.display,l))&&(l.dataTransfer.setData("Text",o.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!O)){var h=J("img",null,null,"position: fixed; left: 0; top: 0;");h.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",L&&(h.width=h.height=1,o.display.wrapper.appendChild(h),h._top=h.offsetTop),l.dataTransfer.setDragImage(h,0,0),L&&h.parentNode.removeChild(h)}}function Dt(o,l){var h=So(o,l);if(h){var f=document.createDocumentFragment();xf(o,h,f),o.display.dragCursor||(o.display.dragCursor=J("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),Le(o.display.dragCursor,f)}}function Av(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function Iv(o){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),h=[],f=0;f<l.length;f++){var g=l[f].CodeMirror;g&&h.push(g)}h.length&&h[0].operation(function(){for(var _=0;_<h.length;_++)o(h[_])})}}var Tl=!1;function bv(){Tl||(Aw(),Tl=!0)}function Aw(){var o;ge(window,"resize",function(){o==null&&(o=setTimeout(function(){o=null,Iv(Iw)},100))}),ge(window,"blur",function(){return Iv(hl)})}function Iw(o){var l=o.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,o.setSize()}for(var ar={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Gu=0;Gu<10;Gu++)ar[Gu+48]=ar[Gu+96]=String(Gu);for(var ba=65;ba<=90;ba++)ar[ba]=String.fromCharCode(ba);for(var Da=1;Da<=12;Da++)ar[Da+111]=ar[Da+63235]="F"+Da;var Ao={};Ao.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ao.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ao.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ao.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ao.default=j?Ao.macDefault:Ao.pcDefault;function Dv(o){var l=o.split(/-(?!$)/);o=l[l.length-1];for(var h,f,g,_,x=0;x<l.length-1;x++){var k=l[x];if(/^(cmd|meta|m)$/i.test(k))_=!0;else if(/^a(lt)?$/i.test(k))h=!0;else if(/^(c|ctrl|control)$/i.test(k))f=!0;else if(/^s(hift)?$/i.test(k))g=!0;else throw new Error("Unrecognized modifier name: "+k)}return h&&(o="Alt-"+o),f&&(o="Ctrl-"+o),_&&(o="Cmd-"+o),g&&(o="Shift-"+o),o}function hi(o){var l={};for(var h in o)if(o.hasOwnProperty(h)){var f=o[h];if(/^(name|fallthrough|(de|at)tach)$/.test(h))continue;if(f=="..."){delete o[h];continue}for(var g=dn(h.split(" "),Dv),_=0;_<g.length;_++){var x=void 0,k=void 0;_==g.length-1?(k=g.join(" "),x=f):(k=g.slice(0,_+1).join(" "),x="...");var I=l[k];if(!I)l[k]=x;else if(I!=x)throw new Error("Inconsistent bindings for "+k)}delete o[h]}for(var P in l)o[P]=l[P];return o}function di(o,l,h,f){l=Qu(l);var g=l.call?l.call(o,f):l[o];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&h(g))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return di(o,l.fallthrough,h,f);for(var _=0;_<l.fallthrough.length;_++){var x=di(o,l.fallthrough[_],h,f);if(x)return x}}}function Lf(o){var l=typeof o=="string"?o:ar[o.keyCode];return l=="Ctrl"||l=="Alt"||l=="Shift"||l=="Mod"}function cp(o,l,h){var f=o;return l.altKey&&f!="Alt"&&(o="Alt-"+o),(ae?l.metaKey:l.ctrlKey)&&f!="Ctrl"&&(o="Ctrl-"+o),(ae?l.ctrlKey:l.metaKey)&&f!="Mod"&&(o="Cmd-"+o),!h&&l.shiftKey&&f!="Shift"&&(o="Shift-"+o),o}function Ku(o,l){if(L&&o.keyCode==34&&o.char)return!1;var h=ar[o.keyCode];return h==null||o.altGraphKey?!1:(o.keyCode==3&&o.code&&(h=o.code),cp(h,o,l))}function Qu(o){return typeof o=="string"?Ao[o]:o}function Ls(o,l){for(var h=o.doc.sel.ranges,f=[],g=0;g<h.length;g++){for(var _=l(h[g]);f.length&&ft(_.from,mt(f).to)<=0;){var x=f.pop();if(ft(x.from,_.from)<0){_.from=x.from;break}}f.push(_)}Tr(o,function(){for(var k=f.length-1;k>=0;k--)ka(o.doc,"",f[k].from,f[k].to,"+delete");wn(o)})}function Nf(o,l,h){var f=ee(o.text,l+h,h);return f<0||f>o.text.length?null:f}function Xu(o,l,h){var f=Nf(o,l.ch,h);return f==null?null:new Ae(l.line,f,h<0?"after":"before")}function Yu(o,l,h,f,g){if(o){l.doc.direction=="rtl"&&(g=-g);var _=ke(h,l.doc.direction);if(_){var x=g<0?mt(_):_[0],k=g<0==(x.level==1),I=k?"after":"before",P;if(x.level>0||l.doc.direction=="rtl"){var H=ui(l,h);P=g<0?h.text.length-1:0;var X=ci(l,H,P).top;P=be(function(oe){return ci(l,H,oe).top==X},g<0==(x.level==1)?x.from:x.to-1,P),I=="before"&&(P=Nf(h,P,1))}else P=g<0?x.to:x.from;return new Ae(f,P,I)}}return new Ae(f,g<0?h.text.length:0,g<0?"before":"after")}function Ns(o,l,h,f){var g=ke(l,o.doc.direction);if(!g)return Xu(l,h,f);h.ch>=l.text.length?(h.ch=l.text.length,h.sticky="before"):h.ch<=0&&(h.ch=0,h.sticky="after");var _=He(g,h.ch,h.sticky),x=g[_];if(o.doc.direction=="ltr"&&x.level%2==0&&(f>0?x.to>h.ch:x.from<h.ch))return Xu(l,h,f);var k=function(Me,$e){return Nf(l,Me instanceof Ae?Me.ch:Me,$e)},I,P=function(Me){return o.options.lineWrapping?(I=I||ui(o,l),on(o,l,I,Me)):{begin:0,end:l.text.length}},H=P(h.sticky=="before"?k(h,-1):h.ch);if(o.doc.direction=="rtl"||x.level==1){var X=x.level==1==f<0,oe=k(h,X?1:-1);if(oe!=null&&(X?oe<=x.to&&oe<=H.end:oe>=x.from&&oe>=H.begin)){var ne=X?"before":"after";return new Ae(h.line,oe,ne)}}var ve=function(Me,$e,Oe){for(var je=function(tn,Mn){return Mn?new Ae(h.line,k(tn,1),"before"):new Ae(h.line,tn,"after")};Me>=0&&Me<g.length;Me+=$e){var rt=g[Me],et=$e>0==(rt.level!=1),xt=et?Oe.begin:k(Oe.end,-1);if(rt.from<=xt&&xt<rt.to||(xt=et?rt.from:k(rt.to,-1),Oe.begin<=xt&&xt<Oe.end))return je(xt,et)}},Ee=ve(_+f,f,H);if(Ee)return Ee;var Re=f>0?H.end:k(H.begin,-1);return Re!=null&&!(f>0&&Re==l.text.length)&&(Ee=ve(f>0?0:g.length-1,f,P(Re)),Ee)?Ee:null}var Ju={selectAll:wl,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),Jt)},killLine:function(o){return Ls(o,function(l){if(l.empty()){var h=Ze(o.doc,l.head.line).text.length;return l.head.ch==h&&l.head.line<o.lastLine()?{from:l.head,to:Ae(l.head.line+1,0)}:{from:l.head,to:Ae(l.head.line,h)}}else return{from:l.from(),to:l.to()}})},deleteLine:function(o){return Ls(o,function(l){return{from:Ae(l.from().line,0),to:pt(o.doc,Ae(l.to().line+1,0))}})},delLineLeft:function(o){return Ls(o,function(l){return{from:Ae(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(o){return Ls(o,function(l){var h=o.charCoords(l.head,"div").top+5,f=o.coordsChar({left:0,top:h},"div");return{from:f,to:l.from()}})},delWrappedLineRight:function(o){return Ls(o,function(l){var h=o.charCoords(l.head,"div").top+5,f=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:h},"div");return{from:l.from(),to:f}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(Ae(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(Ae(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(l){return os(o,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(l){return fp(o,l.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(l){return Rv(o,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(l){var h=o.cursorCoords(l.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:h},"div")},Ur)},goLineLeft:function(o){return o.extendSelectionsBy(function(l){var h=o.cursorCoords(l.head,"div").top+5;return o.coordsChar({left:0,top:h},"div")},Ur)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(l){var h=o.cursorCoords(l.head,"div").top+5,f=o.coordsChar({left:0,top:h},"div");return f.ch<o.getLine(f.line).search(/\S/)?fp(o,l.head):f},Ur)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("	")},insertSoftTab:function(o){for(var l=[],h=o.listSelections(),f=o.options.tabSize,g=0;g<h.length;g++){var _=h[g].from(),x=Lt(o.getLine(_.line),_.ch,f);l.push(Ci(f-x%f))}o.replaceSelections(l)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Tr(o,function(){for(var l=o.listSelections(),h=[],f=0;f<l.length;f++)if(l[f].empty()){var g=l[f].head,_=Ze(o.doc,g.line).text;if(_){if(g.ch==_.length&&(g=new Ae(g.line,g.ch-1)),g.ch>0)g=new Ae(g.line,g.ch+1),o.replaceRange(_.charAt(g.ch-1)+_.charAt(g.ch-2),Ae(g.line,g.ch-2),g,"+transpose");else if(g.line>o.doc.first){var x=Ze(o.doc,g.line-1).text;x&&(g=new Ae(g.line,1),o.replaceRange(_.charAt(0)+o.doc.lineSeparator()+x.charAt(x.length-1),Ae(g.line-1,x.length-1),g,"+transpose"))}}h.push(new Wt(g,g))}o.setSelections(h)})},newlineAndIndent:function(o){return Tr(o,function(){for(var l=o.listSelections(),h=l.length-1;h>=0;h--)o.replaceRange(o.doc.lineSeparator(),l[h].anchor,l[h].head,"+input");l=o.listSelections();for(var f=0;f<l.length;f++)o.indentLine(l[f].from().line,null,!0);wn(o)})},openLine:function(o){return o.replaceSelection(`
`,"start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function os(o,l){var h=Ze(o.doc,l),f=un(h);return f!=h&&(l=Zt(f)),Yu(!0,o,f,l,1)}function Rv(o,l){var h=Ze(o.doc,l),f=Id(h);return f!=h&&(l=Zt(f)),Yu(!0,o,h,l,-1)}function fp(o,l){var h=os(o,l.line),f=Ze(o.doc,h.line),g=ke(f,o.doc.direction);if(!g||g[0].level==0){var _=Math.max(h.ch,f.text.search(/\S/)),x=l.line==h.line&&l.ch<=_&&l.ch;return Ae(h.line,x?0:_,h.sticky)}return h}function kl(o,l,h){if(typeof l=="string"&&(l=Ju[l],!l))return!1;o.display.input.ensurePolled();var f=o.display.shift,g=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),h&&(o.display.shift=!1),g=l(o)!=gn}finally{o.display.shift=f,o.state.suppressEdits=!1}return g}function bw(o,l,h){for(var f=0;f<o.state.keyMaps.length;f++){var g=di(l,o.state.keyMaps[f],h,o);if(g)return g}return o.options.extraKeys&&di(l,o.options.extraKeys,h,o)||di(l,o.options.keyMap,h,o)}var Dw=new an;function Zu(o,l,h,f){var g=o.state.keySeq;if(g){if(Lf(l))return"handled";if(/\'$/.test(l)?o.state.keySeq=null:Dw.set(50,function(){o.state.keySeq==g&&(o.state.keySeq=null,o.display.input.reset())}),hp(o,g+" "+l,h,f))return!0}return hp(o,l,h,f)}function hp(o,l,h,f){var g=bw(o,l,f);return g=="multi"&&(o.state.keySeq=l),g=="handled"&&_n(o,"keyHandled",o,l,h),(g=="handled"||g=="multi")&&(mn(h),ya(o)),!!g}function dp(o,l){var h=Ku(l,!0);return h?l.shiftKey&&!o.state.keySeq?Zu(o,"Shift-"+h,l,function(f){return kl(o,f,!0)})||Zu(o,h,l,function(f){if(typeof f=="string"?/^go[A-Z]/.test(f):f.motion)return kl(o,f)}):Zu(o,h,l,function(f){return kl(o,f)}):!1}function Rw(o,l,h){return Zu(o,"'"+h+"'",l,function(f){return kl(o,f,!0)})}var Ff=null;function pp(o){var l=this;if(!(o.target&&o.target!=l.display.input.getField())&&(l.curOp.focus=Pe(fe(l)),!yt(l,o))){p&&m<11&&o.keyCode==27&&(o.returnValue=!1);var h=o.keyCode;l.display.shift=h==16||o.shiftKey;var f=dp(l,o);L&&(Ff=f?h:null,!f&&h==88&&!G_&&(j?o.metaKey:o.ctrlKey)&&l.replaceSelection("",null,"cut")),i&&!j&&!f&&h==46&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),h==18&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&Yr(l)}}function Yr(o){var l=o.display.lineDiv;q(l,"CodeMirror-crosshair");function h(f){(f.keyCode==18||!f.altKey)&&(ye(l,"CodeMirror-crosshair"),Ut(document,"keyup",h),Ut(document,"mouseover",h))}ge(document,"keyup",h),ge(document,"mouseover",h)}function eo(o){o.keyCode==16&&(this.doc.sel.shift=!1),yt(this,o)}function Pv(o){var l=this;if(!(o.target&&o.target!=l.display.input.getField())&&!(Eo(l.display,o)||yt(l,o)||o.ctrlKey&&!o.altKey||j&&o.metaKey)){var h=o.keyCode,f=o.charCode;if(L&&h==Ff){Ff=null,mn(o);return}if(!(L&&(!o.which||o.which<10)&&dp(l,o))){var g=String.fromCharCode(f??h);g!="\b"&&(Rw(l,o,g)||l.display.input.onKeyPress(o))}}}var Pw=400,Al=function(o,l,h){this.time=o,this.pos=l,this.button=h};Al.prototype.compare=function(o,l,h){return this.time+Pw>o&&ft(l,this.pos)==0&&h==this.button};var Io,Il;function Lv(o,l){var h=+new Date;return Il&&Il.compare(h,o,l)?(Io=Il=null,"triple"):Io&&Io.compare(h,o,l)?(Il=new Al(h,o,l),Io=null,"double"):(Io=new Al(h,o,l),Il=null,"single")}function Nv(o){var l=this,h=l.display;if(!(yt(l,o)||h.activeTouch&&h.input.supportsTouch())){if(h.input.ensurePolled(),h.shift=o.shiftKey,Eo(h,o)){y||(h.scroller.draggable=!1,setTimeout(function(){return h.scroller.draggable=!0},100));return}if(!Dl(l,o)){var f=So(l,o),g=_s(o),_=f?Lv(f,g):"single";Ve(l).focus(),g==1&&l.state.selectingText&&l.state.selectingText(o),!(f&&Fv(l,g,f,_,o))&&(g==1?f?ec(l,f,_,o):la(o)==h.scroller&&mn(o):g==2?(f&&vl(l.doc,f),setTimeout(function(){return h.input.focus()},20)):g==3&&(xe?l.display.input.onContextMenu(o):fl(l)))}}}function Fv(o,l,h,f,g){var _="Click";return f=="double"?_="Double"+_:f=="triple"&&(_="Triple"+_),_=(l==1?"Left":l==2?"Middle":"Right")+_,Zu(o,cp(_,g),g,function(x){if(typeof x=="string"&&(x=Ju[x]),!x)return!1;var k=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),k=x(o,h)!=gn}finally{o.state.suppressEdits=!1}return k})}function bl(o,l,h){var f=o.getOption("configureMouse"),g=f?f(o,l,h):{};if(g.unit==null){var _=U?h.shiftKey&&h.metaKey:h.altKey;g.unit=_?"rectangle":l=="single"?"char":l=="double"?"word":"line"}return(g.extend==null||o.doc.extend)&&(g.extend=o.doc.extend||h.shiftKey),g.addNew==null&&(g.addNew=j?h.metaKey:h.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(j?h.altKey:h.ctrlKey)),g}function ec(o,l,h,f){p?setTimeout(At(ks,o),0):o.curOp.focus=Pe(fe(o));var g=bl(o,h,f),_=o.doc.sel,x;o.options.dragDrop&&ud&&!o.isReadOnly()&&h=="single"&&(x=_.contains(l))>-1&&(ft((x=_.ranges[x]).from(),l)<0||l.xRel>0)&&(ft(x.to(),l)>0||l.xRel<0)?Lw(o,f,l,g):Ov(o,f,l,g)}function Lw(o,l,h,f){var g=o.display,_=!1,x=en(o,function(P){y&&(g.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:fl(o)),Ut(g.wrapper.ownerDocument,"mouseup",x),Ut(g.wrapper.ownerDocument,"mousemove",k),Ut(g.scroller,"dragstart",I),Ut(g.scroller,"drop",x),_||(mn(P),f.addNew||vl(o.doc,h,null,null,f.extend),y&&!O||p&&m==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),k=function(P){_=_||Math.abs(l.clientX-P.clientX)+Math.abs(l.clientY-P.clientY)>=10},I=function(){return _=!0};y&&(g.scroller.draggable=!0),o.state.draggingText=x,x.copy=!f.moveOnDrag,ge(g.wrapper.ownerDocument,"mouseup",x),ge(g.wrapper.ownerDocument,"mousemove",k),ge(g.scroller,"dragstart",I),ge(g.scroller,"drop",x),o.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function gp(o,l,h){if(h=="char")return new Wt(l,l);if(h=="word")return o.findWordAt(l);if(h=="line")return new Wt(Ae(l.line,0),pt(o.doc,Ae(l.line+1,0)));var f=h(o,l);return new Wt(f.from,f.to)}function Ov(o,l,h,f){p&&fl(o);var g=o.display,_=o.doc;mn(l);var x,k,I=_.sel,P=I.ranges;if(f.addNew&&!f.extend?(k=_.sel.contains(h),k>-1?x=P[k]:x=new Wt(h,h)):(x=_.sel.primary(),k=_.sel.primIndex),f.unit=="rectangle")f.addNew||(x=new Wt(h,h)),h=So(o,l,!0,!0),k=-1;else{var H=gp(o,h,f.unit);f.extend?x=sr(x,H.anchor,H.head,f.extend):x=H}f.addNew?k==-1?(k=P.length,pr(_,Yi(o,P.concat([x]),k),{scroll:!1,origin:"*mouse"})):P.length>1&&P[k].empty()&&f.unit=="char"&&!f.extend?(pr(_,Yi(o,P.slice(0,k).concat(P.slice(k+1)),0),{scroll:!1,origin:"*mouse"}),I=_.sel):Ii(_,k,x,Ye):(k=0,pr(_,new An([x],0),Ye),I=_.sel);var X=h;function oe(Oe){if(ft(X,Oe)!=0)if(X=Oe,f.unit=="rectangle"){for(var je=[],rt=o.options.tabSize,et=Lt(Ze(_,h.line).text,h.ch,rt),xt=Lt(Ze(_,Oe.line).text,Oe.ch,rt),tn=Math.min(et,xt),Mn=Math.max(et,xt),vn=Math.min(h.line,Oe.line),In=Math.min(o.lastLine(),Math.max(h.line,Oe.line));vn<=In;vn++){var zn=Ze(_,vn).text,Vn=kn(zn,tn,rt);tn==Mn?je.push(new Wt(Ae(vn,Vn),Ae(vn,Vn))):zn.length>Vn&&je.push(new Wt(Ae(vn,Vn),Ae(vn,kn(zn,Mn,rt))))}je.length||je.push(new Wt(h,h)),pr(_,Yi(o,I.ranges.slice(0,k).concat(je),k),{origin:"*mouse",scroll:!1}),o.scrollIntoView(Oe)}else{var Rr=x,mr=gp(o,Oe,f.unit),er=Rr.anchor,$n;ft(mr.anchor,er)>0?($n=mr.head,er=ca(Rr.from(),mr.anchor)):($n=mr.anchor,er=Pu(Rr.to(),mr.head));var bn=I.ranges.slice(0);bn[k]=Of(o,new Wt(pt(_,er),$n)),pr(_,Yi(o,bn,k),Ye)}}var ne=g.wrapper.getBoundingClientRect(),ve=0;function Ee(Oe){var je=++ve,rt=So(o,Oe,!0,f.unit=="rectangle");if(rt)if(ft(rt,X)!=0){o.curOp.focus=Pe(fe(o)),oe(rt);var et=_a(g,_);(rt.line>=et.to||rt.line<et.from)&&setTimeout(en(o,function(){ve==je&&Ee(Oe)}),150)}else{var xt=Oe.clientY<ne.top?-20:Oe.clientY>ne.bottom?20:0;xt&&setTimeout(en(o,function(){ve==je&&(g.scroller.scrollTop+=xt,Ee(Oe))}),50)}}function Re(Oe){o.state.selectingText=!1,ve=1/0,Oe&&(mn(Oe),g.input.focus()),Ut(g.wrapper.ownerDocument,"mousemove",Me),Ut(g.wrapper.ownerDocument,"mouseup",$e),_.history.lastSelOrigin=null}var Me=en(o,function(Oe){Oe.buttons===0||!_s(Oe)?Re(Oe):Ee(Oe)}),$e=en(o,Re);o.state.selectingText=$e,ge(g.wrapper.ownerDocument,"mousemove",Me),ge(g.wrapper.ownerDocument,"mouseup",$e)}function Of(o,l){var h=l.anchor,f=l.head,g=Ze(o.doc,h.line);if(ft(h,f)==0&&h.sticky==f.sticky)return l;var _=ke(g);if(!_)return l;var x=He(_,h.ch,h.sticky),k=_[x];if(k.from!=h.ch&&k.to!=h.ch)return l;var I=x+(k.from==h.ch==(k.level!=1)?0:1);if(I==0||I==_.length)return l;var P;if(f.line!=h.line)P=(f.line-h.line)*(o.doc.direction=="ltr"?1:-1)>0;else{var H=He(_,f.ch,f.sticky),X=H-x||(f.ch-h.ch)*(k.level==1?-1:1);H==I-1||H==I?P=X<0:P=X>0}var oe=_[I+(P?-1:0)],ne=P==(oe.level==1),ve=ne?oe.from:oe.to,Ee=ne?"after":"before";return h.ch==ve&&h.sticky==Ee?l:new Wt(new Ae(h.line,ve,Ee),f)}function mp(o,l,h,f){var g,_;if(l.touches)g=l.touches[0].clientX,_=l.touches[0].clientY;else try{g=l.clientX,_=l.clientY}catch{return!1}if(g>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;f&&mn(l);var x=o.display,k=x.lineDiv.getBoundingClientRect();if(_>k.bottom||!dr(o,h))return Ko(l);_-=k.top-x.viewOffset;for(var I=0;I<o.display.gutterSpecs.length;++I){var P=x.gutters.childNodes[I];if(P&&P.getBoundingClientRect().right>=g){var H=ua(o.doc,_),X=o.display.gutterSpecs[I];return zt(o,h,o,H,X.className,l),Ko(l)}}}function Dl(o,l){return mp(o,l,"gutterClick",!0)}function Mf(o,l){Eo(o.display,l)||Bf(o,l)||yt(o,l,"contextmenu")||xe||o.display.input.onContextMenu(l)}function Bf(o,l){return dr(o,"gutterContextMenu")?mp(o,l,"gutterContextMenu",!1):!1}function Mv(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ou(o)}var Ra={toString:function(){return"CodeMirror.Init"}},tc={},nc={};function vp(o){var l=o.optionHandlers;function h(f,g,_,x){o.defaults[f]=g,_&&(l[f]=x?function(k,I,P){P!=Ra&&_(k,I,P)}:_)}o.defineOption=h,o.Init=Ra,h("value","",function(f,g){return f.setValue(g)},!0),h("mode",null,function(f,g){f.doc.modeOption=g,Zd(f)},!0),h("indentUnit",2,Zd,!0),h("indentWithTabs",!1),h("smartIndent",!0),h("tabSize",4,function(f){Sa(f),Ou(f),zr(f)},!0),h("lineSeparator",null,function(f,g){if(f.doc.lineSep=g,!!g){var _=[],x=f.doc.first;f.doc.iter(function(I){for(var P=0;;){var H=I.text.indexOf(g,P);if(H==-1)break;P=H+g.length,_.push(Ae(x,H))}x++});for(var k=_.length-1;k>=0;k--)ka(f.doc,g,_[k],Ae(_[k].line,_[k].ch+g.length))}}),h("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(f,g,_){f.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),_!=Ra&&f.refresh()}),h("specialCharPlaceholder",Es,function(f){return f.refresh()},!0),h("electricChars",!0),h("inputStyle",B?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),h("spellcheck",!1,function(f,g){return f.getInputField().spellcheck=g},!0),h("autocorrect",!1,function(f,g){return f.getInputField().autocorrect=g},!0),h("autocapitalize",!1,function(f,g){return f.getInputField().autocapitalize=g},!0),h("rtlMoveVisually",!$),h("wholeLineUpdateBefore",!0),h("theme","default",function(f){Mv(f),Hu(f)},!0),h("keyMap","default",function(f,g,_){var x=Qu(g),k=_!=Ra&&Qu(_);k&&k.detach&&k.detach(f,x),x.attach&&x.attach(f,k||null)}),h("extraKeys",null),h("configureMouse",null),h("lineWrapping",!1,Bv,!0),h("gutters",[],function(f,g){f.display.gutterSpecs=Xi(g,f.options.lineNumbers),Hu(f)},!0),h("fixedGutter",!0,function(f,g){f.display.gutters.style.left=g?Xt(f.display)+"px":"0",f.refresh()},!0),h("coverGutterNextToScrollbar",!1,function(f){return To(f)},!0),h("scrollbarStyle","native",function(f){iv(f),To(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),h("lineNumbers",!1,function(f,g){f.display.gutterSpecs=Xi(f.options.gutters,g),Hu(f)},!0),h("firstLineNumber",1,Hu,!0),h("lineNumberFormatter",function(f){return f},Hu,!0),h("showCursorWhenSelecting",!1,Ts,!0),h("resetSelectionOnContextMenu",!0),h("lineWiseCopyCut",!0),h("pasteLinesPerSelection",!0),h("selectionsMayTouch",!1),h("readOnly",!1,function(f,g){g=="nocursor"&&(hl(f),f.display.input.blur()),f.display.input.readOnlyChanged(g)}),h("screenReaderLabel",null,function(f,g){g=g===""?null:g,f.display.input.screenReaderLabelChanged(g)}),h("disableInput",!1,function(f,g){g||f.display.input.reset()},!0),h("dragDrop",!0,Nw),h("allowDropFileTypes",null),h("cursorBlinkRate",530),h("cursorScrollMargin",0),h("cursorHeight",1,Ts,!0),h("singleCursorHeightPerLine",!0,Ts,!0),h("workTime",100),h("workDelay",100),h("flattenSpans",!0,Sa,!0),h("addModeClass",!1,Sa,!0),h("pollInterval",100),h("undoDepth",200,function(f,g){return f.doc.history.undoDepth=g}),h("historyEventDelay",1250),h("viewportMargin",10,function(f){return f.refresh()},!0),h("maxHighlightLength",1e4,Sa,!0),h("moveInputWithCursor",!0,function(f,g){g||f.display.input.resetPosition()}),h("tabindex",null,function(f,g){return f.display.input.getField().tabIndex=g||""}),h("autofocus",null),h("direction","ltr",function(f,g){return f.doc.setDirection(g)},!0),h("phrases",null)}function Nw(o,l,h){var f=h&&h!=Ra;if(!l!=!f){var g=o.display.dragFunctions,_=l?ge:Ut;_(o.display.scroller,"dragstart",g.start),_(o.display.scroller,"dragenter",g.enter),_(o.display.scroller,"dragover",g.over),_(o.display.scroller,"dragleave",g.leave),_(o.display.scroller,"drop",g.drop)}}function Bv(o){o.options.lineWrapping?(q(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(ye(o.display.wrapper,"CodeMirror-wrap"),hf(o)),_f(o),zr(o),Ou(o),setTimeout(function(){return To(o)},100)}function $t(o,l){var h=this;if(!(this instanceof $t))return new $t(o,l);this.options=l=l?Bt(l):{},Bt(tc,l,!1);var f=l.value;typeof f=="string"?f=new Dr(f,l.mode,null,l.lineSeparator,l.direction):l.mode&&(f.modeOption=l.mode),this.doc=f;var g=new $t.inputStyles[l.inputStyle](this),_=this.display=new ww(o,f,g,l);_.wrapper.CodeMirror=this,Mv(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),iv(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new an,keySeq:null,specialChars:null},l.autofocus&&!B&&_.input.focus(),p&&m<11&&setTimeout(function(){return h.display.input.reset(!0)},20),Uv(this),bv(),Ea(this),this.curOp.forceUpdate=!0,ep(this,f),l.autofocus&&!B||this.hasFocus()?setTimeout(function(){h.hasFocus()&&!h.state.focused&&jd(h)},20):hl(this);for(var x in nc)nc.hasOwnProperty(x)&&nc[x](this,l[x],Ra);lv(this),l.finishInit&&l.finishInit(this);for(var k=0;k<Uf.length;++k)Uf[k](this);Ca(this),y&&l.lineWrapping&&getComputedStyle(_.lineDiv).textRendering=="optimizelegibility"&&(_.lineDiv.style.textRendering="auto")}$t.defaults=tc,$t.optionHandlers=nc;function Uv(o){var l=o.display;ge(l.scroller,"mousedown",en(o,Nv)),p&&m<11?ge(l.scroller,"dblclick",en(o,function(I){if(!yt(o,I)){var P=So(o,I);if(!(!P||Dl(o,I)||Eo(o.display,I))){mn(I);var H=o.findWordAt(P);vl(o.doc,H.anchor,H.head)}}})):ge(l.scroller,"dblclick",function(I){return yt(o,I)||mn(I)}),ge(l.scroller,"contextmenu",function(I){return Mf(o,I)}),ge(l.input.getField(),"contextmenu",function(I){l.scroller.contains(I.target)||Mf(o,I)});var h,f={end:0};function g(){l.activeTouch&&(h=setTimeout(function(){return l.activeTouch=null},1e3),f=l.activeTouch,f.end=+new Date)}function _(I){if(I.touches.length!=1)return!1;var P=I.touches[0];return P.radiusX<=1&&P.radiusY<=1}function x(I,P){if(P.left==null)return!0;var H=P.left-I.left,X=P.top-I.top;return H*H+X*X>20*20}ge(l.scroller,"touchstart",function(I){if(!yt(o,I)&&!_(I)&&!Dl(o,I)){l.input.ensurePolled(),clearTimeout(h);var P=+new Date;l.activeTouch={start:P,moved:!1,prev:P-f.end<=300?f:null},I.touches.length==1&&(l.activeTouch.left=I.touches[0].pageX,l.activeTouch.top=I.touches[0].pageY)}}),ge(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),ge(l.scroller,"touchend",function(I){var P=l.activeTouch;if(P&&!Eo(l,I)&&P.left!=null&&!P.moved&&new Date-P.start<300){var H=o.coordsChar(l.activeTouch,"page"),X;!P.prev||x(P,P.prev)?X=new Wt(H,H):!P.prev.prev||x(P,P.prev.prev)?X=o.findWordAt(H):X=new Wt(Ae(H.line,0),pt(o.doc,Ae(H.line+1,0))),o.setSelection(X.anchor,X.head),o.focus(),mn(I)}g()}),ge(l.scroller,"touchcancel",g),ge(l.scroller,"scroll",function(){l.scroller.clientHeight&&(Uu(o,l.scroller.scrollTop),Ki(o,l.scroller.scrollLeft,!0),zt(o,"scroll",o))}),ge(l.scroller,"mousewheel",function(I){return cv(o,I)}),ge(l.scroller,"DOMMouseScroll",function(I){return cv(o,I)}),ge(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(I){yt(o,I)||Hi(I)},over:function(I){yt(o,I)||(Dt(o,I),Hi(I))},start:function(I){return up(o,I)},drop:en(o,kw),leave:function(I){yt(o,I)||Av(o)}};var k=l.input.getField();ge(k,"keyup",function(I){return eo.call(o,I)}),ge(k,"keydown",en(o,pp)),ge(k,"keypress",en(o,Pv)),ge(k,"focus",function(I){return jd(o,I)}),ge(k,"blur",function(I){return hl(o,I)})}var Uf=[];$t.defineInitHook=function(o){return Uf.push(o)};function rc(o,l,h,f){var g=o.doc,_;h==null&&(h="add"),h=="smart"&&(g.mode.indent?_=fa(o,l).state:h="prev");var x=o.options.tabSize,k=Ze(g,l),I=Lt(k.text,null,x);k.stateAfter&&(k.stateAfter=null);var P=k.text.match(/^\s*/)[0],H;if(!f&&!/\S/.test(k.text))H=0,h="not";else if(h=="smart"&&(H=g.mode.indent(_,k.text.slice(P.length),k.text),H==gn||H>150)){if(!f)return;h="prev"}h=="prev"?l>g.first?H=Lt(Ze(g,l-1).text,null,x):H=0:h=="add"?H=I+o.options.indentUnit:h=="subtract"?H=I-o.options.indentUnit:typeof h=="number"&&(H=I+h),H=Math.max(0,H);var X="",oe=0;if(o.options.indentWithTabs)for(var ne=Math.floor(H/x);ne;--ne)oe+=x,X+="	";if(oe<H&&(X+=Ci(H-oe)),X!=P)return ka(g,X,Ae(l,0),Ae(l,P.length),"+input"),k.stateAfter=null,!0;for(var ve=0;ve<g.sel.ranges.length;ve++){var Ee=g.sel.ranges[ve];if(Ee.head.line==l&&Ee.head.ch<P.length){var Re=Ae(l,P.length);Ii(g,ve,new Wt(Re,Re));break}}}var bi=null;function zf(o){bi=o}function yp(o,l,h,f,g){var _=o.doc;o.display.shift=!1,f||(f=_.sel);var x=+new Date-200,k=g=="paste"||o.state.pasteIncoming>x,I=hd(l),P=null;if(k&&f.ranges.length>1)if(bi&&bi.text.join(`
`)==l){if(f.ranges.length%bi.text.length==0){P=[];for(var H=0;H<bi.text.length;H++)P.push(_.splitLines(bi.text[H]))}}else I.length==f.ranges.length&&o.options.pasteLinesPerSelection&&(P=dn(I,function(Me){return[Me]}));for(var X=o.curOp.updateInput,oe=f.ranges.length-1;oe>=0;oe--){var ne=f.ranges[oe],ve=ne.from(),Ee=ne.to();ne.empty()&&(h&&h>0?ve=Ae(ve.line,ve.ch-h):o.state.overwrite&&!k?Ee=Ae(Ee.line,Math.min(Ze(_,Ee.line).text.length,Ee.ch+mt(I).length)):k&&bi&&bi.lineWise&&bi.text.join(`
`)==I.join(`
`)&&(ve=Ee=Ae(ve.line,0)));var Re={from:ve,to:Ee,text:P?P[oe%P.length]:I,origin:g||(k?"paste":o.state.cutIncoming>x?"cut":"+input")};xl(o.doc,Re),_n(o,"inputRead",o,Re)}l&&!k&&Vf(o,l),wn(o),o.curOp.updateInput<2&&(o.curOp.updateInput=X),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function bo(o,l){var h=o.clipboardData&&o.clipboardData.getData("Text");if(h)return o.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&l.hasFocus()&&Tr(l,function(){return yp(l,h,0,null,"paste")}),!0}function Vf(o,l){if(!(!o.options.electricChars||!o.options.smartIndent))for(var h=o.doc.sel,f=h.ranges.length-1;f>=0;f--){var g=h.ranges[f];if(!(g.head.ch>100||f&&h.ranges[f-1].head.line==g.head.line)){var _=o.getModeAt(g.head),x=!1;if(_.electricChars){for(var k=0;k<_.electricChars.length;k++)if(l.indexOf(_.electricChars.charAt(k))>-1){x=rc(o,g.head.line,"smart");break}}else _.electricInput&&_.electricInput.test(Ze(o.doc,g.head.line).text.slice(0,g.head.ch))&&(x=rc(o,g.head.line,"smart"));x&&_n(o,"electricInput",o,g.head.line)}}}function $f(o){for(var l=[],h=[],f=0;f<o.doc.sel.ranges.length;f++){var g=o.doc.sel.ranges[f].head.line,_={anchor:Ae(g,0),head:Ae(g+1,0)};h.push(_),l.push(o.getRange(_.anchor,_.head))}return{text:l,ranges:h}}function ic(o,l,h,f){o.setAttribute("autocorrect",h?"on":"off"),o.setAttribute("autocapitalize",f?"on":"off"),o.setAttribute("spellcheck",!!l)}function oc(){var o=J("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),l=J("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return y?o.style.width="1000px":o.setAttribute("wrap","off"),b&&(o.style.border="1px solid black"),l}function Rl(o){var l=o.optionHandlers,h=o.helpers={};o.prototype={constructor:o,focus:function(){Ve(this).focus(),this.display.input.focus()},setOption:function(f,g){var _=this.options,x=_[f];_[f]==g&&f!="mode"||(_[f]=g,l.hasOwnProperty(f)&&en(this,l[f])(this,g,x),zt(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,g){this.state.keyMaps[g?"push":"unshift"](Qu(f))},removeKeyMap:function(f){for(var g=this.state.keyMaps,_=0;_<g.length;++_)if(g[_]==f||g[_].name==f)return g.splice(_,1),!0},addOverlay:ut(function(f,g){var _=f.token?f:o.getMode(this.options,f);if(_.startState)throw new Error("Overlays may not be stateful.");br(this.state.overlays,{mode:_,modeSpec:f,opaque:g&&g.opaque,priority:g&&g.priority||0},function(x){return x.priority}),this.state.modeGen++,zr(this)}),removeOverlay:ut(function(f){for(var g=this.state.overlays,_=0;_<g.length;++_){var x=g[_].modeSpec;if(x==f||typeof f=="string"&&x.name==f){g.splice(_,1),this.state.modeGen++,zr(this);return}}}),indentLine:ut(function(f,g,_){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),Du(this.doc,f)&&rc(this,f,g,_)}),indentSelection:ut(function(f){for(var g=this.doc.sel.ranges,_=-1,x=0;x<g.length;x++){var k=g[x];if(k.empty())k.head.line>_&&(rc(this,k.head.line,f,!0),_=k.head.line,x==this.doc.sel.primIndex&&wn(this));else{var I=k.from(),P=k.to(),H=Math.max(_,I.line);_=Math.min(this.lastLine(),P.line-(P.ch?0:1))+1;for(var X=H;X<_;++X)rc(this,X,f);var oe=this.doc.sel.ranges;I.ch==0&&g.length==oe.length&&oe[x].from().ch>0&&Ii(this.doc,x,new Wt(I,oe[x].to()),Jt)}}}),getTokenAt:function(f,g){return Ed(this,f,g)},getLineTokens:function(f,g){return Ed(this,Ae(f),g,!0)},getTokenTypeAt:function(f){f=pt(this.doc,f);var g=nf(this,Ze(this.doc,f.line)),_=0,x=(g.length-1)/2,k=f.ch,I;if(k==0)I=g[2];else for(;;){var P=_+x>>1;if((P?g[P*2-1]:0)>=k)x=P;else if(g[P*2+1]<k)_=P+1;else{I=g[P*2+2];break}}var H=I?I.indexOf("overlay "):-1;return H<0?I:H==0?null:I.slice(0,H-1)},getModeAt:function(f){var g=this.doc.mode;return g.innerMode?o.innerMode(g,this.getTokenAt(f).state).mode:g},getHelper:function(f,g){return this.getHelpers(f,g)[0]},getHelpers:function(f,g){var _=[];if(!h.hasOwnProperty(g))return _;var x=h[g],k=this.getModeAt(f);if(typeof k[g]=="string")x[k[g]]&&_.push(x[k[g]]);else if(k[g])for(var I=0;I<k[g].length;I++){var P=x[k[g][I]];P&&_.push(P)}else k.helperType&&x[k.helperType]?_.push(x[k.helperType]):x[k.name]&&_.push(x[k.name]);for(var H=0;H<x._global.length;H++){var X=x._global[H];X.pred(k,this)&&bt(_,X.val)==-1&&_.push(X.val)}return _},getStateAfter:function(f,g){var _=this.doc;return f=yd(_,f??_.first+_.size-1),fa(this,f+1,g).state},cursorCoords:function(f,g){var _,x=this.doc.sel.primary();return f==null?_=x.head:typeof f=="object"?_=pt(this.doc,f):_=f?x.from():x.to(),pe(this,_,g||"page")},charCoords:function(f,g){return we(this,pt(this.doc,f),g||"page")},coordsChar:function(f,g){return f=se(this,f,g||"page"),Vt(this,f.left,f.top)},lineAtHeight:function(f,g){return f=se(this,{top:f,left:0},g||"page").top,ua(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,g,_){var x=!1,k;if(typeof f=="number"){var I=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>I&&(f=I,x=!0),k=Ze(this.doc,f)}else k=f;return Zo(this,k,{top:0,left:0},g||"page",_||x).top+(x?this.doc.height-xo(k):0)},defaultTextHeight:function(){return Wi(this.display)},defaultCharWidth:function(){return es(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,g,_,x,k){var I=this.display;f=pe(this,pt(this.doc,f));var P=f.bottom,H=f.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),I.sizer.appendChild(g),x=="over")P=f.top;else if(x=="above"||x=="near"){var X=Math.max(I.wrapper.clientHeight,this.doc.height),oe=Math.max(I.sizer.clientWidth,I.lineSpace.clientWidth);(x=="above"||f.bottom+g.offsetHeight>X)&&f.top>g.offsetHeight?P=f.top-g.offsetHeight:f.bottom+g.offsetHeight<=X&&(P=f.bottom),H+g.offsetWidth>oe&&(H=oe-g.offsetWidth)}g.style.top=P+"px",g.style.left=g.style.right="",k=="right"?(H=I.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(k=="left"?H=0:k=="middle"&&(H=(I.sizer.clientWidth-g.offsetWidth)/2),g.style.left=H+"px"),_&&rv(this,{left:H,top:P,right:H+g.offsetWidth,bottom:P+g.offsetHeight})},triggerOnKeyDown:ut(pp),triggerOnKeyPress:ut(Pv),triggerOnKeyUp:eo,triggerOnMouseDown:ut(Nv),execCommand:function(f){if(Ju.hasOwnProperty(f))return Ju[f].call(null,this)},triggerElectric:ut(function(f){Vf(this,f)}),findPosH:function(f,g,_,x){var k=1;g<0&&(k=-1,g=-g);for(var I=pt(this.doc,f),P=0;P<g&&(I=at(this.doc,I,k,_,x),!I.hitSide);++P);return I},moveH:ut(function(f,g){var _=this;this.extendSelectionsBy(function(x){return _.display.shift||_.doc.extend||x.empty()?at(_.doc,x.head,f,g,_.options.rtlMoveVisually):f<0?x.from():x.to()},Ur)}),deleteH:ut(function(f,g){var _=this.doc.sel,x=this.doc;_.somethingSelected()?x.replaceSelection("",null,"+delete"):Ls(this,function(k){var I=at(x,k.head,f,g,!1);return f<0?{from:I,to:k.head}:{from:k.head,to:I}})}),findPosV:function(f,g,_,x){var k=1,I=x;g<0&&(k=-1,g=-g);for(var P=pt(this.doc,f),H=0;H<g;++H){var X=pe(this,P,"div");if(I==null?I=X.left:X.left=I,P=sc(this,X,k,_),P.hitSide)break}return P},moveV:ut(function(f,g){var _=this,x=this.doc,k=[],I=!this.display.shift&&!x.extend&&x.sel.somethingSelected();if(x.extendSelectionsBy(function(H){if(I)return f<0?H.from():H.to();var X=pe(_,H.head,"div");H.goalColumn!=null&&(X.left=H.goalColumn),k.push(X.left);var oe=sc(_,X,f,g);return g=="page"&&H==x.sel.primary()&&Gd(_,we(_,oe,"div").top-X.top),oe},Ur),k.length)for(var P=0;P<x.sel.ranges.length;P++)x.sel.ranges[P].goalColumn=k[P]}),findWordAt:function(f){var g=this.doc,_=Ze(g,f.line).text,x=f.ch,k=f.ch;if(_){var I=this.getHelper(f,"wordChars");(f.sticky=="before"||k==_.length)&&x?--x:++k;for(var P=_.charAt(x),H=A(P,I)?function(X){return A(X,I)}:/\s/.test(P)?function(X){return/\s/.test(X)}:function(X){return!/\s/.test(X)&&!A(X)};x>0&&H(_.charAt(x-1));)--x;for(;k<_.length&&H(_.charAt(k));)++k}return new Wt(Ae(f.line,x),Ae(f.line,k))},toggleOverwrite:function(f){f!=null&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?q(this.display.cursorDiv,"CodeMirror-overwrite"):ye(this.display.cursorDiv,"CodeMirror-overwrite"),zt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Pe(fe(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ut(function(f,g){Zn(this,f,g)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-Co(this)-this.display.barHeight,width:f.scrollWidth-Co(this)-this.display.barWidth,clientHeight:Ud(this),clientWidth:pa(this)}},scrollIntoView:ut(function(f,g){f==null?(f={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof f=="number"?f={from:Ae(f,0),to:null}:f.from==null&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=g||0,f.from.line!=null?hw(this,f):Kd(this,f.from,f.to,f.margin)}),setSize:ut(function(f,g){var _=this,x=function(I){return typeof I=="number"||/^\d+$/.test(String(I))?I+"px":I};f!=null&&(this.display.wrapper.style.width=x(f)),g!=null&&(this.display.wrapper.style.height=x(g)),this.options.lineWrapping&&Jm(this);var k=this.display.viewFrom;this.doc.iter(k,this.display.viewTo,function(I){if(I.widgets){for(var P=0;P<I.widgets.length;P++)if(I.widgets[P].noHScroll){Ss(_,k,"widget");break}}++k}),this.curOp.forceUpdate=!0,zt(this,"refresh",this)}),operation:function(f){return Tr(this,f)},startOperation:function(){return Ea(this)},endOperation:function(){return Ca(this)},refresh:ut(function(){var f=this.display.cachedTextHeight;zr(this),this.curOp.forceUpdate=!0,Ou(this),Zn(this,this.doc.scrollLeft,this.doc.scrollTop),Xd(this.display),(f==null||Math.abs(f-Wi(this.display))>.5||this.options.lineWrapping)&&_f(this),zt(this,"refresh",this)}),swapDoc:ut(function(f){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),ep(this,f),Ou(this),this.display.input.reset(),Zn(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,_n(this,"swapDoc",this,g),g}),phrase:function(f){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,f)?g[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Si(o),o.registerHelper=function(f,g,_){h.hasOwnProperty(f)||(h[f]=o[f]={_global:[]}),h[f][g]=_},o.registerGlobalHelper=function(f,g,_,x){o.registerHelper(f,g,x),h[f]._global.push({pred:_,val:x})}}function at(o,l,h,f,g){var _=l,x=h,k=Ze(o,l.line),I=g&&o.direction=="rtl"?-h:h;function P(){var $e=l.line+I;return $e<o.first||$e>=o.first+o.size?!1:(l=new Ae($e,l.ch,l.sticky),k=Ze(o,$e))}function H($e){var Oe;if(f=="codepoint"){var je=k.text.charCodeAt(l.ch+(h>0?0:-1));if(isNaN(je))Oe=null;else{var rt=h>0?je>=55296&&je<56320:je>=56320&&je<57343;Oe=new Ae(l.line,Math.max(0,Math.min(k.text.length,l.ch+h*(rt?2:1))),-h)}}else g?Oe=Ns(o.cm,k,l,h):Oe=Xu(k,l,h);if(Oe==null)if(!$e&&P())l=Yu(g,o.cm,k,l.line,I);else return!1;else l=Oe;return!0}if(f=="char"||f=="codepoint")H();else if(f=="column")H(!0);else if(f=="word"||f=="group")for(var X=null,oe=f=="group",ne=o.cm&&o.cm.getHelper(l,"wordChars"),ve=!0;!(h<0&&!H(!ve));ve=!1){var Ee=k.text.charAt(l.ch)||`
`,Re=A(Ee,ne)?"w":oe&&Ee==`
`?"n":!oe||/\s/.test(Ee)?null:"p";if(oe&&!ve&&!Re&&(Re="s"),X&&X!=Re){h<0&&(h=1,H(),l.sticky="after");break}if(Re&&(X=Re),h>0&&!H(!ve))break}var Me=_l(o,l,_,x,!0);return Ru(_,Me)&&(Me.hitSide=!0),Me}function sc(o,l,h,f){var g=o.doc,_=l.left,x;if(f=="page"){var k=Math.min(o.display.wrapper.clientHeight,Ve(o).innerHeight||g(o).documentElement.clientHeight),I=Math.max(k-.5*Wi(o.display),3);x=(h>0?l.bottom:l.top)+h*I}else f=="line"&&(x=h>0?l.bottom+3:l.top-3);for(var P;P=Vt(o,_,x),!!P.outside;){if(h<0?x<=0:x>=g.height){P.hitSide=!0;break}x+=h*5}return P}var qt=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new an,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};qt.prototype.init=function(o){var l=this,h=this,f=h.cm,g=h.div=o.lineDiv;g.contentEditable=!0,ic(g,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize);function _(k){for(var I=k.target;I;I=I.parentNode){if(I==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(I.className))break}return!1}ge(g,"paste",function(k){!_(k)||yt(f,k)||bo(k,f)||m<=11&&setTimeout(en(f,function(){return l.updateFromDOM()}),20)}),ge(g,"compositionstart",function(k){l.composing={data:k.data,done:!1}}),ge(g,"compositionupdate",function(k){l.composing||(l.composing={data:k.data,done:!1})}),ge(g,"compositionend",function(k){l.composing&&(k.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),ge(g,"touchstart",function(){return h.forceCompositionEnd()}),ge(g,"input",function(){l.composing||l.readFromDOMSoon()});function x(k){if(!(!_(k)||yt(f,k))){if(f.somethingSelected())zf({lineWise:!1,text:f.getSelections()}),k.type=="cut"&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var I=$f(f);zf({lineWise:!0,text:I.text}),k.type=="cut"&&f.operation(function(){f.setSelections(I.ranges,0,Jt),f.replaceSelection("",null,"cut")})}else return;if(k.clipboardData){k.clipboardData.clearData();var P=bi.text.join(`
`);if(k.clipboardData.setData("Text",P),k.clipboardData.getData("Text")==P){k.preventDefault();return}}var H=oc(),X=H.firstChild;ic(X),f.display.lineSpace.insertBefore(H,f.display.lineSpace.firstChild),X.value=bi.text.join(`
`);var oe=Pe(nt(g));Q(X),setTimeout(function(){f.display.lineSpace.removeChild(H),oe.focus(),oe==g&&h.showPrimarySelection()},50)}}ge(g,"copy",x),ge(g,"cut",x)},qt.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},qt.prototype.prepareSelection=function(){var o=Hd(this.cm,!1);return o.focus=Pe(nt(this.div))==this.div,o},qt.prototype.showSelection=function(o,l){!o||!this.cm.display.view.length||((o.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(o))},qt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},qt.prototype.showPrimarySelection=function(){var o=this.getSelection(),l=this.cm,h=l.doc.sel.primary(),f=h.from(),g=h.to();if(l.display.viewTo==l.display.viewFrom||f.line>=l.display.viewTo||g.line<l.display.viewFrom){o.removeAllRanges();return}var _=lr(l,o.anchorNode,o.anchorOffset),x=lr(l,o.focusNode,o.focusOffset);if(!(_&&!_.bad&&x&&!x.bad&&ft(ca(_,x),f)==0&&ft(Pu(_,x),g)==0)){var k=l.display.view,I=f.line>=l.display.viewFrom&&Fs(l,f)||{node:k[0].measure.map[2],offset:0},P=g.line<l.display.viewTo&&Fs(l,g);if(!P){var H=k[k.length-1].measure,X=H.maps?H.maps[H.maps.length-1]:H.map;P={node:X[X.length-1],offset:X[X.length-2]-X[X.length-3]}}if(!I||!P){o.removeAllRanges();return}var oe=o.rangeCount&&o.getRangeAt(0),ne;try{ne=me(I.node,I.offset,P.offset,P.node)}catch{}ne&&(!i&&l.state.focused?(o.collapse(I.node,I.offset),ne.collapsed||(o.removeAllRanges(),o.addRange(ne))):(o.removeAllRanges(),o.addRange(ne)),oe&&o.anchorNode==null?o.addRange(oe):i&&this.startGracePeriod()),this.rememberSelection()}},qt.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},qt.prototype.showMultipleSelections=function(o){Le(this.cm.display.cursorDiv,o.cursors),Le(this.cm.display.selectionDiv,o.selection)},qt.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},qt.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var l=o.getRangeAt(0).commonAncestorContainer;return he(this.div,l)},qt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Pe(nt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},qt.prototype.blur=function(){this.div.blur()},qt.prototype.getField=function(){return this.div},qt.prototype.supportsTouch=function(){return!0},qt.prototype.receivedFocus=function(){var o=this,l=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Tr(this.cm,function(){return l.cm.curOp.selectionChanged=!0});function h(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,h))}this.polling.set(this.cm.options.pollInterval,h)},qt.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},qt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var o=this.getSelection(),l=this.cm;if(D&&E&&this.cm.display.gutterSpecs.length&&Fw(o.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var h=lr(l,o.anchorNode,o.anchorOffset),f=lr(l,o.focusNode,o.focusOffset);h&&f&&Tr(l,function(){pr(l.doc,Is(h,f),Jt),(h.bad||f.bad)&&(l.curOp.selectionChanged=!0)})}}},qt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o=this.cm,l=o.display,h=o.doc.sel.primary(),f=h.from(),g=h.to();if(f.ch==0&&f.line>o.firstLine()&&(f=Ae(f.line-1,Ze(o.doc,f.line-1).length)),g.ch==Ze(o.doc,g.line).text.length&&g.line<o.lastLine()&&(g=Ae(g.line+1,0)),f.line<l.viewFrom||g.line>l.viewTo-1)return!1;var _,x,k;f.line==l.viewFrom||(_=ma(o,f.line))==0?(x=Zt(l.view[0].line),k=l.view[0].node):(x=Zt(l.view[_].line),k=l.view[_-1].node.nextSibling);var I=ma(o,g.line),P,H;if(I==l.view.length-1?(P=l.viewTo-1,H=l.lineDiv.lastChild):(P=Zt(l.view[I+1].line)-1,H=l.view[I+1].node.previousSibling),!k)return!1;for(var X=o.doc.splitLines(zv(o,k,H,x,P)),oe=ws(o.doc,Ae(x,0),Ae(P,Ze(o.doc,P).text.length));X.length>1&&oe.length>1;)if(mt(X)==mt(oe))X.pop(),oe.pop(),P--;else if(X[0]==oe[0])X.shift(),oe.shift(),x++;else break;for(var ne=0,ve=0,Ee=X[0],Re=oe[0],Me=Math.min(Ee.length,Re.length);ne<Me&&Ee.charCodeAt(ne)==Re.charCodeAt(ne);)++ne;for(var $e=mt(X),Oe=mt(oe),je=Math.min($e.length-(X.length==1?ne:0),Oe.length-(oe.length==1?ne:0));ve<je&&$e.charCodeAt($e.length-ve-1)==Oe.charCodeAt(Oe.length-ve-1);)++ve;if(X.length==1&&oe.length==1&&x==f.line)for(;ne&&ne>f.ch&&$e.charCodeAt($e.length-ve-1)==Oe.charCodeAt(Oe.length-ve-1);)ne--,ve++;X[X.length-1]=$e.slice(0,$e.length-ve).replace(/^\u200b+/,""),X[0]=X[0].slice(ne).replace(/\u200b+$/,"");var rt=Ae(x,ne),et=Ae(P,oe.length?mt(oe).length-ve:0);if(X.length>1||X[0]||ft(rt,et))return ka(o.doc,X,rt,et,"+input"),!0},qt.prototype.ensurePolled=function(){this.forceCompositionEnd()},qt.prototype.reset=function(){this.forceCompositionEnd()},qt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},qt.prototype.readFromDOMSoon=function(){var o=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing)if(o.composing.done)o.composing=null;else return;o.updateFromDOM()},80))},qt.prototype.updateFromDOM=function(){var o=this;(this.cm.isReadOnly()||!this.pollContent())&&Tr(this.cm,function(){return zr(o.cm)})},qt.prototype.setUneditable=function(o){o.contentEditable="false"},qt.prototype.onKeyPress=function(o){o.charCode==0||this.composing||(o.preventDefault(),this.cm.isReadOnly()||en(this.cm,yp)(this.cm,String.fromCharCode(o.charCode==null?o.keyCode:o.charCode),0))},qt.prototype.readOnlyChanged=function(o){this.div.contentEditable=String(o!="nocursor")},qt.prototype.onContextMenu=function(){},qt.prototype.resetPosition=function(){},qt.prototype.needsContentAttribute=!0;function Fs(o,l){var h=vf(o,l.line);if(!h||h.hidden)return null;var f=Ze(o.doc,l.line),g=Qm(h,f,l.line),_=ke(f,o.doc.direction),x="left";if(_){var k=He(_,l.ch);x=k%2?"right":"left"}var I=Ym(g.map,l.ch,x);return I.offset=I.collapse=="right"?I.end:I.start,I}function Fw(o){for(var l=o;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}function Os(o,l){return l&&(o.bad=!0),o}function zv(o,l,h,f,g){var _="",x=!1,k=o.doc.lineSeparator(),I=!1;function P(ne){return function(ve){return ve.id==ne}}function H(){x&&(_+=k,I&&(_+=k),x=I=!1)}function X(ne){ne&&(H(),_+=ne)}function oe(ne){if(ne.nodeType==1){var ve=ne.getAttribute("cm-text");if(ve){X(ve);return}var Ee=ne.getAttribute("cm-marker"),Re;if(Ee){var Me=o.findMarks(Ae(f,0),Ae(g+1,0),P(+Ee));Me.length&&(Re=Me[0].find(0))&&X(ws(o.doc,Re.from,Re.to).join(k));return}if(ne.getAttribute("contenteditable")=="false")return;var $e=/^(pre|div|p|li|table|br)$/i.test(ne.nodeName);if(!/^br$/i.test(ne.nodeName)&&ne.textContent.length==0)return;$e&&H();for(var Oe=0;Oe<ne.childNodes.length;Oe++)oe(ne.childNodes[Oe]);/^(pre|p)$/i.test(ne.nodeName)&&(I=!0),$e&&(x=!0)}else ne.nodeType==3&&X(ne.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;oe(l),l!=h;)l=l.nextSibling,I=!1;return _}function lr(o,l,h){var f;if(l==o.display.lineDiv){if(f=o.display.lineDiv.childNodes[h],!f)return Os(o.clipPos(Ae(o.display.viewTo-1)),!0);l=null,h=0}else for(f=l;;f=f.parentNode){if(!f||f==o.display.lineDiv)return null;if(f.parentNode&&f.parentNode==o.display.lineDiv)break}for(var g=0;g<o.display.view.length;g++){var _=o.display.view[g];if(_.node==f)return Ow(_,l,h)}}function Ow(o,l,h){var f=o.text.firstChild,g=!1;if(!l||!he(f,l))return Os(Ae(Zt(o.line),0),!0);if(l==f&&(g=!0,l=f.childNodes[h],h=0,!l)){var _=o.rest?mt(o.rest):o.line;return Os(Ae(Zt(_),_.text.length),g)}var x=l.nodeType==3?l:null,k=l;for(!x&&l.childNodes.length==1&&l.firstChild.nodeType==3&&(x=l.firstChild,h&&(h=x.nodeValue.length));k.parentNode!=f;)k=k.parentNode;var I=o.measure,P=I.maps;function H(Re,Me,$e){for(var Oe=-1;Oe<(P?P.length:0);Oe++)for(var je=Oe<0?I.map:P[Oe],rt=0;rt<je.length;rt+=3){var et=je[rt+2];if(et==Re||et==Me){var xt=Zt(Oe<0?o.line:o.rest[Oe]),tn=je[rt]+$e;return($e<0||et!=Re)&&(tn=je[rt+($e?1:0)]),Ae(xt,tn)}}}var X=H(x,k,h);if(X)return Os(X,g);for(var oe=k.nextSibling,ne=x?x.nodeValue.length-h:0;oe;oe=oe.nextSibling){if(X=H(oe,oe.firstChild,0),X)return Os(Ae(X.line,X.ch-ne),g);ne+=oe.textContent.length}for(var ve=k.previousSibling,Ee=h;ve;ve=ve.previousSibling){if(X=H(ve,ve.firstChild,-1),X)return Os(Ae(X.line,X.ch+Ee),g);Ee+=ve.textContent.length}}var On=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new an,this.hasSelection=!1,this.composing=null,this.resetting=!1};On.prototype.init=function(o){var l=this,h=this,f=this.cm;this.createField(o);var g=this.textarea;o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),b&&(g.style.width="0px"),ge(g,"input",function(){p&&m>=9&&l.hasSelection&&(l.hasSelection=null),h.poll()}),ge(g,"paste",function(x){yt(f,x)||bo(x,f)||(f.state.pasteIncoming=+new Date,h.fastPoll())});function _(x){if(!yt(f,x)){if(f.somethingSelected())zf({lineWise:!1,text:f.getSelections()});else if(f.options.lineWiseCopyCut){var k=$f(f);zf({lineWise:!0,text:k.text}),x.type=="cut"?f.setSelections(k.ranges,null,Jt):(h.prevInput="",g.value=k.text.join(`
`),Q(g))}else return;x.type=="cut"&&(f.state.cutIncoming=+new Date)}}ge(g,"cut",_),ge(g,"copy",_),ge(o.scroller,"paste",function(x){if(!(Eo(o,x)||yt(f,x))){if(!g.dispatchEvent){f.state.pasteIncoming=+new Date,h.focus();return}var k=new Event("paste");k.clipboardData=x.clipboardData,g.dispatchEvent(k)}}),ge(o.lineSpace,"selectstart",function(x){Eo(o,x)||mn(x)}),ge(g,"compositionstart",function(){var x=f.getCursor("from");h.composing&&h.composing.range.clear(),h.composing={start:x,range:f.markText(x,f.getCursor("to"),{className:"CodeMirror-composing"})}}),ge(g,"compositionend",function(){h.composing&&(h.poll(),h.composing.range.clear(),h.composing=null)})},On.prototype.createField=function(o){this.wrapper=oc(),this.textarea=this.wrapper.firstChild;var l=this.cm.options;ic(this.textarea,l.spellcheck,l.autocorrect,l.autocapitalize)},On.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},On.prototype.prepareSelection=function(){var o=this.cm,l=o.display,h=o.doc,f=Hd(o);if(o.options.moveInputWithCursor){var g=pe(o,h.sel.primary().head,"div"),_=l.wrapper.getBoundingClientRect(),x=l.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,g.top+x.top-_.top)),f.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,g.left+x.left-_.left))}return f},On.prototype.showSelection=function(o){var l=this.cm,h=l.display;Le(h.cursorDiv,o.cursors),Le(h.selectionDiv,o.selection),o.teTop!=null&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},On.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing&&o)){var l=this.cm;if(this.resetting=!0,l.somethingSelected()){this.prevInput="";var h=l.getSelection();this.textarea.value=h,l.state.focused&&Q(this.textarea),p&&m>=9&&(this.hasSelection=h)}else o||(this.prevInput=this.textarea.value="",p&&m>=9&&(this.hasSelection=null));this.resetting=!1}},On.prototype.getField=function(){return this.textarea},On.prototype.supportsTouch=function(){return!1},On.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!B||Pe(nt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},On.prototype.blur=function(){this.textarea.blur()},On.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},On.prototype.receivedFocus=function(){this.slowPoll()},On.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},On.prototype.fastPoll=function(){var o=!1,l=this;l.pollingFast=!0;function h(){var f=l.poll();!f&&!o?(o=!0,l.polling.set(60,h)):(l.pollingFast=!1,l.slowPoll())}l.polling.set(20,h)},On.prototype.poll=function(){var o=this,l=this.cm,h=this.textarea,f=this.prevInput;if(this.contextMenuPending||this.resetting||!l.state.focused||q_(h)&&!f&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var g=h.value;if(g==f&&!l.somethingSelected())return!1;if(p&&m>=9&&this.hasSelection===g||j&&/[\uf700-\uf7ff]/.test(g))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var _=g.charCodeAt(0);if(_==8203&&!f&&(f="​"),_==8666)return this.reset(),this.cm.execCommand("undo")}for(var x=0,k=Math.min(f.length,g.length);x<k&&f.charCodeAt(x)==g.charCodeAt(x);)++x;return Tr(l,function(){yp(l,g.slice(x),f.length-x,null,o.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?h.value=o.prevInput="":o.prevInput=g,o.composing&&(o.composing.range.clear(),o.composing.range=l.markText(o.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},On.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},On.prototype.onKeyPress=function(){p&&m>=9&&(this.hasSelection=null),this.fastPoll()},On.prototype.onContextMenu=function(o){var l=this,h=l.cm,f=h.display,g=l.textarea;l.contextMenuPending&&l.contextMenuPending();var _=So(h,o),x=f.scroller.scrollTop;if(!_||L)return;var k=h.options.resetSelectionOnContextMenu;k&&h.doc.sel.contains(_)==-1&&en(h,pr)(h.doc,Is(_),Jt);var I=g.style.cssText,P=l.wrapper.style.cssText,H=l.wrapper.offsetParent.getBoundingClientRect();l.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(o.clientY-H.top-5)+"px; left: "+(o.clientX-H.left-5)+`px;
      z-index: 1000; background: `+(p?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var X;y&&(X=g.ownerDocument.defaultView.scrollY),f.input.focus(),y&&g.ownerDocument.defaultView.scrollTo(null,X),f.input.reset(),h.somethingSelected()||(g.value=l.prevInput=" "),l.contextMenuPending=ne,f.selForContextMenu=h.doc.sel,clearTimeout(f.detectingSelectAll);function oe(){if(g.selectionStart!=null){var Ee=h.somethingSelected(),Re="​"+(Ee?g.value:"");g.value="⇚",g.value=Re,l.prevInput=Ee?"":"​",g.selectionStart=1,g.selectionEnd=Re.length,f.selForContextMenu=h.doc.sel}}function ne(){if(l.contextMenuPending==ne&&(l.contextMenuPending=!1,l.wrapper.style.cssText=P,g.style.cssText=I,p&&m<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=x),g.selectionStart!=null)){(!p||p&&m<9)&&oe();var Ee=0,Re=function(){f.selForContextMenu==h.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&l.prevInput=="​"?en(h,wl)(h):Ee++<10?f.detectingSelectAll=setTimeout(Re,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(Re,200)}}if(p&&m>=9&&oe(),xe){Hi(o);var ve=function(){Ut(window,"mouseup",ve),setTimeout(ne,20)};ge(window,"mouseup",ve)}else setTimeout(ne,50)},On.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled=o=="nocursor",this.textarea.readOnly=!!o},On.prototype.setUneditable=function(){},On.prototype.needsContentAttribute=!1;function Vv(o,l){if(l=l?Bt(l):{},l.value=o.value,!l.tabindex&&o.tabIndex&&(l.tabindex=o.tabIndex),!l.placeholder&&o.placeholder&&(l.placeholder=o.placeholder),l.autofocus==null){var h=Pe(nt(o));l.autofocus=h==o||o.getAttribute("autofocus")!=null&&h==document.body}function f(){o.value=k.getValue()}var g;if(o.form&&(ge(o.form,"submit",f),!l.leaveSubmitMethodAlone)){var _=o.form;g=_.submit;try{var x=_.submit=function(){f(),_.submit=g,_.submit(),_.submit=x}}catch{}}l.finishInit=function(I){I.save=f,I.getTextArea=function(){return o},I.toTextArea=function(){I.toTextArea=isNaN,f(),o.parentNode.removeChild(I.getWrapperElement()),o.style.display="",o.form&&(Ut(o.form,"submit",f),!l.leaveSubmitMethodAlone&&typeof o.form.submit=="function"&&(o.form.submit=g))}},o.style.display="none";var k=$t(function(I){return o.parentNode.insertBefore(I,o.nextSibling)},l);return k}function Mw(o){o.off=Ut,o.on=ge,o.wheelEventPixels=xw,o.Doc=Dr,o.splitLines=hd,o.countColumn=Lt,o.findColumn=kn,o.isWordChar=re,o.Pass=gn,o.signal=zt,o.Line=da,o.changeEnd=bs,o.scrollbarModel=xa,o.Pos=Ae,o.cmpPos=ft,o.modes=pd,o.mimeModes=rl,o.resolveMode=Zc,o.getMode=gd,o.modeExtensions=Qo,o.extendMode=X_,o.copyState=yo,o.startState=Pm,o.innerMode=md,o.commands=Ju,o.keyMap=Ao,o.keyName=Ku,o.isModifierKey=Lf,o.lookupKey=di,o.normalizeKeyMap=hi,o.StringStream=Un,o.SharedTextMarker=Sl,o.TextMarker=Zi,o.LineWidget=Ia,o.e_preventDefault=mn,o.e_stopPropagation=Go,o.e_stop=Hi,o.addClass=q,o.contains=he,o.rmClass=ye,o.keyNames=ar}vp($t),Rl($t);var $v="iter insert remove copy getEditor constructor".split(" ");for(var Hf in Dr.prototype)Dr.prototype.hasOwnProperty(Hf)&&bt($v,Hf)<0&&($t.prototype[Hf]=function(o){return function(){return o.apply(this.doc,arguments)}}(Dr.prototype[Hf]));return Si(Dr),$t.inputStyles={textarea:On,contenteditable:qt},$t.defineMode=function(o){!$t.defaults.mode&&o!="null"&&($t.defaults.mode=o),K_.apply(this,arguments)},$t.defineMIME=Q_,$t.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),$t.defineMIME("text/plain","null"),$t.defineExtension=function(o,l){$t.prototype[o]=l},$t.defineDocExtension=function(o,l){Dr.prototype[o]=l},$t.fromTextArea=Vv,Mw($t),$t.version="5.65.16",$t})})(eN);var vo=eN.exports;(function(t,e){(function(n){n(vo)})(function(n){var r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,s=/[*+-]\s/;n.commands.newlineAndIndentContinueMarkdownList=function(c){if(c.getOption("disableInput"))return n.Pass;for(var p=c.listSelections(),m=[],y=0;y<p.length;y++){var w=p[y].head,E=c.getStateAfter(w.line),S=n.innerMode(c.getMode(),E);if(S.mode.name!=="markdown"&&S.mode.helperType!=="markdown"){c.execCommand("newlineAndIndent");return}else E=S.state;var L=E.list!==!1,O=E.quote!==0,M=c.getLine(w.line),R=r.exec(M),b=/^\s*$/.test(M.slice(0,w.ch));if(!p[y].empty()||!L&&!O||!R||b){c.execCommand("newlineAndIndent");return}if(i.test(M)){var D=O&&/>\s*$/.test(M),B=!/>\s*$/.test(M);(D||B)&&c.replaceRange("",{line:w.line,ch:0},{line:w.line,ch:w.ch+1}),m[y]=`
`}else{var j=R[1],U=R[5],$=!(s.test(R[2])||R[2].indexOf(">")>=0),Y=$?parseInt(R[3],10)+1+R[4]:R[2].replace("x"," ");m[y]=`
`+j+Y+U,$&&a(c,w)}}c.replaceSelections(m)};function a(c,p){var m=p.line,y=0,w=0,E=r.exec(c.getLine(m)),S=E[1];do{y+=1;var L=m+y,O=c.getLine(L),M=r.exec(O);if(M){var R=M[1],b=parseInt(E[3],10)+y-w,D=parseInt(M[3],10),B=D;if(S===R&&!isNaN(D))b===D&&(B=D+1),b>D&&(B=b+1),c.replaceRange(O.replace(r,R+B+M[4]+M[5]),{line:L,ch:0},{line:L,ch:O.length});else{if(S.length>R.length||S.length<R.length&&y===1)return;w+=1}}}while(M)}})})();var tN=vo;tN.commands.tabAndIndentMarkdownList=function(t){var e=t.listSelections(),n=e[0].head,r=t.getStateAfter(n.line),i=r.list!==!1;if(i){t.execCommand("indentMore");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var s=Array(t.options.tabSize+1).join(" ");t.replaceSelection(s)}};tN.commands.shiftTabAndUnindentMarkdownList=function(t){var e=t.listSelections(),n=e[0].head,r=t.getStateAfter(n.line),i=r.list!==!1;if(i){t.execCommand("indentLess");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var s=Array(t.options.tabSize+1).join(" ");t.replaceSelection(s)}};(function(t,e){(function(n){n(vo)})(function(n){n.defineOption("fullScreen",!1,function(s,a,c){c==n.Init&&(c=!1),!c!=!a&&(a?r(s):i(s))});function r(s){var a=s.getWrapperElement();s.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:a.style.width,height:a.style.height},a.style.width="",a.style.height="auto",a.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",s.refresh()}function i(s){var a=s.getWrapperElement();a.className=a.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var c=s.state.fullScreenRestore;a.style.width=c.width,a.style.height=c.height,window.scrollTo(c.scrollLeft,c.scrollTop),s.refresh()}})})();var eJ={exports:{}},tJ={exports:{}};(function(t,e){(function(n){n(vo)})(function(n){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(s,a){var c=s.indentUnit,p={},m=a.htmlMode?r:i;for(var y in m)p[y]=m[y];for(var y in a)p[y]=a[y];var w,E;function S(J,_e){function me(q){return _e.tokenize=q,q(J,_e)}var he=J.next();if(he=="<")return J.eat("!")?J.eat("[")?J.match("CDATA[")?me(M("atom","]]>")):null:J.match("--")?me(M("comment","-->")):J.match("DOCTYPE",!0,!0)?(J.eatWhile(/[\w\._\-]/),me(R(1))):null:J.eat("?")?(J.eatWhile(/[\w\._\-]/),_e.tokenize=M("meta","?>"),"meta"):(w=J.eat("/")?"closeTag":"openTag",_e.tokenize=L,"tag bracket");if(he=="&"){var Pe;return J.eat("#")?J.eat("x")?Pe=J.eatWhile(/[a-fA-F\d]/)&&J.eat(";"):Pe=J.eatWhile(/[\d]/)&&J.eat(";"):Pe=J.eatWhile(/[\w\.\-:]/)&&J.eat(";"),Pe?"atom":"error"}else return J.eatWhile(/[^&<]/),null}S.isInText=!0;function L(J,_e){var me=J.next();if(me==">"||me=="/"&&J.eat(">"))return _e.tokenize=S,w=me==">"?"endTag":"selfcloseTag","tag bracket";if(me=="=")return w="equals",null;if(me=="<"){_e.tokenize=S,_e.state=U,_e.tagName=_e.tagStart=null;var he=_e.tokenize(J,_e);return he?he+" tag error":"tag error"}else return/[\'\"]/.test(me)?(_e.tokenize=O(me),_e.stringStartCol=J.column(),_e.tokenize(J,_e)):(J.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function O(J){var _e=function(me,he){for(;!me.eol();)if(me.next()==J){he.tokenize=L;break}return"string"};return _e.isInAttribute=!0,_e}function M(J,_e){return function(me,he){for(;!me.eol();){if(me.match(_e)){he.tokenize=S;break}me.next()}return J}}function R(J){return function(_e,me){for(var he;(he=_e.next())!=null;){if(he=="<")return me.tokenize=R(J+1),me.tokenize(_e,me);if(he==">")if(J==1){me.tokenize=S;break}else return me.tokenize=R(J-1),me.tokenize(_e,me)}return"meta"}}function b(J){return J&&J.toLowerCase()}function D(J,_e,me){this.prev=J.context,this.tagName=_e||"",this.indent=J.indented,this.startOfLine=me,(p.doNotIndent.hasOwnProperty(_e)||J.context&&J.context.noIndent)&&(this.noIndent=!0)}function B(J){J.context&&(J.context=J.context.prev)}function j(J,_e){for(var me;;){if(!J.context||(me=J.context.tagName,!p.contextGrabbers.hasOwnProperty(b(me))||!p.contextGrabbers[b(me)].hasOwnProperty(b(_e))))return;B(J)}}function U(J,_e,me){return J=="openTag"?(me.tagStart=_e.column(),$):J=="closeTag"?Y:U}function $(J,_e,me){return J=="word"?(me.tagName=_e.current(),E="tag",ie):p.allowMissingTagName&&J=="endTag"?(E="tag bracket",ie(J,_e,me)):(E="error",$)}function Y(J,_e,me){if(J=="word"){var he=_e.current();return me.context&&me.context.tagName!=he&&p.implicitlyClosed.hasOwnProperty(b(me.context.tagName))&&B(me),me.context&&me.context.tagName==he||p.matchClosing===!1?(E="tag",ae):(E="tag error",xe)}else return p.allowMissingTagName&&J=="endTag"?(E="tag bracket",ae(J,_e,me)):(E="error",xe)}function ae(J,_e,me){return J!="endTag"?(E="error",ae):(B(me),U)}function xe(J,_e,me){return E="error",ae(J,_e,me)}function ie(J,_e,me){if(J=="word")return E="attribute",ye;if(J=="endTag"||J=="selfcloseTag"){var he=me.tagName,Pe=me.tagStart;return me.tagName=me.tagStart=null,J=="selfcloseTag"||p.autoSelfClosers.hasOwnProperty(b(he))?j(me,he):(j(me,he),me.context=new D(me,he,Pe==me.indented)),U}return E="error",ie}function ye(J,_e,me){return J=="equals"?Ue:(p.allowMissing||(E="error"),ie(J,_e,me))}function Ue(J,_e,me){return J=="string"?Le:J=="word"&&p.allowUnquoted?(E="string",ie):(E="error",ie(J,_e,me))}function Le(J,_e,me){return J=="string"?Le:ie(J,_e,me)}return{startState:function(J){var _e={tokenize:S,state:U,indented:J||0,tagName:null,tagStart:null,context:null};return J!=null&&(_e.baseIndent=J),_e},token:function(J,_e){if(!_e.tagName&&J.sol()&&(_e.indented=J.indentation()),J.eatSpace())return null;w=null;var me=_e.tokenize(J,_e);return(me||w)&&me!="comment"&&(E=null,_e.state=_e.state(w||me,J,_e),E&&(me=E=="error"?me+" error":E)),me},indent:function(J,_e,me){var he=J.context;if(J.tokenize.isInAttribute)return J.tagStart==J.indented?J.stringStartCol+1:J.indented+c;if(he&&he.noIndent)return n.Pass;if(J.tokenize!=L&&J.tokenize!=S)return me?me.match(/^(\s*)/)[0].length:0;if(J.tagName)return p.multilineTagIndentPastTag!==!1?J.tagStart+J.tagName.length+2:J.tagStart+c*(p.multilineTagIndentFactor||1);if(p.alignCDATA&&/<!\[CDATA\[/.test(_e))return 0;var Pe=_e&&/^<(\/)?([\w_:\.-]*)/.exec(_e);if(Pe&&Pe[1])for(;he;)if(he.tagName==Pe[2]){he=he.prev;break}else if(p.implicitlyClosed.hasOwnProperty(b(he.tagName)))he=he.prev;else break;else if(Pe)for(;he;){var q=p.contextGrabbers[b(he.tagName)];if(q&&q.hasOwnProperty(b(Pe[2])))he=he.prev;else break}for(;he&&he.prev&&!he.startOfLine;)he=he.prev;return he?he.indent+c:J.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:p.htmlMode?"html":"xml",helperType:p.htmlMode?"html":"xml",skipAttribute:function(J){J.state==Ue&&(J.state=ie)},xmlCurrentTag:function(J){return J.tagName?{name:J.tagName,close:J.type=="closeTag"}:null},xmlCurrentContext:function(J){for(var _e=[],me=J.context;me;me=me.prev)_e.push(me.tagName);return _e.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var nJ=tJ.exports,oD={exports:{}},sD;function rJ(){return sD||(sD=1,function(t,e){(function(n){n(vo)})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var r=0;r<n.modeInfo.length;r++){var i=n.modeInfo[r];i.mimes&&(i.mime=i.mimes[0])}n.findModeByMIME=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var c=n.modeInfo[a];if(c.mime==s)return c;if(c.mimes){for(var p=0;p<c.mimes.length;p++)if(c.mimes[p]==s)return c}}if(/\+xml$/.test(s))return n.findModeByMIME("application/xml");if(/\+json$/.test(s))return n.findModeByMIME("application/json")},n.findModeByExtension=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var c=n.modeInfo[a];if(c.ext){for(var p=0;p<c.ext.length;p++)if(c.ext[p]==s)return c}}},n.findModeByFileName=function(s){for(var a=0;a<n.modeInfo.length;a++){var c=n.modeInfo[a];if(c.file&&c.file.test(s))return c}var p=s.lastIndexOf("."),m=p>-1&&s.substring(p+1,s.length);if(m)return n.findModeByExtension(m)},n.findModeByName=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var c=n.modeInfo[a];if(c.name.toLowerCase()==s)return c;if(c.alias){for(var p=0;p<c.alias.length;p++)if(c.alias[p].toLowerCase()==s)return c}}}})}()),oD.exports}(function(t,e){(function(n){n(vo,nJ,rJ())})(function(n){n.defineMode("markdown",function(r,i){var s=n.getMode(r,"text/html"),a=s.name=="null";function c(Q){if(n.findModeByName){var C=n.findModeByName(Q);C&&(Q=C.mime||C.mimes[0])}var fe=n.getMode(r,Q);return fe.name=="null"?null:fe}i.highlightFormatting===void 0&&(i.highlightFormatting=!1),i.maxBlockquoteDepth===void 0&&(i.maxBlockquoteDepth=0),i.taskLists===void 0&&(i.taskLists=!1),i.strikethrough===void 0&&(i.strikethrough=!1),i.emoji===void 0&&(i.emoji=!1),i.fencedCodeBlockHighlighting===void 0&&(i.fencedCodeBlockHighlighting=!0),i.fencedCodeBlockDefaultMode===void 0&&(i.fencedCodeBlockDefaultMode="text/plain"),i.xml===void 0&&(i.xml=!0),i.tokenTypeOverrides===void 0&&(i.tokenTypeOverrides={});var p={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var m in p)p.hasOwnProperty(m)&&i.tokenTypeOverrides[m]&&(p[m]=i.tokenTypeOverrides[m]);var y=/^([*\-_])(?:\s*\1){2,}\s*$/,w=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,E=/^\[(x| )\](?=\s)/i,S=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,L=/^ {0,3}(?:\={1,}|-{2,})\s*$/,O=/^[^#!\[\]*_\\<>` "'(~:]+/,M=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,R=/^\s*\[[^\]]+?\]:.*$/,b=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,D="    ";function B(Q,C,fe){return C.f=C.inline=fe,fe(Q,C)}function j(Q,C,fe){return C.f=C.block=fe,fe(Q,C)}function U(Q){return!Q||!/\S/.test(Q.string)}function $(Q){if(Q.linkTitle=!1,Q.linkHref=!1,Q.linkText=!1,Q.em=!1,Q.strong=!1,Q.strikethrough=!1,Q.quote=0,Q.indentedCode=!1,Q.f==ae){var C=a;if(!C){var fe=n.innerMode(s,Q.htmlState);C=fe.mode.name=="xml"&&fe.state.tagStart===null&&!fe.state.context&&fe.state.tokenize.isInText}C&&(Q.f=Ue,Q.block=Y,Q.htmlState=null)}return Q.trailingSpace=0,Q.trailingSpaceNewLine=!1,Q.prevLine=Q.thisLine,Q.thisLine={stream:null},null}function Y(Q,C){var fe=Q.column()===C.indentation,nt=U(C.prevLine.stream),Ve=C.indentedCode,At=C.prevLine.hr,Bt=C.list!==!1,Lt=(C.listStack[C.listStack.length-1]||0)+3;C.indentedCode=!1;var an=C.indentation;if(C.indentationDiff===null&&(C.indentationDiff=C.indentation,Bt)){for(C.list=null;an<C.listStack[C.listStack.length-1];)C.listStack.pop(),C.listStack.length?C.indentation=C.listStack[C.listStack.length-1]:C.list=!1;C.list!==!1&&(C.indentationDiff=an-C.listStack[C.listStack.length-1])}var bt=!nt&&!At&&!C.prevLine.header&&(!Bt||!Ve)&&!C.prevLine.fencedCodeEnd,Nt=(C.list===!1||At||nt)&&C.indentation<=Lt&&Q.match(y),gn=null;if(C.indentationDiff>=4&&(Ve||C.prevLine.fencedCodeEnd||C.prevLine.header||nt))return Q.skipToEnd(),C.indentedCode=!0,p.code;if(Q.eatSpace())return null;if(fe&&C.indentation<=Lt&&(gn=Q.match(S))&&gn[1].length<=6)return C.quote=0,C.header=gn[1].length,C.thisLine.header=!0,i.highlightFormatting&&(C.formatting="header"),C.f=C.inline,ie(C);if(C.indentation<=Lt&&Q.eat(">"))return C.quote=fe?1:C.quote+1,i.highlightFormatting&&(C.formatting="quote"),Q.eatSpace(),ie(C);if(!Nt&&!C.setext&&fe&&C.indentation<=Lt&&(gn=Q.match(w))){var Jt=gn[1]?"ol":"ul";return C.indentation=an+Q.current().length,C.list=!0,C.quote=0,C.listStack.push(C.indentation),C.em=!1,C.strong=!1,C.code=!1,C.strikethrough=!1,i.taskLists&&Q.match(E,!1)&&(C.taskList=!0),C.f=C.inline,i.highlightFormatting&&(C.formatting=["list","list-"+Jt]),ie(C)}else{if(fe&&C.indentation<=Lt&&(gn=Q.match(M,!0)))return C.quote=0,C.fencedEndRE=new RegExp(gn[1]+"+ *$"),C.localMode=i.fencedCodeBlockHighlighting&&c(gn[2]||i.fencedCodeBlockDefaultMode),C.localMode&&(C.localState=n.startState(C.localMode)),C.f=C.block=xe,i.highlightFormatting&&(C.formatting="code-block"),C.code=-1,ie(C);if(C.setext||(!bt||!Bt)&&!C.quote&&C.list===!1&&!C.code&&!Nt&&!R.test(Q.string)&&(gn=Q.lookAhead(1))&&(gn=gn.match(L)))return C.setext?(C.header=C.setext,C.setext=0,Q.skipToEnd(),i.highlightFormatting&&(C.formatting="header")):(C.header=gn[0].charAt(0)=="="?1:2,C.setext=C.header),C.thisLine.header=!0,C.f=C.inline,ie(C);if(Nt)return Q.skipToEnd(),C.hr=!0,C.thisLine.hr=!0,p.hr;if(Q.peek()==="[")return B(Q,C,he)}return B(Q,C,C.inline)}function ae(Q,C){var fe=s.token(Q,C.htmlState);if(!a){var nt=n.innerMode(s,C.htmlState);(nt.mode.name=="xml"&&nt.state.tagStart===null&&!nt.state.context&&nt.state.tokenize.isInText||C.md_inside&&Q.current().indexOf(">")>-1)&&(C.f=Ue,C.block=Y,C.htmlState=null)}return fe}function xe(Q,C){var fe=C.listStack[C.listStack.length-1]||0,nt=C.indentation<fe,Ve=fe+3;if(C.fencedEndRE&&C.indentation<=Ve&&(nt||Q.match(C.fencedEndRE))){i.highlightFormatting&&(C.formatting="code-block");var At;return nt||(At=ie(C)),C.localMode=C.localState=null,C.block=Y,C.f=Ue,C.fencedEndRE=null,C.code=0,C.thisLine.fencedCodeEnd=!0,nt?j(Q,C,C.block):At}else return C.localMode?C.localMode.token(Q,C.localState):(Q.skipToEnd(),p.code)}function ie(Q){var C=[];if(Q.formatting){C.push(p.formatting),typeof Q.formatting=="string"&&(Q.formatting=[Q.formatting]);for(var fe=0;fe<Q.formatting.length;fe++)C.push(p.formatting+"-"+Q.formatting[fe]),Q.formatting[fe]==="header"&&C.push(p.formatting+"-"+Q.formatting[fe]+"-"+Q.header),Q.formatting[fe]==="quote"&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=Q.quote?C.push(p.formatting+"-"+Q.formatting[fe]+"-"+Q.quote):C.push("error"))}if(Q.taskOpen)return C.push("meta"),C.length?C.join(" "):null;if(Q.taskClosed)return C.push("property"),C.length?C.join(" "):null;if(Q.linkHref?C.push(p.linkHref,"url"):(Q.strong&&C.push(p.strong),Q.em&&C.push(p.em),Q.strikethrough&&C.push(p.strikethrough),Q.emoji&&C.push(p.emoji),Q.linkText&&C.push(p.linkText),Q.code&&C.push(p.code),Q.image&&C.push(p.image),Q.imageAltText&&C.push(p.imageAltText,"link"),Q.imageMarker&&C.push(p.imageMarker)),Q.header&&C.push(p.header,p.header+"-"+Q.header),Q.quote&&(C.push(p.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=Q.quote?C.push(p.quote+"-"+Q.quote):C.push(p.quote+"-"+i.maxBlockquoteDepth)),Q.list!==!1){var nt=(Q.listStack.length-1)%3;nt?nt===1?C.push(p.list2):C.push(p.list3):C.push(p.list1)}return Q.trailingSpaceNewLine?C.push("trailing-space-new-line"):Q.trailingSpace&&C.push("trailing-space-"+(Q.trailingSpace%2?"a":"b")),C.length?C.join(" "):null}function ye(Q,C){if(Q.match(O,!0))return ie(C)}function Ue(Q,C){var fe=C.text(Q,C);if(typeof fe<"u")return fe;if(C.list)return C.list=null,ie(C);if(C.taskList){var nt=Q.match(E,!0)[1]===" ";return nt?C.taskOpen=!0:C.taskClosed=!0,i.highlightFormatting&&(C.formatting="task"),C.taskList=!1,ie(C)}if(C.taskOpen=!1,C.taskClosed=!1,C.header&&Q.match(/^#+$/,!0))return i.highlightFormatting&&(C.formatting="header"),ie(C);var Ve=Q.next();if(C.linkTitle){C.linkTitle=!1;var At=Ve;Ve==="("&&(At=")"),At=(At+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Bt="^\\s*(?:[^"+At+"\\\\]+|\\\\\\\\|\\\\.)"+At;if(Q.match(new RegExp(Bt),!0))return p.linkHref}if(Ve==="`"){var Lt=C.formatting;i.highlightFormatting&&(C.formatting="code"),Q.eatWhile("`");var an=Q.current().length;if(C.code==0&&(!C.quote||an==1))return C.code=an,ie(C);if(an==C.code){var bt=ie(C);return C.code=0,bt}else return C.formatting=Lt,ie(C)}else if(C.code)return ie(C);if(Ve==="\\"&&(Q.next(),i.highlightFormatting)){var Nt=ie(C),gn=p.formatting+"-escape";return Nt?Nt+" "+gn:gn}if(Ve==="!"&&Q.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return C.imageMarker=!0,C.image=!0,i.highlightFormatting&&(C.formatting="image"),ie(C);if(Ve==="["&&C.imageMarker&&Q.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return C.imageMarker=!1,C.imageAltText=!0,i.highlightFormatting&&(C.formatting="image"),ie(C);if(Ve==="]"&&C.imageAltText){i.highlightFormatting&&(C.formatting="image");var Nt=ie(C);return C.imageAltText=!1,C.image=!1,C.inline=C.f=J,Nt}if(Ve==="["&&!C.image)return C.linkText&&Q.match(/^.*?\]/)||(C.linkText=!0,i.highlightFormatting&&(C.formatting="link")),ie(C);if(Ve==="]"&&C.linkText){i.highlightFormatting&&(C.formatting="link");var Nt=ie(C);return C.linkText=!1,C.inline=C.f=Q.match(/\(.*?\)| ?\[.*?\]/,!1)?J:Ue,Nt}if(Ve==="<"&&Q.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){C.f=C.inline=Le,i.highlightFormatting&&(C.formatting="link");var Nt=ie(C);return Nt?Nt+=" ":Nt="",Nt+p.linkInline}if(Ve==="<"&&Q.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){C.f=C.inline=Le,i.highlightFormatting&&(C.formatting="link");var Nt=ie(C);return Nt?Nt+=" ":Nt="",Nt+p.linkEmail}if(i.xml&&Ve==="<"&&Q.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Jt=Q.string.indexOf(">",Q.pos);if(Jt!=-1){var Ye=Q.string.substring(Q.start,Jt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Ye)&&(C.md_inside=!0)}return Q.backUp(1),C.htmlState=n.startState(s),j(Q,C,ae)}if(i.xml&&Ve==="<"&&Q.match(/^\/\w*?>/))return C.md_inside=!1,"tag";if(Ve==="*"||Ve==="_"){for(var Ur=1,kn=Q.pos==1?" ":Q.string.charAt(Q.pos-2);Ur<3&&Q.eat(Ve);)Ur++;var Sr=Q.peek()||" ",Ci=!/\s/.test(Sr)&&(!b.test(Sr)||/\s/.test(kn)||b.test(kn)),mt=!/\s/.test(kn)&&(!b.test(kn)||/\s/.test(Sr)||b.test(Sr)),dn=null,br=null;if(Ur%2&&(!C.em&&Ci&&(Ve==="*"||!mt||b.test(kn))?dn=!0:C.em==Ve&&mt&&(Ve==="*"||!Ci||b.test(Sr))&&(dn=!1)),Ur>1&&(!C.strong&&Ci&&(Ve==="*"||!mt||b.test(kn))?br=!0:C.strong==Ve&&mt&&(Ve==="*"||!Ci||b.test(Sr))&&(br=!1)),br!=null||dn!=null){i.highlightFormatting&&(C.formatting=dn==null?"strong":br==null?"em":"strong em"),dn===!0&&(C.em=Ve),br===!0&&(C.strong=Ve);var bt=ie(C);return dn===!1&&(C.em=!1),br===!1&&(C.strong=!1),bt}}else if(Ve===" "&&(Q.eat("*")||Q.eat("_"))){if(Q.peek()===" ")return ie(C);Q.backUp(1)}if(i.strikethrough){if(Ve==="~"&&Q.eatWhile(Ve)){if(C.strikethrough){i.highlightFormatting&&(C.formatting="strikethrough");var bt=ie(C);return C.strikethrough=!1,bt}else if(Q.match(/^[^\s]/,!1))return C.strikethrough=!0,i.highlightFormatting&&(C.formatting="strikethrough"),ie(C)}else if(Ve===" "&&Q.match("~~",!0)){if(Q.peek()===" ")return ie(C);Q.backUp(2)}}if(i.emoji&&Ve===":"&&Q.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){C.emoji=!0,i.highlightFormatting&&(C.formatting="emoji");var $i=ie(C);return C.emoji=!1,$i}return Ve===" "&&(Q.match(/^ +$/,!1)?C.trailingSpace++:C.trailingSpace&&(C.trailingSpaceNewLine=!0)),ie(C)}function Le(Q,C){var fe=Q.next();if(fe===">"){C.f=C.inline=Ue,i.highlightFormatting&&(C.formatting="link");var nt=ie(C);return nt?nt+=" ":nt="",nt+p.linkInline}return Q.match(/^[^>]+/,!0),p.linkInline}function J(Q,C){if(Q.eatSpace())return null;var fe=Q.next();return fe==="("||fe==="["?(C.f=C.inline=me(fe==="("?")":"]"),i.highlightFormatting&&(C.formatting="link-string"),C.linkHref=!0,ie(C)):"error"}var _e={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function me(Q){return function(C,fe){var nt=C.next();if(nt===Q){fe.f=fe.inline=Ue,i.highlightFormatting&&(fe.formatting="link-string");var Ve=ie(fe);return fe.linkHref=!1,Ve}return C.match(_e[Q]),fe.linkHref=!0,ie(fe)}}function he(Q,C){return Q.match(/^([^\]\\]|\\.)*\]:/,!1)?(C.f=Pe,Q.next(),i.highlightFormatting&&(C.formatting="link"),C.linkText=!0,ie(C)):B(Q,C,Ue)}function Pe(Q,C){if(Q.match("]:",!0)){C.f=C.inline=q,i.highlightFormatting&&(C.formatting="link");var fe=ie(C);return C.linkText=!1,fe}return Q.match(/^([^\]\\]|\\.)+/,!0),p.linkText}function q(Q,C){return Q.eatSpace()?null:(Q.match(/^[^\s]+/,!0),Q.peek()===void 0?C.linkTitle=!0:Q.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),C.f=C.inline=Ue,p.linkHref+" url")}var tt={startState:function(){return{f:Y,prevLine:{stream:null},thisLine:{stream:null},block:Y,htmlState:null,indentation:0,inline:Ue,text:ye,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(Q){return{f:Q.f,prevLine:Q.prevLine,thisLine:Q.thisLine,block:Q.block,htmlState:Q.htmlState&&n.copyState(s,Q.htmlState),indentation:Q.indentation,localMode:Q.localMode,localState:Q.localMode?n.copyState(Q.localMode,Q.localState):null,inline:Q.inline,text:Q.text,formatting:!1,linkText:Q.linkText,linkTitle:Q.linkTitle,linkHref:Q.linkHref,code:Q.code,em:Q.em,strong:Q.strong,strikethrough:Q.strikethrough,emoji:Q.emoji,header:Q.header,setext:Q.setext,hr:Q.hr,taskList:Q.taskList,list:Q.list,listStack:Q.listStack.slice(0),quote:Q.quote,indentedCode:Q.indentedCode,trailingSpace:Q.trailingSpace,trailingSpaceNewLine:Q.trailingSpaceNewLine,md_inside:Q.md_inside,fencedEndRE:Q.fencedEndRE}},token:function(Q,C){if(C.formatting=!1,Q!=C.thisLine.stream){if(C.header=0,C.hr=!1,Q.match(/^\s*$/,!0))return $(C),null;if(C.prevLine=C.thisLine,C.thisLine={stream:Q},C.taskList=!1,C.trailingSpace=0,C.trailingSpaceNewLine=!1,!C.localState&&(C.f=C.block,C.f!=ae)){var fe=Q.match(/^\s*/,!0)[0].replace(/\t/g,D).length;if(C.indentation=fe,C.indentationDiff=null,fe>0)return null}}return C.f(Q,C)},innerMode:function(Q){return Q.block==ae?{state:Q.htmlState,mode:s}:Q.localState?{state:Q.localState,mode:Q.localMode}:{state:Q,mode:tt}},indent:function(Q,C,fe){return Q.block==ae&&s.indent?s.indent(Q.htmlState,C,fe):Q.localState&&Q.localMode.indent?Q.localMode.indent(Q.localState,C,fe):n.Pass},blankLine:$,getType:ie,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return tt},"xml"),n.defineMIME("text/markdown","markdown"),n.defineMIME("text/x-markdown","markdown")})})();var iJ=eJ.exports,oJ={exports:{}};(function(t,e){(function(n){n(vo)})(function(n){n.overlayMode=function(r,i,s){return{startState:function(){return{base:n.startState(r),overlay:n.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(a){return{base:n.copyState(r,a.base),overlay:n.copyState(i,a.overlay),basePos:a.basePos,baseCur:null,overlayPos:a.overlayPos,overlayCur:null}},token:function(a,c){return(a!=c.streamSeen||Math.min(c.basePos,c.overlayPos)<a.start)&&(c.streamSeen=a,c.basePos=c.overlayPos=a.start),a.start==c.basePos&&(c.baseCur=r.token(a,c.base),c.basePos=a.pos),a.start==c.overlayPos&&(a.pos=a.start,c.overlayCur=i.token(a,c.overlay),c.overlayPos=a.pos),a.pos=Math.min(c.basePos,c.overlayPos),c.overlayCur==null?c.baseCur:c.baseCur!=null&&c.overlay.combineTokens||s&&c.overlay.combineTokens==null?c.baseCur+" "+c.overlayCur:c.overlayCur},indent:r.indent&&function(a,c,p){return r.indent(a.base,c,p)},electricChars:r.electricChars,innerMode:function(a){return{state:a.base,mode:r}},blankLine:function(a){var c,p;return r.blankLine&&(c=r.blankLine(a.base)),i.blankLine&&(p=i.blankLine(a.overlay)),p==null?c:s&&c!=null?c+" "+p:p}}}})})();var sJ=oJ.exports;(function(t,e){(function(n){n(vo)})(function(n){n.defineOption("placeholder","",function(m,y,w){var E=w&&w!=n.Init;if(y&&!E)m.on("blur",a),m.on("change",c),m.on("swapDoc",c),n.on(m.getInputField(),"compositionupdate",m.state.placeholderCompose=function(){s(m)}),c(m);else if(!y&&E){m.off("blur",a),m.off("change",c),m.off("swapDoc",c),n.off(m.getInputField(),"compositionupdate",m.state.placeholderCompose),r(m);var S=m.getWrapperElement();S.className=S.className.replace(" CodeMirror-empty","")}y&&!m.hasFocus()&&a(m)});function r(m){m.state.placeholder&&(m.state.placeholder.parentNode.removeChild(m.state.placeholder),m.state.placeholder=null)}function i(m){r(m);var y=m.state.placeholder=document.createElement("pre");y.style.cssText="height: 0; overflow: visible",y.style.direction=m.getOption("direction"),y.className="CodeMirror-placeholder CodeMirror-line-like";var w=m.getOption("placeholder");typeof w=="string"&&(w=document.createTextNode(w)),y.appendChild(w),m.display.lineSpace.insertBefore(y,m.display.lineSpace.firstChild)}function s(m){setTimeout(function(){var y=!1;if(m.lineCount()==1){var w=m.getInputField();y=w.nodeName=="TEXTAREA"?!m.getLine(0).length:!/[^\u200b]/.test(w.querySelector(".CodeMirror-line").textContent)}y?i(m):r(m)},20)}function a(m){p(m)&&i(m)}function c(m){var y=m.getWrapperElement(),w=p(m);y.className=y.className.replace(" CodeMirror-empty","")+(w?" CodeMirror-empty":""),w?i(m):r(m)}function p(m){return m.lineCount()===1&&m.getLine(0)===""}})})();(function(t,e){(function(n){n(vo)})(function(n){n.defineOption("autoRefresh",!1,function(s,a){s.state.autoRefresh&&(i(s,s.state.autoRefresh),s.state.autoRefresh=null),a&&s.display.wrapper.offsetHeight==0&&r(s,s.state.autoRefresh={delay:a.delay||250})});function r(s,a){function c(){s.display.wrapper.offsetHeight?(i(s,a),s.display.lastWrapHeight!=s.display.wrapper.clientHeight&&s.refresh()):a.timeout=setTimeout(c,a.delay)}a.timeout=setTimeout(c,a.delay),a.hurry=function(){clearTimeout(a.timeout),a.timeout=setTimeout(c,50)},n.on(window,"mouseup",a.hurry),n.on(window,"keyup",a.hurry)}function i(s,a){clearTimeout(a.timeout),n.off(window,"mouseup",a.hurry),n.off(window,"keyup",a.hurry)}})})();(function(t,e){(function(n){n(vo)})(function(n){n.defineOption("styleSelectedText",!1,function(E,S,L){var O=L&&L!=n.Init;S&&!O?(E.state.markedSelection=[],E.state.markedSelectionStyle=typeof S=="string"?S:"CodeMirror-selectedtext",y(E),E.on("cursorActivity",r),E.on("change",i)):!S&&O&&(E.off("cursorActivity",r),E.off("change",i),m(E),E.state.markedSelection=E.state.markedSelectionStyle=null)});function r(E){E.state.markedSelection&&E.operation(function(){w(E)})}function i(E){E.state.markedSelection&&E.state.markedSelection.length&&E.operation(function(){m(E)})}var s=8,a=n.Pos,c=n.cmpPos;function p(E,S,L,O){if(c(S,L)!=0)for(var M=E.state.markedSelection,R=E.state.markedSelectionStyle,b=S.line;;){var D=b==S.line?S:a(b,0),B=b+s,j=B>=L.line,U=j?L:a(B,0),$=E.markText(D,U,{className:R});if(O==null?M.push($):M.splice(O++,0,$),j)break;b=B}}function m(E){for(var S=E.state.markedSelection,L=0;L<S.length;++L)S[L].clear();S.length=0}function y(E){m(E);for(var S=E.listSelections(),L=0;L<S.length;L++)p(E,S[L].from(),S[L].to())}function w(E){if(!E.somethingSelected())return m(E);if(E.listSelections().length>1)return y(E);var S=E.getCursor("start"),L=E.getCursor("end"),O=E.state.markedSelection;if(!O.length)return p(E,S,L);var M=O[0].find(),R=O[O.length-1].find();if(!M||!R||L.line-S.line<=s||c(S,R.to)>=0||c(L,M.from)<=0)return y(E);for(;c(S,M.from)>0;)O.shift().clear(),M=O[0].find();for(c(S,M.from)<0&&(M.to.line-S.line<s?(O.shift().clear(),p(E,S,M.to,0)):p(E,S,M.from,0));c(L,R.to)<0;)O.pop().clear(),R=O[O.length-1].find();c(L,R.to)>0&&(L.line-R.from.line<s?(O.pop().clear(),p(E,R.from,L)):p(E,R.to,L))}})})();(function(t,e){(function(n){n(vo)})(function(n){var r=n.Pos;function i(b){var D=b.flags;return D??(b.ignoreCase?"i":"")+(b.global?"g":"")+(b.multiline?"m":"")}function s(b,D){for(var B=i(b),j=B,U=0;U<D.length;U++)j.indexOf(D.charAt(U))==-1&&(j+=D.charAt(U));return B==j?b:new RegExp(b.source,j)}function a(b){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(b.source)}function c(b,D,B){D=s(D,"g");for(var j=B.line,U=B.ch,$=b.lastLine();j<=$;j++,U=0){D.lastIndex=U;var Y=b.getLine(j),ae=D.exec(Y);if(ae)return{from:r(j,ae.index),to:r(j,ae.index+ae[0].length),match:ae}}}function p(b,D,B){if(!a(D))return c(b,D,B);D=s(D,"gm");for(var j,U=1,$=B.line,Y=b.lastLine();$<=Y;){for(var ae=0;ae<U&&!($>Y);ae++){var xe=b.getLine($++);j=j==null?xe:j+`
`+xe}U=U*2,D.lastIndex=B.ch;var ie=D.exec(j);if(ie){var ye=j.slice(0,ie.index).split(`
`),Ue=ie[0].split(`
`),Le=B.line+ye.length-1,J=ye[ye.length-1].length;return{from:r(Le,J),to:r(Le+Ue.length-1,Ue.length==1?J+Ue[0].length:Ue[Ue.length-1].length),match:ie}}}}function m(b,D,B){for(var j,U=0;U<=b.length;){D.lastIndex=U;var $=D.exec(b);if(!$)break;var Y=$.index+$[0].length;if(Y>b.length-B)break;(!j||Y>j.index+j[0].length)&&(j=$),U=$.index+1}return j}function y(b,D,B){D=s(D,"g");for(var j=B.line,U=B.ch,$=b.firstLine();j>=$;j--,U=-1){var Y=b.getLine(j),ae=m(Y,D,U<0?0:Y.length-U);if(ae)return{from:r(j,ae.index),to:r(j,ae.index+ae[0].length),match:ae}}}function w(b,D,B){if(!a(D))return y(b,D,B);D=s(D,"gm");for(var j,U=1,$=b.getLine(B.line).length-B.ch,Y=B.line,ae=b.firstLine();Y>=ae;){for(var xe=0;xe<U&&Y>=ae;xe++){var ie=b.getLine(Y--);j=j==null?ie:ie+`
`+j}U*=2;var ye=m(j,D,$);if(ye){var Ue=j.slice(0,ye.index).split(`
`),Le=ye[0].split(`
`),J=Y+Ue.length,_e=Ue[Ue.length-1].length;return{from:r(J,_e),to:r(J+Le.length-1,Le.length==1?_e+Le[0].length:Le[Le.length-1].length),match:ye}}}}var E,S;String.prototype.normalize?(E=function(b){return b.normalize("NFD").toLowerCase()},S=function(b){return b.normalize("NFD")}):(E=function(b){return b.toLowerCase()},S=function(b){return b});function L(b,D,B,j){if(b.length==D.length)return B;for(var U=0,$=B+Math.max(0,b.length-D.length);;){if(U==$)return U;var Y=U+$>>1,ae=j(b.slice(0,Y)).length;if(ae==B)return Y;ae>B?$=Y:U=Y+1}}function O(b,D,B,j){if(!D.length)return null;var U=j?E:S,$=U(D).split(/\r|\n\r?/);e:for(var Y=B.line,ae=B.ch,xe=b.lastLine()+1-$.length;Y<=xe;Y++,ae=0){var ie=b.getLine(Y).slice(ae),ye=U(ie);if($.length==1){var Ue=ye.indexOf($[0]);if(Ue==-1)continue e;var B=L(ie,ye,Ue,U)+ae;return{from:r(Y,L(ie,ye,Ue,U)+ae),to:r(Y,L(ie,ye,Ue+$[0].length,U)+ae)}}else{var Le=ye.length-$[0].length;if(ye.slice(Le)!=$[0])continue e;for(var J=1;J<$.length-1;J++)if(U(b.getLine(Y+J))!=$[J])continue e;var _e=b.getLine(Y+$.length-1),me=U(_e),he=$[$.length-1];if(me.slice(0,he.length)!=he)continue e;return{from:r(Y,L(ie,ye,Le,U)+ae),to:r(Y+$.length-1,L(_e,me,he.length,U))}}}}function M(b,D,B,j){if(!D.length)return null;var U=j?E:S,$=U(D).split(/\r|\n\r?/);e:for(var Y=B.line,ae=B.ch,xe=b.firstLine()-1+$.length;Y>=xe;Y--,ae=-1){var ie=b.getLine(Y);ae>-1&&(ie=ie.slice(0,ae));var ye=U(ie);if($.length==1){var Ue=ye.lastIndexOf($[0]);if(Ue==-1)continue e;return{from:r(Y,L(ie,ye,Ue,U)),to:r(Y,L(ie,ye,Ue+$[0].length,U))}}else{var Le=$[$.length-1];if(ye.slice(0,Le.length)!=Le)continue e;for(var J=1,B=Y-$.length+1;J<$.length-1;J++)if(U(b.getLine(B+J))!=$[J])continue e;var _e=b.getLine(Y+1-$.length),me=U(_e);if(me.slice(me.length-$[0].length)!=$[0])continue e;return{from:r(Y+1-$.length,L(_e,me,_e.length-$[0].length,U)),to:r(Y,L(ie,ye,Le.length,U))}}}}function R(b,D,B,j){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=b,B=B?b.clipPos(B):r(0,0),this.pos={from:B,to:B};var U;typeof j=="object"?U=j.caseFold:(U=j,j=null),typeof D=="string"?(U==null&&(U=!1),this.matches=function($,Y){return($?M:O)(b,D,Y,U)}):(D=s(D,"gm"),!j||j.multiline!==!1?this.matches=function($,Y){return($?w:p)(b,D,Y)}:this.matches=function($,Y){return($?y:c)(b,D,Y)})}R.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(b){var D=this.doc.clipPos(b?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(D=r(D.line,D.ch),b?(D.ch--,D.ch<0&&(D.line--,D.ch=(this.doc.getLine(D.line)||"").length)):(D.ch++,D.ch>(this.doc.getLine(D.line)||"").length&&(D.ch=0,D.line++)),n.cmpPos(D,this.doc.clipPos(D))!=0))return this.atOccurrence=!1;var B=this.matches(b,D);if(this.afterEmptyMatch=B&&n.cmpPos(B.from,B.to)==0,B)return this.pos=B,this.atOccurrence=!0,this.pos.match||!0;var j=r(b?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:j,to:j},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(b,D){if(this.atOccurrence){var B=n.splitLines(b);this.doc.replaceRange(B,this.pos.from,this.pos.to,D),this.pos.to=r(this.pos.from.line+B.length-1,B[B.length-1].length+(B.length==1?this.pos.from.ch:0))}}},n.defineExtension("getSearchCursor",function(b,D,B){return new R(this.doc,b,D,B)}),n.defineDocExtension("getSearchCursor",function(b,D,B){return new R(this,b,D,B)}),n.defineExtension("selectMatches",function(b,D){for(var B=[],j=this.getSearchCursor(b,this.getCursor("from"),D);j.findNext()&&!(n.cmpPos(j.to(),this.getCursor("to"))>0);)B.push({anchor:j.from(),head:j.to()});B.length&&this.setSelections(B,0)})})})();(function(t,e){(function(n){n(vo,iJ,sJ)})(function(n){var r=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;n.defineMode("gfm",function(i,s){var a=0;function c(w){return w.code=!1,null}var p={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(w){return{code:w.code,codeBlock:w.codeBlock,ateSpace:w.ateSpace}},token:function(w,E){if(E.combineTokens=null,E.codeBlock)return w.match(/^```+/)?(E.codeBlock=!1,null):(w.skipToEnd(),null);if(w.sol()&&(E.code=!1),w.sol()&&w.match(/^```+/))return w.skipToEnd(),E.codeBlock=!0,null;if(w.peek()==="`"){w.next();var S=w.pos;w.eatWhile("`");var L=1+w.pos-S;return E.code?L===a&&(E.code=!1):(a=L,E.code=!0),null}else if(E.code)return w.next(),null;if(w.eatSpace())return E.ateSpace=!0,null;if((w.sol()||E.ateSpace)&&(E.ateSpace=!1,s.gitHubSpice!==!1)){if(w.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return E.combineTokens=!0,"link";if(w.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return E.combineTokens=!0,"link"}return w.match(r)&&w.string.slice(w.start-2,w.start)!="]("&&(w.start==0||/\W/.test(w.string.charAt(w.start-1)))?(E.combineTokens=!0,"link"):(w.next(),null)},blankLine:c},m={taskLists:!0,strikethrough:!0,emoji:!0};for(var y in s)m[y]=s[y];return m.name="markdown",n.overlayMode(n.getMode(i,m),p)},"markdown"),n.defineMIME("text/x-gfm","gfm")})})();function aJ(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nN={exports:{}};const lJ={},uJ=Object.freeze(Object.defineProperty({__proto__:null,default:lJ},Symbol.toStringTag,{value:"Module"})),cJ=f5(uJ);(function(t){var e;(function(){e=function(n,r,i,s){s=s||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=s.flags||{},this.memoized={},this.loaded=!1;var a=this,c,p,m,y,w;n&&(a.dictionary=n,r&&i?O():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(s.dictionaryPath?c=s.dictionaryPath:c="typo/dictionaries",r||E(chrome.extension.getURL(c+"/"+n+"/"+n+".aff"),S),i||E(chrome.extension.getURL(c+"/"+n+"/"+n+".dic"),L)):(s.dictionaryPath?c=s.dictionaryPath:typeof __dirname<"u"?c=__dirname+"/dictionaries":c="./dictionaries",r||E(c+"/"+n+"/"+n+".aff",S),i||E(c+"/"+n+"/"+n+".dic",L)));function E(M,R){var b=a._readFile(M,null,s.asyncLoad);s.asyncLoad?b.then(function(D){R(D)}):R(b)}function S(M){r=M,i&&O()}function L(M){i=M,r&&O()}function O(){for(a.rules=a._parseAFF(r),a.compoundRuleCodes={},p=0,y=a.compoundRules.length;p<y;p++){var M=a.compoundRules[p];for(m=0,w=M.length;m<w;m++)a.compoundRuleCodes[M[m]]=[]}"ONLYINCOMPOUND"in a.flags&&(a.compoundRuleCodes[a.flags.ONLYINCOMPOUND]=[]),a.dictionaryTable=a._parseDIC(i);for(p in a.compoundRuleCodes)a.compoundRuleCodes[p].length===0&&delete a.compoundRuleCodes[p];for(p=0,y=a.compoundRules.length;p<y;p++){var R=a.compoundRules[p],b="";for(m=0,w=R.length;m<w;m++){var D=R[m];D in a.compoundRuleCodes?b+="("+a.compoundRuleCodes[D].join("|")+")":b+=D}a.compoundRules[p]=new RegExp(b,"i")}a.loaded=!0,s.asyncLoad&&s.loadedCallback&&s.loadedCallback(a)}return this},e.prototype={load:function(n){for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);return this},_readFile:function(n,r,i){if(r=r||"utf8",typeof XMLHttpRequest<"u"){var s,a=new XMLHttpRequest;return a.open("GET",n,i),i&&(s=new Promise(function(p,m){a.onload=function(){a.status===200?p(a.responseText):m(a.statusText)},a.onerror=function(){m(a.statusText)}})),a.overrideMimeType&&a.overrideMimeType("text/plain; charset="+r),a.send(null),i?s:a.responseText}else if(typeof aJ<"u"){var c=cJ;try{if(c.existsSync(n))return c.readFileSync(n,r);console.log("Path "+n+" does not exist.")}catch(p){return console.log(p),""}}},_parseAFF:function(n){var r={},i,s,a,c,p,m,y,w,E=n.split(/\r?\n/);for(p=0,y=E.length;p<y;p++)if(i=this._removeAffixComments(E[p]),i=i.trim(),!!i){var S=i.split(/\s+/),L=S[0];if(L=="PFX"||L=="SFX"){var O=S[1],M=S[2];a=parseInt(S[3],10);var R=[];for(m=p+1,w=p+1+a;m<w;m++){s=E[m],c=s.split(/\s+/);var b=c[2],D=c[3].split("/"),B=D[0];B==="0"&&(B="");var j=this.parseRuleCodes(D[1]),U=c[4],$={};$.add=B,j.length>0&&($.continuationClasses=j),U!=="."&&(L==="SFX"?$.match=new RegExp(U+"$"):$.match=new RegExp("^"+U)),b!="0"&&(L==="SFX"?$.remove=new RegExp(b+"$"):$.remove=b),R.push($)}r[O]={type:L,combineable:M=="Y",entries:R},p+=a}else if(L==="COMPOUNDRULE"){for(a=parseInt(S[1],10),m=p+1,w=p+1+a;m<w;m++)i=E[m],c=i.split(/\s+/),this.compoundRules.push(c[1]);p+=a}else L==="REP"?(c=i.split(/\s+/),c.length===3&&this.replacementTable.push([c[1],c[2]])):this.flags[L]=S[1]}return r},_removeAffixComments:function(n){return n.match(/^\s*#/,"")?"":n},_parseDIC:function(n){n=this._removeDicComments(n);var r=n.split(/\r?\n/),i={};function s(ie,ye){i.hasOwnProperty(ie)||(i[ie]=null),ye.length>0&&(i[ie]===null&&(i[ie]=[]),i[ie].push(ye))}for(var a=1,c=r.length;a<c;a++){var p=r[a];if(p){var m=p.split("/",2),y=m[0];if(m.length>1){var w=this.parseRuleCodes(m[1]);(!("NEEDAFFIX"in this.flags)||w.indexOf(this.flags.NEEDAFFIX)==-1)&&s(y,w);for(var E=0,S=w.length;E<S;E++){var L=w[E],O=this.rules[L];if(O)for(var M=this._applyRule(y,O),R=0,b=M.length;R<b;R++){var D=M[R];if(s(D,[]),O.combineable)for(var B=E+1;B<S;B++){var j=w[B],U=this.rules[j];if(U&&U.combineable&&O.type!=U.type)for(var $=this._applyRule(D,U),Y=0,ae=$.length;Y<ae;Y++){var xe=$[Y];s(xe,[])}}}L in this.compoundRuleCodes&&this.compoundRuleCodes[L].push(y)}}else s(y.trim(),[])}}return i},_removeDicComments:function(n){return n=n.replace(/^\t.*$/mg,""),n},parseRuleCodes:function(n){if(n)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var r=[],i=0,s=n.length;i<s;i+=2)r.push(n.substr(i,2));return r}else return this.flags.FLAG==="num"?n.split(","):this.flags.FLAG==="UTF-8"?Array.from(n):n.split("");else return n.split("");else return[]},_applyRule:function(n,r){for(var i=r.entries,s=[],a=0,c=i.length;a<c;a++){var p=i[a];if(!p.match||n.match(p.match)){var m=n;if(p.remove&&(m=m.replace(p.remove,"")),r.type==="SFX"?m=m+p.add:m=p.add+m,s.push(m),"continuationClasses"in p)for(var y=0,w=p.continuationClasses.length;y<w;y++){var E=this.rules[p.continuationClasses[y]];E&&(s=s.concat(this._applyRule(m,E)))}}}return s},check:function(n){if(!this.loaded)throw"Dictionary not loaded.";if(!n)return!1;var r=n.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(r))return!0;if(r.toUpperCase()===r){var i=r[0]+r.substring(1).toLowerCase();if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i)||this.checkExact(r.toLowerCase()))return!0}var s=r[0].toLowerCase()+r.substring(1);if(s!==r){if(this.hasFlag(s,"KEEPCASE"))return!1;if(this.checkExact(s))return!0}return!1},checkExact:function(n){if(!this.loaded)throw"Dictionary not loaded.";var r=this.dictionaryTable[n],i,s;if(typeof r>"u"){if("COMPOUNDMIN"in this.flags&&n.length>=this.flags.COMPOUNDMIN){for(i=0,s=this.compoundRules.length;i<s;i++)if(n.match(this.compoundRules[i]))return!0}}else{if(r===null)return!0;if(typeof r=="object"){for(i=0,s=r.length;i<s;i++)if(!this.hasFlag(n,"ONLYINCOMPOUND",r[i]))return!0}}return!1},hasFlag:function(n,r,i){if(!this.loaded)throw"Dictionary not loaded.";return!!(r in this.flags&&(typeof i>"u"&&(i=Array.prototype.concat.apply([],this.dictionaryTable[n])),i&&i.indexOf(this.flags[r])!==-1))},alphabet:"",suggest:function(n,r){if(!this.loaded)throw"Dictionary not loaded.";if(r=r||5,this.memoized.hasOwnProperty(n)){var i=this.memoized[n].limit;if(r<=i||this.memoized[n].suggestions.length<i)return this.memoized[n].suggestions.slice(0,r)}if(this.check(n))return[];for(var s=0,a=this.replacementTable.length;s<a;s++){var c=this.replacementTable[s];if(n.indexOf(c[0])!==-1){var p=n.replace(c[0],c[1]);if(this.check(p))return[p]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var m=this.alphabet.split("");m.sort();for(var y={},s=0;s<m.length;s++)y[m[s]]=!0;this.alphabet="";for(var s in y)this.alphabet+=s}var w=this;function E(L,O){var M={},R,b,D,B,j=w.alphabet.length;if(typeof L=="string"){var U=L;L={},L[U]=!0}for(var U in L)for(R=0,D=U.length+1;R<D;R++){var $=[U.substring(0,R),U.substring(R)];if($[1]&&(B=$[0]+$[1].substring(1),(!O||w.check(B))&&(B in M?M[B]+=1:M[B]=1)),$[1].length>1&&$[1][1]!==$[1][0]&&(B=$[0]+$[1][1]+$[1][0]+$[1].substring(2),(!O||w.check(B))&&(B in M?M[B]+=1:M[B]=1)),$[1]){var Y=$[1].substring(0,1).toUpperCase()===$[1].substring(0,1)?"uppercase":"lowercase";for(b=0;b<j;b++){var ae=w.alphabet[b];Y==="uppercase"&&(ae=ae.toUpperCase()),ae!=$[1].substring(0,1)&&(B=$[0]+ae+$[1].substring(1),(!O||w.check(B))&&(B in M?M[B]+=1:M[B]=1))}}if($[1])for(b=0;b<j;b++){var Y=$[0].substring(-1).toUpperCase()===$[0].substring(-1)&&$[1].substring(0,1).toUpperCase()===$[1].substring(0,1)?"uppercase":"lowercase",ae=w.alphabet[b];Y==="uppercase"&&(ae=ae.toUpperCase()),B=$[0]+ae+$[1],(!O||w.check(B))&&(B in M?M[B]+=1:M[B]=1)}}return M}function S(L){var O=E(L),M=E(O,!0),R=M;for(var b in O)w.check(b)&&(b in R?R[b]+=O[b]:R[b]=O[b]);var D,B=[];for(D in R)R.hasOwnProperty(D)&&B.push([D,R[D]]);function j(ae,xe){var ie=ae[1],ye=xe[1];return ie<ye?-1:ie>ye?1:xe[0].localeCompare(ae[0])}B.sort(j).reverse();var U=[],$="lowercase";L.toUpperCase()===L?$="uppercase":L.substr(0,1).toUpperCase()+L.substr(1).toLowerCase()===L&&($="capitalized");var Y=r;for(D=0;D<Math.min(Y,B.length);D++)$==="uppercase"?B[D][0]=B[D][0].toUpperCase():$==="capitalized"&&(B[D][0]=B[D][0].substr(0,1).toUpperCase()+B[D][0].substr(1)),!w.hasFlag(B[D][0],"NOSUGGEST")&&U.indexOf(B[D][0])==-1?U.push(B[D][0]):Y++;return U}return this.memoized[n]={suggestions:S(n),limit:r},this.memoized[n].suggestions}}})(),t.exports=e})(nN);var fJ=nN.exports,aD=fJ;function Rn(t){if(t=t||{},typeof t.codeMirrorInstance!="function"||typeof t.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),t.codeMirrorInstance.defineMode("spell-checker",function(e){if(!Rn.aff_loading){Rn.aff_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),n.onload=function(){n.readyState===4&&n.status===200&&(Rn.aff_data=n.responseText,Rn.num_loaded++,Rn.num_loaded==2&&(Rn.typo=new aD("en_US",Rn.aff_data,Rn.dic_data,{platform:"any"})))},n.send(null)}if(!Rn.dic_loading){Rn.dic_loading=!0;var r=new XMLHttpRequest;r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),r.onload=function(){r.readyState===4&&r.status===200&&(Rn.dic_data=r.responseText,Rn.num_loaded++,Rn.num_loaded==2&&(Rn.typo=new aD("en_US",Rn.aff_data,Rn.dic_data,{platform:"any"})))},r.send(null)}var i='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',s={token:function(c){var p=c.peek(),m="";if(i.includes(p))return c.next(),null;for(;(p=c.peek())!=null&&!i.includes(p);)m+=p,c.next();return Rn.typo&&!Rn.typo.check(m)?"spell-error":null}},a=t.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(a,s,!0)})}Rn.num_loaded=0;Rn.aff_loading=!1;Rn.dic_loading=!1;Rn.aff_data="";Rn.dic_data="";Rn.typo;var hJ=Rn,rN={};(function(t){function e(ce,ue){for(var re=0;re<ue.length;re++){var A=ue[re];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(ce,p(A.key),A)}}function n(ce,ue,re){return ue&&e(ce.prototype,ue),re&&e(ce,re),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function r(){return r=Object.assign?Object.assign.bind():function(ce){for(var ue=1;ue<arguments.length;ue++){var re=arguments[ue];for(var A in re)Object.prototype.hasOwnProperty.call(re,A)&&(ce[A]=re[A])}return ce},r.apply(this,arguments)}function i(ce,ue){if(ce){if(typeof ce=="string")return s(ce,ue);var re=Object.prototype.toString.call(ce).slice(8,-1);if(re==="Object"&&ce.constructor&&(re=ce.constructor.name),re==="Map"||re==="Set")return Array.from(ce);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return s(ce,ue)}}function s(ce,ue){(ue==null||ue>ce.length)&&(ue=ce.length);for(var re=0,A=new Array(ue);re<ue;re++)A[re]=ce[re];return A}function a(ce,ue){var re=typeof Symbol<"u"&&ce[Symbol.iterator]||ce["@@iterator"];if(re)return(re=re.call(ce)).next.bind(re);if(Array.isArray(ce)||(re=i(ce))||ue&&ce&&typeof ce.length=="number"){re&&(ce=re);var A=0;return function(){return A>=ce.length?{done:!0}:{done:!1,value:ce[A++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(ce,ue){if(typeof ce!="object"||ce===null)return ce;var re=ce[Symbol.toPrimitive];if(re!==void 0){var A=re.call(ce,ue||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ue==="string"?String:Number)(ce)}function p(ce){var ue=c(ce,"string");return typeof ue=="symbol"?ue:String(ue)}function m(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.defaults=m();function y(ce){t.defaults=ce}var w=/[&<>"']/,E=new RegExp(w.source,"g"),S=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,L=new RegExp(S.source,"g"),O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M=function(ue){return O[ue]};function R(ce,ue){if(ue){if(w.test(ce))return ce.replace(E,M)}else if(S.test(ce))return ce.replace(L,M);return ce}var b=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function D(ce){return ce.replace(b,function(ue,re){return re=re.toLowerCase(),re==="colon"?":":re.charAt(0)==="#"?re.charAt(1)==="x"?String.fromCharCode(parseInt(re.substring(2),16)):String.fromCharCode(+re.substring(1)):""})}var B=/(^|[^\[])\^/g;function j(ce,ue){ce=typeof ce=="string"?ce:ce.source,ue=ue||"";var re={replace:function(F,G){return G=G.source||G,G=G.replace(B,"$1"),ce=ce.replace(F,G),re},getRegex:function(){return new RegExp(ce,ue)}};return re}var U=/[^\w:]/g,$=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Y(ce,ue,re){if(ce){var A;try{A=decodeURIComponent(D(re)).replace(U,"").toLowerCase()}catch{return null}if(A.indexOf("javascript:")===0||A.indexOf("vbscript:")===0||A.indexOf("data:")===0)return null}ue&&!$.test(re)&&(re=Ue(ue,re));try{re=encodeURI(re).replace(/%25/g,"%")}catch{return null}return re}var ae={},xe=/^[^:]+:\/*[^/]*$/,ie=/^([^:]+:)[\s\S]*$/,ye=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Ue(ce,ue){ae[" "+ce]||(xe.test(ce)?ae[" "+ce]=ce+"/":ae[" "+ce]=_e(ce,"/",!0)),ce=ae[" "+ce];var re=ce.indexOf(":")===-1;return ue.substring(0,2)==="//"?re?ue:ce.replace(ie,"$1")+ue:ue.charAt(0)==="/"?re?ue:ce.replace(ye,"$1")+ue:ce+ue}var Le={exec:function(){}};function J(ce,ue){var re=ce.replace(/\|/g,function(G,K,ee){for(var be=!1,ze=K;--ze>=0&&ee[ze]==="\\";)be=!be;return be?"|":" |"}),A=re.split(/ \|/),F=0;if(A[0].trim()||A.shift(),A.length>0&&!A[A.length-1].trim()&&A.pop(),A.length>ue)A.splice(ue);else for(;A.length<ue;)A.push("");for(;F<A.length;F++)A[F]=A[F].trim().replace(/\\\|/g,"|");return A}function _e(ce,ue,re){var A=ce.length;if(A===0)return"";for(var F=0;F<A;){var G=ce.charAt(A-F-1);if(G===ue&&!re)F++;else if(G!==ue&&re)F++;else break}return ce.slice(0,A-F)}function me(ce,ue){if(ce.indexOf(ue[1])===-1)return-1;for(var re=ce.length,A=0,F=0;F<re;F++)if(ce[F]==="\\")F++;else if(ce[F]===ue[0])A++;else if(ce[F]===ue[1]&&(A--,A<0))return F;return-1}function he(ce){ce&&ce.sanitize&&!ce.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Pe(ce,ue){if(ue<1)return"";for(var re="";ue>1;)ue&1&&(re+=ce),ue>>=1,ce+=ce;return re+ce}function q(ce,ue,re,A){var F=ue.href,G=ue.title?R(ue.title):null,K=ce[1].replace(/\\([\[\]])/g,"$1");if(ce[0].charAt(0)!=="!"){A.state.inLink=!0;var ee={type:"link",raw:re,href:F,title:G,text:K,tokens:A.inlineTokens(K)};return A.state.inLink=!1,ee}return{type:"image",raw:re,href:F,title:G,text:R(K)}}function tt(ce,ue){var re=ce.match(/^(\s+)(?:```)/);if(re===null)return ue;var A=re[1];return ue.split(`
`).map(function(F){var G=F.match(/^\s+/);if(G===null)return F;var K=G[0];return K.length>=A.length?F.slice(A.length):F}).join(`
`)}var Q=function(){function ce(re){this.options=re||t.defaults}var ue=ce.prototype;return ue.space=function(A){var F=this.rules.block.newline.exec(A);if(F&&F[0].length>0)return{type:"space",raw:F[0]}},ue.code=function(A){var F=this.rules.block.code.exec(A);if(F){var G=F[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:F[0],codeBlockStyle:"indented",text:this.options.pedantic?G:_e(G,`
`)}}},ue.fences=function(A){var F=this.rules.block.fences.exec(A);if(F){var G=F[0],K=tt(G,F[3]||"");return{type:"code",raw:G,lang:F[2]?F[2].trim().replace(this.rules.inline._escapes,"$1"):F[2],text:K}}},ue.heading=function(A){var F=this.rules.block.heading.exec(A);if(F){var G=F[2].trim();if(/#$/.test(G)){var K=_e(G,"#");(this.options.pedantic||!K||/ $/.test(K))&&(G=K.trim())}return{type:"heading",raw:F[0],depth:F[1].length,text:G,tokens:this.lexer.inline(G)}}},ue.hr=function(A){var F=this.rules.block.hr.exec(A);if(F)return{type:"hr",raw:F[0]}},ue.blockquote=function(A){var F=this.rules.block.blockquote.exec(A);if(F){var G=F[0].replace(/^ *>[ \t]?/gm,""),K=this.lexer.state.top;this.lexer.state.top=!0;var ee=this.lexer.blockTokens(G);return this.lexer.state.top=K,{type:"blockquote",raw:F[0],tokens:ee,text:G}}},ue.list=function(A){var F=this.rules.block.list.exec(A);if(F){var G,K,ee,be,ze,Be,He,it,ke,ot,ge,Qt,Ut=F[1].trim(),zt=Ut.length>1,yt={type:"list",raw:"",ordered:zt,start:zt?+Ut.slice(0,-1):"",loose:!1,items:[]};Ut=zt?"\\d{1,9}\\"+Ut.slice(-1):"\\"+Ut,this.options.pedantic&&(Ut=zt?Ut:"[*+-]");for(var Yn=new RegExp("^( {0,3}"+Ut+")((?:[	 ][^\\n]*)?(?:\\n|$))");A&&(Qt=!1,!(!(F=Yn.exec(A))||this.rules.block.hr.test(A)));){if(G=F[0],A=A.substring(G.length),it=F[2].split(`
`,1)[0].replace(/^\t+/,function(_s){return" ".repeat(3*_s.length)}),ke=A.split(`
`,1)[0],this.options.pedantic?(be=2,ge=it.trimLeft()):(be=F[2].search(/[^ ]/),be=be>4?1:be,ge=it.slice(be),be+=F[1].length),Be=!1,!it&&/^ *$/.test(ke)&&(G+=ke+`
`,A=A.substring(ke.length+1),Qt=!0),!Qt)for(var dr=new RegExp("^ {0,"+Math.min(3,be-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),Si=new RegExp("^ {0,"+Math.min(3,be-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),mn=new RegExp("^ {0,"+Math.min(3,be-1)+"}(?:```|~~~)"),Go=new RegExp("^ {0,"+Math.min(3,be-1)+"}#");A&&(ot=A.split(`
`,1)[0],ke=ot,this.options.pedantic&&(ke=ke.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(mn.test(ke)||Go.test(ke)||dr.test(ke)||Si.test(A)));){if(ke.search(/[^ ]/)>=be||!ke.trim())ge+=`
`+ke.slice(be);else{if(Be||it.search(/[^ ]/)>=4||mn.test(it)||Go.test(it)||Si.test(it))break;ge+=`
`+ke}!Be&&!ke.trim()&&(Be=!0),G+=ot+`
`,A=A.substring(ot.length+1),it=ke.slice(be)}yt.loose||(He?yt.loose=!0:/\n *\n *$/.test(G)&&(He=!0)),this.options.gfm&&(K=/^\[[ xX]\] /.exec(ge),K&&(ee=K[0]!=="[ ] ",ge=ge.replace(/^\[[ xX]\] +/,""))),yt.items.push({type:"list_item",raw:G,task:!!K,checked:ee,loose:!1,text:ge}),yt.raw+=G}yt.items[yt.items.length-1].raw=G.trimRight(),yt.items[yt.items.length-1].text=ge.trimRight(),yt.raw=yt.raw.trimRight();var Ko=yt.items.length;for(ze=0;ze<Ko;ze++)if(this.lexer.state.top=!1,yt.items[ze].tokens=this.lexer.blockTokens(yt.items[ze].text,[]),!yt.loose){var Hi=yt.items[ze].tokens.filter(function(_s){return _s.type==="space"}),la=Hi.length>0&&Hi.some(function(_s){return/\n.*\n/.test(_s.raw)});yt.loose=la}if(yt.loose)for(ze=0;ze<Ko;ze++)yt.items[ze].loose=!0;return yt}},ue.html=function(A){var F=this.rules.block.html.exec(A);if(F){var G={type:"html",raw:F[0],pre:!this.options.sanitizer&&(F[1]==="pre"||F[1]==="script"||F[1]==="style"),text:F[0]};if(this.options.sanitize){var K=this.options.sanitizer?this.options.sanitizer(F[0]):R(F[0]);G.type="paragraph",G.text=K,G.tokens=this.lexer.inline(K)}return G}},ue.def=function(A){var F=this.rules.block.def.exec(A);if(F){var G=F[1].toLowerCase().replace(/\s+/g," "),K=F[2]?F[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",ee=F[3]?F[3].substring(1,F[3].length-1).replace(this.rules.inline._escapes,"$1"):F[3];return{type:"def",tag:G,raw:F[0],href:K,title:ee}}},ue.table=function(A){var F=this.rules.block.table.exec(A);if(F){var G={type:"table",header:J(F[1]).map(function(He){return{text:He}}),align:F[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:F[3]&&F[3].trim()?F[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(G.header.length===G.align.length){G.raw=F[0];var K=G.align.length,ee,be,ze,Be;for(ee=0;ee<K;ee++)/^ *-+: *$/.test(G.align[ee])?G.align[ee]="right":/^ *:-+: *$/.test(G.align[ee])?G.align[ee]="center":/^ *:-+ *$/.test(G.align[ee])?G.align[ee]="left":G.align[ee]=null;for(K=G.rows.length,ee=0;ee<K;ee++)G.rows[ee]=J(G.rows[ee],G.header.length).map(function(He){return{text:He}});for(K=G.header.length,be=0;be<K;be++)G.header[be].tokens=this.lexer.inline(G.header[be].text);for(K=G.rows.length,be=0;be<K;be++)for(Be=G.rows[be],ze=0;ze<Be.length;ze++)Be[ze].tokens=this.lexer.inline(Be[ze].text);return G}}},ue.lheading=function(A){var F=this.rules.block.lheading.exec(A);if(F)return{type:"heading",raw:F[0],depth:F[2].charAt(0)==="="?1:2,text:F[1],tokens:this.lexer.inline(F[1])}},ue.paragraph=function(A){var F=this.rules.block.paragraph.exec(A);if(F){var G=F[1].charAt(F[1].length-1)===`
`?F[1].slice(0,-1):F[1];return{type:"paragraph",raw:F[0],text:G,tokens:this.lexer.inline(G)}}},ue.text=function(A){var F=this.rules.block.text.exec(A);if(F)return{type:"text",raw:F[0],text:F[0],tokens:this.lexer.inline(F[0])}},ue.escape=function(A){var F=this.rules.inline.escape.exec(A);if(F)return{type:"escape",raw:F[0],text:R(F[1])}},ue.tag=function(A){var F=this.rules.inline.tag.exec(A);if(F)return!this.lexer.state.inLink&&/^<a /i.test(F[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(F[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(F[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(F[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:F[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(F[0]):R(F[0]):F[0]}},ue.link=function(A){var F=this.rules.inline.link.exec(A);if(F){var G=F[2].trim();if(!this.options.pedantic&&/^</.test(G)){if(!/>$/.test(G))return;var K=_e(G.slice(0,-1),"\\");if((G.length-K.length)%2===0)return}else{var ee=me(F[2],"()");if(ee>-1){var be=F[0].indexOf("!")===0?5:4,ze=be+F[1].length+ee;F[2]=F[2].substring(0,ee),F[0]=F[0].substring(0,ze).trim(),F[3]=""}}var Be=F[2],He="";if(this.options.pedantic){var it=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Be);it&&(Be=it[1],He=it[3])}else He=F[3]?F[3].slice(1,-1):"";return Be=Be.trim(),/^</.test(Be)&&(this.options.pedantic&&!/>$/.test(G)?Be=Be.slice(1):Be=Be.slice(1,-1)),q(F,{href:Be&&Be.replace(this.rules.inline._escapes,"$1"),title:He&&He.replace(this.rules.inline._escapes,"$1")},F[0],this.lexer)}},ue.reflink=function(A,F){var G;if((G=this.rules.inline.reflink.exec(A))||(G=this.rules.inline.nolink.exec(A))){var K=(G[2]||G[1]).replace(/\s+/g," ");if(K=F[K.toLowerCase()],!K){var ee=G[0].charAt(0);return{type:"text",raw:ee,text:ee}}return q(G,K,G[0],this.lexer)}},ue.emStrong=function(A,F,G){G===void 0&&(G="");var K=this.rules.inline.emStrong.lDelim.exec(A);if(K&&!(K[3]&&G.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ee=K[1]||K[2]||"";if(!ee||ee&&(G===""||this.rules.inline.punctuation.exec(G))){var be=K[0].length-1,ze,Be,He=be,it=0,ke=K[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ke.lastIndex=0,F=F.slice(-1*A.length+be);(K=ke.exec(F))!=null;)if(ze=K[1]||K[2]||K[3]||K[4]||K[5]||K[6],!!ze){if(Be=ze.length,K[3]||K[4]){He+=Be;continue}else if((K[5]||K[6])&&be%3&&!((be+Be)%3)){it+=Be;continue}if(He-=Be,!(He>0)){Be=Math.min(Be,Be+He+it);var ot=A.slice(0,be+K.index+(K[0].length-ze.length)+Be);if(Math.min(be,Be)%2){var ge=ot.slice(1,-1);return{type:"em",raw:ot,text:ge,tokens:this.lexer.inlineTokens(ge)}}var Qt=ot.slice(2,-2);return{type:"strong",raw:ot,text:Qt,tokens:this.lexer.inlineTokens(Qt)}}}}}},ue.codespan=function(A){var F=this.rules.inline.code.exec(A);if(F){var G=F[2].replace(/\n/g," "),K=/[^ ]/.test(G),ee=/^ /.test(G)&&/ $/.test(G);return K&&ee&&(G=G.substring(1,G.length-1)),G=R(G,!0),{type:"codespan",raw:F[0],text:G}}},ue.br=function(A){var F=this.rules.inline.br.exec(A);if(F)return{type:"br",raw:F[0]}},ue.del=function(A){var F=this.rules.inline.del.exec(A);if(F)return{type:"del",raw:F[0],text:F[2],tokens:this.lexer.inlineTokens(F[2])}},ue.autolink=function(A,F){var G=this.rules.inline.autolink.exec(A);if(G){var K,ee;return G[2]==="@"?(K=R(this.options.mangle?F(G[1]):G[1]),ee="mailto:"+K):(K=R(G[1]),ee=K),{type:"link",raw:G[0],text:K,href:ee,tokens:[{type:"text",raw:K,text:K}]}}},ue.url=function(A,F){var G;if(G=this.rules.inline.url.exec(A)){var K,ee;if(G[2]==="@")K=R(this.options.mangle?F(G[0]):G[0]),ee="mailto:"+K;else{var be;do be=G[0],G[0]=this.rules.inline._backpedal.exec(G[0])[0];while(be!==G[0]);K=R(G[0]),G[1]==="www."?ee="http://"+G[0]:ee=G[0]}return{type:"link",raw:G[0],text:K,href:ee,tokens:[{type:"text",raw:K,text:K}]}}},ue.inlineText=function(A,F){var G=this.rules.inline.text.exec(A);if(G){var K;return this.lexer.state.inRawBlock?K=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(G[0]):R(G[0]):G[0]:K=R(this.options.smartypants?F(G[0]):G[0]),{type:"text",raw:G[0],text:K}}},ce}(),C={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Le,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};C._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,C._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,C.def=j(C.def).replace("label",C._label).replace("title",C._title).getRegex(),C.bullet=/(?:[*+-]|\d{1,9}[.)])/,C.listItemStart=j(/^( *)(bull) */).replace("bull",C.bullet).getRegex(),C.list=j(C.list).replace(/bull/g,C.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+C.def.source+")").getRegex(),C._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",C._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,C.html=j(C.html,"i").replace("comment",C._comment).replace("tag",C._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),C.paragraph=j(C._paragraph).replace("hr",C.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C._tag).getRegex(),C.blockquote=j(C.blockquote).replace("paragraph",C.paragraph).getRegex(),C.normal=r({},C),C.gfm=r({},C.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),C.gfm.table=j(C.gfm.table).replace("hr",C.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C._tag).getRegex(),C.gfm.paragraph=j(C._paragraph).replace("hr",C.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",C.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C._tag).getRegex(),C.pedantic=r({},C.normal,{html:j(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",C._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Le,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:j(C.normal._paragraph).replace("hr",C.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",C.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var fe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Le,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Le,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};fe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",fe.punctuation=j(fe.punctuation).replace(/punctuation/g,fe._punctuation).getRegex(),fe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,fe.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,fe._comment=j(C._comment).replace("(?:-->|$)","-->").getRegex(),fe.emStrong.lDelim=j(fe.emStrong.lDelim).replace(/punct/g,fe._punctuation).getRegex(),fe.emStrong.rDelimAst=j(fe.emStrong.rDelimAst,"g").replace(/punct/g,fe._punctuation).getRegex(),fe.emStrong.rDelimUnd=j(fe.emStrong.rDelimUnd,"g").replace(/punct/g,fe._punctuation).getRegex(),fe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,fe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,fe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,fe.autolink=j(fe.autolink).replace("scheme",fe._scheme).replace("email",fe._email).getRegex(),fe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,fe.tag=j(fe.tag).replace("comment",fe._comment).replace("attribute",fe._attribute).getRegex(),fe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,fe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,fe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,fe.link=j(fe.link).replace("label",fe._label).replace("href",fe._href).replace("title",fe._title).getRegex(),fe.reflink=j(fe.reflink).replace("label",fe._label).replace("ref",C._label).getRegex(),fe.nolink=j(fe.nolink).replace("ref",C._label).getRegex(),fe.reflinkSearch=j(fe.reflinkSearch,"g").replace("reflink",fe.reflink).replace("nolink",fe.nolink).getRegex(),fe.normal=r({},fe),fe.pedantic=r({},fe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:j(/^!?\[(label)\]\((.*?)\)/).replace("label",fe._label).getRegex(),reflink:j(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",fe._label).getRegex()}),fe.gfm=r({},fe.normal,{escape:j(fe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),fe.gfm.url=j(fe.gfm.url,"i").replace("email",fe.gfm._extended_email).getRegex(),fe.breaks=r({},fe.gfm,{br:j(fe.br).replace("{2,}","*").getRegex(),text:j(fe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function nt(ce){return ce.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Ve(ce){var ue="",re,A,F=ce.length;for(re=0;re<F;re++)A=ce.charCodeAt(re),Math.random()>.5&&(A="x"+A.toString(16)),ue+="&#"+A+";";return ue}var At=function(){function ce(re){this.tokens=[],this.tokens.links=Object.create(null),this.options=re||t.defaults,this.options.tokenizer=this.options.tokenizer||new Q,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var A={block:C.normal,inline:fe.normal};this.options.pedantic?(A.block=C.pedantic,A.inline=fe.pedantic):this.options.gfm&&(A.block=C.gfm,this.options.breaks?A.inline=fe.breaks:A.inline=fe.gfm),this.tokenizer.rules=A}ce.lex=function(A,F){var G=new ce(F);return G.lex(A)},ce.lexInline=function(A,F){var G=new ce(F);return G.inlineTokens(A)};var ue=ce.prototype;return ue.lex=function(A){A=A.replace(/\r\n|\r/g,`
`),this.blockTokens(A,this.tokens);for(var F;F=this.inlineQueue.shift();)this.inlineTokens(F.src,F.tokens);return this.tokens},ue.blockTokens=function(A,F){var G=this;F===void 0&&(F=[]),this.options.pedantic?A=A.replace(/\t/g,"    ").replace(/^ +$/gm,""):A=A.replace(/^( *)(\t+)/gm,function(He,it,ke){return it+"    ".repeat(ke.length)});for(var K,ee,be,ze;A;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(He){return(K=He.call({lexer:G},A,F))?(A=A.substring(K.raw.length),F.push(K),!0):!1}))){if(K=this.tokenizer.space(A)){A=A.substring(K.raw.length),K.raw.length===1&&F.length>0?F[F.length-1].raw+=`
`:F.push(K);continue}if(K=this.tokenizer.code(A)){A=A.substring(K.raw.length),ee=F[F.length-1],ee&&(ee.type==="paragraph"||ee.type==="text")?(ee.raw+=`
`+K.raw,ee.text+=`
`+K.text,this.inlineQueue[this.inlineQueue.length-1].src=ee.text):F.push(K);continue}if(K=this.tokenizer.fences(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.heading(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.hr(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.blockquote(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.list(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.html(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.def(A)){A=A.substring(K.raw.length),ee=F[F.length-1],ee&&(ee.type==="paragraph"||ee.type==="text")?(ee.raw+=`
`+K.raw,ee.text+=`
`+K.raw,this.inlineQueue[this.inlineQueue.length-1].src=ee.text):this.tokens.links[K.tag]||(this.tokens.links[K.tag]={href:K.href,title:K.title});continue}if(K=this.tokenizer.table(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.lheading(A)){A=A.substring(K.raw.length),F.push(K);continue}if(be=A,this.options.extensions&&this.options.extensions.startBlock&&function(){var He=1/0,it=A.slice(1),ke=void 0;G.options.extensions.startBlock.forEach(function(ot){ke=ot.call({lexer:this},it),typeof ke=="number"&&ke>=0&&(He=Math.min(He,ke))}),He<1/0&&He>=0&&(be=A.substring(0,He+1))}(),this.state.top&&(K=this.tokenizer.paragraph(be))){ee=F[F.length-1],ze&&ee.type==="paragraph"?(ee.raw+=`
`+K.raw,ee.text+=`
`+K.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ee.text):F.push(K),ze=be.length!==A.length,A=A.substring(K.raw.length);continue}if(K=this.tokenizer.text(A)){A=A.substring(K.raw.length),ee=F[F.length-1],ee&&ee.type==="text"?(ee.raw+=`
`+K.raw,ee.text+=`
`+K.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ee.text):F.push(K);continue}if(A){var Be="Infinite loop on byte: "+A.charCodeAt(0);if(this.options.silent){console.error(Be);break}else throw new Error(Be)}}return this.state.top=!0,F},ue.inline=function(A,F){return F===void 0&&(F=[]),this.inlineQueue.push({src:A,tokens:F}),F},ue.inlineTokens=function(A,F){var G=this;F===void 0&&(F=[]);var K,ee,be,ze=A,Be,He,it;if(this.tokens.links){var ke=Object.keys(this.tokens.links);if(ke.length>0)for(;(Be=this.tokenizer.rules.inline.reflinkSearch.exec(ze))!=null;)ke.includes(Be[0].slice(Be[0].lastIndexOf("[")+1,-1))&&(ze=ze.slice(0,Be.index)+"["+Pe("a",Be[0].length-2)+"]"+ze.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Be=this.tokenizer.rules.inline.blockSkip.exec(ze))!=null;)ze=ze.slice(0,Be.index)+"["+Pe("a",Be[0].length-2)+"]"+ze.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Be=this.tokenizer.rules.inline.escapedEmSt.exec(ze))!=null;)ze=ze.slice(0,Be.index+Be[0].length-2)+"++"+ze.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;A;)if(He||(it=""),He=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ge){return(K=ge.call({lexer:G},A,F))?(A=A.substring(K.raw.length),F.push(K),!0):!1}))){if(K=this.tokenizer.escape(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.tag(A)){A=A.substring(K.raw.length),ee=F[F.length-1],ee&&K.type==="text"&&ee.type==="text"?(ee.raw+=K.raw,ee.text+=K.text):F.push(K);continue}if(K=this.tokenizer.link(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.reflink(A,this.tokens.links)){A=A.substring(K.raw.length),ee=F[F.length-1],ee&&K.type==="text"&&ee.type==="text"?(ee.raw+=K.raw,ee.text+=K.text):F.push(K);continue}if(K=this.tokenizer.emStrong(A,ze,it)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.codespan(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.br(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.del(A)){A=A.substring(K.raw.length),F.push(K);continue}if(K=this.tokenizer.autolink(A,Ve)){A=A.substring(K.raw.length),F.push(K);continue}if(!this.state.inLink&&(K=this.tokenizer.url(A,Ve))){A=A.substring(K.raw.length),F.push(K);continue}if(be=A,this.options.extensions&&this.options.extensions.startInline&&function(){var ge=1/0,Qt=A.slice(1),Ut=void 0;G.options.extensions.startInline.forEach(function(zt){Ut=zt.call({lexer:this},Qt),typeof Ut=="number"&&Ut>=0&&(ge=Math.min(ge,Ut))}),ge<1/0&&ge>=0&&(be=A.substring(0,ge+1))}(),K=this.tokenizer.inlineText(be,nt)){A=A.substring(K.raw.length),K.raw.slice(-1)!=="_"&&(it=K.raw.slice(-1)),He=!0,ee=F[F.length-1],ee&&ee.type==="text"?(ee.raw+=K.raw,ee.text+=K.text):F.push(K);continue}if(A){var ot="Infinite loop on byte: "+A.charCodeAt(0);if(this.options.silent){console.error(ot);break}else throw new Error(ot)}}return F},n(ce,null,[{key:"rules",get:function(){return{block:C,inline:fe}}}]),ce}(),Bt=function(){function ce(re){this.options=re||t.defaults}var ue=ce.prototype;return ue.code=function(A,F,G){var K=(F||"").match(/\S*/)[0];if(this.options.highlight){var ee=this.options.highlight(A,K);ee!=null&&ee!==A&&(G=!0,A=ee)}return A=A.replace(/\n$/,"")+`
`,K?'<pre><code class="'+this.options.langPrefix+R(K)+'">'+(G?A:R(A,!0))+`</code></pre>
`:"<pre><code>"+(G?A:R(A,!0))+`</code></pre>
`},ue.blockquote=function(A){return`<blockquote>
`+A+`</blockquote>
`},ue.html=function(A){return A},ue.heading=function(A,F,G,K){if(this.options.headerIds){var ee=this.options.headerPrefix+K.slug(G);return"<h"+F+' id="'+ee+'">'+A+"</h"+F+`>
`}return"<h"+F+">"+A+"</h"+F+`>
`},ue.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ue.list=function(A,F,G){var K=F?"ol":"ul",ee=F&&G!==1?' start="'+G+'"':"";return"<"+K+ee+`>
`+A+"</"+K+`>
`},ue.listitem=function(A){return"<li>"+A+`</li>
`},ue.checkbox=function(A){return"<input "+(A?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ue.paragraph=function(A){return"<p>"+A+`</p>
`},ue.table=function(A,F){return F&&(F="<tbody>"+F+"</tbody>"),`<table>
<thead>
`+A+`</thead>
`+F+`</table>
`},ue.tablerow=function(A){return`<tr>
`+A+`</tr>
`},ue.tablecell=function(A,F){var G=F.header?"th":"td",K=F.align?"<"+G+' align="'+F.align+'">':"<"+G+">";return K+A+("</"+G+`>
`)},ue.strong=function(A){return"<strong>"+A+"</strong>"},ue.em=function(A){return"<em>"+A+"</em>"},ue.codespan=function(A){return"<code>"+A+"</code>"},ue.br=function(){return this.options.xhtml?"<br/>":"<br>"},ue.del=function(A){return"<del>"+A+"</del>"},ue.link=function(A,F,G){if(A=Y(this.options.sanitize,this.options.baseUrl,A),A===null)return G;var K='<a href="'+A+'"';return F&&(K+=' title="'+F+'"'),K+=">"+G+"</a>",K},ue.image=function(A,F,G){if(A=Y(this.options.sanitize,this.options.baseUrl,A),A===null)return G;var K='<img src="'+A+'" alt="'+G+'"';return F&&(K+=' title="'+F+'"'),K+=this.options.xhtml?"/>":">",K},ue.text=function(A){return A},ce}(),Lt=function(){function ce(){}var ue=ce.prototype;return ue.strong=function(A){return A},ue.em=function(A){return A},ue.codespan=function(A){return A},ue.del=function(A){return A},ue.html=function(A){return A},ue.text=function(A){return A},ue.link=function(A,F,G){return""+G},ue.image=function(A,F,G){return""+G},ue.br=function(){return""},ce}(),an=function(){function ce(){this.seen={}}var ue=ce.prototype;return ue.serialize=function(A){return A.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ue.getNextSafeSlug=function(A,F){var G=A,K=0;if(this.seen.hasOwnProperty(G)){K=this.seen[A];do K++,G=A+"-"+K;while(this.seen.hasOwnProperty(G))}return F||(this.seen[A]=K,this.seen[G]=0),G},ue.slug=function(A,F){F===void 0&&(F={});var G=this.serialize(A);return this.getNextSafeSlug(G,F.dryrun)},ce}(),bt=function(){function ce(re){this.options=re||t.defaults,this.options.renderer=this.options.renderer||new Bt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Lt,this.slugger=new an}ce.parse=function(A,F){var G=new ce(F);return G.parse(A)},ce.parseInline=function(A,F){var G=new ce(F);return G.parseInline(A)};var ue=ce.prototype;return ue.parse=function(A,F){F===void 0&&(F=!0);var G="",K,ee,be,ze,Be,He,it,ke,ot,ge,Qt,Ut,zt,yt,Yn,dr,Si,mn,Go,Ko=A.length;for(K=0;K<Ko;K++){if(ge=A[K],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ge.type]&&(Go=this.options.extensions.renderers[ge.type].call({parser:this},ge),Go!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ge.type))){G+=Go||"";continue}switch(ge.type){case"space":continue;case"hr":{G+=this.renderer.hr();continue}case"heading":{G+=this.renderer.heading(this.parseInline(ge.tokens),ge.depth,D(this.parseInline(ge.tokens,this.textRenderer)),this.slugger);continue}case"code":{G+=this.renderer.code(ge.text,ge.lang,ge.escaped);continue}case"table":{for(ke="",it="",ze=ge.header.length,ee=0;ee<ze;ee++)it+=this.renderer.tablecell(this.parseInline(ge.header[ee].tokens),{header:!0,align:ge.align[ee]});for(ke+=this.renderer.tablerow(it),ot="",ze=ge.rows.length,ee=0;ee<ze;ee++){for(He=ge.rows[ee],it="",Be=He.length,be=0;be<Be;be++)it+=this.renderer.tablecell(this.parseInline(He[be].tokens),{header:!1,align:ge.align[be]});ot+=this.renderer.tablerow(it)}G+=this.renderer.table(ke,ot);continue}case"blockquote":{ot=this.parse(ge.tokens),G+=this.renderer.blockquote(ot);continue}case"list":{for(Qt=ge.ordered,Ut=ge.start,zt=ge.loose,ze=ge.items.length,ot="",ee=0;ee<ze;ee++)Yn=ge.items[ee],dr=Yn.checked,Si=Yn.task,yt="",Yn.task&&(mn=this.renderer.checkbox(dr),zt?Yn.tokens.length>0&&Yn.tokens[0].type==="paragraph"?(Yn.tokens[0].text=mn+" "+Yn.tokens[0].text,Yn.tokens[0].tokens&&Yn.tokens[0].tokens.length>0&&Yn.tokens[0].tokens[0].type==="text"&&(Yn.tokens[0].tokens[0].text=mn+" "+Yn.tokens[0].tokens[0].text)):Yn.tokens.unshift({type:"text",text:mn}):yt+=mn),yt+=this.parse(Yn.tokens,zt),ot+=this.renderer.listitem(yt,Si,dr);G+=this.renderer.list(ot,Qt,Ut);continue}case"html":{G+=this.renderer.html(ge.text);continue}case"paragraph":{G+=this.renderer.paragraph(this.parseInline(ge.tokens));continue}case"text":{for(ot=ge.tokens?this.parseInline(ge.tokens):ge.text;K+1<Ko&&A[K+1].type==="text";)ge=A[++K],ot+=`
`+(ge.tokens?this.parseInline(ge.tokens):ge.text);G+=F?this.renderer.paragraph(ot):ot;continue}default:{var Hi='Token with "'+ge.type+'" type was not found.';if(this.options.silent){console.error(Hi);return}else throw new Error(Hi)}}}return G},ue.parseInline=function(A,F){F=F||this.renderer;var G="",K,ee,be,ze=A.length;for(K=0;K<ze;K++){if(ee=A[K],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ee.type]&&(be=this.options.extensions.renderers[ee.type].call({parser:this},ee),be!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ee.type))){G+=be||"";continue}switch(ee.type){case"escape":{G+=F.text(ee.text);break}case"html":{G+=F.html(ee.text);break}case"link":{G+=F.link(ee.href,ee.title,this.parseInline(ee.tokens,F));break}case"image":{G+=F.image(ee.href,ee.title,ee.text);break}case"strong":{G+=F.strong(this.parseInline(ee.tokens,F));break}case"em":{G+=F.em(this.parseInline(ee.tokens,F));break}case"codespan":{G+=F.codespan(ee.text);break}case"br":{G+=F.br();break}case"del":{G+=F.del(this.parseInline(ee.tokens,F));break}case"text":{G+=F.text(ee.text);break}default:{var Be='Token with "'+ee.type+'" type was not found.';if(this.options.silent){console.error(Be);return}else throw new Error(Be)}}}return G},ce}(),Nt=function(){function ce(re){this.options=re||t.defaults}var ue=ce.prototype;return ue.preprocess=function(A){return A},ue.postprocess=function(A){return A},ce}();Nt.passThroughHooks=new Set(["preprocess","postprocess"]);function gn(ce,ue,re){return function(A){if(A.message+=`
Please report this to https://github.com/markedjs/marked.`,ce){var F="<p>An error occurred:</p><pre>"+R(A.message+"",!0)+"</pre>";if(ue)return Promise.resolve(F);if(re){re(null,F);return}return F}if(ue)return Promise.reject(A);if(re){re(A);return}throw A}}function Jt(ce,ue){return function(re,A,F){typeof A=="function"&&(F=A,A=null);var G=r({},A);A=r({},Ye.defaults,G);var K=gn(A.silent,A.async,F);if(typeof re>"u"||re===null)return K(new Error("marked(): input parameter is undefined or null"));if(typeof re!="string")return K(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(re)+", string expected"));if(he(A),A.hooks&&(A.hooks.options=A),F){var ee=A.highlight,be;try{A.hooks&&(re=A.hooks.preprocess(re)),be=ce(re,A)}catch(ke){return K(ke)}var ze=function(ot){var ge;if(!ot)try{A.walkTokens&&Ye.walkTokens(be,A.walkTokens),ge=ue(be,A),A.hooks&&(ge=A.hooks.postprocess(ge))}catch(Qt){ot=Qt}return A.highlight=ee,ot?K(ot):F(null,ge)};if(!ee||ee.length<3||(delete A.highlight,!be.length))return ze();var Be=0;Ye.walkTokens(be,function(ke){ke.type==="code"&&(Be++,setTimeout(function(){ee(ke.text,ke.lang,function(ot,ge){if(ot)return ze(ot);ge!=null&&ge!==ke.text&&(ke.text=ge,ke.escaped=!0),Be--,Be===0&&ze()})},0))}),Be===0&&ze();return}if(A.async)return Promise.resolve(A.hooks?A.hooks.preprocess(re):re).then(function(ke){return ce(ke,A)}).then(function(ke){return A.walkTokens?Promise.all(Ye.walkTokens(ke,A.walkTokens)).then(function(){return ke}):ke}).then(function(ke){return ue(ke,A)}).then(function(ke){return A.hooks?A.hooks.postprocess(ke):ke}).catch(K);try{A.hooks&&(re=A.hooks.preprocess(re));var He=ce(re,A);A.walkTokens&&Ye.walkTokens(He,A.walkTokens);var it=ue(He,A);return A.hooks&&(it=A.hooks.postprocess(it)),it}catch(ke){return K(ke)}}}function Ye(ce,ue,re){return Jt(At.lex,bt.parse)(ce,ue,re)}Ye.options=Ye.setOptions=function(ce){return Ye.defaults=r({},Ye.defaults,ce),y(Ye.defaults),Ye},Ye.getDefaults=m,Ye.defaults=t.defaults,Ye.use=function(){for(var ce=Ye.defaults.extensions||{renderers:{},childTokens:{}},ue=arguments.length,re=new Array(ue),A=0;A<ue;A++)re[A]=arguments[A];re.forEach(function(F){var G=r({},F);if(G.async=Ye.defaults.async||G.async||!1,F.extensions&&(F.extensions.forEach(function(ee){if(!ee.name)throw new Error("extension name required");if(ee.renderer){var be=ce.renderers[ee.name];be?ce.renderers[ee.name]=function(){for(var ze=arguments.length,Be=new Array(ze),He=0;He<ze;He++)Be[He]=arguments[He];var it=ee.renderer.apply(this,Be);return it===!1&&(it=be.apply(this,Be)),it}:ce.renderers[ee.name]=ee.renderer}if(ee.tokenizer){if(!ee.level||ee.level!=="block"&&ee.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");ce[ee.level]?ce[ee.level].unshift(ee.tokenizer):ce[ee.level]=[ee.tokenizer],ee.start&&(ee.level==="block"?ce.startBlock?ce.startBlock.push(ee.start):ce.startBlock=[ee.start]:ee.level==="inline"&&(ce.startInline?ce.startInline.push(ee.start):ce.startInline=[ee.start]))}ee.childTokens&&(ce.childTokens[ee.name]=ee.childTokens)}),G.extensions=ce),F.renderer&&function(){var ee=Ye.defaults.renderer||new Bt,be=function(He){var it=ee[He];ee[He]=function(){for(var ke=arguments.length,ot=new Array(ke),ge=0;ge<ke;ge++)ot[ge]=arguments[ge];var Qt=F.renderer[He].apply(ee,ot);return Qt===!1&&(Qt=it.apply(ee,ot)),Qt}};for(var ze in F.renderer)be(ze);G.renderer=ee}(),F.tokenizer&&function(){var ee=Ye.defaults.tokenizer||new Q,be=function(He){var it=ee[He];ee[He]=function(){for(var ke=arguments.length,ot=new Array(ke),ge=0;ge<ke;ge++)ot[ge]=arguments[ge];var Qt=F.tokenizer[He].apply(ee,ot);return Qt===!1&&(Qt=it.apply(ee,ot)),Qt}};for(var ze in F.tokenizer)be(ze);G.tokenizer=ee}(),F.hooks&&function(){var ee=Ye.defaults.hooks||new Nt,be=function(He){var it=ee[He];Nt.passThroughHooks.has(He)?ee[He]=function(ke){if(Ye.defaults.async)return Promise.resolve(F.hooks[He].call(ee,ke)).then(function(ge){return it.call(ee,ge)});var ot=F.hooks[He].call(ee,ke);return it.call(ee,ot)}:ee[He]=function(){for(var ke=arguments.length,ot=new Array(ke),ge=0;ge<ke;ge++)ot[ge]=arguments[ge];var Qt=F.hooks[He].apply(ee,ot);return Qt===!1&&(Qt=it.apply(ee,ot)),Qt}};for(var ze in F.hooks)be(ze);G.hooks=ee}(),F.walkTokens){var K=Ye.defaults.walkTokens;G.walkTokens=function(ee){var be=[];return be.push(F.walkTokens.call(this,ee)),K&&(be=be.concat(K.call(this,ee))),be}}Ye.setOptions(G)})},Ye.walkTokens=function(ce,ue){for(var re=[],A=function(){var ee=G.value;switch(re=re.concat(ue.call(Ye,ee)),ee.type){case"table":{for(var be=a(ee.header),ze;!(ze=be()).done;){var Be=ze.value;re=re.concat(Ye.walkTokens(Be.tokens,ue))}for(var He=a(ee.rows),it;!(it=He()).done;)for(var ke=it.value,ot=a(ke),ge;!(ge=ot()).done;){var Qt=ge.value;re=re.concat(Ye.walkTokens(Qt.tokens,ue))}break}case"list":{re=re.concat(Ye.walkTokens(ee.items,ue));break}default:Ye.defaults.extensions&&Ye.defaults.extensions.childTokens&&Ye.defaults.extensions.childTokens[ee.type]?Ye.defaults.extensions.childTokens[ee.type].forEach(function(Ut){re=re.concat(Ye.walkTokens(ee[Ut],ue))}):ee.tokens&&(re=re.concat(Ye.walkTokens(ee.tokens,ue)))}},F=a(ce),G;!(G=F()).done;)A();return re},Ye.parseInline=Jt(At.lexInline,bt.parseInline),Ye.Parser=bt,Ye.parser=bt.parse,Ye.Renderer=Bt,Ye.TextRenderer=Lt,Ye.Lexer=At,Ye.lexer=At.lex,Ye.Tokenizer=Q,Ye.Slugger=an,Ye.Hooks=Nt,Ye.parse=Ye;var Ur=Ye.options,kn=Ye.setOptions,Sr=Ye.use,Ci=Ye.walkTokens,mt=Ye.parseInline,dn=Ye,br=bt.parse,$i=At.lex;t.Hooks=Nt,t.Lexer=At,t.Parser=bt,t.Renderer=Bt,t.Slugger=an,t.TextRenderer=Lt,t.Tokenizer=Q,t.getDefaults=m,t.lexer=$i,t.marked=Ye,t.options=Ur,t.parse=dn,t.parseInline=mt,t.parser=br,t.setOptions=kn,t.use=Sr,t.walkTokens=Ci})(rN);var Qf=vo,dJ=hJ,oE=rN.marked,iN=/Mac/.test(navigator.platform),pJ=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),Zg={toggleBold:T_,toggleItalic:k_,drawLink:M_,toggleHeadingSmaller:em,toggleHeadingBigger:D_,drawImage:B_,toggleBlockquote:b_,toggleOrderedList:F_,toggleUnorderedList:N_,toggleCodeBlock:I_,togglePreview:H_,toggleStrikethrough:A_,toggleHeading1:R_,toggleHeading2:P_,toggleHeading3:L_,toggleHeading4:NT,toggleHeading5:FT,toggleHeading6:OT,cleanBlock:O_,drawTable:U_,drawHorizontalRule:z_,undo:V_,redo:$_,toggleSideBySide:ld,toggleFullScreen:$c},gJ={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},mJ=function(t){for(var e in Zg)if(Zg[e]===t)return e;return null},XC=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t};function vJ(t){for(var e;(e=pJ.exec(t))!==null;){var n=e[0];if(n.indexOf("target=")===-1){var r=n.replace(/>$/,' target="_blank">');t=t.replace(n,r)}}return t}function yJ(t){for(var e=new DOMParser,n=e.parseFromString(t,"text/html"),r=n.getElementsByTagName("li"),i=0;i<r.length;i++)for(var s=r[i],a=0;a<s.children.length;a++){var c=s.children[a];c instanceof HTMLInputElement&&c.type==="checkbox"&&(s.style.marginLeft="-1.5em",s.style.listStyleType="none")}return n.documentElement.innerHTML}function oN(t){return iN?t=t.replace("Ctrl","Cmd"):t=t.replace("Cmd","Ctrl"),t}function _J(t,e,n,r){var i=Z0(t,!1,e,n,"button",r);i.classList.add("easymde-dropdown"),i.onclick=function(){i.focus()};var s=document.createElement("div");s.className="easymde-dropdown-content";for(var a=0;a<t.children.length;a++){var c=t.children[a],p;typeof c=="string"&&c in Ic?p=Z0(Ic[c],!0,e,n,"button",r):p=Z0(c,!0,e,n,"button",r),p.addEventListener("click",function(m){m.stopPropagation()},!1),s.appendChild(p)}return i.appendChild(s),i}function Z0(t,e,n,r,i,s){t=t||{};var a=document.createElement(i);if(t.attributes)for(var c in t.attributes)Object.prototype.hasOwnProperty.call(t.attributes,c)&&a.setAttribute(c,t.attributes[c]);var p=s.options.toolbarButtonClassPrefix?s.options.toolbarButtonClassPrefix+"-":"";a.className=p+t.name,a.setAttribute("type",i),n=n??!0,t.text&&(a.innerText=t.text),t.name&&t.name in r&&(Zg[t.name]=t.action),t.title&&n&&(a.title=xJ(t.title,t.action,r),iN&&(a.title=a.title.replace("Ctrl","⌘"),a.title=a.title.replace("Alt","⌥"))),t.title&&a.setAttribute("aria-label",t.title),t.noDisable&&a.classList.add("no-disable"),t.noMobile&&a.classList.add("no-mobile");var m=[];typeof t.className<"u"&&(m=t.className.split(" "));for(var y=[],w=0;w<m.length;w++){var E=m[w];E.match(/^fa([srlb]|(-[\w-]*)|$)/)?y.push(E):a.classList.add(E)}if(a.tabIndex=-1,y.length>0){for(var S=document.createElement("i"),L=0;L<y.length;L++){var O=y[L];S.classList.add(O)}a.appendChild(S)}return typeof t.icon<"u"&&(a.innerHTML=t.icon),t.action&&e&&(typeof t.action=="function"?a.onclick=function(M){M.preventDefault(),t.action(s)}:typeof t.action=="string"&&(a.onclick=function(M){M.preventDefault(),window.open(t.action,"_blank")})),a}function wJ(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function xJ(t,e,n){var r,i=t;return e&&(r=mJ(e),n[r]&&(i+=" ("+oN(n[r])+")")),i}function Iu(t,e){e=e||t.getCursor("start");var n=t.getTokenAt(e);if(!n.type)return{};for(var r=n.type.split(" "),i={},s,a,c=0;c<r.length;c++)s=r[c],s==="strong"?i.bold=!0:s==="variable-2"?(a=t.getLine(e.line),/^\s*\d+\.\s/.test(a)?i["ordered-list"]=!0:i["unordered-list"]=!0):s==="atom"?i.quote=!0:s==="em"?i.italic=!0:s==="quote"?i.quote=!0:s==="strikethrough"?i.strikethrough=!0:s==="comment"?i.code=!0:s==="link"&&!i.image?i.link=!0:s==="image"?i.image=!0:s.match(/^header(-[1-6])?$/)&&(i[s.replace("header","heading")]=!0);return i}var lD="";function $c(t){var e=t.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(lD=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=lD;var n=e.getWrapperElement(),r=n.nextSibling;if(r.classList.contains("editor-preview-active-side"))if(t.options.sideBySideFullscreen===!1){var i=n.parentNode;e.getOption("fullScreen")?i.classList.remove("sided--no-fullscreen"):i.classList.add("sided--no-fullscreen")}else ld(t);if(t.options.onToggleFullScreen&&t.options.onToggleFullScreen(e.getOption("fullScreen")||!1),typeof t.options.maxHeight<"u"&&(e.getOption("fullScreen")?(e.getScrollerElement().style.removeProperty("height"),r.style.removeProperty("height")):(e.getScrollerElement().style.height=t.options.maxHeight,t.setPreviewMaxHeight())),t.toolbar_div.classList.toggle("fullscreen"),t.toolbarElements&&t.toolbarElements.fullscreen){var s=t.toolbarElements.fullscreen;s.classList.toggle("active")}}function T_(t){UT(t,"bold",t.options.blockStyles.bold)}function k_(t){UT(t,"italic",t.options.blockStyles.italic)}function A_(t){UT(t,"strikethrough","~~")}function I_(t){var e=t.options.blockStyles.code;function n(Le){if(typeof Le!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof Le+": "+Le;return Le.styles&&Le.styles[2]&&Le.styles[2].indexOf("formatting-code-block")!==-1}function r(Le){return Le.state.base.base||Le.state.base}function i(Le,J,_e,me,he){_e=_e||Le.getLineHandle(J),me=me||Le.getTokenAt({line:J,ch:1}),he=he||!!_e.text&&Le.getTokenAt({line:J,ch:_e.text.length-1});var Pe=me.type?me.type.split(" "):[];return he&&r(he).indentedCode?"indented":Pe.indexOf("comment")===-1?!1:r(me).fencedChars||r(he).fencedChars||n(_e)?"fenced":"single"}function s(Le,J,_e,me){var he=J.line+1,Pe=_e.line+1,q=J.line!==_e.line,tt=me+`
`,Q=`
`+me;q&&Pe++,q&&_e.ch===0&&(Q=me+`
`,Pe--),Hc(Le,!1,[tt,Q]),Le.setSelection({line:he,ch:0},{line:Pe,ch:0})}var a=t.codemirror,c=a.getCursor("start"),p=a.getCursor("end"),m=a.getTokenAt({line:c.line,ch:c.ch||1}),y=a.getLineHandle(c.line),w=i(a,c.line,y,m),E,S,L;if(w==="single"){var O=y.text.slice(0,c.ch).replace("`",""),M=y.text.slice(c.ch).replace("`","");a.replaceRange(O+M,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),c.ch--,c!==p&&p.ch--,a.setSelection(c,p),a.focus()}else if(w==="fenced")if(c.line!==p.line||c.ch!==p.ch){for(E=c.line;E>=0&&(y=a.getLineHandle(E),!n(y));E--);var R=a.getTokenAt({line:E,ch:1}),b=r(R).fencedChars,D,B,j,U;n(a.getLineHandle(c.line))?(D="",B=c.line):n(a.getLineHandle(c.line-1))?(D="",B=c.line-1):(D=b+`
`,B=c.line),n(a.getLineHandle(p.line))?(j="",U=p.line,p.ch===0&&(U+=1)):p.ch!==0&&n(a.getLineHandle(p.line+1))?(j="",U=p.line+1):(j=b+`
`,U=p.line+1),p.ch===0&&(U-=1),a.operation(function(){a.replaceRange(j,{line:U,ch:0},{line:U+(j?0:1),ch:0}),a.replaceRange(D,{line:B,ch:0},{line:B+(D?0:1),ch:0})}),a.setSelection({line:B+(D?1:0),ch:0},{line:U+(D?1:-1),ch:0}),a.focus()}else{var $=c.line;if(n(a.getLineHandle(c.line))&&(i(a,c.line+1)==="fenced"?(E=c.line,$=c.line+1):(S=c.line,$=c.line-1)),E===void 0)for(E=$;E>=0&&(y=a.getLineHandle(E),!n(y));E--);if(S===void 0)for(L=a.lineCount(),S=$;S<L&&(y=a.getLineHandle(S),!n(y));S++);a.operation(function(){a.replaceRange("",{line:E,ch:0},{line:E+1,ch:0}),a.replaceRange("",{line:S-1,ch:0},{line:S,ch:0})}),a.focus()}else if(w==="indented"){if(c.line!==p.line||c.ch!==p.ch)E=c.line,S=p.line,p.ch===0&&S--;else{for(E=c.line;E>=0;E--)if(y=a.getLineHandle(E),!y.text.match(/^\s*$/)&&i(a,E,y)!=="indented"){E+=1;break}for(L=a.lineCount(),S=c.line;S<L;S++)if(y=a.getLineHandle(S),!y.text.match(/^\s*$/)&&i(a,S,y)!=="indented"){S-=1;break}}var Y=a.getLineHandle(S+1),ae=Y&&a.getTokenAt({line:S+1,ch:Y.text.length-1}),xe=ae&&r(ae).indentedCode;xe&&a.replaceRange(`
`,{line:S+1,ch:0});for(var ie=E;ie<=S;ie++)a.indentLine(ie,"subtract");a.focus()}else{var ye=c.line===p.line&&c.ch===p.ch&&c.ch===0,Ue=c.line!==p.line;ye||Ue?s(a,c,p,e):Hc(a,!1,["`","`"])}}function b_(t){BT(t.codemirror,"quote")}function em(t){bu(t.codemirror,"smaller")}function D_(t){bu(t.codemirror,"bigger")}function R_(t){bu(t.codemirror,void 0,1)}function P_(t){bu(t.codemirror,void 0,2)}function L_(t){bu(t.codemirror,void 0,3)}function NT(t){bu(t.codemirror,void 0,4)}function FT(t){bu(t.codemirror,void 0,5)}function OT(t){bu(t.codemirror,void 0,6)}function N_(t){var e=t.codemirror,n="*";["-","+","*"].includes(t.options.unorderedListStyle)&&(n=t.options.unorderedListStyle),BT(e,"unordered-list",n)}function F_(t){BT(t.codemirror,"ordered-list")}function O_(t){EJ(t.codemirror)}function M_(t){var e=t.options,n="https://";if(e.promptURLs){var r=prompt(e.promptTexts.link,n);if(!r)return!1;n=sN(r)}lN(t,"link",e.insertTexts.link,n)}function B_(t){var e=t.options,n="https://";if(e.promptURLs){var r=prompt(e.promptTexts.image,n);if(!r)return!1;n=sN(r)}lN(t,"image",e.insertTexts.image,n)}function sN(t){return encodeURI(t).replace(/([\\()])/g,"\\$1")}function MT(t){t.openBrowseFileWindow()}function aN(t,e){var n=t.codemirror,r=Iu(n),i=t.options,s=e.substr(e.lastIndexOf("/")+1),a=s.substring(s.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(a))Hc(n,r.image,i.insertTexts.uploadedImage,e);else{var c=i.insertTexts.link;c[0]="["+s,Hc(n,r.link,c,e)}t.updateStatusBar("upload-image",t.options.imageTexts.sbOnUploaded.replace("#image_name#",s)),setTimeout(function(){t.updateStatusBar("upload-image",t.options.imageTexts.sbInit)},1e3)}function U_(t){var e=t.codemirror,n=Iu(e),r=t.options;Hc(e,n.table,r.insertTexts.table)}function z_(t){var e=t.codemirror,n=Iu(e),r=t.options;Hc(e,n.image,r.insertTexts.horizontalRule)}function V_(t){var e=t.codemirror;e.undo(),e.focus()}function $_(t){var e=t.codemirror;e.redo(),e.focus()}function ld(t){var e=t.codemirror,n=e.getWrapperElement(),r=n.nextSibling,i=t.toolbarElements&&t.toolbarElements["side-by-side"],s=!1,a=n.parentNode;r.classList.contains("editor-preview-active-side")?(t.options.sideBySideFullscreen===!1&&a.classList.remove("sided--no-fullscreen"),r.classList.remove("editor-preview-active-side"),i&&i.classList.remove("active"),n.classList.remove("CodeMirror-sided")):(setTimeout(function(){e.getOption("fullScreen")||(t.options.sideBySideFullscreen===!1?a.classList.add("sided--no-fullscreen"):$c(t)),r.classList.add("editor-preview-active-side")},1),i&&i.classList.add("active"),n.classList.add("CodeMirror-sided"),s=!0);var c=n.lastChild;if(c.classList.contains("editor-preview-active")){c.classList.remove("editor-preview-active");var p=t.toolbarElements.preview,m=t.toolbar_div;p.classList.remove("active"),m.classList.remove("disabled-for-preview")}var y=function(){var E=t.options.previewRender(t.value(),r);E!=null&&(r.innerHTML=E)};if(e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=y),s){var w=t.options.previewRender(t.value(),r);w!=null&&(r.innerHTML=w),e.on("update",e.sideBySideRenderingFunction)}else e.off("update",e.sideBySideRenderingFunction);e.refresh()}function H_(t){var e=t.codemirror,n=e.getWrapperElement(),r=t.toolbar_div,i=t.options.toolbar?t.toolbarElements.preview:!1,s=n.lastChild,a=e.getWrapperElement().nextSibling;if(a.classList.contains("editor-preview-active-side")&&ld(t),!s||!s.classList.contains("editor-preview-full")){if(s=document.createElement("div"),s.className="editor-preview-full",t.options.previewClass)if(Array.isArray(t.options.previewClass))for(var c=0;c<t.options.previewClass.length;c++)s.classList.add(t.options.previewClass[c]);else typeof t.options.previewClass=="string"&&s.classList.add(t.options.previewClass);n.appendChild(s)}s.classList.contains("editor-preview-active")?(s.classList.remove("editor-preview-active"),i&&(i.classList.remove("active"),r.classList.remove("disabled-for-preview"))):(setTimeout(function(){s.classList.add("editor-preview-active")},1),i&&(i.classList.add("active"),r.classList.add("disabled-for-preview")));var p=t.options.previewRender(t.value(),s);p!==null&&(s.innerHTML=p)}function Hc(t,e,n,r){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var i,s=n[0],a=n[1],c={},p={};Object.assign(c,t.getCursor("start")),Object.assign(p,t.getCursor("end")),r&&(s=s.replace("#url#",r),a=a.replace("#url#",r)),e?(i=t.getLine(c.line),s=i.slice(0,c.ch),a=i.slice(c.ch),t.replaceRange(s+a,{line:c.line,ch:0})):(i=t.getSelection(),t.replaceSelection(s+i+a),c.ch+=s.length,c!==p&&(p.ch+=s.length)),t.setSelection(c,p),t.focus()}}function bu(t,e,n){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var r=t.getCursor("start"),i=t.getCursor("end"),s=r.line;s<=i.line;s++)(function(a){var c=t.getLine(a),p=c.search(/[^#]/);e!==void 0?p<=0?e=="bigger"?c="###### "+c:c="# "+c:p==6&&e=="smaller"?c=c.substr(7):p==1&&e=="bigger"?c=c.substr(2):e=="bigger"?c=c.substr(1):c="#"+c:p<=0?c="#".repeat(n)+" "+c:p==n?c=c.substr(p+1):c="#".repeat(n)+" "+c.substr(p+1),t.replaceRange(c,{line:a,ch:0},{line:a,ch:99999999999999})})(s);t.focus()}}function BT(t,e,n){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var r=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,i=/^\s*/,s=Iu(t),a=t.getCursor("start"),c=t.getCursor("end"),p={quote:/^(\s*)>\s+/,"unordered-list":r,"ordered-list":r},m=function(L,O){var M={quote:">","unordered-list":n,"ordered-list":"%%i."};return M[L].replace("%%i",O)},y=function(L,O){var M={quote:">","unordered-list":"\\"+n,"ordered-list":"\\d+."},R=new RegExp(M[L]);return O&&R.test(O)},w=function(L,O,M){var R=r.exec(O),b=m(L,E);return R!==null?(y(L,R[2])&&(b=""),O=R[1]+b+R[3]+O.replace(i,"").replace(p[L],"$1")):M==!1&&(O=b+" "+O),O},E=1,S=a.line;S<=c.line;S++)(function(L){var O=t.getLine(L);s[e]?O=O.replace(p[e],"$1"):(e=="unordered-list"&&(O=w("ordered-list",O,!0)),O=w(e,O,!1),E+=1),t.replaceRange(O,{line:L,ch:0},{line:L,ch:99999999999999})})(S);t.focus()}}function lN(t,e,n,r){if(!(!t.codemirror||t.isPreviewActive())){var i=t.codemirror,s=Iu(i),a=s[e];if(!a){Hc(i,a,n,r);return}var c=i.getCursor("start"),p=i.getCursor("end"),m=i.getLine(c.line),y=m.slice(0,c.ch),w=m.slice(c.ch);e=="link"?y=y.replace(/(.*)[^!]\[/,"$1"):e=="image"&&(y=y.replace(/(.*)!\[$/,"$1")),w=w.replace(/]\(.*?\)/,""),i.replaceRange(y+w,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),c.ch-=n[0].length,c!==p&&(p.ch-=n[0].length),i.setSelection(c,p),i.focus()}}function UT(t,e,n,r){if(!(!t.codemirror||t.isPreviewActive())){r=typeof r>"u"?n:r;var i=t.codemirror,s=Iu(i),a,c=n,p=r,m=i.getCursor("start"),y=i.getCursor("end");s[e]?(a=i.getLine(m.line),c=a.slice(0,m.ch),p=a.slice(m.ch),e=="bold"?(c=c.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),p=p.replace(/(\*\*|__)/,"")):e=="italic"?(c=c.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),p=p.replace(/(\*|_)/,"")):e=="strikethrough"&&(c=c.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),p=p.replace(/(\*\*|~~)/,"")),i.replaceRange(c+p,{line:m.line,ch:0},{line:m.line,ch:99999999999999}),e=="bold"||e=="strikethrough"?(m.ch-=2,m!==y&&(y.ch-=2)):e=="italic"&&(m.ch-=1,m!==y&&(y.ch-=1))):(a=i.getSelection(),e=="bold"?(a=a.split("**").join(""),a=a.split("__").join("")):e=="italic"?(a=a.split("*").join(""),a=a.split("_").join("")):e=="strikethrough"&&(a=a.split("~~").join("")),i.replaceSelection(c+a+p),m.ch+=n.length,y.ch=m.ch+a.length),i.setSelection(m,y),i.focus()}}function EJ(t){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var e=t.getCursor("start"),n=t.getCursor("end"),r,i=e.line;i<=n.line;i++)r=t.getLine(i),r=r.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}function ny(t,e){if(Math.abs(t)<1024)return""+t+e[0];var n=0;do t/=1024,++n;while(Math.abs(t)>=1024&&n<e.length);return""+t.toFixed(1)+e[n]}function uN(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]instanceof Array?t[n]=e[n].concat(t[n]instanceof Array?t[n]:[]):e[n]!==null&&typeof e[n]=="object"&&e[n].constructor===Object?t[n]=uN(t[n]||{},e[n]):t[n]=e[n]);return t}function Fa(t){for(var e=1;e<arguments.length;e++)t=uN(t,arguments[e]);return t}function uD(t){var e=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=t.match(e),r=0;if(n===null)return r;for(var i=0;i<n.length;i++)n[i].charCodeAt(0)>=19968?r+=n[i].length:r+=1;return r}var xn={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},Ic={bold:{name:"bold",action:T_,className:xn.bold,title:"Bold",default:!0},italic:{name:"italic",action:k_,className:xn.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:A_,className:xn.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:em,className:xn.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:em,className:xn["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:D_,className:xn["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:R_,className:xn["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:P_,className:xn["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:L_,className:xn["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:I_,className:xn.code,title:"Code"},quote:{name:"quote",action:b_,className:xn.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:N_,className:xn["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:F_,className:xn["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:O_,className:xn["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:M_,className:xn.link,title:"Create Link",default:!0},image:{name:"image",action:B_,className:xn.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:MT,className:xn["upload-image"],title:"Import an image"},table:{name:"table",action:U_,className:xn.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:z_,className:xn["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:H_,className:xn.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:ld,className:xn["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:$c,className:xn.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:xn.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:V_,className:xn.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:$_,className:xn.redo,noDisable:!0,title:"Redo"}},CJ={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},SJ={link:"URL for the link:",image:"URL of the image:"},TJ={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},kJ={bold:"**",code:"```",italic:"*"},AJ={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},IJ={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function Ke(t){t=t||{},t.parent=this;var e=!0;if(t.autoDownloadFontAwesome===!1&&(e=!1),t.autoDownloadFontAwesome!==!0)for(var n=document.styleSheets,r=0;r<n.length;r++)n[r].href&&n[r].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(e=!1);if(e){var i=document.createElement("link");i.rel="stylesheet",i.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(i)}if(t.element)this.element=t.element;else if(t.element===null){console.log("EasyMDE: Error. No element was found.");return}if(t.toolbar===void 0){t.toolbar=[];for(var s in Ic)Object.prototype.hasOwnProperty.call(Ic,s)&&(s.indexOf("separator-")!=-1&&t.toolbar.push("|"),(Ic[s].default===!0||t.showIcons&&t.showIcons.constructor===Array&&t.showIcons.indexOf(s)!=-1)&&t.toolbar.push(s))}if(Object.prototype.hasOwnProperty.call(t,"previewClass")||(t.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(t,"status")||(t.status=["autosave","lines","words","cursor"],t.uploadImage&&t.status.unshift("upload-image")),t.previewRender||(t.previewRender=function(c){return this.parent.markdown(c)}),t.parsingConfig=Fa({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=Fa({},CJ,t.insertTexts||{}),t.promptTexts=Fa({},SJ,t.promptTexts||{}),t.blockStyles=Fa({},kJ,t.blockStyles||{}),t.autosave!=null&&(t.autosave.timeFormat=Fa({},TJ,t.autosave.timeFormat||{})),t.iconClassMap=Fa({},xn,t.iconClassMap||{}),t.shortcuts=Fa({},gJ,t.shortcuts||{}),t.maxHeight=t.maxHeight||void 0,t.direction=t.direction||"ltr",typeof t.maxHeight<"u"?t.minHeight=t.maxHeight:t.minHeight=t.minHeight||"300px",t.errorCallback=t.errorCallback||function(c){alert(c)},t.uploadImage=t.uploadImage||!1,t.imageMaxSize=t.imageMaxSize||2097152,t.imageAccept=t.imageAccept||"image/png, image/jpeg, image/gif, image/avif",t.imageTexts=Fa({},AJ,t.imageTexts||{}),t.errorMessages=Fa({},IJ,t.errorMessages||{}),t.imagePathAbsolute=t.imagePathAbsolute||!1,t.imageCSRFName=t.imageCSRFName||"csrfmiddlewaretoken",t.imageCSRFHeader=t.imageCSRFHeader||!1,t.autosave!=null&&t.autosave.unique_id!=null&&t.autosave.unique_id!=""&&(t.autosave.uniqueId=t.autosave.unique_id),t.overlayMode&&t.overlayMode.combine===void 0&&(t.overlayMode.combine=!0),this.options=t,this.render(),t.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(t.initialValue),t.uploadImage){var a=this;this.codemirror.on("dragenter",function(c,p){a.updateStatusBar("upload-image",a.options.imageTexts.sbOnDragEnter),p.stopPropagation(),p.preventDefault()}),this.codemirror.on("dragend",function(c,p){a.updateStatusBar("upload-image",a.options.imageTexts.sbInit),p.stopPropagation(),p.preventDefault()}),this.codemirror.on("dragleave",function(c,p){a.updateStatusBar("upload-image",a.options.imageTexts.sbInit),p.stopPropagation(),p.preventDefault()}),this.codemirror.on("dragover",function(c,p){a.updateStatusBar("upload-image",a.options.imageTexts.sbOnDragEnter),p.stopPropagation(),p.preventDefault()}),this.codemirror.on("drop",function(c,p){p.stopPropagation(),p.preventDefault(),t.imageUploadFunction?a.uploadImagesUsingCustomFunction(t.imageUploadFunction,p.dataTransfer.files):a.uploadImages(p.dataTransfer.files)}),this.codemirror.on("paste",function(c,p){t.imageUploadFunction?a.uploadImagesUsingCustomFunction(t.imageUploadFunction,p.clipboardData.files):a.uploadImages(p.clipboardData.files)})}}Ke.prototype.uploadImages=function(t,e,n){if(t.length!==0){for(var r=[],i=0;i<t.length;i++)r.push(t[i].name),this.uploadImage(t[i],e,n);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",r.join(", ")))}};Ke.prototype.uploadImagesUsingCustomFunction=function(t,e){if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(e[r].name),this.uploadImageUsingCustomFunction(t,e[r]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",n.join(", ")))}};Ke.prototype.updateStatusBar=function(t,e){if(this.gui.statusbar){var n=this.gui.statusbar.getElementsByClassName(t);n.length===1?this.gui.statusbar.getElementsByClassName(t)[0].textContent=e:n.length===0?console.log("EasyMDE: status bar item "+t+" was not found."):console.log("EasyMDE: Several status bar items named "+t+" was found.")}};Ke.prototype.markdown=function(t){if(oE){var e;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?e=this.options.renderingConfig.markedOptions:e={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var n=this.options.renderingConfig.hljs||window.hljs;n&&(e.highlight=function(i,s){return s&&n.getLanguage(s)?n.highlight(s,i).value:n.highlightAuto(i).value})}oE.setOptions(e);var r=oE.parse(t);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(r=this.options.renderingConfig.sanitizerFunction.call(this,r)),r=vJ(r),r=yJ(r),r}};Ke.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===t)return;this.element=t;var e=this.options,n=this,r={};for(var i in e.shortcuts)e.shortcuts[i]!==null&&Zg[i]!==null&&function(M){r[oN(e.shortcuts[M])]=function(){var R=Zg[M];typeof R=="function"?R(n):typeof R=="string"&&window.open(R,"_blank")}}(i);r.Enter="newlineAndIndentContinueMarkdownList",r.Tab="tabAndIndentMarkdownList",r["Shift-Tab"]="shiftTabAndUnindentMarkdownList",r.Esc=function(M){M.getOption("fullScreen")&&$c(n)},this.documentOnKeyDown=function(M){M=M||window.event,M.keyCode==27&&n.codemirror.getOption("fullScreen")&&$c(n)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var s,a;e.overlayMode?(Qf.defineMode("overlay-mode",function(M){return Qf.overlayMode(Qf.getMode(M,e.spellChecker!==!1?"spell-checker":"gfm"),e.overlayMode.mode,e.overlayMode.combine)}),s="overlay-mode",a=e.parsingConfig,a.gitHubSpice=!1):(s=e.parsingConfig,s.name="gfm",s.gitHubSpice=!1),e.spellChecker!==!1&&(s="spell-checker",a=e.parsingConfig,a.name="gfm",a.gitHubSpice=!1,typeof e.spellChecker=="function"?e.spellChecker({codeMirrorInstance:Qf}):dJ({codeMirrorInstance:Qf}));function c(M,R,b){return{addNew:!1}}if(this.codemirror=Qf.fromTextArea(t,{mode:s,backdrop:a,theme:e.theme!=null?e.theme:"easymde",tabSize:e.tabSize!=null?e.tabSize:2,indentUnit:e.tabSize!=null?e.tabSize:2,indentWithTabs:e.indentWithTabs!==!1,lineNumbers:e.lineNumbers===!0,autofocus:e.autofocus===!0,extraKeys:r,direction:e.direction,lineWrapping:e.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:e.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:e.styleSelectedText!=null?e.styleSelectedText:!XC(),scrollbarStyle:e.scrollbarStyle!=null?e.scrollbarStyle:"native",configureMouse:c,inputStyle:e.inputStyle!=null?e.inputStyle:XC()?"contenteditable":"textarea",spellcheck:e.nativeSpellcheck!=null?e.nativeSpellcheck:!0,autoRefresh:e.autoRefresh!=null?e.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=e.minHeight,typeof e.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=e.maxHeight),e.forceSync===!0){var p=this.codemirror;p.on("change",function(){p.save()})}this.gui={};var m=document.createElement("div");m.classList.add("EasyMDEContainer"),m.setAttribute("role","application");var y=this.codemirror.getWrapperElement();y.parentNode.insertBefore(m,y),m.appendChild(y),e.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),e.status!==!1&&(this.gui.statusbar=this.createStatusbar()),e.autosave!=null&&e.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(n._autosave_timeout),n._autosave_timeout=setTimeout(function(){n.autosave()},n.options.autosave.submit_delay||n.options.autosave.delay||1e3)}));function w(M,R){var b,D=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return M<D?b=R+"px":b=R/M*100+"%",b}var E=this;function S(M,R){M.setAttribute("data-img-src",R.url),M.setAttribute("style","--bg-image:url("+R.url+");--width:"+R.naturalWidth+"px;--height:"+w(R.naturalWidth,R.naturalHeight)),E.codemirror.setSize()}function L(){e.previewImagesInEditor&&m.querySelectorAll(".cm-image-marker").forEach(function(M){var R=M.parentElement;if(R.innerText.match(/^!\[.*?\]\(.*\)/g)&&!R.hasAttribute("data-img-src")){var b=R.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),b&&b.length>=2){var D=b[1];if(e.imagesPreviewHandler){var B=e.imagesPreviewHandler(b[1]);typeof B=="string"&&(D=B)}if(window.EMDEimagesCache[D])S(R,window.EMDEimagesCache[D]);else{var j=document.createElement("img");j.onload=function(){window.EMDEimagesCache[D]={naturalWidth:j.naturalWidth,naturalHeight:j.naturalHeight,url:D},S(R,window.EMDEimagesCache[D])},j.src=D}}}})}this.codemirror.on("update",function(){L()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(e.autofocus===!0||t.autofocus)&&this.codemirror.focus();var O=this.codemirror;setTimeout((function(){O.refresh()}).bind(O),0)};Ke.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function cN(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}Ke.prototype.autosave=function(){if(cN()){var t=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(t.element.form!=null&&t.element.form!=null&&t.element.form.addEventListener("submit",function(){clearTimeout(t.autosaveTimeoutId),t.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+t.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var e=t.value();e!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,e):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var n=document.getElementById("autosaved");if(n!=null&&n!=null&&n!=""){var r=new Date,i=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(r),s=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;n.innerHTML=s+i}}else console.log("EasyMDE: localStorage not available, cannot autosave")};Ke.prototype.clearAutosavedValue=function(){if(cN()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};Ke.prototype.openBrowseFileWindow=function(t,e){var n=this,r=this.gui.toolbar.getElementsByClassName("imageInput")[0];r.click();function i(s){n.options.imageUploadFunction?n.uploadImagesUsingCustomFunction(n.options.imageUploadFunction,s.target.files):n.uploadImages(s.target.files,t,e),r.removeEventListener("change",i)}r.addEventListener("change",i)};Ke.prototype.uploadImage=function(t,e,n){var r=this;e=e||function(m){aN(r,m)};function i(p){r.updateStatusBar("upload-image",p),setTimeout(function(){r.updateStatusBar("upload-image",r.options.imageTexts.sbInit)},1e4),n&&typeof n=="function"&&n(p),r.options.errorCallback(p)}function s(p){var m=r.options.imageTexts.sizeUnits.split(",");return p.replace("#image_name#",t.name).replace("#image_size#",ny(t.size,m)).replace("#image_max_size#",ny(r.options.imageMaxSize,m))}if(t.size>this.options.imageMaxSize){i(s(this.options.errorMessages.fileTooLarge));return}var a=new FormData;a.append("image",t),r.options.imageCSRFToken&&!r.options.imageCSRFHeader&&a.append(r.options.imageCSRFName,r.options.imageCSRFToken);var c=new XMLHttpRequest;c.upload.onprogress=function(p){if(p.lengthComputable){var m=""+Math.round(p.loaded*100/p.total);r.updateStatusBar("upload-image",r.options.imageTexts.sbProgress.replace("#file_name#",t.name).replace("#progress#",m))}},c.open("POST",this.options.imageUploadEndpoint),r.options.imageCSRFToken&&r.options.imageCSRFHeader&&c.setRequestHeader(r.options.imageCSRFName,r.options.imageCSRFToken),c.onload=function(){try{var p=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),i(s(r.options.errorMessages.importError));return}this.status===200&&p&&!p.error&&p.data&&p.data.filePath?e((r.options.imagePathAbsolute?"":window.location.origin+"/")+p.data.filePath):p.error&&p.error in r.options.errorMessages?i(s(r.options.errorMessages[p.error])):p.error?i(s(p.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),i(s(r.options.errorMessages.importError)))},c.onerror=function(p){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+p.target.status+" ("+p.target.statusText+")"),i(r.options.errorMessages.importError)},c.send(a)};Ke.prototype.uploadImageUsingCustomFunction=function(t,e){var n=this;function r(a){aN(n,a)}function i(a){var c=s(a);n.updateStatusBar("upload-image",c),setTimeout(function(){n.updateStatusBar("upload-image",n.options.imageTexts.sbInit)},1e4),n.options.errorCallback(c)}function s(a){var c=n.options.imageTexts.sizeUnits.split(",");return a.replace("#image_name#",e.name).replace("#image_size#",ny(e.size,c)).replace("#image_max_size#",ny(n.options.imageMaxSize,c))}t.apply(this,[e,r,i])};Ke.prototype.setPreviewMaxHeight=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.nextSibling,r=parseInt(window.getComputedStyle(e).paddingTop),i=parseInt(window.getComputedStyle(e).borderTopWidth),s=parseInt(this.options.maxHeight),a=s+r*2+i*2,c=a.toString()+"px";n.style.height=c};Ke.prototype.createSideBySide=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.nextSibling;if(!n||!n.classList.contains("editor-preview-side")){if(n=document.createElement("div"),n.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var r=0;r<this.options.previewClass.length;r++)n.classList.add(this.options.previewClass[r]);else typeof this.options.previewClass=="string"&&n.classList.add(this.options.previewClass);e.parentNode.insertBefore(n,e.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return n;var i=!1,s=!1;return t.on("scroll",function(a){if(i){i=!1;return}s=!0;var c=a.getScrollInfo().height-a.getScrollInfo().clientHeight,p=parseFloat(a.getScrollInfo().top)/c,m=(n.scrollHeight-n.clientHeight)*p;n.scrollTop=m}),n.onscroll=function(){if(s){s=!1;return}i=!0;var a=n.scrollHeight-n.clientHeight,c=parseFloat(n.scrollTop)/a,p=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*c;t.scrollTo(0,p)},n};Ke.prototype.createToolbar=function(t){if(t=t||this.options.toolbar,!(!t||t.length===0)){var e;for(e=0;e<t.length;e++)Ic[t[e]]!=null&&(t[e]=Ic[t[e]]);var n=document.createElement("div");n.className="editor-toolbar",n.setAttribute("role","toolbar");var r=this,i={};for(r.toolbar=t,e=0;e<t.length;e++)if(!(t[e].name=="guide"&&r.options.toolbarGuideIcon===!1)&&!(r.options.hideIcons&&r.options.hideIcons.indexOf(t[e].name)!=-1)&&!((t[e].name=="fullscreen"||t[e].name=="side-by-side")&&XC())){if(t[e]==="|"){for(var s=!1,a=e+1;a<t.length;a++)t[a]!=="|"&&(!r.options.hideIcons||r.options.hideIcons.indexOf(t[a].name)==-1)&&(s=!0);if(!s)continue}(function(m){var y;if(m==="|"?y=wJ():m.children?y=_J(m,r.options.toolbarTips,r.options.shortcuts,r):y=Z0(m,!0,r.options.toolbarTips,r.options.shortcuts,"button",r),i[m.name||m]=y,n.appendChild(y),m.name==="upload-image"){var w=document.createElement("input");w.className="imageInput",w.type="file",w.multiple=!0,w.name="image",w.accept=r.options.imageAccept,w.style.display="none",w.style.opacity=0,n.appendChild(w)}})(t[e])}r.toolbar_div=n,r.toolbarElements=i;var c=this.codemirror;c.on("cursorActivity",function(){var m=Iu(c);for(var y in i)(function(w){var E=i[w];m[w]?E.classList.add("active"):w!="fullscreen"&&w!="side-by-side"&&E.classList.remove("active")})(y)});var p=c.getWrapperElement();return p.parentNode.insertBefore(n,p),n}};Ke.prototype.createStatusbar=function(t){t=t||this.options.status;var e=this.options,n=this.codemirror;if(!(!t||t.length===0)){var r=[],i,s,a,c;for(i=0;i<t.length;i++)if(s=void 0,a=void 0,c=void 0,typeof t[i]=="object")r.push({className:t[i].className,defaultValue:t[i].defaultValue,onUpdate:t[i].onUpdate,onActivity:t[i].onActivity});else{var p=t[i];p==="words"?(c=function(S){S.innerHTML=uD(n.getValue())},s=function(S){S.innerHTML=uD(n.getValue())}):p==="lines"?(c=function(S){S.innerHTML=n.lineCount()},s=function(S){S.innerHTML=n.lineCount()}):p==="cursor"?(c=function(S){S.innerHTML="1:1"},a=function(S){var L=n.getCursor(),O=L.line+1,M=L.ch+1;S.innerHTML=O+":"+M}):p==="autosave"?c=function(S){e.autosave!=null&&e.autosave.enabled===!0&&S.setAttribute("id","autosaved")}:p==="upload-image"&&(c=function(S){S.innerHTML=e.imageTexts.sbInit}),r.push({className:p,defaultValue:c,onUpdate:s,onActivity:a})}var m=document.createElement("div");for(m.className="editor-statusbar",i=0;i<r.length;i++){var y=r[i],w=document.createElement("span");w.className=y.className,typeof y.defaultValue=="function"&&y.defaultValue(w),typeof y.onUpdate=="function"&&this.codemirror.on("update",function(S,L){return function(){L.onUpdate(S)}}(w,y)),typeof y.onActivity=="function"&&this.codemirror.on("cursorActivity",function(S,L){return function(){L.onActivity(S)}}(w,y)),m.appendChild(w)}var E=this.codemirror.getWrapperElement();return E.parentNode.insertBefore(m,E.nextSibling),m}};Ke.prototype.value=function(t){var e=this.codemirror;if(t===void 0)return e.getValue();if(e.getDoc().setValue(t),this.isPreviewActive()){var n=e.getWrapperElement(),r=n.lastChild,i=this.options.previewRender(t,r);i!==null&&(r.innerHTML=i)}return this};Ke.toggleBold=T_;Ke.toggleItalic=k_;Ke.toggleStrikethrough=A_;Ke.toggleBlockquote=b_;Ke.toggleHeadingSmaller=em;Ke.toggleHeadingBigger=D_;Ke.toggleHeading1=R_;Ke.toggleHeading2=P_;Ke.toggleHeading3=L_;Ke.toggleHeading4=NT;Ke.toggleHeading5=FT;Ke.toggleHeading6=OT;Ke.toggleCodeBlock=I_;Ke.toggleUnorderedList=N_;Ke.toggleOrderedList=F_;Ke.cleanBlock=O_;Ke.drawLink=M_;Ke.drawImage=B_;Ke.drawUploadedImage=MT;Ke.drawTable=U_;Ke.drawHorizontalRule=z_;Ke.undo=V_;Ke.redo=$_;Ke.togglePreview=H_;Ke.toggleSideBySide=ld;Ke.toggleFullScreen=$c;Ke.prototype.toggleBold=function(){T_(this)};Ke.prototype.toggleItalic=function(){k_(this)};Ke.prototype.toggleStrikethrough=function(){A_(this)};Ke.prototype.toggleBlockquote=function(){b_(this)};Ke.prototype.toggleHeadingSmaller=function(){em(this)};Ke.prototype.toggleHeadingBigger=function(){D_(this)};Ke.prototype.toggleHeading1=function(){R_(this)};Ke.prototype.toggleHeading2=function(){P_(this)};Ke.prototype.toggleHeading3=function(){L_(this)};Ke.prototype.toggleHeading4=function(){NT(this)};Ke.prototype.toggleHeading5=function(){FT(this)};Ke.prototype.toggleHeading6=function(){OT(this)};Ke.prototype.toggleCodeBlock=function(){I_(this)};Ke.prototype.toggleUnorderedList=function(){N_(this)};Ke.prototype.toggleOrderedList=function(){F_(this)};Ke.prototype.cleanBlock=function(){O_(this)};Ke.prototype.drawLink=function(){M_(this)};Ke.prototype.drawImage=function(){B_(this)};Ke.prototype.drawUploadedImage=function(){MT(this)};Ke.prototype.drawTable=function(){U_(this)};Ke.prototype.drawHorizontalRule=function(){z_(this)};Ke.prototype.undo=function(){V_(this)};Ke.prototype.redo=function(){$_(this)};Ke.prototype.togglePreview=function(){H_(this)};Ke.prototype.toggleSideBySide=function(){ld(this)};Ke.prototype.toggleFullScreen=function(){$c(this)};Ke.prototype.isPreviewActive=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.lastChild;return n.classList.contains("editor-preview-active")};Ke.prototype.isSideBySideActive=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.nextSibling;return n.classList.contains("editor-preview-active-side")};Ke.prototype.isFullscreenActive=function(){var t=this.codemirror;return t.getOption("fullScreen")};Ke.prototype.getState=function(){var t=this.codemirror;return Iu(t)};Ke.prototype.toTextArea=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.parentNode;n&&(this.gui.toolbar&&n.removeChild(this.gui.toolbar),this.gui.statusbar&&n.removeChild(this.gui.statusbar),this.gui.sideBySide&&n.removeChild(this.gui.sideBySide)),n.parentNode.insertBefore(e,n),n.remove(),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var bJ=Ke;const DJ=jc(bJ);var RJ=0,PJ=()=>`simplemde-editor-${++RJ}`,LJ=({options:t,id:e,currentValueRef:n,textRef:r})=>{const[i,s]=de.useState(null),a=de.useCallback((m,y,w)=>{const E=t==null?void 0:t.imageUploadFunction;E&&E(m,L=>{y(L)},w)},[t==null?void 0:t.imageUploadFunction]),c=de.useRef(i);c.current=i,de.useEffect(()=>{let m;if(r){const y={element:r,initialValue:n.current},w=t!=null&&t.imageUploadFunction?a:void 0;m=new DJ(Object.assign({},y,t,{imageUploadFunction:w})),s(m)}return()=>{m==null||m.toTextArea(),m==null||m.cleanup()}},[r,n,e,a,t]);const p=de.useMemo(()=>i==null?void 0:i.codemirror,[i==null?void 0:i.codemirror]);return{editor:i,codemirror:p}},fN=ct.forwardRef((t,e)=>{const{events:n,value:r,options:i,children:s,extraKeys:a,getLineAndCursor:c,getMdeInstance:p,getCodemirrorInstance:m,onChange:y,id:w,placeholder:E,textareaProps:S,...L}=t,O=de.useMemo(()=>w??PJ(),[w]),M=de.useRef(null),R=de.useRef(!0),b=de.useRef(r);b.current=r;const[D,B]=de.useState(null),{editor:j,codemirror:U}=LJ({options:i,id:O,currentValueRef:b,textRef:D});de.useEffect(()=>{R.current&&(j==null||j.value(r??"")),R.current=!0},[j,r]);const $=de.useCallback((xe,ie)=>{(j==null?void 0:j.value())!==b.current&&(R.current=!1,y==null||y((j==null?void 0:j.value())??"",ie))},[j,y]);de.useEffect(()=>{i!=null&&i.autofocus&&(U==null||U.focus(),U==null||U.setCursor(U==null?void 0:U.lineCount(),0))},[U,i==null?void 0:i.autofocus]);const Y=de.useCallback(()=>{U&&(c==null||c(U.getDoc().getCursor()))},[U,c]);de.useEffect(()=>{Y()},[Y]),de.useEffect(()=>{j&&(p==null||p(j))},[j,p]),de.useEffect(()=>{U&&(m==null||m(U))},[U,m,p]),de.useEffect(()=>{a&&U&&U.setOption("extraKeys",Object.assign({},U.getOption("extraKeys"),a))},[U,a]),de.useEffect(()=>{var xe;const ie=(xe=M.current)==null?void 0:xe.getElementsByClassName("editor-toolbarNode")[0],ye=U&&$;return ye?(ie==null||ie.addEventListener("click",ye),()=>{ie==null||ie.removeEventListener("click",ye)}):()=>{}},[U,$]),de.useEffect(()=>(U==null||U.on("change",$),U==null||U.on("cursorActivity",Y),()=>{U==null||U.off("change",$),U==null||U.off("cursorActivity",Y)}),[U,Y,$]);const ae=de.useRef(n);return de.useEffect(()=>(n!==ae.current&&ae.current&&Object.entries(ae.current).forEach(([ie,ye])=>{ye&&(U==null||U.off(ie,ye))}),n&&Object.entries(n).forEach(([ie,ye])=>{ye&&(U==null||U.on(ie,ye))}),ae.current=n,()=>{n&&Object.entries(n).forEach(([ie,ye])=>{ye&&(U==null||U.off(ie,ye))})}),[U,n]),ct.createElement("div",{id:`${O}-wrapper`,...L,ref:xe=>{typeof e=="function"?e(xe):e&&(e.current=xe),M.current=xe}},ct.createElement("textarea",{...S,id:O,placeholder:E,ref:B,style:{display:"none"}}))});fN.displayName="SimpleMdeReact";var NJ=fN;function cD({user:t,setActive:e}){const n={title:"",tags:[],category:"",description:"",comments:[],likes:[]},r=["Технологии","Путешевствия","Новости","Бизнес","Другое"],i=de.useMemo(()=>({spellChecker:!1,maxHeight:"400px",autofocus:!0,placeholder:"Введите текст...",status:!1,autosave:{enabled:!0,delay:1e3}}),[]),[s,a]=de.useState(n),[c,p]=de.useState(null),[m,y]=de.useState(null),{id:w}=xy(),E=Eu(),{title:S,tags:L,category:O,description:M}=s,R=async $=>{if($.preventDefault(),O&&L&&S&&M)if(w)try{await LC(wc(Mo,"blogs",w),{...s,timestamp:W1(),author:t.displayName,userId:t.uid}),Kt.success("Блог опубликован",Ac)}catch(Y){console.log(Y)}else try{await wH(Hh(Mo,"blogs"),{...s,timestamp:W1(),author:t.displayName,userId:t.uid}),Kt.success("Блог опубликован",Ac)}catch(Y){console.log(Y)}else return Kt.error("Не заполнены поля",Ac);E("/")},b=$=>{a({...s,[$.target.name]:$.target.value})},D=$=>{a({...s,description:$})},B=$=>{a({...s,category:$.target.value})},j=$=>{a({...s,tags:$})};de.useEffect(()=>{c&&(()=>{const Y=JK(SY,c.name),ae=XK(Y,c);ae.on("state_changed",xe=>{const ie=xe.bytesTransferred/xe.totalBytes*100;y(ie)},xe=>{console.log(xe)},()=>{YK(ae.snapshot.ref).then(xe=>{a(ie=>({...ie,imgUrl:xe})),Kt.success("Изображение загружено",{autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"})})})})()},[c]),de.useEffect(()=>{w&&U()},[w]);const U=async()=>{const $=wc(Mo,"blogs",w),Y=await cL($);Y.exists()&&a({...Y.data()}),e(null)};return W.jsx("div",{className:"container-fluid mb-4",children:W.jsxs("div",{className:"container",children:[W.jsx("div",{className:"col-12",children:W.jsx("div",{className:"text-center heading py-2",children:w?"Обновить блог":"Создать блог"})}),W.jsx("div",{className:"row h-100 justify-content-center align-items-center",children:W.jsx("div",{className:"col-10 col-md-8 col-lg-6",children:W.jsxs("form",{className:"row blog-form",onSubmit:R,children:[W.jsx("div",{className:"col-12 py-3",children:W.jsx("input",{type:"text",className:"form-control input-text-box",placeholder:"Название",name:"title",value:S,onChange:b})}),W.jsx("div",{className:"col-12 py-3",children:W.jsx(ZY,{tags:L,placeholder:"Теги",onChange:j})}),W.jsx("div",{className:"col-12 py-3",children:W.jsxs("select",{value:O,onChange:B,className:"catg-dropdown",children:[W.jsx("option",{children:"Выберите категорию"}),r.map(($,Y)=>W.jsx("option",{value:$||"",children:$},Y))]})}),W.jsx("div",{className:"col-12 py-3"}),W.jsx(NJ,{className:"editor",value:M,onChange:D,options:i}),W.jsx("div",{className:"mb-3",children:W.jsx("input",{type:"file",className:"form-control",onChange:$=>p($.target.files[0])})}),W.jsx("div",{className:"col-12 py-3 text-center",children:W.jsx("button",{className:"btn btn-add",type:"submit",disabled:m!==null&&m<100,children:w?"Обновить":"Отправить"})})]})})})]})})}const FJ=({setActive:t})=>{const[e,n]=de.useState([]),[r,i]=de.useState(!1),{category:s}=xy(),a=async()=>{i(!0);const c=Hh(Mo,"blogs"),p=j1(c,eT("category","==",s)),m=await ag(p);let y=[];m.forEach(w=>{y.push({id:w.id,...w.data()})}),n(y),i(!1)};return de.useEffect(()=>{a(),t(null)},[]),r?W.jsx(yT,{}):W.jsx("div",{children:W.jsx("div",{className:"container",children:W.jsxs("div",{className:"row",children:[W.jsxs("div",{className:"blog-heading text-center py-2 mb-4",children:["Категории: ",W.jsx("strong",{children:s.toLocaleUpperCase()})]}),e==null?void 0:e.map(c=>W.jsx("div",{className:"col-md-6",children:W.jsx(vT,{...c},c.id)}))]})})})};function OJ(){return W.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:W.jsx("div",{className:"container padding",children:W.jsx("div",{className:"row mx-0",children:W.jsx("div",{className:"col-md-8",children:W.jsx("div",{className:"blog-heading text-start py-2 mb-4",style:{borderBottom:0},children:"Страница не найдена"})})})})})}function MJ(){return W.jsx("div",{className:"container-fluid pb-4 pt-4 padding",children:W.jsx("div",{className:"container padding",children:W.jsx("div",{className:"row mx-0",children:W.jsx("div",{className:"col-md-8",children:W.jsx("div",{className:"blog-heading text-start py-2 mb-4",style:{borderBottom:0},children:"В разработке"})})})})})}function BJ({active:t,setActive:e,user:n,handleLogout:r}){const i=n==null?void 0:n.uid;return W.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:W.jsx("div",{className:"container-fluid bg-faded padding-media",children:W.jsx("div",{className:"container padding-media",children:W.jsxs("nav",{className:"navbar navbar-toggleable-md navbar-light",children:[W.jsx("button",{className:"navbar-toggler mt-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","data-bs-parent":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"true","aria-label":"Toggle Navigation",children:"button"}),W.jsxs("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[W.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",style:{display:"flex"},children:[W.jsx(Yl,{to:"/",style:{textDecoration:"none"},children:W.jsx("li",{className:`nav-item nav-link ${t==="home"?"active":""}`,onClick:()=>e("home"),children:"Главная"})}),i&&W.jsx(Yl,{to:"/create",style:{textDecoration:"none"},children:W.jsx("li",{className:`nav-item nav-link ${t==="create"?"active":""}`,onClick:()=>e("create"),children:"Создать блог"})}),W.jsx(Yl,{to:"/about",style:{textDecoration:"none"},children:W.jsx("li",{className:`nav-item nav-link ${t==="about"?"active":""}`,onClick:()=>e("about"),children:"О блоге"})})]}),W.jsx("div",{className:"row g-3",children:W.jsx("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:i?W.jsxs(W.Fragment,{children:[W.jsx("div",{className:"profile-logo",children:W.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"logo",style:{width:"30px",height:"30px",borderRadius:"50%",marginTop:"12px"}})}),W.jsx("p",{style:{marginTop:"12px",marginLeft:"5px"},children:n==null?void 0:n.displayName}),W.jsx("li",{className:"nav-item nav-link",onClick:r,children:"Выход"})]}):W.jsx(Yl,{to:"/auth",style:{textDecoration:"none"},children:W.jsx("li",{className:`nav-item nav-link ${t==="login"?"active":""}`,onClick:()=>e("login"),children:"Вход"})})})})]})]})})})})}const UJ={firstName:"",lastName:"",email:"",password:"",confirmPassword:""};function zJ({setActive:t,setUser:e}){const[n,r]=de.useState(UJ),[i,s]=de.useState(!1),{email:a,password:c,firstName:p,lastName:m,confirmPassword:y}=n,w=Eu(),E=L=>{r({...n,[L.target.name]:L.target.value})},S=async L=>{if(L.preventDefault(),i){if(c!==y)return Kt.error("Пароли не совпадают",Ac);if(p&&m&&a&&c){const{user:O}=await rX(Z1,a,c);await sX(O,{displayName:`${p} ${m}`}),t("home")}else return Kt.error("Не все поля заполены",Ac)}else if(a&&c){const{user:O}=await iX(Z1,a,c);e(O),t("home")}else return Kt.error("Не все поля заполены",Ac);w("/")};return W.jsx("div",{className:"container-fluid mb-4",children:W.jsxs("div",{className:"container",children:[W.jsx("div",{className:"col-12 text-center",children:W.jsx("div",{className:"text-center heading py-2",children:i?"Регистрация":"Вход"})}),W.jsx("div",{className:"row h-100 justify-content-center align-items-center",children:W.jsxs("div",{className:"col-10 col-md-8 col-lg-6",children:[W.jsxs("form",{className:"row",onSubmit:S,children:[i&&W.jsxs(W.Fragment,{children:[W.jsx("div",{className:"col-6 py-3",children:W.jsx("input",{type:"text",className:"form-control input-text-box",placeholder:"Имя",name:"firstName",minLength:3,value:p,onChange:E})}),W.jsx("div",{className:"col-6 py-3",children:W.jsx("input",{type:"text",className:"form-control input-text-box",placeholder:"Фамилия",name:"lastName",minLength:2,value:m,onChange:E})})]}),W.jsx("div",{className:"col-12 py-3",children:W.jsx("input",{type:"email",className:"form-control input-text-box",placeholder:"Email",pattern:"^\\S+@\\S+\\.\\S+$",name:"email",value:a,onChange:E})}),W.jsx("div",{className:"col-12 py-3",children:W.jsx("input",{type:"password",className:"form-control input-text-box",placeholder:"Пароль",name:"password",value:c,pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,16}$",onChange:E})}),i&&W.jsx("div",{className:"col-12 py-3",children:W.jsx("input",{type:"password",className:"form-control input-text-box",placeholder:"Повторить пароль",name:"confirmPassword",value:y,minLength:6,onChange:E})}),W.jsx("div",{className:"col-12 py-3 text-center",children:W.jsx("button",{className:`btn ${i?"btn-sign-up":"btn-sign-in"}`,type:"submit",children:i?"Зарегистрироваться":"Войти"})})]}),W.jsx("div",{children:i?W.jsx(W.Fragment,{children:W.jsx("div",{className:"text-center justify-content-center mt-2 pt-2",children:W.jsxs("p",{className:"small fw-bold mt-2 pt-1 mb-0",children:["Есть аккаунт? ",W.jsx("span",{style:{textDecoration:"none",cursor:"pointer",color:"#298af2"},onClick:()=>s(!1),children:"Войти"})]})})}):W.jsx(W.Fragment,{children:W.jsx("div",{className:"text-center justify-content-center mt-2 pt-2",children:W.jsxs("p",{className:"small fw-bold mt-2 pt-1 mb-0",children:["Нет аккаунта? ",W.jsx("span",{className:"link-danger",style:{textDecoration:"none",cursor:"pointer"},onClick:()=>s(!0),children:"Зарегистрироваться"})]})})})}),W.jsxs("div",{children:[W.jsx("div",{children:" логин: e@2.ru"}),W.jsx("div",{children:"пароль: qwerty"})]})]})})]})})}const VJ=({setActive:t})=>{const[e,n]=de.useState([]),[r,i]=de.useState(!1),{tag:s}=xy(),a=async()=>{i(!0);const c=Hh(Mo,"blogs"),p=j1(c,eT("tags","array-contains",s)),m=await ag(p);let y=[];m.forEach(w=>{y.push({id:w.id,...w.data()})}),n(y),i(!1)};return de.useEffect(()=>{a(),t(null)},[]),r?W.jsx(yT,{}):W.jsx("div",{children:W.jsx("div",{className:"container",children:W.jsxs("div",{className:"row",children:[W.jsxs("div",{className:"blog-heading text-center py-2 mb-4",children:["Тэг: ",W.jsx("strong",{children:s.toLocaleUpperCase()})]}),e==null?void 0:e.map(c=>W.jsx("div",{className:"col-md-6",children:W.jsx(vT,{...c},c.id)}))]})})})};function $J(){const[t,e]=de.useState("home"),[n,r]=de.useState(null),i=Eu();de.useEffect(()=>{Z1.onAuthStateChanged(a=>{r(a||null)})},[]);const s=()=>{uX(Z1).then(()=>{r(null),e("login"),i("/auth")})};return W.jsxs("div",{className:"App",children:[W.jsx(BJ,{setActive:e,active:t,user:n,handleLogout:s}),W.jsx($Y,{position:"top-center",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),W.jsxs(S7,{children:[W.jsx(Vs,{path:"/",element:W.jsx(kY,{setActive:e,active:t,user:n})}),W.jsx(Vs,{path:"/detail/:id",element:W.jsx(HY,{setActive:e,user:n})}),W.jsx(Vs,{path:"/create",element:n!=null&&n.uid?W.jsx(cD,{user:n}):W.jsx(RA,{to:"/"})}),W.jsx(Vs,{path:"/update/:id",element:n!=null&&n.uid?W.jsx(cD,{user:n,setActive:e}):W.jsx(RA,{to:"/"})}),W.jsx(Vs,{path:"/about",element:W.jsx(MJ,{})}),W.jsx(Vs,{path:"/auth",element:W.jsx(zJ,{setActive:e,setUser:r})}),W.jsx(Vs,{path:"/tag/:tag",element:W.jsx(VJ,{setActive:e})}),W.jsx(Vs,{path:"/category/:category",element:W.jsx(FJ,{setActive:e})}),W.jsx(Vs,{path:"*",element:W.jsx(OJ,{})})]})]})}sE.createRoot(document.getElementById("root")).render(W.jsx(ct.StrictMode,{children:W.jsx(P7,{children:W.jsx($J,{})})}));
